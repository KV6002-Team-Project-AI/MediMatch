{"ast":null,"code":"import { __assign, __extends, __rest } from 'tslib';\nimport React__default, { PureComponent, createContext, createElement, forwardRef, Component, cloneElement, Children } from 'react';\nimport poseFactory from 'popmotion-pose';\nimport isValidProp from '@emotion/is-prop-valid';\nimport { invariant, warning } from 'hey-listen';\nvar hasChanged = function (prev, next) {\n  if (prev === next) return false;\n  var prevIsArray = Array.isArray(prev);\n  var nextIsArray = Array.isArray(next);\n  if (prevIsArray !== nextIsArray || !prevIsArray && !nextIsArray) {\n    return true;\n  } else if (prevIsArray && nextIsArray) {\n    var numPrev = prev.length;\n    var numNext = next.length;\n    if (numPrev !== numNext) return true;\n    for (var i = 0; i < numPrev; i++) {\n      if (prev[i] !== next[i]) return true;\n    }\n  }\n  return false;\n};\nvar pickAssign = function (shouldPick, sources) {\n  return sources.reduce(function (picked, source) {\n    for (var key in source) {\n      if (shouldPick(key)) {\n        picked[key] = source[key];\n      }\n    }\n    return picked;\n  }, {});\n};\nvar _a = createContext({}),\n  PoseParentConsumer = _a.Consumer,\n  PoseParentProvider = _a.Provider;\nvar calcPopFromFlowStyle = function (el) {\n  var offsetTop = el.offsetTop,\n    offsetLeft = el.offsetLeft,\n    offsetWidth = el.offsetWidth,\n    offsetHeight = el.offsetHeight;\n  return {\n    position: 'absolute',\n    top: offsetTop,\n    left: offsetLeft,\n    width: offsetWidth,\n    height: offsetHeight\n  };\n};\nvar hasPose = function (pose, key) {\n  return Array.isArray(pose) ? pose.indexOf(key) !== -1 : pose === key;\n};\nvar objectToMap = function (obj) {\n  return Object.keys(obj).reduce(function (map, key) {\n    map.set(key, {\n      raw: obj[key]\n    });\n    return map;\n  }, new Map());\n};\nvar testAlwaysTrue = function () {\n  return true;\n};\nvar filterProps = function (_a) {\n  var elementType = _a.elementType,\n    poseConfig = _a.poseConfig,\n    onValueChange = _a.onValueChange,\n    innerRef = _a.innerRef,\n    _pose = _a._pose,\n    pose = _a.pose,\n    initialPose = _a.initialPose,\n    poseKey = _a.poseKey,\n    onPoseComplete = _a.onPoseComplete,\n    getParentPoseConfig = _a.getParentPoseConfig,\n    registerChild = _a.registerChild,\n    onUnmount = _a.onUnmount,\n    getInitialPoseFromParent = _a.getInitialPoseFromParent,\n    popFromFlow = _a.popFromFlow,\n    values = _a.values,\n    parentValues = _a.parentValues,\n    onDragStart = _a.onDragStart,\n    onDragEnd = _a.onDragEnd,\n    onPressStart = _a.onPressStart,\n    onPressEnd = _a.onPressEnd,\n    props = __rest(_a, [\"elementType\", \"poseConfig\", \"onValueChange\", \"innerRef\", \"_pose\", \"pose\", \"initialPose\", \"poseKey\", \"onPoseComplete\", \"getParentPoseConfig\", \"registerChild\", \"onUnmount\", \"getInitialPoseFromParent\", \"popFromFlow\", \"values\", \"parentValues\", \"onDragStart\", \"onDragEnd\", \"onPressStart\", \"onPressEnd\"]);\n  return props;\n};\nvar PoseElement = function (_super) {\n  __extends(PoseElement, _super);\n  function PoseElement(props) {\n    var _this = _super.call(this, props) || this;\n    _this.children = new Set();\n    _this.childrenHandlers = {\n      registerChild: function (props) {\n        _this.children.add(props);\n        if (_this.poser) _this.flushChildren();\n      },\n      onUnmount: function (child) {\n        return _this.poser.removeChild(child);\n      },\n      getParentPoseConfig: function () {\n        return _this.poseConfig;\n      },\n      getInitialPoseFromParent: function () {\n        return _this.getInitialPose();\n      }\n    };\n    _this.setRef = function (ref) {\n      warning(ref === null || ref instanceof Element && _this.ref === undefined, 'ref must be provided to the same DOM component for the entire lifecycle of a posed component.');\n      _this.ref = ref;\n      var innerRef = _this.props.innerRef;\n      if (!innerRef) return;\n      if (typeof innerRef === 'function') {\n        innerRef(ref);\n      } else {\n        innerRef.current = ref;\n      }\n    };\n    _this.shouldForwardProp = typeof _this.props.elementType === 'string' ? isValidProp : testAlwaysTrue;\n    var poseConfig = _this.props.poseConfig;\n    _this.poseConfig = typeof poseConfig === 'function' ? poseConfig(filterProps(props)) : poseConfig;\n    return _this;\n  }\n  PoseElement.prototype.getInitialPose = function () {\n    var _a = this.props,\n      getInitialPoseFromParent = _a.getInitialPoseFromParent,\n      pose = _a.pose,\n      _pose = _a._pose,\n      initialPose = _a.initialPose;\n    if (initialPose) {\n      return initialPose;\n    } else {\n      var parentPose = getInitialPoseFromParent && getInitialPoseFromParent();\n      var initialPoses = (Array.isArray(parentPose) ? parentPose : [parentPose]).concat(pose, _pose).filter(Boolean);\n      return initialPoses.length > 0 ? initialPoses : undefined;\n    }\n  };\n  PoseElement.prototype.getFirstPose = function () {\n    var _a = this.props,\n      initialPose = _a.initialPose,\n      pose = _a.pose,\n      _pose = _a._pose;\n    if (!initialPose) return;\n    var firstPose = (Array.isArray(pose) ? pose : [pose]).concat(_pose).filter(Boolean);\n    return firstPose.length === 1 ? firstPose[0] : firstPose;\n  };\n  PoseElement.prototype.getSetProps = function () {\n    var props = filterProps(this.props);\n    if (this.props.popFromFlow && this.ref && this.ref instanceof HTMLElement) {\n      if (!this.popStyle) {\n        props.style = __assign(__assign({}, props.style), calcPopFromFlowStyle(this.ref));\n        this.popStyle = props.style;\n      } else {\n        props.style = this.popStyle;\n      }\n    } else {\n      this.popStyle = null;\n    }\n    return props;\n  };\n  PoseElement.prototype.componentDidMount = function () {\n    var _this = this;\n    invariant(this.ref instanceof Element, \"No valid DOM ref found. If you're converting an existing component via posed(Component), you must ensure you're passing the ref to the host DOM node via the React.forwardRef function.\");\n    var _a = this.props,\n      onValueChange = _a.onValueChange,\n      registerChild = _a.registerChild,\n      values = _a.values,\n      parentValues = _a.parentValues,\n      onDragStart = _a.onDragStart,\n      onDragEnd = _a.onDragEnd,\n      onPressStart = _a.onPressStart,\n      onPressEnd = _a.onPressEnd;\n    var config = __assign(__assign({}, this.poseConfig), {\n      initialPose: this.getInitialPose(),\n      values: values || this.poseConfig.values,\n      parentValues: parentValues ? objectToMap(parentValues) : undefined,\n      props: this.getSetProps(),\n      onDragStart: onDragStart,\n      onDragEnd: onDragEnd,\n      onPressStart: onPressStart,\n      onPressEnd: onPressEnd,\n      onChange: onValueChange\n    });\n    if (!registerChild) {\n      this.initPoser(poseFactory(this.ref, config));\n    } else {\n      registerChild({\n        element: this.ref,\n        poseConfig: config,\n        onRegistered: function (poser) {\n          return _this.initPoser(poser);\n        }\n      });\n    }\n  };\n  PoseElement.prototype.getSnapshotBeforeUpdate = function () {\n    var _a = this.props,\n      pose = _a.pose,\n      _pose = _a._pose;\n    if (hasPose(pose, 'flip') || hasPose(_pose, 'flip')) this.poser.measure();\n    return null;\n  };\n  PoseElement.prototype.componentDidUpdate = function (prevProps) {\n    var _a = this.props,\n      pose = _a.pose,\n      _pose = _a._pose,\n      poseKey = _a.poseKey;\n    this.poser.setProps(this.getSetProps());\n    if (poseKey !== prevProps.poseKey || hasChanged(prevProps.pose, pose) || pose === 'flip') {\n      this.setPose(pose);\n    }\n    if (_pose !== prevProps._pose || _pose === 'flip') this.setPose(_pose);\n  };\n  PoseElement.prototype.componentWillUnmount = function () {\n    if (!this.poser) return;\n    var onUnmount = this.props.onUnmount;\n    if (onUnmount) onUnmount(this.poser);\n    this.poser.destroy();\n  };\n  PoseElement.prototype.initPoser = function (poser) {\n    this.poser = poser;\n    this.flushChildren();\n    var firstPose = this.getFirstPose();\n    if (firstPose) this.setPose(firstPose);\n  };\n  PoseElement.prototype.setPose = function (pose) {\n    var _this = this;\n    var onPoseComplete = this.props.onPoseComplete;\n    var poseList = Array.isArray(pose) ? pose : [pose];\n    Promise.all(poseList.map(function (key) {\n      return key && _this.poser.set(key);\n    })).then(function () {\n      return onPoseComplete && onPoseComplete(pose);\n    });\n  };\n  PoseElement.prototype.flushChildren = function () {\n    var _this = this;\n    this.children.forEach(function (_a) {\n      var element = _a.element,\n        poseConfig = _a.poseConfig,\n        onRegistered = _a.onRegistered;\n      return onRegistered(_this.poser.addChild(element, poseConfig));\n    });\n    this.children.clear();\n  };\n  PoseElement.prototype.render = function () {\n    var elementType = this.props.elementType;\n    return React__default.createElement(PoseParentProvider, {\n      value: this.childrenHandlers\n    }, createElement(elementType, pickAssign(this.shouldForwardProp, [this.getSetProps(), {\n      ref: this.setRef\n    }])));\n  };\n  return PoseElement;\n}(PureComponent);\nvar supportedElements = ['a', 'article', 'aside', 'audio', 'b', 'blockquote', 'body', 'br', 'button', 'canvas', 'caption', 'cite', 'code', 'col', 'colgroup', 'data', 'datalist', 'dialog', 'div', 'em', 'embed', 'fieldset', 'figcaption', 'figure', 'footer', 'form', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'head', 'header', 'hgroup', 'hr', 'i', 'iframe', 'img', 'input', 'label', 'legend', 'li', 'nav', 'object', 'ol', 'option', 'p', 'param', 'picture', 'pre', 'progress', 'q', 'section', 'select', 'span', 'strong', 'table', 'tbody', 'td', 'textarea', 'tfoot', 'th', 'thead', 'time', 'title', 'tr', 'ul', 'video', 'circle', 'clipPath', 'defs', 'ellipse', 'g', 'image', 'line', 'linearGradient', 'mask', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect', 'stop', 'svg', 'text', 'tspan'];\nvar componentCache = new Map();\nvar createComponentFactory = function (key) {\n  var componentFactory = function (poseConfig) {\n    if (poseConfig === void 0) {\n      poseConfig = {};\n    }\n    return forwardRef(function (_a, ref) {\n      var _b = _a.withParent,\n        withParent = _b === void 0 ? true : _b,\n        props = __rest(_a, [\"withParent\"]);\n      warning(props.innerRef === undefined, 'innerRef is deprecated. Please use ref instead.');\n      return !withParent || props.parentValues ? React__default.createElement(PoseElement, __assign({\n        poseConfig: poseConfig,\n        innerRef: ref,\n        elementType: key\n      }, props)) : React__default.createElement(PoseParentConsumer, null, function (parentCtx) {\n        return React__default.createElement(PoseElement, __assign({\n          poseConfig: poseConfig,\n          elementType: key,\n          innerRef: ref\n        }, props, parentCtx));\n      });\n    });\n  };\n  componentCache.set(key, componentFactory);\n  return componentFactory;\n};\nvar getComponentFactory = function (key) {\n  return componentCache.has(key) ? componentCache.get(key) : createComponentFactory(key);\n};\nvar posed = function (component) {\n  return getComponentFactory(component);\n};\nsupportedElements.reduce(function (acc, key) {\n  acc[key] = createComponentFactory(key);\n  return acc;\n}, posed);\nvar getKey = function (child) {\n  invariant(child && child.key !== null, 'Every child of Transition must be given a unique key');\n  var childKey = typeof child.key === 'number' ? child.key.toString() : child.key;\n  return childKey.replace('.$', '');\n};\nvar prependProps = function (element, props) {\n  return createElement(element.type, __assign(__assign({\n    key: element.key,\n    ref: element.ref\n  }, props), element.props));\n};\nvar handleTransition = function (_a, _b) {\n  var displayedChildren = _b.displayedChildren,\n    finishedLeaving = _b.finishedLeaving,\n    hasInitialized = _b.hasInitialized,\n    indexedChildren = _b.indexedChildren,\n    scheduleChildRemoval = _b.scheduleChildRemoval;\n  var incomingChildren = _a.children,\n    preEnterPose = _a.preEnterPose,\n    enterPose = _a.enterPose,\n    exitPose = _a.exitPose,\n    animateOnMount = _a.animateOnMount,\n    enterAfterExit = _a.enterAfterExit,\n    flipMove = _a.flipMove,\n    onRest = _a.onRest,\n    propsForChildren = __rest(_a, [\"children\", \"preEnterPose\", \"enterPose\", \"exitPose\", \"animateOnMount\", \"enterAfterExit\", \"flipMove\", \"onRest\"]);\n  var targetChildren = makeChildList(incomingChildren);\n  var nextState = {\n    displayedChildren: []\n  };\n  if (process.env.NODE_ENV !== 'production') {\n    warning(!propsForChildren.onPoseComplete, \"<Transition/> (or <PoseGroup/>) doesn't accept onPoseComplete prop.\");\n  }\n  var prevKeys = displayedChildren.map(getKey);\n  var nextKeys = targetChildren.map(getKey);\n  var hasPropsForChildren = Object.keys(propsForChildren).length !== 0;\n  var entering = new Set(nextKeys.filter(function (key) {\n    return finishedLeaving.hasOwnProperty(key) || prevKeys.indexOf(key) === -1;\n  }));\n  entering.forEach(function (key) {\n    return delete finishedLeaving[key];\n  });\n  var leaving = [];\n  var newlyLeaving = {};\n  prevKeys.forEach(function (key) {\n    if (entering.has(key)) {\n      return;\n    }\n    var isLeaving = finishedLeaving.hasOwnProperty(key);\n    if (!isLeaving && nextKeys.indexOf(key) !== -1) {\n      return;\n    }\n    leaving.push(key);\n    if (!isLeaving) {\n      finishedLeaving[key] = false;\n      newlyLeaving[key] = true;\n    }\n  });\n  var moving = new Set(prevKeys.filter(function (key, i) {\n    return !entering.has(key) || leaving.indexOf(key) === -1;\n  }));\n  targetChildren.forEach(function (child) {\n    var newChildProps = {};\n    if (entering.has(child.key)) {\n      if (hasInitialized || animateOnMount) {\n        newChildProps.initialPose = preEnterPose;\n      }\n      newChildProps._pose = enterPose;\n    } else if (moving.has(child.key) && flipMove) {\n      newChildProps._pose = [enterPose, 'flip'];\n    } else {\n      newChildProps._pose = enterPose;\n    }\n    var newChild = cloneElement(child, newChildProps);\n    indexedChildren[child.key] = newChild;\n    nextState.displayedChildren.push(hasPropsForChildren ? prependProps(newChild, propsForChildren) : newChild);\n  });\n  leaving.forEach(function (key) {\n    var child = indexedChildren[key];\n    var newChild = newlyLeaving[key] ? cloneElement(child, {\n      _pose: exitPose,\n      onPoseComplete: function (pose) {\n        if (pose === exitPose) scheduleChildRemoval(key);\n        var onPoseComplete = child.props.onPoseComplete;\n        if (onPoseComplete) onPoseComplete(pose);\n      },\n      popFromFlow: flipMove\n    }) : child;\n    var insertionIndex = prevKeys.indexOf(key);\n    indexedChildren[child.key] = newChild;\n    nextState.displayedChildren.splice(insertionIndex, 0, hasPropsForChildren ? prependProps(newChild, propsForChildren) : newChild);\n  });\n  return nextState;\n};\nvar handleChildrenTransitions = function (props, state) {\n  var newState = handleTransition(props, state);\n  newState.hasInitialized = true;\n  return newState;\n};\nvar makeChildList = function (children) {\n  var list = [];\n  Children.forEach(children, function (child) {\n    return child && list.push(child);\n  });\n  return list;\n};\nvar Transition = function (_super) {\n  __extends(Transition, _super);\n  function Transition() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n    _this.state = {\n      displayedChildren: [],\n      finishedLeaving: {},\n      hasInitialized: false,\n      indexedChildren: {},\n      scheduleChildRemoval: function (key) {\n        return _this.removeChild(key);\n      }\n    };\n    return _this;\n  }\n  Transition.prototype.removeChild = function (key) {\n    var _a = this.state,\n      displayedChildren = _a.displayedChildren,\n      finishedLeaving = _a.finishedLeaving;\n    var _b = this.props,\n      enterAfterExit = _b.enterAfterExit,\n      onRest = _b.onRest;\n    if (!finishedLeaving.hasOwnProperty(key)) return;\n    finishedLeaving[key] = true;\n    if (!Object.keys(finishedLeaving).every(function (leavingKey) {\n      return finishedLeaving[leavingKey];\n    })) {\n      return;\n    }\n    var targetChildren = displayedChildren.filter(function (child) {\n      return !finishedLeaving.hasOwnProperty(child.key);\n    });\n    var newState = enterAfterExit ? __assign({\n      finishedLeaving: {}\n    }, handleChildrenTransitions(__assign(__assign({}, this.props), {\n      enterAfterExit: false\n    }), __assign(__assign({}, this.state), {\n      displayedChildren: targetChildren\n    }))) : {\n      finishedLeaving: {},\n      displayedChildren: targetChildren\n    };\n    this.setState(newState, onRest);\n  };\n  Transition.prototype.shouldComponentUpdate = function (nextProps, nextState) {\n    return this.state !== nextState;\n  };\n  Transition.prototype.render = function () {\n    return this.state.displayedChildren;\n  };\n  Transition.defaultProps = {\n    flipMove: false,\n    enterAfterExit: false,\n    preEnterPose: 'exit',\n    enterPose: 'enter',\n    exitPose: 'exit'\n  };\n  Transition.getDerivedStateFromProps = handleChildrenTransitions;\n  return Transition;\n}(Component);\nvar PoseGroup = function (_super) {\n  __extends(PoseGroup, _super);\n  function PoseGroup() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n  PoseGroup.prototype.render = function () {\n    return createElement(Transition, __assign({}, this.props));\n  };\n  PoseGroup.defaultProps = {\n    flipMove: true\n  };\n  return PoseGroup;\n}(Component);\nexport default posed;\nexport { Transition, PoseGroup };","map":{"version":3,"names":["__assign","__extends","__rest","React__default","PureComponent","createContext","createElement","forwardRef","Component","cloneElement","Children","poseFactory","isValidProp","invariant","warning","hasChanged","prev","next","prevIsArray","Array","isArray","nextIsArray","numPrev","length","numNext","i","pickAssign","shouldPick","sources","reduce","picked","source","key","_a","PoseParentConsumer","Consumer","PoseParentProvider","Provider","calcPopFromFlowStyle","el","offsetTop","offsetLeft","offsetWidth","offsetHeight","position","top","left","width","height","hasPose","pose","indexOf","objectToMap","obj","Object","keys","map","set","raw","Map","testAlwaysTrue","filterProps","elementType","poseConfig","onValueChange","innerRef","_pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd","props","PoseElement","_super","_this","call","children","Set","childrenHandlers","add","poser","flushChildren","child","removeChild","getInitialPose","setRef","ref","Element","undefined","current","shouldForwardProp","prototype","parentPose","initialPoses","concat","filter","Boolean","getFirstPose","firstPose","getSetProps","HTMLElement","popStyle","style","componentDidMount","config","onChange","initPoser","element","onRegistered","getSnapshotBeforeUpdate","measure","componentDidUpdate","prevProps","setProps","setPose","componentWillUnmount","destroy","poseList","Promise","all","then","forEach","addChild","clear","render","value","supportedElements","componentCache","createComponentFactory","componentFactory","_b","withParent","parentCtx","getComponentFactory","has","get","posed","component","acc","getKey","childKey","toString","replace","prependProps","type","handleTransition","displayedChildren","finishedLeaving","hasInitialized","indexedChildren","scheduleChildRemoval","incomingChildren","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest","propsForChildren","targetChildren","makeChildList","nextState","process","env","NODE_ENV","prevKeys","nextKeys","hasPropsForChildren","entering","hasOwnProperty","leaving","newlyLeaving","isLeaving","push","moving","newChildProps","newChild","insertionIndex","splice","handleChildrenTransitions","state","newState","list","Transition","apply","arguments","every","leavingKey","setState","shouldComponentUpdate","nextProps","defaultProps","getDerivedStateFromProps","PoseGroup"],"sources":["C:/Users/Moham/Documents/GitHub/MediMatch/trapp/node_modules/react-stack-cards/node_modules/react-pose/dist/react-pose.es.js"],"sourcesContent":["import { __assign, __extends, __rest } from 'tslib';\nimport React__default, { PureComponent, createContext, createElement, forwardRef, Component, cloneElement, Children } from 'react';\nimport poseFactory from 'popmotion-pose';\nimport isValidProp from '@emotion/is-prop-valid';\nimport { invariant, warning } from 'hey-listen';\n\nvar hasChanged = function (prev, next) {\r\n    if (prev === next)\r\n        return false;\r\n    var prevIsArray = Array.isArray(prev);\r\n    var nextIsArray = Array.isArray(next);\r\n    if (prevIsArray !== nextIsArray || (!prevIsArray && !nextIsArray)) {\r\n        return true;\r\n    }\r\n    else if (prevIsArray && nextIsArray) {\r\n        var numPrev = prev.length;\r\n        var numNext = next.length;\r\n        if (numPrev !== numNext)\r\n            return true;\r\n        for (var i = 0; i < numPrev; i++) {\r\n            if (prev[i] !== next[i])\r\n                return true;\r\n        }\r\n    }\r\n    return false;\r\n};\n\nvar pickAssign = function (shouldPick, sources) {\r\n    return sources.reduce(function (picked, source) {\r\n        for (var key in source) {\r\n            if (shouldPick(key)) {\r\n                picked[key] = source[key];\r\n            }\r\n        }\r\n        return picked;\r\n    }, {});\r\n};\n\nvar _a = createContext({}), PoseParentConsumer = _a.Consumer, PoseParentProvider = _a.Provider;\r\nvar calcPopFromFlowStyle = function (el) {\r\n    var offsetTop = el.offsetTop, offsetLeft = el.offsetLeft, offsetWidth = el.offsetWidth, offsetHeight = el.offsetHeight;\r\n    return {\r\n        position: 'absolute',\r\n        top: offsetTop,\r\n        left: offsetLeft,\r\n        width: offsetWidth,\r\n        height: offsetHeight\r\n    };\r\n};\r\nvar hasPose = function (pose, key) {\r\n    return Array.isArray(pose) ? pose.indexOf(key) !== -1 : pose === key;\r\n};\r\nvar objectToMap = function (obj) {\r\n    return Object.keys(obj).reduce(function (map, key) {\r\n        map.set(key, { raw: obj[key] });\r\n        return map;\r\n    }, new Map());\r\n};\r\nvar testAlwaysTrue = function () { return true; };\r\nvar filterProps = function (_a) {\r\n    var elementType = _a.elementType, poseConfig = _a.poseConfig, onValueChange = _a.onValueChange, innerRef = _a.innerRef, _pose = _a._pose, pose = _a.pose, initialPose = _a.initialPose, poseKey = _a.poseKey, onPoseComplete = _a.onPoseComplete, getParentPoseConfig = _a.getParentPoseConfig, registerChild = _a.registerChild, onUnmount = _a.onUnmount, getInitialPoseFromParent = _a.getInitialPoseFromParent, popFromFlow = _a.popFromFlow, values = _a.values, parentValues = _a.parentValues, onDragStart = _a.onDragStart, onDragEnd = _a.onDragEnd, onPressStart = _a.onPressStart, onPressEnd = _a.onPressEnd, props = __rest(_a, [\"elementType\", \"poseConfig\", \"onValueChange\", \"innerRef\", \"_pose\", \"pose\", \"initialPose\", \"poseKey\", \"onPoseComplete\", \"getParentPoseConfig\", \"registerChild\", \"onUnmount\", \"getInitialPoseFromParent\", \"popFromFlow\", \"values\", \"parentValues\", \"onDragStart\", \"onDragEnd\", \"onPressStart\", \"onPressEnd\"]);\r\n    return props;\r\n};\r\nvar PoseElement = (function (_super) {\r\n    __extends(PoseElement, _super);\r\n    function PoseElement(props) {\r\n        var _this = _super.call(this, props) || this;\r\n        _this.children = new Set();\r\n        _this.childrenHandlers = {\r\n            registerChild: function (props) {\r\n                _this.children.add(props);\r\n                if (_this.poser)\r\n                    _this.flushChildren();\r\n            },\r\n            onUnmount: function (child) { return _this.poser.removeChild(child); },\r\n            getParentPoseConfig: function () { return _this.poseConfig; },\r\n            getInitialPoseFromParent: function () { return _this.getInitialPose(); }\r\n        };\r\n        _this.setRef = function (ref) {\r\n            warning(ref === null || (ref instanceof Element && _this.ref === undefined), 'ref must be provided to the same DOM component for the entire lifecycle of a posed component.');\r\n            _this.ref = ref;\r\n            var innerRef = _this.props.innerRef;\r\n            if (!innerRef)\r\n                return;\r\n            if (typeof innerRef === 'function') {\r\n                innerRef(ref);\r\n            }\r\n            else {\r\n                innerRef.current = ref;\r\n            }\r\n        };\r\n        _this.shouldForwardProp =\r\n            typeof _this.props.elementType === 'string' ? isValidProp : testAlwaysTrue;\r\n        var poseConfig = _this.props.poseConfig;\r\n        _this.poseConfig =\r\n            typeof poseConfig === 'function'\r\n                ? poseConfig(filterProps(props))\r\n                : poseConfig;\r\n        return _this;\r\n    }\r\n    PoseElement.prototype.getInitialPose = function () {\r\n        var _a = this.props, getInitialPoseFromParent = _a.getInitialPoseFromParent, pose = _a.pose, _pose = _a._pose, initialPose = _a.initialPose;\r\n        if (initialPose) {\r\n            return initialPose;\r\n        }\r\n        else {\r\n            var parentPose = getInitialPoseFromParent && getInitialPoseFromParent();\r\n            var initialPoses = (Array.isArray(parentPose)\r\n                ? parentPose\r\n                : [parentPose])\r\n                .concat(pose, _pose)\r\n                .filter(Boolean);\r\n            return initialPoses.length > 0 ? initialPoses : undefined;\r\n        }\r\n    };\r\n    PoseElement.prototype.getFirstPose = function () {\r\n        var _a = this.props, initialPose = _a.initialPose, pose = _a.pose, _pose = _a._pose;\r\n        if (!initialPose)\r\n            return;\r\n        var firstPose = (Array.isArray(pose) ? pose : [pose])\r\n            .concat(_pose)\r\n            .filter(Boolean);\r\n        return firstPose.length === 1 ? firstPose[0] : firstPose;\r\n    };\r\n    PoseElement.prototype.getSetProps = function () {\r\n        var props = filterProps(this.props);\r\n        if (this.props.popFromFlow && this.ref && this.ref instanceof HTMLElement) {\r\n            if (!this.popStyle) {\r\n                props.style = __assign(__assign({}, props.style), calcPopFromFlowStyle(this.ref));\r\n                this.popStyle = props.style;\r\n            }\r\n            else {\r\n                props.style = this.popStyle;\r\n            }\r\n        }\r\n        else {\r\n            this.popStyle = null;\r\n        }\r\n        return props;\r\n    };\r\n    PoseElement.prototype.componentDidMount = function () {\r\n        var _this = this;\r\n        invariant(this.ref instanceof Element, \"No valid DOM ref found. If you're converting an existing component via posed(Component), you must ensure you're passing the ref to the host DOM node via the React.forwardRef function.\");\r\n        var _a = this.props, onValueChange = _a.onValueChange, registerChild = _a.registerChild, values = _a.values, parentValues = _a.parentValues, onDragStart = _a.onDragStart, onDragEnd = _a.onDragEnd, onPressStart = _a.onPressStart, onPressEnd = _a.onPressEnd;\r\n        var config = __assign(__assign({}, this.poseConfig), { initialPose: this.getInitialPose(), values: values || this.poseConfig.values, parentValues: parentValues ? objectToMap(parentValues) : undefined, props: this.getSetProps(), onDragStart: onDragStart,\r\n            onDragEnd: onDragEnd,\r\n            onPressStart: onPressStart,\r\n            onPressEnd: onPressEnd, onChange: onValueChange });\r\n        if (!registerChild) {\r\n            this.initPoser(poseFactory(this.ref, config));\r\n        }\r\n        else {\r\n            registerChild({\r\n                element: this.ref,\r\n                poseConfig: config,\r\n                onRegistered: function (poser) { return _this.initPoser(poser); }\r\n            });\r\n        }\r\n    };\r\n    PoseElement.prototype.getSnapshotBeforeUpdate = function () {\r\n        var _a = this.props, pose = _a.pose, _pose = _a._pose;\r\n        if (hasPose(pose, 'flip') || hasPose(_pose, 'flip'))\r\n            this.poser.measure();\r\n        return null;\r\n    };\r\n    PoseElement.prototype.componentDidUpdate = function (prevProps) {\r\n        var _a = this.props, pose = _a.pose, _pose = _a._pose, poseKey = _a.poseKey;\r\n        this.poser.setProps(this.getSetProps());\r\n        if (poseKey !== prevProps.poseKey ||\r\n            hasChanged(prevProps.pose, pose) ||\r\n            pose === 'flip') {\r\n            this.setPose(pose);\r\n        }\r\n        if (_pose !== prevProps._pose || _pose === 'flip')\r\n            this.setPose(_pose);\r\n    };\r\n    PoseElement.prototype.componentWillUnmount = function () {\r\n        if (!this.poser)\r\n            return;\r\n        var onUnmount = this.props.onUnmount;\r\n        if (onUnmount)\r\n            onUnmount(this.poser);\r\n        this.poser.destroy();\r\n    };\r\n    PoseElement.prototype.initPoser = function (poser) {\r\n        this.poser = poser;\r\n        this.flushChildren();\r\n        var firstPose = this.getFirstPose();\r\n        if (firstPose)\r\n            this.setPose(firstPose);\r\n    };\r\n    PoseElement.prototype.setPose = function (pose) {\r\n        var _this = this;\r\n        var onPoseComplete = this.props.onPoseComplete;\r\n        var poseList = Array.isArray(pose) ? pose : [pose];\r\n        Promise.all(poseList.map(function (key) { return key && _this.poser.set(key); })).then(function () { return onPoseComplete && onPoseComplete(pose); });\r\n    };\r\n    PoseElement.prototype.flushChildren = function () {\r\n        var _this = this;\r\n        this.children.forEach(function (_a) {\r\n            var element = _a.element, poseConfig = _a.poseConfig, onRegistered = _a.onRegistered;\r\n            return onRegistered(_this.poser.addChild(element, poseConfig));\r\n        });\r\n        this.children.clear();\r\n    };\r\n    PoseElement.prototype.render = function () {\r\n        var elementType = this.props.elementType;\r\n        return (React__default.createElement(PoseParentProvider, { value: this.childrenHandlers }, createElement(elementType, pickAssign(this.shouldForwardProp, [\r\n            this.getSetProps(),\r\n            { ref: this.setRef }\r\n        ]))));\r\n    };\r\n    return PoseElement;\r\n}(PureComponent));\n\nvar supportedElements = [\r\n    'a',\r\n    'article',\r\n    'aside',\r\n    'audio',\r\n    'b',\r\n    'blockquote',\r\n    'body',\r\n    'br',\r\n    'button',\r\n    'canvas',\r\n    'caption',\r\n    'cite',\r\n    'code',\r\n    'col',\r\n    'colgroup',\r\n    'data',\r\n    'datalist',\r\n    'dialog',\r\n    'div',\r\n    'em',\r\n    'embed',\r\n    'fieldset',\r\n    'figcaption',\r\n    'figure',\r\n    'footer',\r\n    'form',\r\n    'h1',\r\n    'h2',\r\n    'h3',\r\n    'h4',\r\n    'h5',\r\n    'h6',\r\n    'head',\r\n    'header',\r\n    'hgroup',\r\n    'hr',\r\n    'i',\r\n    'iframe',\r\n    'img',\r\n    'input',\r\n    'label',\r\n    'legend',\r\n    'li',\r\n    'nav',\r\n    'object',\r\n    'ol',\r\n    'option',\r\n    'p',\r\n    'param',\r\n    'picture',\r\n    'pre',\r\n    'progress',\r\n    'q',\r\n    'section',\r\n    'select',\r\n    'span',\r\n    'strong',\r\n    'table',\r\n    'tbody',\r\n    'td',\r\n    'textarea',\r\n    'tfoot',\r\n    'th',\r\n    'thead',\r\n    'time',\r\n    'title',\r\n    'tr',\r\n    'ul',\r\n    'video',\r\n    'circle',\r\n    'clipPath',\r\n    'defs',\r\n    'ellipse',\r\n    'g',\r\n    'image',\r\n    'line',\r\n    'linearGradient',\r\n    'mask',\r\n    'path',\r\n    'pattern',\r\n    'polygon',\r\n    'polyline',\r\n    'radialGradient',\r\n    'rect',\r\n    'stop',\r\n    'svg',\r\n    'text',\r\n    'tspan'\r\n];\n\nvar componentCache = new Map();\r\nvar createComponentFactory = function (key) {\r\n    var componentFactory = function (poseConfig) {\r\n        if (poseConfig === void 0) { poseConfig = {}; }\r\n        return forwardRef(function (_a, ref) {\r\n            var _b = _a.withParent, withParent = _b === void 0 ? true : _b, props = __rest(_a, [\"withParent\"]);\r\n            warning(props.innerRef === undefined, 'innerRef is deprecated. Please use ref instead.');\r\n            return !withParent || props.parentValues ? (React__default.createElement(PoseElement, __assign({ poseConfig: poseConfig, innerRef: ref, elementType: key }, props))) : (React__default.createElement(PoseParentConsumer, null, function (parentCtx) { return (React__default.createElement(PoseElement, __assign({ poseConfig: poseConfig, elementType: key, innerRef: ref }, props, parentCtx))); }));\r\n        });\r\n    };\r\n    componentCache.set(key, componentFactory);\r\n    return componentFactory;\r\n};\r\nvar getComponentFactory = function (key) {\r\n    return componentCache.has(key)\r\n        ? componentCache.get(key)\r\n        : createComponentFactory(key);\r\n};\r\nvar posed = (function (component) {\r\n    return getComponentFactory(component);\r\n});\r\nsupportedElements.reduce(function (acc, key) {\r\n    acc[key] = createComponentFactory(key);\r\n    return acc;\r\n}, posed);\n\nvar getKey = function (child) {\r\n    invariant(child && child.key !== null, 'Every child of Transition must be given a unique key');\r\n    var childKey = typeof child.key === 'number' ? child.key.toString() : child.key;\r\n    return childKey.replace('.$', '');\r\n};\r\nvar prependProps = function (element, props) {\r\n    return createElement(element.type, __assign(__assign({ key: element.key, ref: element.ref }, props), element.props));\r\n};\r\nvar handleTransition = function (_a, _b) {\r\n    var displayedChildren = _b.displayedChildren, finishedLeaving = _b.finishedLeaving, hasInitialized = _b.hasInitialized, indexedChildren = _b.indexedChildren, scheduleChildRemoval = _b.scheduleChildRemoval;\r\n    var incomingChildren = _a.children, preEnterPose = _a.preEnterPose, enterPose = _a.enterPose, exitPose = _a.exitPose, animateOnMount = _a.animateOnMount, enterAfterExit = _a.enterAfterExit, flipMove = _a.flipMove, onRest = _a.onRest, propsForChildren = __rest(_a, [\"children\", \"preEnterPose\", \"enterPose\", \"exitPose\", \"animateOnMount\", \"enterAfterExit\", \"flipMove\", \"onRest\"]);\r\n    var targetChildren = makeChildList(incomingChildren);\r\n    var nextState = {\r\n        displayedChildren: []\r\n    };\r\n    if (process.env.NODE_ENV !== 'production') {\r\n        warning(!propsForChildren.onPoseComplete, \"<Transition/> (or <PoseGroup/>) doesn't accept onPoseComplete prop.\");\r\n    }\r\n    var prevKeys = displayedChildren.map(getKey);\r\n    var nextKeys = targetChildren.map(getKey);\r\n    var hasPropsForChildren = Object.keys(propsForChildren).length !== 0;\r\n    var entering = new Set(nextKeys.filter(function (key) { return finishedLeaving.hasOwnProperty(key) || prevKeys.indexOf(key) === -1; }));\r\n    entering.forEach(function (key) { return delete finishedLeaving[key]; });\r\n    var leaving = [];\r\n    var newlyLeaving = {};\r\n    prevKeys.forEach(function (key) {\r\n        if (entering.has(key)) {\r\n            return;\r\n        }\r\n        var isLeaving = finishedLeaving.hasOwnProperty(key);\r\n        if (!isLeaving && nextKeys.indexOf(key) !== -1) {\r\n            return;\r\n        }\r\n        leaving.push(key);\r\n        if (!isLeaving) {\r\n            finishedLeaving[key] = false;\r\n            newlyLeaving[key] = true;\r\n        }\r\n    });\r\n    var moving = new Set(prevKeys.filter(function (key, i) {\r\n        return !entering.has(key) || leaving.indexOf(key) === -1;\r\n    }));\r\n    targetChildren.forEach(function (child) {\r\n        var newChildProps = {};\r\n        if (entering.has(child.key)) {\r\n            if (hasInitialized || animateOnMount) {\r\n                newChildProps.initialPose = preEnterPose;\r\n            }\r\n            newChildProps._pose = enterPose;\r\n        }\r\n        else if (moving.has(child.key) && flipMove) {\r\n            newChildProps._pose = [enterPose, 'flip'];\r\n        }\r\n        else {\r\n            newChildProps._pose = enterPose;\r\n        }\r\n        var newChild = cloneElement(child, newChildProps);\r\n        indexedChildren[child.key] = newChild;\r\n        nextState.displayedChildren.push(hasPropsForChildren ? prependProps(newChild, propsForChildren) : newChild);\r\n    });\r\n    leaving.forEach(function (key) {\r\n        var child = indexedChildren[key];\r\n        var newChild = newlyLeaving[key]\r\n            ? cloneElement(child, {\r\n                _pose: exitPose,\r\n                onPoseComplete: function (pose) {\r\n                    if (pose === exitPose)\r\n                        scheduleChildRemoval(key);\r\n                    var onPoseComplete = child.props.onPoseComplete;\r\n                    if (onPoseComplete)\r\n                        onPoseComplete(pose);\r\n                },\r\n                popFromFlow: flipMove\r\n            })\r\n            : child;\r\n        var insertionIndex = prevKeys.indexOf(key);\r\n        indexedChildren[child.key] = newChild;\r\n        nextState.displayedChildren.splice(insertionIndex, 0, hasPropsForChildren ? prependProps(newChild, propsForChildren) : newChild);\r\n    });\r\n    return nextState;\r\n};\r\nvar handleChildrenTransitions = (function (props, state) {\r\n    var newState = handleTransition(props, state);\r\n    newState.hasInitialized = true;\r\n    return newState;\r\n});\r\nvar makeChildList = function (children) {\r\n    var list = [];\r\n    Children.forEach(children, function (child) { return child && list.push(child); });\r\n    return list;\r\n};\n\nvar Transition = (function (_super) {\r\n    __extends(Transition, _super);\r\n    function Transition() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.state = {\r\n            displayedChildren: [],\r\n            finishedLeaving: {},\r\n            hasInitialized: false,\r\n            indexedChildren: {},\r\n            scheduleChildRemoval: function (key) { return _this.removeChild(key); }\r\n        };\r\n        return _this;\r\n    }\r\n    Transition.prototype.removeChild = function (key) {\r\n        var _a = this.state, displayedChildren = _a.displayedChildren, finishedLeaving = _a.finishedLeaving;\r\n        var _b = this.props, enterAfterExit = _b.enterAfterExit, onRest = _b.onRest;\r\n        if (!finishedLeaving.hasOwnProperty(key))\r\n            return;\r\n        finishedLeaving[key] = true;\r\n        if (!Object.keys(finishedLeaving).every(function (leavingKey) { return finishedLeaving[leavingKey]; })) {\r\n            return;\r\n        }\r\n        var targetChildren = displayedChildren.filter(function (child) { return !finishedLeaving.hasOwnProperty(child.key); });\r\n        var newState = enterAfterExit\r\n            ? __assign({ finishedLeaving: {} }, handleChildrenTransitions(__assign(__assign({}, this.props), { enterAfterExit: false }), __assign(__assign({}, this.state), { displayedChildren: targetChildren }))) : {\r\n            finishedLeaving: {},\r\n            displayedChildren: targetChildren\r\n        };\r\n        this.setState(newState, onRest);\r\n    };\r\n    Transition.prototype.shouldComponentUpdate = function (nextProps, nextState) {\r\n        return this.state !== nextState;\r\n    };\r\n    Transition.prototype.render = function () {\r\n        return this.state.displayedChildren;\r\n    };\r\n    Transition.defaultProps = {\r\n        flipMove: false,\r\n        enterAfterExit: false,\r\n        preEnterPose: 'exit',\r\n        enterPose: 'enter',\r\n        exitPose: 'exit'\r\n    };\r\n    Transition.getDerivedStateFromProps = handleChildrenTransitions;\r\n    return Transition;\r\n}(Component));\n\nvar PoseGroup = (function (_super) {\r\n    __extends(PoseGroup, _super);\r\n    function PoseGroup() {\r\n        return _super !== null && _super.apply(this, arguments) || this;\r\n    }\r\n    PoseGroup.prototype.render = function () {\r\n        return createElement(Transition, __assign({}, this.props));\r\n    };\r\n    PoseGroup.defaultProps = {\r\n        flipMove: true\r\n    };\r\n    return PoseGroup;\r\n}(Component));\n\nexport default posed;\nexport { Transition, PoseGroup };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}