{"ast":null,"code":"import { __rest, __assign, __spreadArrays } from 'tslib';\nimport { invariant } from 'hey-listen';\nvar getPoseValues = function (_a) {\n  var transition = _a.transition,\n    flip = _a.flip,\n    delay = _a.delay,\n    delayChildren = _a.delayChildren,\n    staggerChildren = _a.staggerChildren,\n    staggerDirection = _a.staggerDirection,\n    afterChildren = _a.afterChildren,\n    beforeChildren = _a.beforeChildren,\n    preTransition = _a.preTransition,\n    applyAtStart = _a.applyAtStart,\n    applyAtEnd = _a.applyAtEnd,\n    props = __rest(_a, [\"transition\", \"flip\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"afterChildren\", \"beforeChildren\", \"preTransition\", \"applyAtStart\", \"applyAtEnd\"]);\n  return props;\n};\nvar selectPoses = function (_a) {\n  var label = _a.label,\n    props = _a.props,\n    values = _a.values,\n    parentValues = _a.parentValues,\n    ancestorValues = _a.ancestorValues,\n    onChange = _a.onChange,\n    passive = _a.passive,\n    initialPose = _a.initialPose,\n    poses = __rest(_a, [\"label\", \"props\", \"values\", \"parentValues\", \"ancestorValues\", \"onChange\", \"passive\", \"initialPose\"]);\n  return poses;\n};\nvar selectAllValues = function (values, selectValue) {\n  var allValues = {};\n  values.forEach(function (value, key) {\n    return allValues[key] = selectValue(value);\n  });\n  return allValues;\n};\nvar resolveProp = function (target, props) {\n  return typeof target === 'function' ? target(props) : target;\n};\nvar poseDefault = function (pose, prop, defaultValue, resolveProps) {\n  return pose && pose[prop] !== undefined ? resolveProp(pose[prop], resolveProps) : defaultValue;\n};\nvar startChildAnimations = function (children, next, pose, props) {\n  var animations = [];\n  var delay = poseDefault(pose, 'delayChildren', 0, props);\n  var stagger = poseDefault(pose, 'staggerChildren', 0, props);\n  var staggerDirection = poseDefault(pose, 'staggerDirection', 1, props);\n  var maxStaggerDuration = (children.size - 1) * stagger;\n  var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n    return i * stagger;\n  } : function (i) {\n    return maxStaggerDuration - i * stagger;\n  };\n  Array.from(children).forEach(function (child, i) {\n    animations.push(child.set(next, {\n      delay: delay + generateStaggerDuration(i)\n    }));\n  });\n  return animations;\n};\nvar resolveTransition = function (transition, key, value, props, convertTransitionDefinition, getInstantTransition) {\n  var resolvedTransition;\n  if (typeof transition === 'function') {\n    var resolvedTransitionMap = transition(props);\n    resolvedTransition = resolveTransition(resolvedTransitionMap, key, value, props, convertTransitionDefinition, getInstantTransition);\n  } else if (transition[key] || transition.default) {\n    var keyTransition = transition[key] || transition.default;\n    if (typeof keyTransition === 'function') {\n      resolvedTransition = keyTransition(props);\n    } else {\n      resolvedTransition = keyTransition;\n    }\n  } else {\n    resolvedTransition = transition;\n  }\n  return resolvedTransition === false ? getInstantTransition(value, props) : convertTransitionDefinition(value, resolvedTransition, props);\n};\nvar findInsertionIndex = function (poseList, priorityList, priorityIndex) {\n  var insertionIndex = 0;\n  for (var i = priorityIndex - 1; i >= 0; i--) {\n    var nextHighestPriorityIndex = poseList.indexOf(priorityList[i]);\n    if (nextHighestPriorityIndex !== -1) {\n      insertionIndex = nextHighestPriorityIndex + 1;\n      break;\n    }\n  }\n  return insertionIndex;\n};\nvar applyValues = function (toApply, values, props, setValue, setValueNative) {\n  invariant(typeof toApply === 'object', 'applyAtStart and applyAtEnd must be of type object');\n  return Object.keys(toApply).forEach(function (key) {\n    var valueToSet = resolveProp(toApply[key], props);\n    values.has(key) ? setValue(values.get(key), valueToSet) : setValueNative(key, valueToSet, props);\n  });\n};\nvar createPoseSetter = function (setterProps) {\n  var state = setterProps.state,\n    poses = setterProps.poses,\n    startAction = setterProps.startAction,\n    stopAction = setterProps.stopAction,\n    getInstantTransition = setterProps.getInstantTransition,\n    addActionDelay = setterProps.addActionDelay,\n    getTransitionProps = setterProps.getTransitionProps,\n    resolveTarget = setterProps.resolveTarget,\n    transformPose = setterProps.transformPose,\n    posePriority = setterProps.posePriority,\n    convertTransitionDefinition = setterProps.convertTransitionDefinition,\n    setValue = setterProps.setValue,\n    setValueNative = setterProps.setValueNative,\n    forceRender = setterProps.forceRender;\n  return function (next, nextProps, propagate) {\n    if (nextProps === void 0) {\n      nextProps = {};\n    }\n    if (propagate === void 0) {\n      propagate = true;\n    }\n    var children = state.children,\n      values = state.values,\n      props = state.props,\n      activeActions = state.activeActions,\n      activePoses = state.activePoses;\n    var _a = nextProps.delay,\n      delay = _a === void 0 ? 0 : _a;\n    var hasChildren = children.size;\n    var baseTransitionProps = __assign(__assign({}, props), nextProps);\n    var nextPose = poses[next];\n    var getChildAnimations = function () {\n      return hasChildren && propagate ? startChildAnimations(children, next, nextPose, baseTransitionProps) : [];\n    };\n    var getParentAnimations = function () {\n      if (!nextPose) return [];\n      var applyAtStart = nextPose.applyAtStart;\n      if (applyAtStart) {\n        applyValues(applyAtStart, values, baseTransitionProps, setValue, setValueNative);\n        if (forceRender) forceRender(baseTransitionProps);\n      }\n      if (transformPose) nextPose = transformPose(nextPose, next, state);\n      var preTransition = nextPose.preTransition,\n        getTransition = nextPose.transition,\n        applyAtEnd = nextPose.applyAtEnd;\n      if (preTransition) preTransition(baseTransitionProps);\n      var animations = Object.keys(getPoseValues(nextPose)).map(function (key) {\n        var valuePoses = activePoses.has(key) ? activePoses.get(key) : (activePoses.set(key, []), activePoses.get(key));\n        var existingIndex = valuePoses.indexOf(next);\n        if (existingIndex !== -1) valuePoses.splice(existingIndex, 1);\n        var priority = posePriority ? posePriority.indexOf(next) : 0;\n        var insertionIndex = priority <= 0 ? 0 : findInsertionIndex(valuePoses, posePriority, priority);\n        valuePoses.splice(insertionIndex, 0, next);\n        return insertionIndex === 0 ? new Promise(function (complete) {\n          var value = values.get(key);\n          var transitionProps = __assign(__assign({}, baseTransitionProps), {\n            key: key,\n            value: value\n          });\n          var target = resolveTarget(value, resolveProp(nextPose[key], transitionProps));\n          if (activeActions.has(key)) stopAction(activeActions.get(key));\n          var resolveTransitionProps = __assign(__assign({\n            to: target\n          }, transitionProps), getTransitionProps(value, target, transitionProps));\n          var transition = resolveTransition(getTransition, key, value, resolveTransitionProps, convertTransitionDefinition, getInstantTransition);\n          var poseDelay = delay || resolveProp(nextPose.delay, transitionProps);\n          if (poseDelay) {\n            transition = addActionDelay(poseDelay, transition);\n          }\n          activeActions.set(key, startAction(value, transition, complete));\n        }) : Promise.resolve();\n      });\n      return applyAtEnd ? [Promise.all(animations).then(function () {\n        applyValues(applyAtEnd, values, baseTransitionProps, setValue, setValueNative);\n      })] : animations;\n    };\n    if (nextPose && hasChildren) {\n      if (resolveProp(nextPose.beforeChildren, baseTransitionProps)) {\n        return Promise.all(getParentAnimations()).then(function () {\n          return Promise.all(getChildAnimations());\n        });\n      } else if (resolveProp(nextPose.afterChildren, baseTransitionProps)) {\n        return Promise.all(getChildAnimations()).then(function () {\n          return Promise.all(getParentAnimations());\n        });\n      }\n    }\n    return Promise.all(__spreadArrays(getParentAnimations(), getChildAnimations()));\n  };\n};\nvar DEFAULT_INITIAL_POSE = 'init';\nvar isScale = function (key) {\n  return key.includes('scale');\n};\nvar defaultReadValueFromSource = function (key) {\n  return isScale(key) ? 1 : 0;\n};\nvar readValueFromPose = function (pose, key, props) {\n  var valueToResolve = pose.applyAtEnd && pose.applyAtEnd[key] !== undefined ? pose.applyAtEnd[key] : pose[key] !== undefined ? pose[key] : pose.applyAtStart && pose.applyAtStart[key] !== undefined ? pose.applyAtStart[key] : 0;\n  return resolveProp(valueToResolve, props);\n};\nvar getPosesToSearch = function (pose) {\n  var posesToSearch = Array.isArray(pose) ? pose : [pose];\n  posesToSearch.push(DEFAULT_INITIAL_POSE);\n  return posesToSearch;\n};\nvar getInitialValue = function (poses, key, initialPose, props, readValueFromSource, activePoses) {\n  if (readValueFromSource === void 0) {\n    readValueFromSource = defaultReadValueFromSource;\n  }\n  var posesToSearch = getPosesToSearch(initialPose);\n  var pose = posesToSearch.filter(Boolean).find(function (name) {\n    var thisPose = poses[name];\n    return thisPose && (thisPose[key] !== undefined || thisPose.applyAtStart && thisPose.applyAtStart[key] !== undefined || thisPose.applyAtEnd && thisPose.applyAtEnd[key] !== undefined);\n  });\n  activePoses.set(key, [pose || DEFAULT_INITIAL_POSE]);\n  return pose ? readValueFromPose(poses[pose], key, props) : readValueFromSource(key, props);\n};\nvar createValues = function (values, _a) {\n  var userSetValues = _a.userSetValues,\n    createValue = _a.createValue,\n    convertValue = _a.convertValue,\n    readValueFromSource = _a.readValueFromSource,\n    initialPose = _a.initialPose,\n    poses = _a.poses,\n    activePoses = _a.activePoses,\n    props = _a.props;\n  return function (key) {\n    if (values.has(key)) return;\n    var value;\n    if (userSetValues && userSetValues[key] !== undefined) {\n      value = convertValue(userSetValues[key], key, props);\n    } else {\n      var initValue = getInitialValue(poses, key, initialPose, props, readValueFromSource, activePoses);\n      value = createValue(initValue, key, props);\n    }\n    values.set(key, value);\n  };\n};\nvar scrapeValuesFromPose = function (values, props) {\n  return function (key) {\n    var pose = props.poses[key];\n    Object.keys(getPoseValues(pose)).forEach(createValues(values, props));\n  };\n};\nvar getAncestorValue = function (key, fromParent, ancestors) {\n  if (fromParent === true) {\n    return ancestors[0] && ancestors[0].values.get(key);\n  } else {\n    var foundAncestor = ancestors.find(function (_a) {\n      var label = _a.label;\n      return label === fromParent;\n    });\n    return foundAncestor && foundAncestor.values.get(key);\n  }\n};\nvar bindPassiveValues = function (values, _a) {\n  var passive = _a.passive,\n    ancestorValues = _a.ancestorValues,\n    createValue = _a.createValue,\n    readValue = _a.readValue,\n    props = _a.props;\n  return function (key) {\n    var _a = passive[key],\n      valueKey = _a[0],\n      passiveProps = _a[1],\n      fromParent = _a[2];\n    var valueToBind = fromParent && ancestorValues.length ? getAncestorValue(valueKey, fromParent, ancestorValues) : values.has(valueKey) ? values.get(valueKey) : false;\n    if (!valueToBind) return;\n    var newValue = createValue(readValue(valueToBind), key, props, {\n      passiveParentKey: valueKey,\n      passiveParent: valueToBind,\n      passiveProps: passiveProps\n    });\n    values.set(key, newValue);\n  };\n};\nvar setNativeValues = function (_a) {\n  var setValueNative = _a.setValueNative,\n    initialPose = _a.initialPose,\n    props = _a.props,\n    poses = _a.poses;\n  var valuesHaveSet = new Set();\n  var setValues = function (pose, propKey) {\n    if (pose[propKey]) {\n      for (var key in pose[propKey]) {\n        if (!valuesHaveSet.has(key)) {\n          valuesHaveSet.add(key);\n          setValueNative(key, resolveProp(pose[propKey][key], props), props);\n        }\n      }\n    }\n  };\n  getPosesToSearch(initialPose).forEach(function (poseKey) {\n    var pose = poses[poseKey];\n    if (pose) {\n      setValues(pose, 'applyAtEnd');\n      setValues(pose, 'applyAtStart');\n    }\n  });\n};\nvar createValueMap = function (props) {\n  var poses = props.poses,\n    passive = props.passive;\n  var values = new Map();\n  Object.keys(poses).forEach(scrapeValuesFromPose(values, props));\n  setNativeValues(props);\n  if (passive) Object.keys(passive).forEach(bindPassiveValues(values, props));\n  return values;\n};\nvar applyDefaultTransition = function (pose, key, defaultTransitions) {\n  return __assign(__assign({}, pose), {\n    transition: defaultTransitions.has(key) ? defaultTransitions.get(key) : defaultTransitions.get('default')\n  });\n};\nvar generateTransitions = function (poses, defaultTransitions) {\n  Object.keys(poses).forEach(function (key) {\n    var pose = poses[key];\n    invariant(typeof pose === 'object', \"Pose '\" + key + \"' is of invalid type. All poses should be objects.\");\n    poses[key] = pose.transition !== undefined ? pose : applyDefaultTransition(pose, key, defaultTransitions);\n  });\n  return poses;\n};\nvar sortByReversePriority = function (priorityOrder) {\n  return function (a, b) {\n    var aP = priorityOrder.indexOf(a);\n    var bP = priorityOrder.indexOf(b);\n    if (aP === -1 && bP !== -1) return -1;\n    if (aP !== -1 && bP === -1) return 1;\n    return aP - bP;\n  };\n};\nvar poseFactory = function (_a) {\n  var getDefaultProps = _a.getDefaultProps,\n    defaultTransitions = _a.defaultTransitions,\n    bindOnChange = _a.bindOnChange,\n    startAction = _a.startAction,\n    stopAction = _a.stopAction,\n    readValue = _a.readValue,\n    readValueFromSource = _a.readValueFromSource,\n    resolveTarget = _a.resolveTarget,\n    setValue = _a.setValue,\n    setValueNative = _a.setValueNative,\n    createValue = _a.createValue,\n    convertValue = _a.convertValue,\n    getInstantTransition = _a.getInstantTransition,\n    getTransitionProps = _a.getTransitionProps,\n    addActionDelay = _a.addActionDelay,\n    selectValueToRead = _a.selectValueToRead,\n    convertTransitionDefinition = _a.convertTransitionDefinition,\n    transformPose = _a.transformPose,\n    posePriority = _a.posePriority,\n    forceRender = _a.forceRender,\n    extendAPI = _a.extendAPI;\n  return function (config) {\n    var parentValues = config.parentValues,\n      _a = config.ancestorValues,\n      ancestorValues = _a === void 0 ? [] : _a;\n    if (parentValues) ancestorValues.unshift({\n      values: parentValues\n    });\n    var activeActions = new Map();\n    var activePoses = new Map();\n    var children = new Set();\n    var poses = generateTransitions(selectPoses(config), defaultTransitions);\n    var _b = config.props,\n      props = _b === void 0 ? {} : _b;\n    if (getDefaultProps) props = __assign(__assign({}, getDefaultProps(config)), props);\n    var passive = config.passive,\n      userSetValues = config.values,\n      _c = config.initialPose,\n      initialPose = _c === void 0 ? DEFAULT_INITIAL_POSE : _c;\n    var values = createValueMap({\n      poses: poses,\n      passive: passive,\n      ancestorValues: ancestorValues,\n      readValue: readValue,\n      setValueNative: setValueNative,\n      createValue: createValue,\n      convertValue: convertValue,\n      readValueFromSource: readValueFromSource,\n      userSetValues: userSetValues,\n      initialPose: initialPose,\n      activePoses: activePoses,\n      props: props\n    });\n    var state = {\n      activeActions: activeActions,\n      activePoses: activePoses,\n      children: children,\n      props: props,\n      values: values\n    };\n    var onChange = config.onChange;\n    if (onChange) Object.keys(onChange).forEach(bindOnChange(values, onChange));\n    var set = createPoseSetter({\n      state: state,\n      poses: poses,\n      getInstantTransition: getInstantTransition,\n      getTransitionProps: getTransitionProps,\n      convertTransitionDefinition: convertTransitionDefinition,\n      setValue: setValue,\n      setValueNative: setValueNative,\n      startAction: startAction,\n      stopAction: stopAction,\n      resolveTarget: resolveTarget,\n      addActionDelay: addActionDelay,\n      transformPose: transformPose,\n      posePriority: posePriority,\n      forceRender: forceRender\n    });\n    var has = function (poseName) {\n      return !!poses[poseName];\n    };\n    var api = {\n      set: set,\n      unset: function (poseName, poseProps) {\n        var posesToSet = [];\n        activePoses.forEach(function (valuePoses) {\n          var poseIndex = valuePoses.indexOf(poseName);\n          if (poseIndex === -1) return;\n          var currentPose = valuePoses[0];\n          valuePoses.splice(poseIndex, 1);\n          var nextPose = valuePoses[0];\n          if (nextPose === currentPose) return;\n          if (posesToSet.indexOf(nextPose) === -1) {\n            posesToSet.push(nextPose);\n          }\n        });\n        var animationsToResolve = posesToSet.sort(sortByReversePriority(posePriority)).map(function (poseToSet) {\n          return set(poseToSet, poseProps, false);\n        });\n        children.forEach(function (child) {\n          return animationsToResolve.push(child.unset(poseName));\n        });\n        return Promise.all(animationsToResolve);\n      },\n      get: function (valueName) {\n        return valueName ? selectValueToRead(values.get(valueName)) : selectAllValues(values, selectValueToRead);\n      },\n      has: has,\n      setProps: function (newProps) {\n        return state.props = __assign(__assign({}, state.props), newProps);\n      },\n      _addChild: function (childConfig, factory) {\n        var child = factory(__assign(__assign({\n          initialPose: initialPose\n        }, childConfig), {\n          ancestorValues: __spreadArrays([{\n            label: config.label,\n            values: values\n          }], ancestorValues)\n        }));\n        children.add(child);\n        return child;\n      },\n      removeChild: function (child) {\n        return children.delete(child);\n      },\n      clearChildren: function () {\n        children.forEach(function (child) {\n          return child.destroy();\n        });\n        children.clear();\n      },\n      destroy: function () {\n        activeActions.forEach(stopAction);\n        children.forEach(function (child) {\n          return child.destroy();\n        });\n      }\n    };\n    return extendAPI(api, state, config);\n  };\n};\nexport default poseFactory;","map":{"version":3,"names":["__rest","__assign","__spreadArrays","invariant","getPoseValues","_a","transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd","props","selectPoses","label","values","parentValues","ancestorValues","onChange","passive","initialPose","poses","selectAllValues","selectValue","allValues","forEach","value","key","resolveProp","target","poseDefault","pose","prop","defaultValue","resolveProps","undefined","startChildAnimations","children","next","animations","stagger","maxStaggerDuration","size","generateStaggerDuration","i","Array","from","child","push","set","resolveTransition","convertTransitionDefinition","getInstantTransition","resolvedTransition","resolvedTransitionMap","default","keyTransition","findInsertionIndex","poseList","priorityList","priorityIndex","insertionIndex","nextHighestPriorityIndex","indexOf","applyValues","toApply","setValue","setValueNative","Object","keys","valueToSet","has","get","createPoseSetter","setterProps","state","startAction","stopAction","addActionDelay","getTransitionProps","resolveTarget","transformPose","posePriority","forceRender","nextProps","propagate","activeActions","activePoses","hasChildren","baseTransitionProps","nextPose","getChildAnimations","getParentAnimations","getTransition","map","valuePoses","existingIndex","splice","priority","Promise","complete","transitionProps","resolveTransitionProps","to","poseDelay","resolve","all","then","DEFAULT_INITIAL_POSE","isScale","includes","defaultReadValueFromSource","readValueFromPose","valueToResolve","getPosesToSearch","posesToSearch","isArray","getInitialValue","readValueFromSource","filter","Boolean","find","name","thisPose","createValues","userSetValues","createValue","convertValue","initValue","scrapeValuesFromPose","getAncestorValue","fromParent","ancestors","foundAncestor","bindPassiveValues","readValue","valueKey","passiveProps","valueToBind","length","newValue","passiveParentKey","passiveParent","setNativeValues","valuesHaveSet","Set","setValues","propKey","add","poseKey","createValueMap","Map","applyDefaultTransition","defaultTransitions","generateTransitions","sortByReversePriority","priorityOrder","a","b","aP","bP","poseFactory","getDefaultProps","bindOnChange","selectValueToRead","extendAPI","config","unshift","_b","_c","poseName","api","unset","poseProps","posesToSet","poseIndex","currentPose","animationsToResolve","sort","poseToSet","valueName","setProps","newProps","_addChild","childConfig","factory","removeChild","delete","clearChildren","destroy","clear"],"sources":["C:/Users/Moham/Documents/GitHub/MediMatch/trapp/node_modules/pose-core/dist/pose-core.es.js"],"sourcesContent":["import { __rest, __assign, __spreadArrays } from 'tslib';\nimport { invariant } from 'hey-listen';\n\nvar getPoseValues = function (_a) {\n    var transition = _a.transition,\n        flip = _a.flip,\n        delay = _a.delay,\n        delayChildren = _a.delayChildren,\n        staggerChildren = _a.staggerChildren,\n        staggerDirection = _a.staggerDirection,\n        afterChildren = _a.afterChildren,\n        beforeChildren = _a.beforeChildren,\n        preTransition = _a.preTransition,\n        applyAtStart = _a.applyAtStart,\n        applyAtEnd = _a.applyAtEnd,\n        props = __rest(_a, [\"transition\", \"flip\", \"delay\", \"delayChildren\", \"staggerChildren\", \"staggerDirection\", \"afterChildren\", \"beforeChildren\", \"preTransition\", \"applyAtStart\", \"applyAtEnd\"]);\n    return props;\n};\nvar selectPoses = function (_a) {\n    var label = _a.label,\n        props = _a.props,\n        values = _a.values,\n        parentValues = _a.parentValues,\n        ancestorValues = _a.ancestorValues,\n        onChange = _a.onChange,\n        passive = _a.passive,\n        initialPose = _a.initialPose,\n        poses = __rest(_a, [\"label\", \"props\", \"values\", \"parentValues\", \"ancestorValues\", \"onChange\", \"passive\", \"initialPose\"]);\n    return poses;\n};\nvar selectAllValues = function (values, selectValue) {\n    var allValues = {};\n    values.forEach(function (value, key) {\n        return allValues[key] = selectValue(value);\n    });\n    return allValues;\n};\n\nvar resolveProp = function (target, props) {\n    return typeof target === 'function' ? target(props) : target;\n};\nvar poseDefault = function (pose, prop, defaultValue, resolveProps) {\n    return pose && pose[prop] !== undefined ? resolveProp(pose[prop], resolveProps) : defaultValue;\n};\nvar startChildAnimations = function (children, next, pose, props) {\n    var animations = [];\n    var delay = poseDefault(pose, 'delayChildren', 0, props);\n    var stagger = poseDefault(pose, 'staggerChildren', 0, props);\n    var staggerDirection = poseDefault(pose, 'staggerDirection', 1, props);\n    var maxStaggerDuration = (children.size - 1) * stagger;\n    var generateStaggerDuration = staggerDirection === 1 ? function (i) {\n        return i * stagger;\n    } : function (i) {\n        return maxStaggerDuration - i * stagger;\n    };\n    Array.from(children).forEach(function (child, i) {\n        animations.push(child.set(next, {\n            delay: delay + generateStaggerDuration(i)\n        }));\n    });\n    return animations;\n};\nvar resolveTransition = function (transition, key, value, props, convertTransitionDefinition, getInstantTransition) {\n    var resolvedTransition;\n    if (typeof transition === 'function') {\n        var resolvedTransitionMap = transition(props);\n        resolvedTransition = resolveTransition(resolvedTransitionMap, key, value, props, convertTransitionDefinition, getInstantTransition);\n    } else if (transition[key] || transition.default) {\n        var keyTransition = transition[key] || transition.default;\n        if (typeof keyTransition === 'function') {\n            resolvedTransition = keyTransition(props);\n        } else {\n            resolvedTransition = keyTransition;\n        }\n    } else {\n        resolvedTransition = transition;\n    }\n    return resolvedTransition === false ? getInstantTransition(value, props) : convertTransitionDefinition(value, resolvedTransition, props);\n};\nvar findInsertionIndex = function (poseList, priorityList, priorityIndex) {\n    var insertionIndex = 0;\n    for (var i = priorityIndex - 1; i >= 0; i--) {\n        var nextHighestPriorityIndex = poseList.indexOf(priorityList[i]);\n        if (nextHighestPriorityIndex !== -1) {\n            insertionIndex = nextHighestPriorityIndex + 1;\n            break;\n        }\n    }\n    return insertionIndex;\n};\nvar applyValues = function (toApply, values, props, setValue, setValueNative) {\n    invariant(typeof toApply === 'object', 'applyAtStart and applyAtEnd must be of type object');\n    return Object.keys(toApply).forEach(function (key) {\n        var valueToSet = resolveProp(toApply[key], props);\n        values.has(key) ? setValue(values.get(key), valueToSet) : setValueNative(key, valueToSet, props);\n    });\n};\nvar createPoseSetter = function (setterProps) {\n    var state = setterProps.state,\n        poses = setterProps.poses,\n        startAction = setterProps.startAction,\n        stopAction = setterProps.stopAction,\n        getInstantTransition = setterProps.getInstantTransition,\n        addActionDelay = setterProps.addActionDelay,\n        getTransitionProps = setterProps.getTransitionProps,\n        resolveTarget = setterProps.resolveTarget,\n        transformPose = setterProps.transformPose,\n        posePriority = setterProps.posePriority,\n        convertTransitionDefinition = setterProps.convertTransitionDefinition,\n        setValue = setterProps.setValue,\n        setValueNative = setterProps.setValueNative,\n        forceRender = setterProps.forceRender;\n    return function (next, nextProps, propagate) {\n        if (nextProps === void 0) {\n            nextProps = {};\n        }\n        if (propagate === void 0) {\n            propagate = true;\n        }\n        var children = state.children,\n            values = state.values,\n            props = state.props,\n            activeActions = state.activeActions,\n            activePoses = state.activePoses;\n        var _a = nextProps.delay,\n            delay = _a === void 0 ? 0 : _a;\n        var hasChildren = children.size;\n        var baseTransitionProps = __assign(__assign({}, props), nextProps);\n        var nextPose = poses[next];\n        var getChildAnimations = function () {\n            return hasChildren && propagate ? startChildAnimations(children, next, nextPose, baseTransitionProps) : [];\n        };\n        var getParentAnimations = function () {\n            if (!nextPose) return [];\n            var applyAtStart = nextPose.applyAtStart;\n            if (applyAtStart) {\n                applyValues(applyAtStart, values, baseTransitionProps, setValue, setValueNative);\n                if (forceRender) forceRender(baseTransitionProps);\n            }\n            if (transformPose) nextPose = transformPose(nextPose, next, state);\n            var preTransition = nextPose.preTransition,\n                getTransition = nextPose.transition,\n                applyAtEnd = nextPose.applyAtEnd;\n            if (preTransition) preTransition(baseTransitionProps);\n            var animations = Object.keys(getPoseValues(nextPose)).map(function (key) {\n                var valuePoses = activePoses.has(key) ? activePoses.get(key) : (activePoses.set(key, []), activePoses.get(key));\n                var existingIndex = valuePoses.indexOf(next);\n                if (existingIndex !== -1) valuePoses.splice(existingIndex, 1);\n                var priority = posePriority ? posePriority.indexOf(next) : 0;\n                var insertionIndex = priority <= 0 ? 0 : findInsertionIndex(valuePoses, posePriority, priority);\n                valuePoses.splice(insertionIndex, 0, next);\n                return insertionIndex === 0 ? new Promise(function (complete) {\n                    var value = values.get(key);\n                    var transitionProps = __assign(__assign({}, baseTransitionProps), { key: key,\n                        value: value });\n                    var target = resolveTarget(value, resolveProp(nextPose[key], transitionProps));\n                    if (activeActions.has(key)) stopAction(activeActions.get(key));\n                    var resolveTransitionProps = __assign(__assign({ to: target }, transitionProps), getTransitionProps(value, target, transitionProps));\n                    var transition = resolveTransition(getTransition, key, value, resolveTransitionProps, convertTransitionDefinition, getInstantTransition);\n                    var poseDelay = delay || resolveProp(nextPose.delay, transitionProps);\n                    if (poseDelay) {\n                        transition = addActionDelay(poseDelay, transition);\n                    }\n                    activeActions.set(key, startAction(value, transition, complete));\n                }) : Promise.resolve();\n            });\n            return applyAtEnd ? [Promise.all(animations).then(function () {\n                applyValues(applyAtEnd, values, baseTransitionProps, setValue, setValueNative);\n            })] : animations;\n        };\n        if (nextPose && hasChildren) {\n            if (resolveProp(nextPose.beforeChildren, baseTransitionProps)) {\n                return Promise.all(getParentAnimations()).then(function () {\n                    return Promise.all(getChildAnimations());\n                });\n            } else if (resolveProp(nextPose.afterChildren, baseTransitionProps)) {\n                return Promise.all(getChildAnimations()).then(function () {\n                    return Promise.all(getParentAnimations());\n                });\n            }\n        }\n        return Promise.all(__spreadArrays(getParentAnimations(), getChildAnimations()));\n    };\n};\n\nvar DEFAULT_INITIAL_POSE = 'init';\nvar isScale = function (key) {\n    return key.includes('scale');\n};\nvar defaultReadValueFromSource = function (key) {\n    return isScale(key) ? 1 : 0;\n};\nvar readValueFromPose = function (pose, key, props) {\n    var valueToResolve = pose.applyAtEnd && pose.applyAtEnd[key] !== undefined ? pose.applyAtEnd[key] : pose[key] !== undefined ? pose[key] : pose.applyAtStart && pose.applyAtStart[key] !== undefined ? pose.applyAtStart[key] : 0;\n    return resolveProp(valueToResolve, props);\n};\nvar getPosesToSearch = function (pose) {\n    var posesToSearch = Array.isArray(pose) ? pose : [pose];\n    posesToSearch.push(DEFAULT_INITIAL_POSE);\n    return posesToSearch;\n};\nvar getInitialValue = function (poses, key, initialPose, props, readValueFromSource, activePoses) {\n    if (readValueFromSource === void 0) {\n        readValueFromSource = defaultReadValueFromSource;\n    }\n    var posesToSearch = getPosesToSearch(initialPose);\n    var pose = posesToSearch.filter(Boolean).find(function (name) {\n        var thisPose = poses[name];\n        return thisPose && (thisPose[key] !== undefined || thisPose.applyAtStart && thisPose.applyAtStart[key] !== undefined || thisPose.applyAtEnd && thisPose.applyAtEnd[key] !== undefined);\n    });\n    activePoses.set(key, [pose || DEFAULT_INITIAL_POSE]);\n    return pose ? readValueFromPose(poses[pose], key, props) : readValueFromSource(key, props);\n};\nvar createValues = function (values, _a) {\n    var userSetValues = _a.userSetValues,\n        createValue = _a.createValue,\n        convertValue = _a.convertValue,\n        readValueFromSource = _a.readValueFromSource,\n        initialPose = _a.initialPose,\n        poses = _a.poses,\n        activePoses = _a.activePoses,\n        props = _a.props;\n    return function (key) {\n        if (values.has(key)) return;\n        var value;\n        if (userSetValues && userSetValues[key] !== undefined) {\n            value = convertValue(userSetValues[key], key, props);\n        } else {\n            var initValue = getInitialValue(poses, key, initialPose, props, readValueFromSource, activePoses);\n            value = createValue(initValue, key, props);\n        }\n        values.set(key, value);\n    };\n};\nvar scrapeValuesFromPose = function (values, props) {\n    return function (key) {\n        var pose = props.poses[key];\n        Object.keys(getPoseValues(pose)).forEach(createValues(values, props));\n    };\n};\nvar getAncestorValue = function (key, fromParent, ancestors) {\n    if (fromParent === true) {\n        return ancestors[0] && ancestors[0].values.get(key);\n    } else {\n        var foundAncestor = ancestors.find(function (_a) {\n            var label = _a.label;\n            return label === fromParent;\n        });\n        return foundAncestor && foundAncestor.values.get(key);\n    }\n};\nvar bindPassiveValues = function (values, _a) {\n    var passive = _a.passive,\n        ancestorValues = _a.ancestorValues,\n        createValue = _a.createValue,\n        readValue = _a.readValue,\n        props = _a.props;\n    return function (key) {\n        var _a = passive[key],\n            valueKey = _a[0],\n            passiveProps = _a[1],\n            fromParent = _a[2];\n        var valueToBind = fromParent && ancestorValues.length ? getAncestorValue(valueKey, fromParent, ancestorValues) : values.has(valueKey) ? values.get(valueKey) : false;\n        if (!valueToBind) return;\n        var newValue = createValue(readValue(valueToBind), key, props, {\n            passiveParentKey: valueKey,\n            passiveParent: valueToBind,\n            passiveProps: passiveProps\n        });\n        values.set(key, newValue);\n    };\n};\nvar setNativeValues = function (_a) {\n    var setValueNative = _a.setValueNative,\n        initialPose = _a.initialPose,\n        props = _a.props,\n        poses = _a.poses;\n    var valuesHaveSet = new Set();\n    var setValues = function (pose, propKey) {\n        if (pose[propKey]) {\n            for (var key in pose[propKey]) {\n                if (!valuesHaveSet.has(key)) {\n                    valuesHaveSet.add(key);\n                    setValueNative(key, resolveProp(pose[propKey][key], props), props);\n                }\n            }\n        }\n    };\n    getPosesToSearch(initialPose).forEach(function (poseKey) {\n        var pose = poses[poseKey];\n        if (pose) {\n            setValues(pose, 'applyAtEnd');\n            setValues(pose, 'applyAtStart');\n        }\n    });\n};\nvar createValueMap = function (props) {\n    var poses = props.poses,\n        passive = props.passive;\n    var values = new Map();\n    Object.keys(poses).forEach(scrapeValuesFromPose(values, props));\n    setNativeValues(props);\n    if (passive) Object.keys(passive).forEach(bindPassiveValues(values, props));\n    return values;\n};\n\nvar applyDefaultTransition = function (pose, key, defaultTransitions) {\n    return __assign(__assign({}, pose), { transition: defaultTransitions.has(key) ? defaultTransitions.get(key) : defaultTransitions.get('default') });\n};\nvar generateTransitions = function (poses, defaultTransitions) {\n    Object.keys(poses).forEach(function (key) {\n        var pose = poses[key];\n        invariant(typeof pose === 'object', \"Pose '\" + key + \"' is of invalid type. All poses should be objects.\");\n        poses[key] = pose.transition !== undefined ? pose : applyDefaultTransition(pose, key, defaultTransitions);\n    });\n    return poses;\n};\n\nvar sortByReversePriority = function (priorityOrder) {\n    return function (a, b) {\n        var aP = priorityOrder.indexOf(a);\n        var bP = priorityOrder.indexOf(b);\n        if (aP === -1 && bP !== -1) return -1;\n        if (aP !== -1 && bP === -1) return 1;\n        return aP - bP;\n    };\n};\n\nvar poseFactory = function (_a) {\n    var getDefaultProps = _a.getDefaultProps,\n        defaultTransitions = _a.defaultTransitions,\n        bindOnChange = _a.bindOnChange,\n        startAction = _a.startAction,\n        stopAction = _a.stopAction,\n        readValue = _a.readValue,\n        readValueFromSource = _a.readValueFromSource,\n        resolveTarget = _a.resolveTarget,\n        setValue = _a.setValue,\n        setValueNative = _a.setValueNative,\n        createValue = _a.createValue,\n        convertValue = _a.convertValue,\n        getInstantTransition = _a.getInstantTransition,\n        getTransitionProps = _a.getTransitionProps,\n        addActionDelay = _a.addActionDelay,\n        selectValueToRead = _a.selectValueToRead,\n        convertTransitionDefinition = _a.convertTransitionDefinition,\n        transformPose = _a.transformPose,\n        posePriority = _a.posePriority,\n        forceRender = _a.forceRender,\n        extendAPI = _a.extendAPI;\n    return function (config) {\n        var parentValues = config.parentValues,\n            _a = config.ancestorValues,\n            ancestorValues = _a === void 0 ? [] : _a;\n        if (parentValues) ancestorValues.unshift({ values: parentValues });\n        var activeActions = new Map();\n        var activePoses = new Map();\n        var children = new Set();\n        var poses = generateTransitions(selectPoses(config), defaultTransitions);\n        var _b = config.props,\n            props = _b === void 0 ? {} : _b;\n        if (getDefaultProps) props = __assign(__assign({}, getDefaultProps(config)), props);\n        var passive = config.passive,\n            userSetValues = config.values,\n            _c = config.initialPose,\n            initialPose = _c === void 0 ? DEFAULT_INITIAL_POSE : _c;\n        var values = createValueMap({\n            poses: poses,\n            passive: passive,\n            ancestorValues: ancestorValues,\n            readValue: readValue,\n            setValueNative: setValueNative,\n            createValue: createValue,\n            convertValue: convertValue,\n            readValueFromSource: readValueFromSource,\n            userSetValues: userSetValues,\n            initialPose: initialPose,\n            activePoses: activePoses,\n            props: props\n        });\n        var state = {\n            activeActions: activeActions,\n            activePoses: activePoses,\n            children: children,\n            props: props,\n            values: values\n        };\n        var onChange = config.onChange;\n        if (onChange) Object.keys(onChange).forEach(bindOnChange(values, onChange));\n        var set = createPoseSetter({\n            state: state,\n            poses: poses,\n            getInstantTransition: getInstantTransition,\n            getTransitionProps: getTransitionProps,\n            convertTransitionDefinition: convertTransitionDefinition,\n            setValue: setValue,\n            setValueNative: setValueNative,\n            startAction: startAction,\n            stopAction: stopAction,\n            resolveTarget: resolveTarget,\n            addActionDelay: addActionDelay,\n            transformPose: transformPose,\n            posePriority: posePriority,\n            forceRender: forceRender\n        });\n        var has = function (poseName) {\n            return !!poses[poseName];\n        };\n        var api = {\n            set: set,\n            unset: function (poseName, poseProps) {\n                var posesToSet = [];\n                activePoses.forEach(function (valuePoses) {\n                    var poseIndex = valuePoses.indexOf(poseName);\n                    if (poseIndex === -1) return;\n                    var currentPose = valuePoses[0];\n                    valuePoses.splice(poseIndex, 1);\n                    var nextPose = valuePoses[0];\n                    if (nextPose === currentPose) return;\n                    if (posesToSet.indexOf(nextPose) === -1) {\n                        posesToSet.push(nextPose);\n                    }\n                });\n                var animationsToResolve = posesToSet.sort(sortByReversePriority(posePriority)).map(function (poseToSet) {\n                    return set(poseToSet, poseProps, false);\n                });\n                children.forEach(function (child) {\n                    return animationsToResolve.push(child.unset(poseName));\n                });\n                return Promise.all(animationsToResolve);\n            },\n            get: function (valueName) {\n                return valueName ? selectValueToRead(values.get(valueName)) : selectAllValues(values, selectValueToRead);\n            },\n            has: has,\n            setProps: function (newProps) {\n                return state.props = __assign(__assign({}, state.props), newProps);\n            },\n            _addChild: function (childConfig, factory) {\n                var child = factory(__assign(__assign({ initialPose: initialPose }, childConfig), { ancestorValues: __spreadArrays([{ label: config.label, values: values }], ancestorValues) }));\n                children.add(child);\n                return child;\n            },\n            removeChild: function (child) {\n                return children.delete(child);\n            },\n            clearChildren: function () {\n                children.forEach(function (child) {\n                    return child.destroy();\n                });\n                children.clear();\n            },\n            destroy: function () {\n                activeActions.forEach(stopAction);\n                children.forEach(function (child) {\n                    return child.destroy();\n                });\n            }\n        };\n        return extendAPI(api, state, config);\n    };\n};\n\nexport default poseFactory;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}