/*!
 * Built with Duet Design System
 */
'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

/*!
 Stencil Mock Doc v4.10.0 | MIT Licensed | https://stenciljs.com
 */
const CONTENT_REF_ID = 'r';
const ORG_LOCATION_ID = 'o';
const SLOT_NODE_ID = 's';
const TEXT_NODE_ID = 't';
const XLINK_NS = 'http://www.w3.org/1999/xlink';

const attrHandler = {
    get(obj, prop) {
        if (prop in obj) {
            return obj[prop];
        }
        if (typeof prop !== 'symbol' && !isNaN(prop)) {
            return obj.__items[prop];
        }
        return undefined;
    },
};
const createAttributeProxy = (caseInsensitive) => new Proxy(new MockAttributeMap(caseInsensitive), attrHandler);
class MockAttributeMap {
    constructor(caseInsensitive = false) {
        this.caseInsensitive = caseInsensitive;
        this.__items = [];
    }
    get length() {
        return this.__items.length;
    }
    item(index) {
        return this.__items[index] || null;
    }
    setNamedItem(attr) {
        attr.namespaceURI = null;
        this.setNamedItemNS(attr);
    }
    setNamedItemNS(attr) {
        if (attr != null && attr.value != null) {
            attr.value = String(attr.value);
        }
        const existingAttr = this.__items.find((a) => a.name === attr.name && a.namespaceURI === attr.namespaceURI);
        if (existingAttr != null) {
            existingAttr.value = attr.value;
        }
        else {
            this.__items.push(attr);
        }
    }
    getNamedItem(attrName) {
        if (this.caseInsensitive) {
            attrName = attrName.toLowerCase();
        }
        return this.getNamedItemNS(null, attrName);
    }
    getNamedItemNS(namespaceURI, attrName) {
        namespaceURI = getNamespaceURI(namespaceURI);
        return (this.__items.find((attr) => attr.name === attrName && getNamespaceURI(attr.namespaceURI) === namespaceURI) || null);
    }
    removeNamedItem(attr) {
        this.removeNamedItemNS(attr);
    }
    removeNamedItemNS(attr) {
        for (let i = 0, ii = this.__items.length; i < ii; i++) {
            if (this.__items[i].name === attr.name && this.__items[i].namespaceURI === attr.namespaceURI) {
                this.__items.splice(i, 1);
                break;
            }
        }
    }
    [Symbol.iterator]() {
        let i = 0;
        return {
            next: () => ({
                done: i === this.length,
                value: this.item(i++),
            }),
        };
    }
    get [Symbol.toStringTag]() {
        return 'MockAttributeMap';
    }
}
function getNamespaceURI(namespaceURI) {
    return namespaceURI === XLINK_NS ? null : namespaceURI;
}
function cloneAttributes(srcAttrs, sortByName = false) {
    const dstAttrs = new MockAttributeMap(srcAttrs.caseInsensitive);
    if (srcAttrs != null) {
        const attrLen = srcAttrs.length;
        if (sortByName && attrLen > 1) {
            const sortedAttrs = [];
            for (let i = 0; i < attrLen; i++) {
                const srcAttr = srcAttrs.item(i);
                const dstAttr = new MockAttr(srcAttr.name, srcAttr.value, srcAttr.namespaceURI);
                sortedAttrs.push(dstAttr);
            }
            sortedAttrs.sort(sortAttributes).forEach((attr) => {
                dstAttrs.setNamedItemNS(attr);
            });
        }
        else {
            for (let i = 0; i < attrLen; i++) {
                const srcAttr = srcAttrs.item(i);
                const dstAttr = new MockAttr(srcAttr.name, srcAttr.value, srcAttr.namespaceURI);
                dstAttrs.setNamedItemNS(dstAttr);
            }
        }
    }
    return dstAttrs;
}
function sortAttributes(a, b) {
    if (a.name < b.name)
        return -1;
    if (a.name > b.name)
        return 1;
    return 0;
}
class MockAttr {
    constructor(attrName, attrValue, namespaceURI = null) {
        this._name = attrName;
        this._value = String(attrValue);
        this._namespaceURI = namespaceURI;
    }
    get name() {
        return this._name;
    }
    set name(value) {
        this._name = value;
    }
    get value() {
        return this._value;
    }
    set value(value) {
        this._value = String(value);
    }
    get nodeName() {
        return this._name;
    }
    set nodeName(value) {
        this._name = value;
    }
    get nodeValue() {
        return this._value;
    }
    set nodeValue(value) {
        this._value = String(value);
    }
    get namespaceURI() {
        return this._namespaceURI;
    }
    set namespaceURI(namespaceURI) {
        this._namespaceURI = namespaceURI;
    }
}

class MockClassList {
    constructor(elm) {
        this.elm = elm;
    }
    add(...classNames) {
        const clsNames = getItems(this.elm);
        let updated = false;
        classNames.forEach((className) => {
            className = String(className);
            validateClass(className);
            if (clsNames.includes(className) === false) {
                clsNames.push(className);
                updated = true;
            }
        });
        if (updated) {
            this.elm.setAttributeNS(null, 'class', clsNames.join(' '));
        }
    }
    remove(...classNames) {
        const clsNames = getItems(this.elm);
        let updated = false;
        classNames.forEach((className) => {
            className = String(className);
            validateClass(className);
            const index = clsNames.indexOf(className);
            if (index > -1) {
                clsNames.splice(index, 1);
                updated = true;
            }
        });
        if (updated) {
            this.elm.setAttributeNS(null, 'class', clsNames.filter((c) => c.length > 0).join(' '));
        }
    }
    contains(className) {
        className = String(className);
        return getItems(this.elm).includes(className);
    }
    toggle(className) {
        className = String(className);
        if (this.contains(className) === true) {
            this.remove(className);
        }
        else {
            this.add(className);
        }
    }
    get length() {
        return getItems(this.elm).length;
    }
    item(index) {
        return getItems(this.elm)[index];
    }
    toString() {
        return getItems(this.elm).join(' ');
    }
}
function validateClass(className) {
    if (className === '') {
        throw new Error('The token provided must not be empty.');
    }
    if (/\s/.test(className)) {
        throw new Error(`The token provided ('${className}') contains HTML space characters, which are not valid in tokens.`);
    }
}
function getItems(elm) {
    const className = elm.getAttribute('class');
    if (typeof className === 'string' && className.length > 0) {
        return className
            .trim()
            .split(' ')
            .filter((c) => c.length > 0);
    }
    return [];
}

class MockCSSStyleDeclaration {
    constructor() {
        this._styles = new Map();
    }
    setProperty(prop, value) {
        prop = jsCaseToCssCase(prop);
        if (value == null || value === '') {
            this._styles.delete(prop);
        }
        else {
            this._styles.set(prop, String(value));
        }
    }
    getPropertyValue(prop) {
        prop = jsCaseToCssCase(prop);
        return String(this._styles.get(prop) || '');
    }
    removeProperty(prop) {
        prop = jsCaseToCssCase(prop);
        this._styles.delete(prop);
    }
    get length() {
        return this._styles.size;
    }
    get cssText() {
        const cssText = [];
        this._styles.forEach((value, prop) => {
            cssText.push(`${prop}: ${value};`);
        });
        return cssText.join(' ').trim();
    }
    set cssText(cssText) {
        if (cssText == null || cssText === '') {
            this._styles.clear();
            return;
        }
        cssText.split(';').forEach((rule) => {
            rule = rule.trim();
            if (rule.length > 0) {
                const splt = rule.split(':');
                if (splt.length > 1) {
                    const prop = splt[0].trim();
                    const value = splt.slice(1).join(':').trim();
                    if (prop !== '' && value !== '') {
                        this._styles.set(jsCaseToCssCase(prop), value);
                    }
                }
            }
        });
    }
}
function createCSSStyleDeclaration() {
    return new Proxy(new MockCSSStyleDeclaration(), cssProxyHandler);
}
const cssProxyHandler = {
    get(cssStyle, prop) {
        if (prop in cssStyle) {
            return cssStyle[prop];
        }
        prop = cssCaseToJsCase(prop);
        return cssStyle.getPropertyValue(prop);
    },
    set(cssStyle, prop, value) {
        if (prop in cssStyle) {
            cssStyle[prop] = value;
        }
        else {
            cssStyle.setProperty(prop, value);
        }
        return true;
    },
};
function cssCaseToJsCase(str) {
    // font-size to fontSize
    if (str.length > 1 && str.includes('-') === true) {
        str = str
            .toLowerCase()
            .split('-')
            .map((segment) => segment.charAt(0).toUpperCase() + segment.slice(1))
            .join('');
        str = str.slice(0, 1).toLowerCase() + str.slice(1);
    }
    return str;
}
function jsCaseToCssCase(str) {
    // fontSize to font-size
    if (str.length > 1 && str.includes('-') === false && /[A-Z]/.test(str) === true) {
        str = str
            .replace(/([A-Z])/g, (g) => ' ' + g[0])
            .trim()
            .replace(/ /g, '-')
            .toLowerCase();
    }
    return str;
}

class MockCustomElementRegistry {
    constructor(win) {
        this.win = win;
    }
    define(tagName, cstr, options) {
        if (tagName.toLowerCase() !== tagName) {
            throw new Error(`Failed to execute 'define' on 'CustomElementRegistry': "${tagName}" is not a valid custom element name`);
        }
        if (this.__registry == null) {
            this.__registry = new Map();
        }
        this.__registry.set(tagName, { cstr, options });
        if (this.__whenDefined != null) {
            const whenDefinedResolveFns = this.__whenDefined.get(tagName);
            if (whenDefinedResolveFns != null) {
                whenDefinedResolveFns.forEach((whenDefinedResolveFn) => {
                    whenDefinedResolveFn();
                });
                whenDefinedResolveFns.length = 0;
                this.__whenDefined.delete(tagName);
            }
        }
        const doc = this.win.document;
        if (doc != null) {
            const hosts = doc.querySelectorAll(tagName);
            hosts.forEach((host) => {
                if (upgradedElements.has(host) === false) {
                    tempDisableCallbacks.add(doc);
                    const upgradedCmp = createCustomElement(this, doc, tagName);
                    for (let i = 0; i < host.childNodes.length; i++) {
                        const childNode = host.childNodes[i];
                        childNode.remove();
                        upgradedCmp.appendChild(childNode);
                    }
                    tempDisableCallbacks.delete(doc);
                    if (proxyElements.has(host)) {
                        proxyElements.set(host, upgradedCmp);
                    }
                }
                fireConnectedCallback(host);
            });
        }
    }
    get(tagName) {
        if (this.__registry != null) {
            const def = this.__registry.get(tagName.toLowerCase());
            if (def != null) {
                return def.cstr;
            }
        }
        return undefined;
    }
    upgrade(_rootNode) {
        //
    }
    clear() {
        if (this.__registry != null) {
            this.__registry.clear();
        }
        if (this.__whenDefined != null) {
            this.__whenDefined.clear();
        }
    }
    whenDefined(tagName) {
        tagName = tagName.toLowerCase();
        if (this.__registry != null && this.__registry.has(tagName) === true) {
            return Promise.resolve(this.__registry.get(tagName).cstr);
        }
        return new Promise((resolve) => {
            if (this.__whenDefined == null) {
                this.__whenDefined = new Map();
            }
            let whenDefinedResolveFns = this.__whenDefined.get(tagName);
            if (whenDefinedResolveFns == null) {
                whenDefinedResolveFns = [];
                this.__whenDefined.set(tagName, whenDefinedResolveFns);
            }
            whenDefinedResolveFns.push(resolve);
        });
    }
}
function createCustomElement(customElements, ownerDocument, tagName) {
    const Cstr = customElements.get(tagName);
    if (Cstr != null) {
        const cmp = new Cstr(ownerDocument);
        cmp.nodeName = tagName.toUpperCase();
        upgradedElements.add(cmp);
        return cmp;
    }
    const host = new Proxy({}, {
        get(obj, prop) {
            const elm = proxyElements.get(host);
            if (elm != null) {
                return elm[prop];
            }
            return obj[prop];
        },
        set(obj, prop, val) {
            const elm = proxyElements.get(host);
            if (elm != null) {
                elm[prop] = val;
            }
            else {
                obj[prop] = val;
            }
            return true;
        },
        has(obj, prop) {
            const elm = proxyElements.get(host);
            if (prop in elm) {
                return true;
            }
            if (prop in obj) {
                return true;
            }
            return false;
        },
    });
    const elm = new MockHTMLElement(ownerDocument, tagName);
    proxyElements.set(host, elm);
    return host;
}
const proxyElements = new WeakMap();
const upgradedElements = new WeakSet();
function connectNode(ownerDocument, node) {
    node.ownerDocument = ownerDocument;
    if (node.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */) {
        if (ownerDocument != null && node.nodeName.includes('-')) {
            const win = ownerDocument.defaultView;
            if (win != null && typeof node.connectedCallback === 'function' && node.isConnected) {
                fireConnectedCallback(node);
            }
            const shadowRoot = node.shadowRoot;
            if (shadowRoot != null) {
                shadowRoot.childNodes.forEach((childNode) => {
                    connectNode(ownerDocument, childNode);
                });
            }
        }
        node.childNodes.forEach((childNode) => {
            connectNode(ownerDocument, childNode);
        });
    }
    else {
        node.childNodes.forEach((childNode) => {
            childNode.ownerDocument = ownerDocument;
        });
    }
}
function fireConnectedCallback(node) {
    if (typeof node.connectedCallback === 'function') {
        if (tempDisableCallbacks.has(node.ownerDocument) === false) {
            try {
                node.connectedCallback();
            }
            catch (e) {
                console.error(e);
            }
        }
    }
}
function disconnectNode(node) {
    if (node.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */) {
        if (node.nodeName.includes('-') === true && typeof node.disconnectedCallback === 'function') {
            if (tempDisableCallbacks.has(node.ownerDocument) === false) {
                try {
                    node.disconnectedCallback();
                }
                catch (e) {
                    console.error(e);
                }
            }
        }
        node.childNodes.forEach(disconnectNode);
    }
}
function attributeChanged(node, attrName, oldValue, newValue) {
    attrName = attrName.toLowerCase();
    const observedAttributes = node.constructor.observedAttributes;
    if (Array.isArray(observedAttributes) === true &&
        observedAttributes.some((obs) => obs.toLowerCase() === attrName) === true) {
        try {
            node.attributeChangedCallback(attrName, oldValue, newValue);
        }
        catch (e) {
            console.error(e);
        }
    }
}
function checkAttributeChanged(node) {
    return node.nodeName.includes('-') === true && typeof node.attributeChangedCallback === 'function';
}
const tempDisableCallbacks = new Set();

function dataset(elm) {
    const ds = {};
    const attributes = elm.attributes;
    const attrLen = attributes.length;
    for (let i = 0; i < attrLen; i++) {
        const attr = attributes.item(i);
        const nodeName = attr.nodeName;
        if (nodeName.startsWith('data-')) {
            ds[dashToPascalCase(nodeName)] = attr.nodeValue;
        }
    }
    return new Proxy(ds, {
        get(_obj, camelCaseProp) {
            return ds[camelCaseProp];
        },
        set(_obj, camelCaseProp, value) {
            const dataAttr = toDataAttribute(camelCaseProp);
            elm.setAttribute(dataAttr, value);
            return true;
        },
    });
}
function toDataAttribute(str) {
    return ('data-' +
        String(str)
            .replace(/([A-Z0-9])/g, (g) => ' ' + g[0])
            .trim()
            .replace(/ /g, '-')
            .toLowerCase());
}
function dashToPascalCase(str) {
    str = String(str).slice(5);
    return str
        .split('-')
        .map((segment, index) => {
        if (index === 0) {
            return segment.charAt(0).toLowerCase() + segment.slice(1);
        }
        return segment.charAt(0).toUpperCase() + segment.slice(1);
    })
        .join('');
}

class MockEvent {
    constructor(type, eventInitDict) {
        this.bubbles = false;
        this.cancelBubble = false;
        this.cancelable = false;
        this.composed = false;
        this.currentTarget = null;
        this.defaultPrevented = false;
        this.srcElement = null;
        this.target = null;
        if (typeof type !== 'string') {
            throw new Error(`Event type required`);
        }
        this.type = type;
        this.timeStamp = Date.now();
        if (eventInitDict != null) {
            Object.assign(this, eventInitDict);
        }
    }
    preventDefault() {
        this.defaultPrevented = true;
    }
    stopPropagation() {
        this.cancelBubble = true;
    }
    stopImmediatePropagation() {
        this.cancelBubble = true;
    }
    composedPath() {
        const composedPath = [];
        let currentElement = this.target;
        while (currentElement) {
            composedPath.push(currentElement);
            if (!currentElement.parentElement && currentElement.nodeName === "#document" /* NODE_NAMES.DOCUMENT_NODE */) {
                // the current element doesn't have a parent, but we've detected it's our root document node. push the window
                // object associated with the document onto the path
                composedPath.push(currentElement.defaultView);
                break;
            }
            currentElement = currentElement.parentElement;
        }
        return composedPath;
    }
}
class MockCustomEvent extends MockEvent {
    constructor(type, customEventInitDic) {
        super(type);
        this.detail = null;
        if (customEventInitDic != null) {
            Object.assign(this, customEventInitDic);
        }
    }
}
class MockKeyboardEvent extends MockEvent {
    constructor(type, keyboardEventInitDic) {
        super(type);
        this.code = '';
        this.key = '';
        this.altKey = false;
        this.ctrlKey = false;
        this.metaKey = false;
        this.shiftKey = false;
        this.location = 0;
        this.repeat = false;
        if (keyboardEventInitDic != null) {
            Object.assign(this, keyboardEventInitDic);
        }
    }
}
class MockMouseEvent extends MockEvent {
    constructor(type, mouseEventInitDic) {
        super(type);
        this.screenX = 0;
        this.screenY = 0;
        this.clientX = 0;
        this.clientY = 0;
        this.ctrlKey = false;
        this.shiftKey = false;
        this.altKey = false;
        this.metaKey = false;
        this.button = 0;
        this.buttons = 0;
        this.relatedTarget = null;
        if (mouseEventInitDic != null) {
            Object.assign(this, mouseEventInitDic);
        }
    }
}
class MockUIEvent extends MockEvent {
    constructor(type, uiEventInitDic) {
        super(type);
        this.detail = null;
        this.view = null;
        if (uiEventInitDic != null) {
            Object.assign(this, uiEventInitDic);
        }
    }
}
class MockFocusEvent extends MockUIEvent {
    constructor(type, focusEventInitDic) {
        super(type);
        this.relatedTarget = null;
        if (focusEventInitDic != null) {
            Object.assign(this, focusEventInitDic);
        }
    }
}
class MockEventListener {
    constructor(type, handler) {
        this.type = type;
        this.handler = handler;
    }
}
function addEventListener(elm, type, handler) {
    const target = elm;
    if (target.__listeners == null) {
        target.__listeners = [];
    }
    target.__listeners.push(new MockEventListener(type, handler));
}
function removeEventListener(elm, type, handler) {
    const target = elm;
    if (target != null && Array.isArray(target.__listeners) === true) {
        const elmListener = target.__listeners.find((e) => e.type === type && e.handler === handler);
        if (elmListener != null) {
            const index = target.__listeners.indexOf(elmListener);
            target.__listeners.splice(index, 1);
        }
    }
}
function resetEventListeners(target) {
    if (target != null && target.__listeners != null) {
        target.__listeners = null;
    }
}
function triggerEventListener(elm, ev) {
    if (elm == null || ev.cancelBubble === true) {
        return;
    }
    const target = elm;
    ev.currentTarget = elm;
    if (Array.isArray(target.__listeners) === true) {
        const listeners = target.__listeners.filter((e) => e.type === ev.type);
        listeners.forEach((listener) => {
            try {
                listener.handler.call(target, ev);
            }
            catch (err) {
                console.error(err);
            }
        });
    }
    if (ev.bubbles === false) {
        return;
    }
    if (elm.nodeName === "#document" /* NODE_NAMES.DOCUMENT_NODE */) {
        triggerEventListener(elm.defaultView, ev);
    }
    else {
        triggerEventListener(elm.parentElement, ev);
    }
}
function dispatchEvent(currentTarget, ev) {
    ev.target = currentTarget;
    triggerEventListener(currentTarget, ev);
    return true;
}

// Parse5 7.1.2
const e=function(e){const t=new Set([65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111]),s="�";var a;!function(e){e[e.EOF=-1]="EOF",e[e.NULL=0]="NULL",e[e.TABULATION=9]="TABULATION",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.LINE_FEED=10]="LINE_FEED",e[e.FORM_FEED=12]="FORM_FEED",e[e.SPACE=32]="SPACE",e[e.EXCLAMATION_MARK=33]="EXCLAMATION_MARK",e[e.QUOTATION_MARK=34]="QUOTATION_MARK",e[e.NUMBER_SIGN=35]="NUMBER_SIGN",e[e.AMPERSAND=38]="AMPERSAND",e[e.APOSTROPHE=39]="APOSTROPHE",e[e.HYPHEN_MINUS=45]="HYPHEN_MINUS",e[e.SOLIDUS=47]="SOLIDUS",e[e.DIGIT_0=48]="DIGIT_0",e[e.DIGIT_9=57]="DIGIT_9",e[e.SEMICOLON=59]="SEMICOLON",e[e.LESS_THAN_SIGN=60]="LESS_THAN_SIGN",e[e.EQUALS_SIGN=61]="EQUALS_SIGN",e[e.GREATER_THAN_SIGN=62]="GREATER_THAN_SIGN",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.LATIN_CAPITAL_A=65]="LATIN_CAPITAL_A",e[e.LATIN_CAPITAL_F=70]="LATIN_CAPITAL_F",e[e.LATIN_CAPITAL_X=88]="LATIN_CAPITAL_X",e[e.LATIN_CAPITAL_Z=90]="LATIN_CAPITAL_Z",e[e.RIGHT_SQUARE_BRACKET=93]="RIGHT_SQUARE_BRACKET",e[e.GRAVE_ACCENT=96]="GRAVE_ACCENT",e[e.LATIN_SMALL_A=97]="LATIN_SMALL_A",e[e.LATIN_SMALL_F=102]="LATIN_SMALL_F",e[e.LATIN_SMALL_X=120]="LATIN_SMALL_X",e[e.LATIN_SMALL_Z=122]="LATIN_SMALL_Z",e[e.REPLACEMENT_CHARACTER=65533]="REPLACEMENT_CHARACTER";}(a=a||(a={}));const r="[CDATA[",n="doctype",i="script";function o(e){return e>=55296&&e<=57343}function c(e){return 32!==e&&10!==e&&13!==e&&9!==e&&12!==e&&e>=1&&e<=31||e>=127&&e<=159}function E(e){return e>=64976&&e<=65007||t.has(e)}var T,h;!function(e){e.controlCharacterInInputStream="control-character-in-input-stream",e.noncharacterInInputStream="noncharacter-in-input-stream",e.surrogateInInputStream="surrogate-in-input-stream",e.nonVoidHtmlElementStartTagWithTrailingSolidus="non-void-html-element-start-tag-with-trailing-solidus",e.endTagWithAttributes="end-tag-with-attributes",e.endTagWithTrailingSolidus="end-tag-with-trailing-solidus",e.unexpectedSolidusInTag="unexpected-solidus-in-tag",e.unexpectedNullCharacter="unexpected-null-character",e.unexpectedQuestionMarkInsteadOfTagName="unexpected-question-mark-instead-of-tag-name",e.invalidFirstCharacterOfTagName="invalid-first-character-of-tag-name",e.unexpectedEqualsSignBeforeAttributeName="unexpected-equals-sign-before-attribute-name",e.missingEndTagName="missing-end-tag-name",e.unexpectedCharacterInAttributeName="unexpected-character-in-attribute-name",e.unknownNamedCharacterReference="unknown-named-character-reference",e.missingSemicolonAfterCharacterReference="missing-semicolon-after-character-reference",e.unexpectedCharacterAfterDoctypeSystemIdentifier="unexpected-character-after-doctype-system-identifier",e.unexpectedCharacterInUnquotedAttributeValue="unexpected-character-in-unquoted-attribute-value",e.eofBeforeTagName="eof-before-tag-name",e.eofInTag="eof-in-tag",e.missingAttributeValue="missing-attribute-value",e.missingWhitespaceBetweenAttributes="missing-whitespace-between-attributes",e.missingWhitespaceAfterDoctypePublicKeyword="missing-whitespace-after-doctype-public-keyword",e.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers="missing-whitespace-between-doctype-public-and-system-identifiers",e.missingWhitespaceAfterDoctypeSystemKeyword="missing-whitespace-after-doctype-system-keyword",e.missingQuoteBeforeDoctypePublicIdentifier="missing-quote-before-doctype-public-identifier",e.missingQuoteBeforeDoctypeSystemIdentifier="missing-quote-before-doctype-system-identifier",e.missingDoctypePublicIdentifier="missing-doctype-public-identifier",e.missingDoctypeSystemIdentifier="missing-doctype-system-identifier",e.abruptDoctypePublicIdentifier="abrupt-doctype-public-identifier",e.abruptDoctypeSystemIdentifier="abrupt-doctype-system-identifier",e.cdataInHtmlContent="cdata-in-html-content",e.incorrectlyOpenedComment="incorrectly-opened-comment",e.eofInScriptHtmlCommentLikeText="eof-in-script-html-comment-like-text",e.eofInDoctype="eof-in-doctype",e.nestedComment="nested-comment",e.abruptClosingOfEmptyComment="abrupt-closing-of-empty-comment",e.eofInComment="eof-in-comment",e.incorrectlyClosedComment="incorrectly-closed-comment",e.eofInCdata="eof-in-cdata",e.absenceOfDigitsInNumericCharacterReference="absence-of-digits-in-numeric-character-reference",e.nullCharacterReference="null-character-reference",e.surrogateCharacterReference="surrogate-character-reference",e.characterReferenceOutsideUnicodeRange="character-reference-outside-unicode-range",e.controlCharacterReference="control-character-reference",e.noncharacterCharacterReference="noncharacter-character-reference",e.missingWhitespaceBeforeDoctypeName="missing-whitespace-before-doctype-name",e.missingDoctypeName="missing-doctype-name",e.invalidCharacterSequenceAfterDoctypeName="invalid-character-sequence-after-doctype-name",e.duplicateAttribute="duplicate-attribute",e.nonConformingDoctype="non-conforming-doctype",e.missingDoctype="missing-doctype",e.misplacedDoctype="misplaced-doctype",e.endTagWithoutMatchingOpenElement="end-tag-without-matching-open-element",e.closingOfElementWithOpenChildElements="closing-of-element-with-open-child-elements",e.disallowedContentInNoscriptInHead="disallowed-content-in-noscript-in-head",e.openElementsLeftAfterEof="open-elements-left-after-eof",e.abandonedHeadElementChild="abandoned-head-element-child",e.misplacedStartTagForHeadElement="misplaced-start-tag-for-head-element",e.nestedNoscriptInHead="nested-noscript-in-head",e.eofInElementThatCanContainOnlyText="eof-in-element-that-can-contain-only-text";}(T=T||(T={}));class _{constructor(e){this.handler=e,this.html="",this.pos=-1,this.lastGapPos=-2,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.line=1,this.lastErrOffset=-1;}get col(){return this.pos-this.lineStartPos+Number(this.lastGapPos!==this.pos)}get offset(){return this.droppedBufferSize+this.pos}getError(e){const{line:t,col:s,offset:a}=this;return {code:e,startLine:t,endLine:t,startCol:s,endCol:s,startOffset:a,endOffset:a}}_err(e){this.handler.onParseError&&this.lastErrOffset!==this.offset&&(this.lastErrOffset=this.offset,this.handler.onParseError(this.getError(e)));}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos;}_processSurrogate(e){if(this.pos!==this.html.length-1){const t=this.html.charCodeAt(this.pos+1);if(function(e){return e>=56320&&e<=57343}(t))return this.pos++,this._addGap(),1024*(e-55296)+9216+t}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,a.EOF;return this._err(T.surrogateInInputStream),e}willDropParsedChunk(){return this.pos>this.bufferWaterline}dropParsedChunk(){this.willDropParsedChunk()&&(this.html=this.html.substring(this.pos),this.lineStartPos-=this.pos,this.droppedBufferSize+=this.pos,this.pos=0,this.lastGapPos=-2,this.gapStack.length=0);}write(e,t){this.html.length>0?this.html+=e:this.html=e,this.endOfChunkHit=!1,this.lastChunkWritten=t;}insertHtmlAtCurrentPos(e){this.html=this.html.substring(0,this.pos+1)+e+this.html.substring(this.pos+1),this.endOfChunkHit=!1;}startsWith(e,t){if(this.pos+e.length>this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,!1;if(t)return this.html.startsWith(e,this.pos);for(let t=0;t<e.length;t++)if((32|this.html.charCodeAt(this.pos+t))!==e.charCodeAt(t))return !1;return !0}peek(e){const t=this.pos+e;if(t>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,a.EOF;const s=this.html.charCodeAt(t);return s===a.CARRIAGE_RETURN?a.LINE_FEED:s}advance(){if(this.pos++,this.isEol&&(this.isEol=!1,this.line++,this.lineStartPos=this.pos),this.pos>=this.html.length)return this.endOfChunkHit=!this.lastChunkWritten,a.EOF;let e=this.html.charCodeAt(this.pos);return e===a.CARRIAGE_RETURN?(this.isEol=!0,this.skipNextNewLine=!0,a.LINE_FEED):e===a.LINE_FEED&&(this.isEol=!0,this.skipNextNewLine)?(this.line--,this.skipNextNewLine=!1,this._addGap(),this.advance()):(this.skipNextNewLine=!1,o(e)&&(e=this._processSurrogate(e)),null===this.handler.onParseError||e>31&&e<127||e===a.LINE_FEED||e===a.CARRIAGE_RETURN||e>159&&e<64976||this._checkForProblematicCharacters(e),e)}_checkForProblematicCharacters(e){c(e)?this._err(T.controlCharacterInInputStream):E(e)&&this._err(T.noncharacterInInputStream);}retreat(e){for(this.pos-=e;this.pos<this.lastGapPos;)this.lastGapPos=this.gapStack.pop(),this.pos--;this.isEol=!1;}}function A(e,t){for(let s=e.attrs.length-1;s>=0;s--)if(e.attrs[s].name===t)return e.attrs[s].value;return null}!function(e){e[e.CHARACTER=0]="CHARACTER",e[e.NULL_CHARACTER=1]="NULL_CHARACTER",e[e.WHITESPACE_CHARACTER=2]="WHITESPACE_CHARACTER",e[e.START_TAG=3]="START_TAG",e[e.END_TAG=4]="END_TAG",e[e.COMMENT=5]="COMMENT",e[e.DOCTYPE=6]="DOCTYPE",e[e.EOF=7]="EOF",e[e.HIBERNATION=8]="HIBERNATION";}(h=h||(h={}));var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function m(e,t,s){return e(s={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&s.path)}},s.exports),s.exports}var d,p,u,N,I,C=m((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array('ᵁ<Õıʊҝջאٵ۞ޢߖࠏ੊ઑඡ๭༉༦჊ረዡᐕᒝᓃᓟᔥ\0\0\0\0\0\0ᕫᛍᦍᰒᷝ὾⁠↰⊍⏀⏻⑂⠤⤒ⴈ⹈⿎〖㊺㘹㞬㣾㨨㩱㫠㬮ࠀEMabcfglmnoprstu\\bfms¦³¹ÈÏlig耻Æ䃆P耻&䀦cute耻Á䃁reve;䄂Āiyx}rc耻Â䃂;䐐r;쀀𝔄rave耻À䃀pha;䎑acr;䄀d;橓Āgp¡on;䄄f;쀀𝔸plyFunction;恡ing耻Å䃅Ācs¾Ãr;쀀𝒜ign;扔ilde耻Ã䃃ml耻Ä䃄ЀaceforsuåûþėĜĢħĪĀcrêòkslash;或Ŷöø;櫧ed;挆y;䐑ƀcrtąċĔause;戵noullis;愬a;䎒r;쀀𝔅pf;쀀𝔹eve;䋘còēmpeq;扎܀HOacdefhilorsuōőŖƀƞƢƵƷƺǜȕɳɸɾcy;䐧PY耻©䂩ƀcpyŝŢźute;䄆Ā;iŧŨ拒talDifferentialD;慅leys;愭ȀaeioƉƎƔƘron;䄌dil耻Ç䃇rc;䄈nint;戰ot;䄊ĀdnƧƭilla;䂸terDot;䂷òſi;䎧rcleȀDMPTǇǋǑǖot;抙inus;抖lus;投imes;抗oĀcsǢǸkwiseContourIntegral;戲eCurlyĀDQȃȏoubleQuote;思uote;怙ȀlnpuȞȨɇɕonĀ;eȥȦ户;橴ƀgitȯȶȺruent;扡nt;戯ourIntegral;戮ĀfrɌɎ;愂oduct;成nterClockwiseContourIntegral;戳oss;樯cr;쀀𝒞pĀ;Cʄʅ拓ap;才րDJSZacefiosʠʬʰʴʸˋ˗ˡ˦̳ҍĀ;oŹʥtrahd;椑cy;䐂cy;䐅cy;䐏ƀgrsʿ˄ˇger;怡r;憡hv;櫤Āayː˕ron;䄎;䐔lĀ;t˝˞戇a;䎔r;쀀𝔇Āaf˫̧Ācm˰̢riticalȀADGT̖̜̀̆cute;䂴oŴ̋̍;䋙bleAcute;䋝rave;䁠ilde;䋜ond;拄ferentialD;慆Ѱ̽\0\0\0͔͂\0Ѕf;쀀𝔻ƀ;DE͈͉͍䂨ot;惜qual;扐blèCDLRUVͣͲ΂ϏϢϸontourIntegraìȹoɴ͹\0\0ͻ»͉nArrow;懓Āeo·ΤftƀARTΐΖΡrrow;懐ightArrow;懔eåˊngĀLRΫτeftĀARγιrrow;柸ightArrow;柺ightArrow;柹ightĀATϘϞrrow;懒ee;抨pɁϩ\0\0ϯrrow;懑ownArrow;懕erticalBar;戥ǹABLRTaВЪаўѿͼrrowƀ;BUНОТ憓ar;椓pArrow;懵reve;䌑eft˒к\0ц\0ѐightVector;楐eeVector;楞ectorĀ;Bљњ憽ar;楖ightǔѧ\0ѱeeVector;楟ectorĀ;BѺѻ懁ar;楗eeĀ;A҆҇护rrow;憧ĀctҒҗr;쀀𝒟rok;䄐ࠀNTacdfglmopqstuxҽӀӄӋӞӢӧӮӵԡԯԶՒ՝ՠեG;䅊H耻Ð䃐cute耻É䃉ƀaiyӒӗӜron;䄚rc耻Ê䃊;䐭ot;䄖r;쀀𝔈rave耻È䃈ement;戈ĀapӺӾcr;䄒tyɓԆ\0\0ԒmallSquare;旻erySmallSquare;斫ĀgpԦԪon;䄘f;쀀𝔼silon;䎕uĀaiԼՉlĀ;TՂՃ橵ilde;扂librium;懌Āci՗՚r;愰m;橳a;䎗ml耻Ë䃋Āipժկsts;戃onentialE;慇ʀcfiosօֈ֍ֲ׌y;䐤r;쀀𝔉lledɓ֗\0\0֣mallSquare;旼erySmallSquare;斪Ͱֺ\0ֿ\0\0ׄf;쀀𝔽All;戀riertrf;愱cò׋؀JTabcdfgorstר׬ׯ׺؀ؒؖ؛؝أ٬ٲcy;䐃耻>䀾mmaĀ;d׷׸䎓;䏜reve;䄞ƀeiy؇،ؐdil;䄢rc;䄜;䐓ot;䄠r;쀀𝔊;拙pf;쀀𝔾eater̀EFGLSTصلَٖٛ٦qualĀ;Lؾؿ扥ess;招ullEqual;执reater;檢ess;扷lantEqual;橾ilde;扳cr;쀀𝒢;扫ЀAacfiosuڅڋږڛڞڪھۊRDcy;䐪Āctڐڔek;䋇;䁞irc;䄤r;愌lbertSpace;愋ǰگ\0ڲf;愍izontalLine;攀Āctۃۅòکrok;䄦mpńېۘownHumðįqual;扏܀EJOacdfgmnostuۺ۾܃܇܎ܚܞܡܨ݄ݸދޏޕcy;䐕lig;䄲cy;䐁cute耻Í䃍Āiyܓܘrc耻Î䃎;䐘ot;䄰r;愑rave耻Ì䃌ƀ;apܠܯܿĀcgܴܷr;䄪inaryI;慈lieóϝǴ݉\0ݢĀ;eݍݎ戬Āgrݓݘral;戫section;拂isibleĀCTݬݲomma;恣imes;恢ƀgptݿރވon;䄮f;쀀𝕀a;䎙cr;愐ilde;䄨ǫޚ\0ޞcy;䐆l耻Ï䃏ʀcfosuެ޷޼߂ߐĀiyޱ޵rc;䄴;䐙r;쀀𝔍pf;쀀𝕁ǣ߇\0ߌr;쀀𝒥rcy;䐈kcy;䐄΀HJacfosߤߨ߽߬߱ࠂࠈcy;䐥cy;䐌ppa;䎚Āey߶߻dil;䄶;䐚r;쀀𝔎pf;쀀𝕂cr;쀀𝒦րJTaceflmostࠥࠩࠬࡐࡣ঳সে্਷ੇcy;䐉耻<䀼ʀcmnpr࠷࠼ࡁࡄࡍute;䄹bda;䎛g;柪lacetrf;愒r;憞ƀaeyࡗ࡜ࡡron;䄽dil;䄻;䐛Āfsࡨ॰tԀACDFRTUVarࡾࢩࢱࣦ࣠ࣼयज़ΐ४Ānrࢃ࢏gleBracket;柨rowƀ;BR࢙࢚࢞憐ar;懤ightArrow;懆eiling;挈oǵࢷ\0ࣃbleBracket;柦nǔࣈ\0࣒eeVector;楡ectorĀ;Bࣛࣜ懃ar;楙loor;挊ightĀAV࣯ࣵrrow;憔ector;楎Āerँगeƀ;AVउऊऐ抣rrow;憤ector;楚iangleƀ;BEतथऩ抲ar;槏qual;抴pƀDTVषूौownVector;楑eeVector;楠ectorĀ;Bॖॗ憿ar;楘ectorĀ;B॥०憼ar;楒ightáΜs̀EFGLSTॾঋকঝঢভqualGreater;拚ullEqual;扦reater;扶ess;檡lantEqual;橽ilde;扲r;쀀𝔏Ā;eঽা拘ftarrow;懚idot;䄿ƀnpw৔ਖਛgȀLRlr৞৷ਂਐeftĀAR০৬rrow;柵ightArrow;柷ightArrow;柶eftĀarγਊightáοightáϊf;쀀𝕃erĀLRਢਬeftArrow;憙ightArrow;憘ƀchtਾੀੂòࡌ;憰rok;䅁;扪Ѐacefiosuਗ਼੝੠੷੼અઋ઎p;椅y;䐜Ādl੥੯iumSpace;恟lintrf;愳r;쀀𝔐nusPlus;戓pf;쀀𝕄cò੶;䎜ҀJacefostuણધભીଔଙඑ඗ඞcy;䐊cute;䅃ƀaey઴હાron;䅇dil;䅅;䐝ƀgswે૰଎ativeƀMTV૓૟૨ediumSpace;怋hiĀcn૦૘ë૙eryThiî૙tedĀGL૸ଆreaterGreateòٳessLesóੈLine;䀊r;쀀𝔑ȀBnptଢନଷ଺reak;恠BreakingSpace;䂠f;愕ڀ;CDEGHLNPRSTV୕ୖ୪୼஡௫ఄ౞಄ದ೘ൡඅ櫬Āou୛୤ngruent;扢pCap;扭oubleVerticalBar;戦ƀlqxஃஊ஛ement;戉ualĀ;Tஒஓ扠ilde;쀀≂̸ists;戄reater΀;EFGLSTஶஷ஽௉௓௘௥扯qual;扱ullEqual;쀀≧̸reater;쀀≫̸ess;批lantEqual;쀀⩾̸ilde;扵umpń௲௽ownHump;쀀≎̸qual;쀀≏̸eĀfsఊధtTriangleƀ;BEచఛడ拪ar;쀀⧏̸qual;括s̀;EGLSTవశ఼ౄోౘ扮qual;扰reater;扸ess;쀀≪̸lantEqual;쀀⩽̸ilde;扴estedĀGL౨౹reaterGreater;쀀⪢̸essLess;쀀⪡̸recedesƀ;ESಒಓಛ技qual;쀀⪯̸lantEqual;拠ĀeiಫಹverseElement;戌ghtTriangleƀ;BEೋೌ೒拫ar;쀀⧐̸qual;拭ĀquೝഌuareSuĀbp೨೹setĀ;E೰ೳ쀀⊏̸qual;拢ersetĀ;Eഃആ쀀⊐̸qual;拣ƀbcpഓതൎsetĀ;Eഛഞ쀀⊂⃒qual;抈ceedsȀ;ESTലള഻െ抁qual;쀀⪰̸lantEqual;拡ilde;쀀≿̸ersetĀ;E൘൛쀀⊃⃒qual;抉ildeȀ;EFT൮൯൵ൿ扁qual;扄ullEqual;扇ilde;扉erticalBar;戤cr;쀀𝒩ilde耻Ñ䃑;䎝܀Eacdfgmoprstuvලෂ෉෕ෛ෠෧෼ขภยา฿ไlig;䅒cute耻Ó䃓Āiy෎ීrc耻Ô䃔;䐞blac;䅐r;쀀𝔒rave耻Ò䃒ƀaei෮ෲ෶cr;䅌ga;䎩cron;䎟pf;쀀𝕆enCurlyĀDQฎบoubleQuote;怜uote;怘;橔Āclวฬr;쀀𝒪ash耻Ø䃘iŬื฼de耻Õ䃕es;樷ml耻Ö䃖erĀBP๋๠Āar๐๓r;怾acĀek๚๜;揞et;掴arenthesis;揜Ҁacfhilors๿ງຊຏຒດຝະ໼rtialD;戂y;䐟r;쀀𝔓i;䎦;䎠usMinus;䂱Āipຢອncareplanåڝf;愙Ȁ;eio຺ູ໠໤檻cedesȀ;EST່້໏໚扺qual;檯lantEqual;扼ilde;找me;怳Ādp໩໮uct;戏ortionĀ;aȥ໹l;戝Āci༁༆r;쀀𝒫;䎨ȀUfos༑༖༛༟OT耻"䀢r;쀀𝔔pf;愚cr;쀀𝒬؀BEacefhiorsu༾གྷཇའཱིྦྷྪྭ႖ႩႴႾarr;椐G耻®䂮ƀcnrཎནབute;䅔g;柫rĀ;tཛྷཝ憠l;椖ƀaeyཧཬཱron;䅘dil;䅖;䐠Ā;vླྀཹ愜erseĀEUྂྙĀlq྇ྎement;戋uilibrium;懋pEquilibrium;楯r»ཹo;䎡ghtЀACDFTUVa࿁࿫࿳ဢဨၛႇϘĀnr࿆࿒gleBracket;柩rowƀ;BL࿜࿝࿡憒ar;懥eftArrow;懄eiling;按oǵ࿹\0စbleBracket;柧nǔည\0နeeVector;楝ectorĀ;Bဝသ懂ar;楕loor;挋Āerိ၃eƀ;AVဵံြ抢rrow;憦ector;楛iangleƀ;BEၐၑၕ抳ar;槐qual;抵pƀDTVၣၮၸownVector;楏eeVector;楜ectorĀ;Bႂႃ憾ar;楔ectorĀ;B႑႒懀ar;楓Āpuႛ႞f;愝ndImplies;楰ightarrow;懛ĀchႹႼr;愛;憱leDelayed;槴ڀHOacfhimoqstuფჱჷჽᄙᄞᅑᅖᅡᅧᆵᆻᆿĀCcჩხHcy;䐩y;䐨FTcy;䐬cute;䅚ʀ;aeiyᄈᄉᄎᄓᄗ檼ron;䅠dil;䅞rc;䅜;䐡r;쀀𝔖ortȀDLRUᄪᄴᄾᅉownArrow»ОeftArrow»࢚ightArrow»࿝pArrow;憑gma;䎣allCircle;战pf;쀀𝕊ɲᅭ\0\0ᅰt;戚areȀ;ISUᅻᅼᆉᆯ斡ntersection;抓uĀbpᆏᆞsetĀ;Eᆗᆘ抏qual;抑ersetĀ;Eᆨᆩ抐qual;抒nion;抔cr;쀀𝒮ar;拆ȀbcmpᇈᇛሉላĀ;sᇍᇎ拐etĀ;Eᇍᇕqual;抆ĀchᇠህeedsȀ;ESTᇭᇮᇴᇿ扻qual;檰lantEqual;扽ilde;承Tháྌ;我ƀ;esሒሓሣ拑rsetĀ;Eሜም抃qual;抇et»ሓրHRSacfhiorsሾቄ቉ቕ቞ቱቶኟዂወዑORN耻Þ䃞ADE;愢ĀHc቎ቒcy;䐋y;䐦Ābuቚቜ;䀉;䎤ƀaeyብቪቯron;䅤dil;䅢;䐢r;쀀𝔗Āeiቻ኉ǲኀ\0ኇefore;戴a;䎘Ācn኎ኘkSpace;쀀  Space;怉ldeȀ;EFTካኬኲኼ戼qual;扃ullEqual;扅ilde;扈pf;쀀𝕋ipleDot;惛Āctዖዛr;쀀𝒯rok;䅦ૡዷጎጚጦ\0ጬጱ\0\0\0\0\0ጸጽ፷ᎅ\0᏿ᐄᐊᐐĀcrዻጁute耻Ú䃚rĀ;oጇገ憟cir;楉rǣጓ\0጖y;䐎ve;䅬Āiyጞጣrc耻Û䃛;䐣blac;䅰r;쀀𝔘rave耻Ù䃙acr;䅪Ādiፁ፩erĀBPፈ፝Āarፍፐr;䁟acĀekፗፙ;揟et;掵arenthesis;揝onĀ;P፰፱拃lus;抎Āgp፻፿on;䅲f;쀀𝕌ЀADETadps᎕ᎮᎸᏄϨᏒᏗᏳrrowƀ;BDᅐᎠᎤar;椒ownArrow;懅ownArrow;憕quilibrium;楮eeĀ;AᏋᏌ报rrow;憥ownáϳerĀLRᏞᏨeftArrow;憖ightArrow;憗iĀ;lᏹᏺ䏒on;䎥ing;䅮cr;쀀𝒰ilde;䅨ml耻Ü䃜ҀDbcdefosvᐧᐬᐰᐳᐾᒅᒊᒐᒖash;披ar;櫫y;䐒ashĀ;lᐻᐼ抩;櫦Āerᑃᑅ;拁ƀbtyᑌᑐᑺar;怖Ā;iᑏᑕcalȀBLSTᑡᑥᑪᑴar;戣ine;䁼eparator;杘ilde;所ThinSpace;怊r;쀀𝔙pf;쀀𝕍cr;쀀𝒱dash;抪ʀcefosᒧᒬᒱᒶᒼirc;䅴dge;拀r;쀀𝔚pf;쀀𝕎cr;쀀𝒲Ȁfiosᓋᓐᓒᓘr;쀀𝔛;䎞pf;쀀𝕏cr;쀀𝒳ҀAIUacfosuᓱᓵᓹᓽᔄᔏᔔᔚᔠcy;䐯cy;䐇cy;䐮cute耻Ý䃝Āiyᔉᔍrc;䅶;䐫r;쀀𝔜pf;쀀𝕐cr;쀀𝒴ml;䅸ЀHacdefosᔵᔹᔿᕋᕏᕝᕠᕤcy;䐖cute;䅹Āayᕄᕉron;䅽;䐗ot;䅻ǲᕔ\0ᕛoWidtè૙a;䎖r;愨pf;愤cr;쀀𝒵௡ᖃᖊᖐ\0ᖰᖶᖿ\0\0\0\0ᗆᗛᗫᙟ᙭\0ᚕ᚛ᚲᚹ\0ᚾcute耻á䃡reve;䄃̀;Ediuyᖜᖝᖡᖣᖨᖭ戾;쀀∾̳;房rc耻â䃢te肻´̆;䐰lig耻æ䃦Ā;r²ᖺ;쀀𝔞rave耻à䃠ĀepᗊᗖĀfpᗏᗔsym;愵èᗓha;䎱ĀapᗟcĀclᗤᗧr;䄁g;樿ɤᗰ\0\0ᘊʀ;adsvᗺᗻᗿᘁᘇ戧nd;橕;橜lope;橘;橚΀;elmrszᘘᘙᘛᘞᘿᙏᙙ戠;榤e»ᘙsdĀ;aᘥᘦ戡ѡᘰᘲᘴᘶᘸᘺᘼᘾ;榨;榩;榪;榫;榬;榭;榮;榯tĀ;vᙅᙆ戟bĀ;dᙌᙍ抾;榝Āptᙔᙗh;戢»¹arr;捼Āgpᙣᙧon;䄅f;쀀𝕒΀;Eaeiop዁ᙻᙽᚂᚄᚇᚊ;橰cir;橯;扊d;手s;䀧roxĀ;e዁ᚒñᚃing耻å䃥ƀctyᚡᚦᚨr;쀀𝒶;䀪mpĀ;e዁ᚯñʈilde耻ã䃣ml耻ä䃤Āciᛂᛈoninôɲnt;樑ࠀNabcdefiklnoprsu᛭ᛱᜰ᜼ᝃᝈ᝸᝽០៦ᠹᡐᜍ᤽᥈ᥰot;櫭Ācrᛶ᜞kȀcepsᜀᜅᜍᜓong;扌psilon;䏶rime;怵imĀ;e᜚᜛戽q;拍Ŷᜢᜦee;抽edĀ;gᜬᜭ挅e»ᜭrkĀ;t፜᜷brk;掶Āoyᜁᝁ;䐱quo;怞ʀcmprtᝓ᝛ᝡᝤᝨausĀ;eĊĉptyv;榰séᜌnoõēƀahwᝯ᝱ᝳ;䎲;愶een;扬r;쀀𝔟g΀costuvwឍឝឳេ៕៛៞ƀaiuបពរðݠrc;旯p»፱ƀdptឤឨឭot;樀lus;樁imes;樂ɱឹ\0\0ើcup;樆ar;昅riangleĀdu៍្own;施p;斳plus;樄eåᑄåᒭarow;植ƀako៭ᠦᠵĀcn៲ᠣkƀlst៺֫᠂ozenge;槫riangleȀ;dlr᠒᠓᠘᠝斴own;斾eft;旂ight;斸k;搣Ʊᠫ\0ᠳƲᠯ\0ᠱ;斒;斑4;斓ck;斈ĀeoᠾᡍĀ;qᡃᡆ쀀=⃥uiv;쀀≡⃥t;挐Ȁptwxᡙᡞᡧᡬf;쀀𝕓Ā;tᏋᡣom»Ꮜtie;拈؀DHUVbdhmptuvᢅᢖᢪᢻᣗᣛᣬ᣿ᤅᤊᤐᤡȀLRlrᢎᢐᢒᢔ;敗;敔;敖;敓ʀ;DUduᢡᢢᢤᢦᢨ敐;敦;敩;敤;敧ȀLRlrᢳᢵᢷᢹ;敝;敚;敜;教΀;HLRhlrᣊᣋᣍᣏᣑᣓᣕ救;敬;散;敠;敫;敢;敟ox;槉ȀLRlrᣤᣦᣨᣪ;敕;敒;攐;攌ʀ;DUduڽ᣷᣹᣻᣽;敥;敨;攬;攴inus;抟lus;択imes;抠ȀLRlrᤙᤛᤝ᤟;敛;敘;攘;攔΀;HLRhlrᤰᤱᤳᤵᤷ᤻᤹攂;敪;敡;敞;攼;攤;攜Āevģ᥂bar耻¦䂦Ȁceioᥑᥖᥚᥠr;쀀𝒷mi;恏mĀ;e᜚᜜lƀ;bhᥨᥩᥫ䁜;槅sub;柈Ŭᥴ᥾lĀ;e᥹᥺怢t»᥺pƀ;Eeįᦅᦇ;檮Ā;qۜۛೡᦧ\0᧨ᨑᨕᨲ\0ᨷᩐ\0\0᪴\0\0᫁\0\0ᬡᬮ᭍᭒\0᯽\0ᰌƀcpr᦭ᦲ᧝ute;䄇̀;abcdsᦿᧀᧄ᧊᧕᧙戩nd;橄rcup;橉Āau᧏᧒p;橋p;橇ot;橀;쀀∩︀Āeo᧢᧥t;恁îړȀaeiu᧰᧻ᨁᨅǰ᧵\0᧸s;橍on;䄍dil耻ç䃧rc;䄉psĀ;sᨌᨍ橌m;橐ot;䄋ƀdmnᨛᨠᨦil肻¸ƭptyv;榲t脀¢;eᨭᨮ䂢räƲr;쀀𝔠ƀceiᨽᩀᩍy;䑇ckĀ;mᩇᩈ朓ark»ᩈ;䏇r΀;Ecefms᩟᩠ᩢᩫ᪤᪪᪮旋;槃ƀ;elᩩᩪᩭ䋆q;扗eɡᩴ\0\0᪈rrowĀlr᩼᪁eft;憺ight;憻ʀRSacd᪒᪔᪖᪚᪟»ཇ;擈st;抛irc;抚ash;抝nint;樐id;櫯cir;槂ubsĀ;u᪻᪼晣it»᪼ˬ᫇᫔᫺\0ᬊonĀ;eᫍᫎ䀺Ā;qÇÆɭ᫙\0\0᫢aĀ;t᫞᫟䀬;䁀ƀ;fl᫨᫩᫫戁îᅠeĀmx᫱᫶ent»᫩eóɍǧ᫾\0ᬇĀ;dኻᬂot;橭nôɆƀfryᬐᬔᬗ;쀀𝕔oäɔ脀©;sŕᬝr;愗Āaoᬥᬩrr;憵ss;朗Ācuᬲᬷr;쀀𝒸Ābpᬼ᭄Ā;eᭁᭂ櫏;櫑Ā;eᭉᭊ櫐;櫒dot;拯΀delprvw᭠᭬᭷ᮂᮬᯔ᯹arrĀlr᭨᭪;椸;椵ɰ᭲\0\0᭵r;拞c;拟arrĀ;p᭿ᮀ憶;椽̀;bcdosᮏᮐᮖᮡᮥᮨ截rcap;橈Āauᮛᮞp;橆p;橊ot;抍r;橅;쀀∪︀Ȁalrv᮵ᮿᯞᯣrrĀ;mᮼᮽ憷;椼yƀevwᯇᯔᯘqɰᯎ\0\0ᯒreã᭳uã᭵ee;拎edge;拏en耻¤䂤earrowĀlrᯮ᯳eft»ᮀight»ᮽeäᯝĀciᰁᰇoninôǷnt;戱lcty;挭ঀAHabcdefhijlorstuwz᰸᰻᰿ᱝᱩᱵᲊᲞᲬᲷ᳻᳿ᴍᵻᶑᶫᶻ᷆᷍rò΁ar;楥Ȁglrs᱈ᱍ᱒᱔ger;怠eth;愸òᄳhĀ;vᱚᱛ怐»ऊūᱡᱧarow;椏aã̕Āayᱮᱳron;䄏;䐴ƀ;ao̲ᱼᲄĀgrʿᲁr;懊tseq;橷ƀglmᲑᲔᲘ耻°䂰ta;䎴ptyv;榱ĀirᲣᲨsht;楿;쀀𝔡arĀlrᲳᲵ»ࣜ»သʀaegsv᳂͸᳖᳜᳠mƀ;oș᳊᳔ndĀ;ș᳑uit;晦amma;䏝in;拲ƀ;io᳧᳨᳸䃷de脀÷;o᳧ᳰntimes;拇nø᳷cy;䑒cɯᴆ\0\0ᴊrn;挞op;挍ʀlptuwᴘᴝᴢᵉᵕlar;䀤f;쀀𝕕ʀ;emps̋ᴭᴷᴽᵂqĀ;d͒ᴳot;扑inus;戸lus;戔quare;抡blebarwedgåúnƀadhᄮᵝᵧownarrowóᲃarpoonĀlrᵲᵶefôᲴighôᲶŢᵿᶅkaro÷གɯᶊ\0\0ᶎrn;挟op;挌ƀcotᶘᶣᶦĀryᶝᶡ;쀀𝒹;䑕l;槶rok;䄑Ādrᶰᶴot;拱iĀ;fᶺ᠖斿Āah᷀᷃ròЩaòྦangle;榦Āci᷒ᷕy;䑟grarr;柿ऀDacdefglmnopqrstuxḁḉḙḸոḼṉṡṾấắẽỡἪἷὄ὎὚ĀDoḆᴴoôᲉĀcsḎḔute耻é䃩ter;橮ȀaioyḢḧḱḶron;䄛rĀ;cḭḮ扖耻ê䃪lon;払;䑍ot;䄗ĀDrṁṅot;扒;쀀𝔢ƀ;rsṐṑṗ檚ave耻è䃨Ā;dṜṝ檖ot;檘Ȁ;ilsṪṫṲṴ檙nters;揧;愓Ā;dṹṺ檕ot;檗ƀapsẅẉẗcr;䄓tyƀ;svẒẓẕ戅et»ẓpĀ1;ẝẤĳạả;怄;怅怃ĀgsẪẬ;䅋p;怂ĀgpẴẸon;䄙f;쀀𝕖ƀalsỄỎỒrĀ;sỊị拕l;槣us;橱iƀ;lvỚớở䎵on»ớ;䏵ȀcsuvỪỳἋἣĀioữḱrc»Ḯɩỹ\0\0ỻíՈantĀglἂἆtr»ṝess»Ṻƀaeiἒ἖Ἒls;䀽st;扟vĀ;DȵἠD;橸parsl;槥ĀDaἯἳot;打rr;楱ƀcdiἾὁỸr;愯oô͒ĀahὉὋ;䎷耻ð䃰Āmrὓὗl耻ë䃫o;悬ƀcipὡὤὧl;䀡sôծĀeoὬὴctatioîՙnentialåչৡᾒ\0ᾞ\0ᾡᾧ\0\0ῆῌ\0ΐ\0ῦῪ \0 ⁚llingdotseñṄy;䑄male;晀ƀilrᾭᾳ῁lig;耀ﬃɩᾹ\0\0᾽g;耀ﬀig;耀ﬄ;쀀𝔣lig;耀ﬁlig;쀀fjƀaltῙ῜ῡt;晭ig;耀ﬂns;斱of;䆒ǰ΅\0ῳf;쀀𝕗ĀakֿῷĀ;vῼ´拔;櫙artint;樍Āao‌⁕Ācs‑⁒α‚‰‸⁅⁈\0⁐β•‥‧‪‬\0‮耻½䂽;慓耻¼䂼;慕;慙;慛Ƴ‴\0‶;慔;慖ʴ‾⁁\0\0⁃耻¾䂾;慗;慜5;慘ƶ⁌\0⁎;慚;慝8;慞l;恄wn;挢cr;쀀𝒻ࢀEabcdefgijlnorstv₂₉₟₥₰₴⃰⃵⃺⃿℃ℒℸ̗ℾ⅒↞Ā;lٍ₇;檌ƀcmpₐₕ₝ute;䇵maĀ;dₜ᳚䎳;檆reve;䄟Āiy₪₮rc;䄝;䐳ot;䄡Ȁ;lqsؾق₽⃉ƀ;qsؾٌ⃄lanô٥Ȁ;cdl٥⃒⃥⃕c;檩otĀ;o⃜⃝檀Ā;l⃢⃣檂;檄Ā;e⃪⃭쀀⋛︀s;檔r;쀀𝔤Ā;gٳ؛mel;愷cy;䑓Ȁ;Eajٚℌℎℐ;檒;檥;檤ȀEaesℛℝ℩ℴ;扩pĀ;p℣ℤ檊rox»ℤĀ;q℮ℯ檈Ā;q℮ℛim;拧pf;쀀𝕘Āci⅃ⅆr;愊mƀ;el٫ⅎ⅐;檎;檐茀>;cdlqr׮ⅠⅪⅮⅳⅹĀciⅥⅧ;檧r;橺ot;拗Par;榕uest;橼ʀadelsↄⅪ←ٖ↛ǰ↉\0↎proø₞r;楸qĀlqؿ↖lesó₈ií٫Āen↣↭rtneqq;쀀≩︀Å↪ԀAabcefkosy⇄⇇⇱⇵⇺∘∝∯≨≽ròΠȀilmr⇐⇔⇗⇛rsðᒄf»․ilôکĀdr⇠⇤cy;䑊ƀ;cwࣴ⇫⇯ir;楈;憭ar;意irc;䄥ƀalr∁∎∓rtsĀ;u∉∊晥it»∊lip;怦con;抹r;쀀𝔥sĀew∣∩arow;椥arow;椦ʀamopr∺∾≃≞≣rr;懿tht;戻kĀlr≉≓eftarrow;憩ightarrow;憪f;쀀𝕙bar;怕ƀclt≯≴≸r;쀀𝒽asè⇴rok;䄧Ābp⊂⊇ull;恃hen»ᱛૡ⊣\0⊪\0⊸⋅⋎\0⋕⋳\0\0⋸⌢⍧⍢⍿\0⎆⎪⎴cute耻í䃭ƀ;iyݱ⊰⊵rc耻î䃮;䐸Ācx⊼⊿y;䐵cl耻¡䂡ĀfrΟ⋉;쀀𝔦rave耻ì䃬Ȁ;inoܾ⋝⋩⋮Āin⋢⋦nt;樌t;戭fin;槜ta;愩lig;䄳ƀaop⋾⌚⌝ƀcgt⌅⌈⌗r;䄫ƀelpܟ⌏⌓inåގarôܠh;䄱f;抷ed;䆵ʀ;cfotӴ⌬⌱⌽⍁are;愅inĀ;t⌸⌹戞ie;槝doô⌙ʀ;celpݗ⍌⍐⍛⍡al;抺Āgr⍕⍙eróᕣã⍍arhk;樗rod;樼Ȁcgpt⍯⍲⍶⍻y;䑑on;䄯f;쀀𝕚a;䎹uest耻¿䂿Āci⎊⎏r;쀀𝒾nʀ;EdsvӴ⎛⎝⎡ӳ;拹ot;拵Ā;v⎦⎧拴;拳Ā;iݷ⎮lde;䄩ǫ⎸\0⎼cy;䑖l耻ï䃯̀cfmosu⏌⏗⏜⏡⏧⏵Āiy⏑⏕rc;䄵;䐹r;쀀𝔧ath;䈷pf;쀀𝕛ǣ⏬\0⏱r;쀀𝒿rcy;䑘kcy;䑔Ѐacfghjos␋␖␢␧␭␱␵␻ppaĀ;v␓␔䎺;䏰Āey␛␠dil;䄷;䐺r;쀀𝔨reen;䄸cy;䑅cy;䑜pf;쀀𝕜cr;쀀𝓀஀ABEHabcdefghjlmnoprstuv⑰⒁⒆⒍⒑┎┽╚▀♎♞♥♹♽⚚⚲⛘❝❨➋⟀⠁⠒ƀart⑷⑺⑼rò৆òΕail;椛arr;椎Ā;gঔ⒋;檋ar;楢ॣ⒥\0⒪\0⒱\0\0\0\0\0⒵Ⓔ\0ⓆⓈⓍ\0⓹ute;䄺mptyv;榴raîࡌbda;䎻gƀ;dlࢎⓁⓃ;榑åࢎ;檅uo耻«䂫rЀ;bfhlpst࢙ⓞⓦⓩ⓫⓮⓱⓵Ā;f࢝ⓣs;椟s;椝ë≒p;憫l;椹im;楳l;憢ƀ;ae⓿─┄檫il;椙Ā;s┉┊檭;쀀⪭︀ƀabr┕┙┝rr;椌rk;杲Āak┢┬cĀek┨┪;䁻;䁛Āes┱┳;榋lĀdu┹┻;榏;榍Ȁaeuy╆╋╖╘ron;䄾Ādi═╔il;䄼ìࢰâ┩;䐻Ȁcqrs╣╦╭╽a;椶uoĀ;rนᝆĀdu╲╷har;楧shar;楋h;憲ʀ;fgqs▋▌উ◳◿扤tʀahlrt▘▤▷◂◨rrowĀ;t࢙□aé⓶arpoonĀdu▯▴own»њp»०eftarrows;懇ightƀahs◍◖◞rrowĀ;sࣴࢧarpoonó྘quigarro÷⇰hreetimes;拋ƀ;qs▋ও◺lanôবʀ;cdgsব☊☍☝☨c;檨otĀ;o☔☕橿Ā;r☚☛檁;檃Ā;e☢☥쀀⋚︀s;檓ʀadegs☳☹☽♉♋pproøⓆot;拖qĀgq♃♅ôউgtò⒌ôছiíলƀilr♕࣡♚sht;楼;쀀𝔩Ā;Eজ♣;檑š♩♶rĀdu▲♮Ā;l॥♳;楪lk;斄cy;䑙ʀ;achtੈ⚈⚋⚑⚖rò◁orneòᴈard;楫ri;旺Āio⚟⚤dot;䅀ustĀ;a⚬⚭掰che»⚭ȀEaes⚻⚽⛉⛔;扨pĀ;p⛃⛄檉rox»⛄Ā;q⛎⛏檇Ā;q⛎⚻im;拦Ѐabnoptwz⛩⛴⛷✚✯❁❇❐Ānr⛮⛱g;柬r;懽rëࣁgƀlmr⛿✍✔eftĀar০✇ightá৲apsto;柼ightá৽parrowĀlr✥✩efô⓭ight;憬ƀafl✶✹✽r;榅;쀀𝕝us;樭imes;樴š❋❏st;戗áፎƀ;ef❗❘᠀旊nge»❘arĀ;l❤❥䀨t;榓ʀachmt❳❶❼➅➇ròࢨorneòᶌarĀ;d྘➃;業;怎ri;抿̀achiqt➘➝ੀ➢➮➻quo;怹r;쀀𝓁mƀ;egল➪➬;檍;檏Ābu┪➳oĀ;rฟ➹;怚rok;䅂萀<;cdhilqrࠫ⟒☹⟜⟠⟥⟪⟰Āci⟗⟙;檦r;橹reå◲mes;拉arr;楶uest;橻ĀPi⟵⟹ar;榖ƀ;ef⠀भ᠛旃rĀdu⠇⠍shar;楊har;楦Āen⠗⠡rtneqq;쀀≨︀Å⠞܀Dacdefhilnopsu⡀⡅⢂⢎⢓⢠⢥⢨⣚⣢⣤ઃ⣳⤂Dot;戺Ȁclpr⡎⡒⡣⡽r耻¯䂯Āet⡗⡙;時Ā;e⡞⡟朠se»⡟Ā;sျ⡨toȀ;dluျ⡳⡷⡻owîҌefôएðᏑker;斮Āoy⢇⢌mma;権;䐼ash;怔asuredangle»ᘦr;쀀𝔪o;愧ƀcdn⢯⢴⣉ro耻µ䂵Ȁ;acdᑤ⢽⣀⣄sôᚧir;櫰ot肻·Ƶusƀ;bd⣒ᤃ⣓戒Ā;uᴼ⣘;横ţ⣞⣡p;櫛ò−ðઁĀdp⣩⣮els;抧f;쀀𝕞Āct⣸⣽r;쀀𝓂pos»ᖝƀ;lm⤉⤊⤍䎼timap;抸ఀGLRVabcdefghijlmoprstuvw⥂⥓⥾⦉⦘⧚⧩⨕⨚⩘⩝⪃⪕⪤⪨⬄⬇⭄⭿⮮ⰴⱧⱼ⳩Āgt⥇⥋;쀀⋙̸Ā;v⥐௏쀀≫⃒ƀelt⥚⥲⥶ftĀar⥡⥧rrow;懍ightarrow;懎;쀀⋘̸Ā;v⥻ే쀀≪⃒ightarrow;懏ĀDd⦎⦓ash;抯ash;抮ʀbcnpt⦣⦧⦬⦱⧌la»˞ute;䅄g;쀀∠⃒ʀ;Eiop඄⦼⧀⧅⧈;쀀⩰̸d;쀀≋̸s;䅉roø඄urĀ;a⧓⧔普lĀ;s⧓ସǳ⧟\0⧣p肻 ଷmpĀ;e௹ఀʀaeouy⧴⧾⨃⨐⨓ǰ⧹\0⧻;橃on;䅈dil;䅆ngĀ;dൾ⨊ot;쀀⩭̸p;橂;䐽ash;怓΀;Aadqsxஒ⨩⨭⨻⩁⩅⩐rr;懗rĀhr⨳⨶k;椤Ā;oᏲᏰot;쀀≐̸uiöୣĀei⩊⩎ar;椨í஘istĀ;s஠டr;쀀𝔫ȀEest௅⩦⩹⩼ƀ;qs஼⩭௡ƀ;qs஼௅⩴lanô௢ií௪Ā;rஶ⪁»ஷƀAap⪊⪍⪑rò⥱rr;憮ar;櫲ƀ;svྍ⪜ྌĀ;d⪡⪢拼;拺cy;䑚΀AEadest⪷⪺⪾⫂⫅⫶⫹rò⥦;쀀≦̸rr;憚r;急Ȁ;fqs఻⫎⫣⫯tĀar⫔⫙rro÷⫁ightarro÷⪐ƀ;qs఻⪺⫪lanôౕĀ;sౕ⫴»శiíౝĀ;rవ⫾iĀ;eచథiäඐĀpt⬌⬑f;쀀𝕟膀¬;in⬙⬚⬶䂬nȀ;Edvஉ⬤⬨⬮;쀀⋹̸ot;쀀⋵̸ǡஉ⬳⬵;拷;拶iĀ;vಸ⬼ǡಸ⭁⭃;拾;拽ƀaor⭋⭣⭩rȀ;ast୻⭕⭚⭟lleì୻l;쀀⫽⃥;쀀∂̸lint;樔ƀ;ceಒ⭰⭳uåಥĀ;cಘ⭸Ā;eಒ⭽ñಘȀAait⮈⮋⮝⮧rò⦈rrƀ;cw⮔⮕⮙憛;쀀⤳̸;쀀↝̸ghtarrow»⮕riĀ;eೋೖ΀chimpqu⮽⯍⯙⬄୸⯤⯯Ȁ;cerല⯆ഷ⯉uå൅;쀀𝓃ortɭ⬅\0\0⯖ará⭖mĀ;e൮⯟Ā;q൴൳suĀbp⯫⯭å೸åഋƀbcp⯶ⰑⰙȀ;Ees⯿ⰀഢⰄ抄;쀀⫅̸etĀ;eഛⰋqĀ;qണⰀcĀ;eലⰗñസȀ;EesⰢⰣൟⰧ抅;쀀⫆̸etĀ;e൘ⰮqĀ;qൠⰣȀgilrⰽⰿⱅⱇìௗlde耻ñ䃱çృiangleĀlrⱒⱜeftĀ;eచⱚñదightĀ;eೋⱥñ೗Ā;mⱬⱭ䎽ƀ;esⱴⱵⱹ䀣ro;愖p;怇ҀDHadgilrsⲏⲔⲙⲞⲣⲰⲶⳓⳣash;抭arr;椄p;쀀≍⃒ash;抬ĀetⲨⲬ;쀀≥⃒;쀀>⃒nfin;槞ƀAetⲽⳁⳅrr;椂;쀀≤⃒Ā;rⳊⳍ쀀<⃒ie;쀀⊴⃒ĀAtⳘⳜrr;椃rie;쀀⊵⃒im;쀀∼⃒ƀAan⳰⳴ⴂrr;懖rĀhr⳺⳽k;椣Ā;oᏧᏥear;椧ቓ᪕\0\0\0\0\0\0\0\0\0\0\0\0\0ⴭ\0ⴸⵈⵠⵥ⵲ⶄᬇ\0\0ⶍⶫ\0ⷈⷎ\0ⷜ⸙⸫⸾⹃Ācsⴱ᪗ute耻ó䃳ĀiyⴼⵅrĀ;c᪞ⵂ耻ô䃴;䐾ʀabios᪠ⵒⵗǈⵚlac;䅑v;樸old;榼lig;䅓Ācr⵩⵭ir;榿;쀀𝔬ͯ⵹\0\0⵼\0ⶂn;䋛ave耻ò䃲;槁Ābmⶈ෴ar;榵Ȁacitⶕ⶘ⶥⶨrò᪀Āir⶝ⶠr;榾oss;榻nå๒;槀ƀaeiⶱⶵⶹcr;䅍ga;䏉ƀcdnⷀⷅǍron;䎿;榶pf;쀀𝕠ƀaelⷔ⷗ǒr;榷rp;榹΀;adiosvⷪⷫⷮ⸈⸍⸐⸖戨rò᪆Ȁ;efmⷷⷸ⸂⸅橝rĀ;oⷾⷿ愴f»ⷿ耻ª䂪耻º䂺gof;抶r;橖lope;橗;橛ƀclo⸟⸡⸧ò⸁ash耻ø䃸l;折iŬⸯ⸴de耻õ䃵esĀ;aǛ⸺s;樶ml耻ö䃶bar;挽ૡ⹞\0⹽\0⺀⺝\0⺢⺹\0\0⻋ຜ\0⼓\0\0⼫⾼\0⿈rȀ;astЃ⹧⹲຅脀¶;l⹭⹮䂶leìЃɩ⹸\0\0⹻m;櫳;櫽y;䐿rʀcimpt⺋⺏⺓ᡥ⺗nt;䀥od;䀮il;怰enk;怱r;쀀𝔭ƀimo⺨⺰⺴Ā;v⺭⺮䏆;䏕maô੶ne;明ƀ;tv⺿⻀⻈䏀chfork»´;䏖Āau⻏⻟nĀck⻕⻝kĀ;h⇴⻛;愎ö⇴sҀ;abcdemst⻳⻴ᤈ⻹⻽⼄⼆⼊⼎䀫cir;樣ir;樢Āouᵀ⼂;樥;橲n肻±ຝim;樦wo;樧ƀipu⼙⼠⼥ntint;樕f;쀀𝕡nd耻£䂣Ԁ;Eaceinosu່⼿⽁⽄⽇⾁⾉⾒⽾⾶;檳p;檷uå໙Ā;c໎⽌̀;acens່⽙⽟⽦⽨⽾pproø⽃urlyeñ໙ñ໎ƀaes⽯⽶⽺pprox;檹qq;檵im;拨iíໟmeĀ;s⾈ຮ怲ƀEas⽸⾐⽺ð⽵ƀdfp໬⾙⾯ƀals⾠⾥⾪lar;挮ine;挒urf;挓Ā;t໻⾴ï໻rel;抰Āci⿀⿅r;쀀𝓅;䏈ncsp;怈̀fiopsu⿚⋢⿟⿥⿫⿱r;쀀𝔮pf;쀀𝕢rime;恗cr;쀀𝓆ƀaeo⿸〉〓tĀei⿾々rnionóڰnt;樖stĀ;e【】䀿ñἙô༔઀ABHabcdefhilmnoprstux぀けさすムㄎㄫㅇㅢㅲㆎ㈆㈕㈤㈩㉘㉮㉲㊐㊰㊷ƀartぇおがròႳòϝail;検aròᱥar;楤΀cdenqrtとふへみわゔヌĀeuねぱ;쀀∽̱te;䅕iãᅮmptyv;榳gȀ;del࿑らるろ;榒;榥å࿑uo耻»䂻rր;abcfhlpstw࿜ガクシスゼゾダッデナp;極Ā;f࿠ゴs;椠;椳s;椞ë≝ð✮l;楅im;楴l;憣;憝Āaiパフil;椚oĀ;nホボ戶aló༞ƀabrョリヮrò៥rk;杳ĀakンヽcĀekヹ・;䁽;䁝Āes㄂㄄;榌lĀduㄊㄌ;榎;榐Ȁaeuyㄗㄜㄧㄩron;䅙Ādiㄡㄥil;䅗ì࿲âヺ;䑀Ȁclqsㄴㄷㄽㅄa;椷dhar;楩uoĀ;rȎȍh;憳ƀacgㅎㅟངlȀ;ipsླྀㅘㅛႜnåႻarôྩt;断ƀilrㅩဣㅮsht;楽;쀀𝔯ĀaoㅷㆆrĀduㅽㅿ»ѻĀ;l႑ㆄ;楬Ā;vㆋㆌ䏁;䏱ƀgns㆕ㇹㇼht̀ahlrstㆤㆰ㇂㇘㇤㇮rrowĀ;t࿜ㆭaéトarpoonĀduㆻㆿowîㅾp»႒eftĀah㇊㇐rrowó࿪arpoonóՑightarrows;應quigarro÷ニhreetimes;拌g;䋚ingdotseñἲƀahm㈍㈐㈓rò࿪aòՑ;怏oustĀ;a㈞㈟掱che»㈟mid;櫮Ȁabpt㈲㈽㉀㉒Ānr㈷㈺g;柭r;懾rëဃƀafl㉇㉊㉎r;榆;쀀𝕣us;樮imes;樵Āap㉝㉧rĀ;g㉣㉤䀩t;榔olint;樒arò㇣Ȁachq㉻㊀Ⴜ㊅quo;怺r;쀀𝓇Ābu・㊊oĀ;rȔȓƀhir㊗㊛㊠reåㇸmes;拊iȀ;efl㊪ၙᠡ㊫方tri;槎luhar;楨;愞ൡ㋕㋛㋟㌬㌸㍱\0㍺㎤\0\0㏬㏰\0㐨㑈㑚㒭㒱㓊㓱\0㘖\0\0㘳cute;䅛quï➺Ԁ;Eaceinpsyᇭ㋳㋵㋿㌂㌋㌏㌟㌦㌩;檴ǰ㋺\0㋼;檸on;䅡uåᇾĀ;dᇳ㌇il;䅟rc;䅝ƀEas㌖㌘㌛;檶p;檺im;择olint;樓iíሄ;䑁otƀ;be㌴ᵇ㌵担;橦΀Aacmstx㍆㍊㍗㍛㍞㍣㍭rr;懘rĀhr㍐㍒ë∨Ā;oਸ਼਴t耻§䂧i;䀻war;椩mĀin㍩ðnuóñt;朶rĀ;o㍶⁕쀀𝔰Ȁacoy㎂㎆㎑㎠rp;景Āhy㎋㎏cy;䑉;䑈rtɭ㎙\0\0㎜iäᑤaraì⹯耻­䂭Āgm㎨㎴maƀ;fv㎱㎲㎲䏃;䏂Ѐ;deglnprካ㏅㏉㏎㏖㏞㏡㏦ot;橪Ā;q኱ኰĀ;E㏓㏔檞;檠Ā;E㏛㏜檝;檟e;扆lus;樤arr;楲aròᄽȀaeit㏸㐈㐏㐗Āls㏽㐄lsetmé㍪hp;樳parsl;槤Ādlᑣ㐔e;挣Ā;e㐜㐝檪Ā;s㐢㐣檬;쀀⪬︀ƀflp㐮㐳㑂tcy;䑌Ā;b㐸㐹䀯Ā;a㐾㐿槄r;挿f;쀀𝕤aĀdr㑍ЂesĀ;u㑔㑕晠it»㑕ƀcsu㑠㑹㒟Āau㑥㑯pĀ;sᆈ㑫;쀀⊓︀pĀ;sᆴ㑵;쀀⊔︀uĀbp㑿㒏ƀ;esᆗᆜ㒆etĀ;eᆗ㒍ñᆝƀ;esᆨᆭ㒖etĀ;eᆨ㒝ñᆮƀ;afᅻ㒦ְrť㒫ֱ»ᅼaròᅈȀcemt㒹㒾㓂㓅r;쀀𝓈tmîñiì㐕aræᆾĀar㓎㓕rĀ;f㓔ឿ昆Āan㓚㓭ightĀep㓣㓪psiloîỠhé⺯s»⡒ʀbcmnp㓻㕞ሉ㖋㖎Ҁ;Edemnprs㔎㔏㔑㔕㔞㔣㔬㔱㔶抂;櫅ot;檽Ā;dᇚ㔚ot;櫃ult;櫁ĀEe㔨㔪;櫋;把lus;檿arr;楹ƀeiu㔽㕒㕕tƀ;en㔎㕅㕋qĀ;qᇚ㔏eqĀ;q㔫㔨m;櫇Ābp㕚㕜;櫕;櫓c̀;acensᇭ㕬㕲㕹㕻㌦pproø㋺urlyeñᇾñᇳƀaes㖂㖈㌛pproø㌚qñ㌗g;晪ڀ123;Edehlmnps㖩㖬㖯ሜ㖲㖴㗀㗉㗕㗚㗟㗨㗭耻¹䂹耻²䂲耻³䂳;櫆Āos㖹㖼t;檾ub;櫘Ā;dሢ㗅ot;櫄sĀou㗏㗒l;柉b;櫗arr;楻ult;櫂ĀEe㗤㗦;櫌;抋lus;櫀ƀeiu㗴㘉㘌tƀ;enሜ㗼㘂qĀ;qሢ㖲eqĀ;q㗧㗤m;櫈Ābp㘑㘓;櫔;櫖ƀAan㘜㘠㘭rr;懙rĀhr㘦㘨ë∮Ā;oਫ਩war;椪lig耻ß䃟௡㙑㙝㙠ዎ㙳㙹\0㙾㛂\0\0\0\0\0㛛㜃\0㜉㝬\0\0\0㞇ɲ㙖\0\0㙛get;挖;䏄rë๟ƀaey㙦㙫㙰ron;䅥dil;䅣;䑂lrec;挕r;쀀𝔱Ȁeiko㚆㚝㚵㚼ǲ㚋\0㚑eĀ4fኄኁaƀ;sv㚘㚙㚛䎸ym;䏑Ācn㚢㚲kĀas㚨㚮pproø዁im»ኬsðኞĀas㚺㚮ð዁rn耻þ䃾Ǭ̟㛆⋧es膀×;bd㛏㛐㛘䃗Ā;aᤏ㛕r;樱;樰ƀeps㛡㛣㜀á⩍Ȁ;bcf҆㛬㛰㛴ot;挶ir;櫱Ā;o㛹㛼쀀𝕥rk;櫚á㍢rime;怴ƀaip㜏㜒㝤dåቈ΀adempst㜡㝍㝀㝑㝗㝜㝟ngleʀ;dlqr㜰㜱㜶㝀㝂斵own»ᶻeftĀ;e⠀㜾ñम;扜ightĀ;e㊪㝋ñၚot;旬inus;樺lus;樹b;槍ime;樻ezium;揢ƀcht㝲㝽㞁Āry㝷㝻;쀀𝓉;䑆cy;䑛rok;䅧Āio㞋㞎xô᝷headĀlr㞗㞠eftarro÷ࡏightarrow»ཝऀAHabcdfghlmoprstuw㟐㟓㟗㟤㟰㟼㠎㠜㠣㠴㡑㡝㡫㢩㣌㣒㣪㣶ròϭar;楣Ācr㟜㟢ute耻ú䃺òᅐrǣ㟪\0㟭y;䑞ve;䅭Āiy㟵㟺rc耻û䃻;䑃ƀabh㠃㠆㠋ròᎭlac;䅱aòᏃĀir㠓㠘sht;楾;쀀𝔲rave耻ù䃹š㠧㠱rĀlr㠬㠮»ॗ»ႃlk;斀Āct㠹㡍ɯ㠿\0\0㡊rnĀ;e㡅㡆挜r»㡆op;挏ri;旸Āal㡖㡚cr;䅫肻¨͉Āgp㡢㡦on;䅳f;쀀𝕦̀adhlsuᅋ㡸㡽፲㢑㢠ownáᎳarpoonĀlr㢈㢌efô㠭ighô㠯iƀ;hl㢙㢚㢜䏅»ᏺon»㢚parrows;懈ƀcit㢰㣄㣈ɯ㢶\0\0㣁rnĀ;e㢼㢽挝r»㢽op;挎ng;䅯ri;旹cr;쀀𝓊ƀdir㣙㣝㣢ot;拰lde;䅩iĀ;f㜰㣨»᠓Āam㣯㣲rò㢨l耻ü䃼angle;榧ހABDacdeflnoprsz㤜㤟㤩㤭㦵㦸㦽㧟㧤㧨㧳㧹㧽㨁㨠ròϷarĀ;v㤦㤧櫨;櫩asèϡĀnr㤲㤷grt;榜΀eknprst㓣㥆㥋㥒㥝㥤㦖appá␕othinçẖƀhir㓫⻈㥙opô⾵Ā;hᎷ㥢ïㆍĀiu㥩㥭gmá㎳Ābp㥲㦄setneqĀ;q㥽㦀쀀⊊︀;쀀⫋︀setneqĀ;q㦏㦒쀀⊋︀;쀀⫌︀Āhr㦛㦟etá㚜iangleĀlr㦪㦯eft»थight»ၑy;䐲ash»ံƀelr㧄㧒㧗ƀ;beⷪ㧋㧏ar;抻q;扚lip;拮Ābt㧜ᑨaòᑩr;쀀𝔳tré㦮suĀbp㧯㧱»ജ»൙pf;쀀𝕧roð໻tré㦴Ācu㨆㨋r;쀀𝓋Ābp㨐㨘nĀEe㦀㨖»㥾nĀEe㦒㨞»㦐igzag;榚΀cefoprs㨶㨻㩖㩛㩔㩡㩪irc;䅵Ādi㩀㩑Ābg㩅㩉ar;機eĀ;qᗺ㩏;扙erp;愘r;쀀𝔴pf;쀀𝕨Ā;eᑹ㩦atèᑹcr;쀀𝓌ૣណ㪇\0㪋\0㪐㪛\0\0㪝㪨㪫㪯\0\0㫃㫎\0㫘ៜ៟tré៑r;쀀𝔵ĀAa㪔㪗ròσrò৶;䎾ĀAa㪡㪤ròθrò৫að✓is;拻ƀdptឤ㪵㪾Āfl㪺ឩ;쀀𝕩imåឲĀAa㫇㫊ròώròਁĀcq㫒ីr;쀀𝓍Āpt៖㫜ré។Ѐacefiosu㫰㫽㬈㬌㬑㬕㬛㬡cĀuy㫶㫻te耻ý䃽;䑏Āiy㬂㬆rc;䅷;䑋n耻¥䂥r;쀀𝔶cy;䑗pf;쀀𝕪cr;쀀𝓎Ācm㬦㬩y;䑎l耻ÿ䃿Ԁacdefhiosw㭂㭈㭔㭘㭤㭩㭭㭴㭺㮀cute;䅺Āay㭍㭒ron;䅾;䐷ot;䅼Āet㭝㭡træᕟa;䎶r;쀀𝔷cy;䐶grarr;懝pf;쀀𝕫cr;쀀𝓏Ājn㮅㮇;怍j;怌'.split("").map((function(e){return e.charCodeAt(0)})));})),S=m((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=new Uint16Array("Ȁaglq\tɭ\0\0p;䀦os;䀧t;䀾t;䀼uot;䀢".split("").map((function(e){return e.charCodeAt(0)})));})),D=m((function(e,t){var s;Object.defineProperty(t,"__esModule",{value:!0}),t.replaceCodePoint=t.fromCodePoint=void 0;var a=new Map([[0,65533],[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);function r(e){var t;return e>=55296&&e<=57343||e>1114111?65533:null!==(t=a.get(e))&&void 0!==t?t:e}t.fromCodePoint=null!==(s=String.fromCodePoint)&&void 0!==s?s:function(e){var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)},t.replaceCodePoint=r,t.default=function(e){return (0, t.fromCodePoint)(r(e))};})),R=m((function(e,t){var s=l&&l.__createBinding||(Object.create?function(e,t,s,a){void 0===a&&(a=s);var r=Object.getOwnPropertyDescriptor(t,s);r&&!("get"in r?!t.__esModule:r.writable||r.configurable)||(r={enumerable:!0,get:function(){return t[s]}}),Object.defineProperty(e,a,r);}:function(e,t,s,a){void 0===a&&(a=s),e[a]=t[s];}),a=l&&l.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t});}:function(e,t){e.default=t;}),r=l&&l.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&s(t,e,r);return a(t,e),t},n=l&&l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeXML=t.decodeHTMLStrict=t.decodeHTMLAttribute=t.decodeHTML=t.determineBranch=t.EntityDecoder=t.DecodingMode=t.BinTrieFlags=t.fromCodePoint=t.replaceCodePoint=t.decodeCodePoint=t.xmlDecodeTree=t.htmlDecodeTree=void 0;var i=n(C);t.htmlDecodeTree=i.default;var o=n(S);t.xmlDecodeTree=o.default;var c=r(D);t.decodeCodePoint=c.default;var E,T,h,_,A=D;function m(e){return e>=E.ZERO&&e<=E.NINE}Object.defineProperty(t,"replaceCodePoint",{enumerable:!0,get:function(){return A.replaceCodePoint}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return A.fromCodePoint}}),function(e){e[e.NUM=35]="NUM",e[e.SEMI=59]="SEMI",e[e.EQUALS=61]="EQUALS",e[e.ZERO=48]="ZERO",e[e.NINE=57]="NINE",e[e.LOWER_A=97]="LOWER_A",e[e.LOWER_F=102]="LOWER_F",e[e.LOWER_X=120]="LOWER_X",e[e.LOWER_Z=122]="LOWER_Z",e[e.UPPER_A=65]="UPPER_A",e[e.UPPER_F=70]="UPPER_F",e[e.UPPER_Z=90]="UPPER_Z";}(E||(E={})),function(e){e[e.VALUE_LENGTH=49152]="VALUE_LENGTH",e[e.BRANCH_LENGTH=16256]="BRANCH_LENGTH",e[e.JUMP_TABLE=127]="JUMP_TABLE";}(T=t.BinTrieFlags||(t.BinTrieFlags={})),function(e){e[e.EntityStart=0]="EntityStart",e[e.NumericStart=1]="NumericStart",e[e.NumericDecimal=2]="NumericDecimal",e[e.NumericHex=3]="NumericHex",e[e.NamedEntity=4]="NamedEntity";}(h||(h={})),function(e){e[e.Legacy=0]="Legacy",e[e.Strict=1]="Strict",e[e.Attribute=2]="Attribute";}(_=t.DecodingMode||(t.DecodingMode={}));var d=function(){function e(e,t,s){this.decodeTree=e,this.emitCodePoint=t,this.errors=s,this.state=h.EntityStart,this.consumed=1,this.result=0,this.treeIndex=0,this.excess=1,this.decodeMode=_.Strict;}return e.prototype.startEntity=function(e){this.decodeMode=e,this.state=h.EntityStart,this.result=0,this.treeIndex=0,this.excess=1,this.consumed=1;},e.prototype.write=function(e,t){switch(this.state){case h.EntityStart:return e.charCodeAt(t)===E.NUM?(this.state=h.NumericStart,this.consumed+=1,this.stateNumericStart(e,t+1)):(this.state=h.NamedEntity,this.stateNamedEntity(e,t));case h.NumericStart:return this.stateNumericStart(e,t);case h.NumericDecimal:return this.stateNumericDecimal(e,t);case h.NumericHex:return this.stateNumericHex(e,t);case h.NamedEntity:return this.stateNamedEntity(e,t)}},e.prototype.stateNumericStart=function(e,t){return t>=e.length?-1:(32|e.charCodeAt(t))===E.LOWER_X?(this.state=h.NumericHex,this.consumed+=1,this.stateNumericHex(e,t+1)):(this.state=h.NumericDecimal,this.stateNumericDecimal(e,t))},e.prototype.addToNumericResult=function(e,t,s,a){if(t!==s){var r=s-t;this.result=this.result*Math.pow(a,r)+parseInt(e.substr(t,r),a),this.consumed+=r;}},e.prototype.stateNumericHex=function(e,t){for(var s,a=t;t<e.length;){var r=e.charCodeAt(t);if(!(m(r)||(s=r,s>=E.UPPER_A&&s<=E.UPPER_F||s>=E.LOWER_A&&s<=E.LOWER_F)))return this.addToNumericResult(e,a,t,16),this.emitNumericEntity(r,3);t+=1;}return this.addToNumericResult(e,a,t,16),-1},e.prototype.stateNumericDecimal=function(e,t){for(var s=t;t<e.length;){var a=e.charCodeAt(t);if(!m(a))return this.addToNumericResult(e,s,t,10),this.emitNumericEntity(a,2);t+=1;}return this.addToNumericResult(e,s,t,10),-1},e.prototype.emitNumericEntity=function(e,t){var s;if(this.consumed<=t)return null===(s=this.errors)||void 0===s||s.absenceOfDigitsInNumericCharacterReference(this.consumed),0;if(e===E.SEMI)this.consumed+=1;else if(this.decodeMode===_.Strict)return 0;return this.emitCodePoint((0, c.replaceCodePoint)(this.result),this.consumed),this.errors&&(e!==E.SEMI&&this.errors.missingSemicolonAfterCharacterReference(),this.errors.validateNumericCharacterReference(this.result)),this.consumed},e.prototype.stateNamedEntity=function(e,t){for(var s=this.decodeTree,a=s[this.treeIndex],r=(a&T.VALUE_LENGTH)>>14;t<e.length;t++,this.excess++){var n=e.charCodeAt(t);if(this.treeIndex=u(s,a,this.treeIndex+Math.max(1,r),n),this.treeIndex<0)return 0===this.result||this.decodeMode===_.Attribute&&(0===r||((i=n)===E.EQUALS||function(e){return e>=E.UPPER_A&&e<=E.UPPER_Z||e>=E.LOWER_A&&e<=E.LOWER_Z||m(e)}(i)))?0:this.emitNotTerminatedNamedEntity();if(0!=(r=((a=s[this.treeIndex])&T.VALUE_LENGTH)>>14)){if(n===E.SEMI)return this.emitNamedEntityData(this.treeIndex,r,this.consumed+this.excess);this.decodeMode!==_.Strict&&(this.result=this.treeIndex,this.consumed+=this.excess,this.excess=0);}}var i;return -1},e.prototype.emitNotTerminatedNamedEntity=function(){var e,t=this.result,s=(this.decodeTree[t]&T.VALUE_LENGTH)>>14;return this.emitNamedEntityData(t,s,this.consumed),null===(e=this.errors)||void 0===e||e.missingSemicolonAfterCharacterReference(),this.consumed},e.prototype.emitNamedEntityData=function(e,t,s){var a=this.decodeTree;return this.emitCodePoint(1===t?a[e]&~T.VALUE_LENGTH:a[e+1],s),3===t&&this.emitCodePoint(a[e+2],s),s},e.prototype.end=function(){var e;switch(this.state){case h.NamedEntity:return 0===this.result||this.decodeMode===_.Attribute&&this.result!==this.treeIndex?0:this.emitNotTerminatedNamedEntity();case h.NumericDecimal:return this.emitNumericEntity(0,2);case h.NumericHex:return this.emitNumericEntity(0,3);case h.NumericStart:return null===(e=this.errors)||void 0===e||e.absenceOfDigitsInNumericCharacterReference(this.consumed),0;case h.EntityStart:return 0}},e}();function p(e){var t="",s=new d(e,(function(e){return t+=(0, c.fromCodePoint)(e)}));return function(e,a){for(var r=0,n=0;(n=e.indexOf("&",n))>=0;){t+=e.slice(r,n),s.startEntity(a);var i=s.write(e,n+1);if(i<0){r=n+s.end();break}r=n+i,n=0===i?r+1:r;}var o=t+e.slice(r);return t="",o}}function u(e,t,s,a){var r=(t&T.BRANCH_LENGTH)>>7,n=t&T.JUMP_TABLE;if(0===r)return 0!==n&&a===n?s:-1;if(n){var i=a-n;return i<0||i>=r?-1:e[s+i]-1}for(var o=s,c=o+r-1;o<=c;){var E=o+c>>>1,h=e[E];if(h<a)o=E+1;else {if(!(h>a))return e[E+r];c=E-1;}}return -1}t.EntityDecoder=d,t.determineBranch=u;var N=p(i.default),I=p(o.default);t.decodeHTML=function(e,t){return void 0===t&&(t=_.Legacy),N(e,t)},t.decodeHTMLAttribute=function(e){return N(e,_.Attribute)},t.decodeHTMLStrict=function(e){return N(e,_.Strict)},t.decodeXML=function(e){return I(e,_.Strict)};}));!function(e){e.HTML="http://www.w3.org/1999/xhtml",e.MATHML="http://www.w3.org/1998/Math/MathML",e.SVG="http://www.w3.org/2000/svg",e.XLINK="http://www.w3.org/1999/xlink",e.XML="http://www.w3.org/XML/1998/namespace",e.XMLNS="http://www.w3.org/2000/xmlns/";}(d=d||(d={})),function(e){e.TYPE="type",e.ACTION="action",e.ENCODING="encoding",e.PROMPT="prompt",e.NAME="name",e.COLOR="color",e.FACE="face",e.SIZE="size";}(p=p||(p={})),function(e){e.NO_QUIRKS="no-quirks",e.QUIRKS="quirks",e.LIMITED_QUIRKS="limited-quirks";}(u=u||(u={})),function(e){e.A="a",e.ADDRESS="address",e.ANNOTATION_XML="annotation-xml",e.APPLET="applet",e.AREA="area",e.ARTICLE="article",e.ASIDE="aside",e.B="b",e.BASE="base",e.BASEFONT="basefont",e.BGSOUND="bgsound",e.BIG="big",e.BLOCKQUOTE="blockquote",e.BODY="body",e.BR="br",e.BUTTON="button",e.CAPTION="caption",e.CENTER="center",e.CODE="code",e.COL="col",e.COLGROUP="colgroup",e.DD="dd",e.DESC="desc",e.DETAILS="details",e.DIALOG="dialog",e.DIR="dir",e.DIV="div",e.DL="dl",e.DT="dt",e.EM="em",e.EMBED="embed",e.FIELDSET="fieldset",e.FIGCAPTION="figcaption",e.FIGURE="figure",e.FONT="font",e.FOOTER="footer",e.FOREIGN_OBJECT="foreignObject",e.FORM="form",e.FRAME="frame",e.FRAMESET="frameset",e.H1="h1",e.H2="h2",e.H3="h3",e.H4="h4",e.H5="h5",e.H6="h6",e.HEAD="head",e.HEADER="header",e.HGROUP="hgroup",e.HR="hr",e.HTML="html",e.I="i",e.IMG="img",e.IMAGE="image",e.INPUT="input",e.IFRAME="iframe",e.KEYGEN="keygen",e.LABEL="label",e.LI="li",e.LINK="link",e.LISTING="listing",e.MAIN="main",e.MALIGNMARK="malignmark",e.MARQUEE="marquee",e.MATH="math",e.MENU="menu",e.META="meta",e.MGLYPH="mglyph",e.MI="mi",e.MO="mo",e.MN="mn",e.MS="ms",e.MTEXT="mtext",e.NAV="nav",e.NOBR="nobr",e.NOFRAMES="noframes",e.NOEMBED="noembed",e.NOSCRIPT="noscript",e.OBJECT="object",e.OL="ol",e.OPTGROUP="optgroup",e.OPTION="option",e.P="p",e.PARAM="param",e.PLAINTEXT="plaintext",e.PRE="pre",e.RB="rb",e.RP="rp",e.RT="rt",e.RTC="rtc",e.RUBY="ruby",e.S="s",e.SCRIPT="script",e.SECTION="section",e.SELECT="select",e.SOURCE="source",e.SMALL="small",e.SPAN="span",e.STRIKE="strike",e.STRONG="strong",e.STYLE="style",e.SUB="sub",e.SUMMARY="summary",e.SUP="sup",e.TABLE="table",e.TBODY="tbody",e.TEMPLATE="template",e.TEXTAREA="textarea",e.TFOOT="tfoot",e.TD="td",e.TH="th",e.THEAD="thead",e.TITLE="title",e.TR="tr",e.TRACK="track",e.TT="tt",e.U="u",e.UL="ul",e.SVG="svg",e.VAR="var",e.WBR="wbr",e.XMP="xmp";}(N=N||(N={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.A=1]="A",e[e.ADDRESS=2]="ADDRESS",e[e.ANNOTATION_XML=3]="ANNOTATION_XML",e[e.APPLET=4]="APPLET",e[e.AREA=5]="AREA",e[e.ARTICLE=6]="ARTICLE",e[e.ASIDE=7]="ASIDE",e[e.B=8]="B",e[e.BASE=9]="BASE",e[e.BASEFONT=10]="BASEFONT",e[e.BGSOUND=11]="BGSOUND",e[e.BIG=12]="BIG",e[e.BLOCKQUOTE=13]="BLOCKQUOTE",e[e.BODY=14]="BODY",e[e.BR=15]="BR",e[e.BUTTON=16]="BUTTON",e[e.CAPTION=17]="CAPTION",e[e.CENTER=18]="CENTER",e[e.CODE=19]="CODE",e[e.COL=20]="COL",e[e.COLGROUP=21]="COLGROUP",e[e.DD=22]="DD",e[e.DESC=23]="DESC",e[e.DETAILS=24]="DETAILS",e[e.DIALOG=25]="DIALOG",e[e.DIR=26]="DIR",e[e.DIV=27]="DIV",e[e.DL=28]="DL",e[e.DT=29]="DT",e[e.EM=30]="EM",e[e.EMBED=31]="EMBED",e[e.FIELDSET=32]="FIELDSET",e[e.FIGCAPTION=33]="FIGCAPTION",e[e.FIGURE=34]="FIGURE",e[e.FONT=35]="FONT",e[e.FOOTER=36]="FOOTER",e[e.FOREIGN_OBJECT=37]="FOREIGN_OBJECT",e[e.FORM=38]="FORM",e[e.FRAME=39]="FRAME",e[e.FRAMESET=40]="FRAMESET",e[e.H1=41]="H1",e[e.H2=42]="H2",e[e.H3=43]="H3",e[e.H4=44]="H4",e[e.H5=45]="H5",e[e.H6=46]="H6",e[e.HEAD=47]="HEAD",e[e.HEADER=48]="HEADER",e[e.HGROUP=49]="HGROUP",e[e.HR=50]="HR",e[e.HTML=51]="HTML",e[e.I=52]="I",e[e.IMG=53]="IMG",e[e.IMAGE=54]="IMAGE",e[e.INPUT=55]="INPUT",e[e.IFRAME=56]="IFRAME",e[e.KEYGEN=57]="KEYGEN",e[e.LABEL=58]="LABEL",e[e.LI=59]="LI",e[e.LINK=60]="LINK",e[e.LISTING=61]="LISTING",e[e.MAIN=62]="MAIN",e[e.MALIGNMARK=63]="MALIGNMARK",e[e.MARQUEE=64]="MARQUEE",e[e.MATH=65]="MATH",e[e.MENU=66]="MENU",e[e.META=67]="META",e[e.MGLYPH=68]="MGLYPH",e[e.MI=69]="MI",e[e.MO=70]="MO",e[e.MN=71]="MN",e[e.MS=72]="MS",e[e.MTEXT=73]="MTEXT",e[e.NAV=74]="NAV",e[e.NOBR=75]="NOBR",e[e.NOFRAMES=76]="NOFRAMES",e[e.NOEMBED=77]="NOEMBED",e[e.NOSCRIPT=78]="NOSCRIPT",e[e.OBJECT=79]="OBJECT",e[e.OL=80]="OL",e[e.OPTGROUP=81]="OPTGROUP",e[e.OPTION=82]="OPTION",e[e.P=83]="P",e[e.PARAM=84]="PARAM",e[e.PLAINTEXT=85]="PLAINTEXT",e[e.PRE=86]="PRE",e[e.RB=87]="RB",e[e.RP=88]="RP",e[e.RT=89]="RT",e[e.RTC=90]="RTC",e[e.RUBY=91]="RUBY",e[e.S=92]="S",e[e.SCRIPT=93]="SCRIPT",e[e.SECTION=94]="SECTION",e[e.SELECT=95]="SELECT",e[e.SOURCE=96]="SOURCE",e[e.SMALL=97]="SMALL",e[e.SPAN=98]="SPAN",e[e.STRIKE=99]="STRIKE",e[e.STRONG=100]="STRONG",e[e.STYLE=101]="STYLE",e[e.SUB=102]="SUB",e[e.SUMMARY=103]="SUMMARY",e[e.SUP=104]="SUP",e[e.TABLE=105]="TABLE",e[e.TBODY=106]="TBODY",e[e.TEMPLATE=107]="TEMPLATE",e[e.TEXTAREA=108]="TEXTAREA",e[e.TFOOT=109]="TFOOT",e[e.TD=110]="TD",e[e.TH=111]="TH",e[e.THEAD=112]="THEAD",e[e.TITLE=113]="TITLE",e[e.TR=114]="TR",e[e.TRACK=115]="TRACK",e[e.TT=116]="TT",e[e.U=117]="U",e[e.UL=118]="UL",e[e.SVG=119]="SVG",e[e.VAR=120]="VAR",e[e.WBR=121]="WBR",e[e.XMP=122]="XMP";}(I=I||(I={}));const O=new Map([[N.A,I.A],[N.ADDRESS,I.ADDRESS],[N.ANNOTATION_XML,I.ANNOTATION_XML],[N.APPLET,I.APPLET],[N.AREA,I.AREA],[N.ARTICLE,I.ARTICLE],[N.ASIDE,I.ASIDE],[N.B,I.B],[N.BASE,I.BASE],[N.BASEFONT,I.BASEFONT],[N.BGSOUND,I.BGSOUND],[N.BIG,I.BIG],[N.BLOCKQUOTE,I.BLOCKQUOTE],[N.BODY,I.BODY],[N.BR,I.BR],[N.BUTTON,I.BUTTON],[N.CAPTION,I.CAPTION],[N.CENTER,I.CENTER],[N.CODE,I.CODE],[N.COL,I.COL],[N.COLGROUP,I.COLGROUP],[N.DD,I.DD],[N.DESC,I.DESC],[N.DETAILS,I.DETAILS],[N.DIALOG,I.DIALOG],[N.DIR,I.DIR],[N.DIV,I.DIV],[N.DL,I.DL],[N.DT,I.DT],[N.EM,I.EM],[N.EMBED,I.EMBED],[N.FIELDSET,I.FIELDSET],[N.FIGCAPTION,I.FIGCAPTION],[N.FIGURE,I.FIGURE],[N.FONT,I.FONT],[N.FOOTER,I.FOOTER],[N.FOREIGN_OBJECT,I.FOREIGN_OBJECT],[N.FORM,I.FORM],[N.FRAME,I.FRAME],[N.FRAMESET,I.FRAMESET],[N.H1,I.H1],[N.H2,I.H2],[N.H3,I.H3],[N.H4,I.H4],[N.H5,I.H5],[N.H6,I.H6],[N.HEAD,I.HEAD],[N.HEADER,I.HEADER],[N.HGROUP,I.HGROUP],[N.HR,I.HR],[N.HTML,I.HTML],[N.I,I.I],[N.IMG,I.IMG],[N.IMAGE,I.IMAGE],[N.INPUT,I.INPUT],[N.IFRAME,I.IFRAME],[N.KEYGEN,I.KEYGEN],[N.LABEL,I.LABEL],[N.LI,I.LI],[N.LINK,I.LINK],[N.LISTING,I.LISTING],[N.MAIN,I.MAIN],[N.MALIGNMARK,I.MALIGNMARK],[N.MARQUEE,I.MARQUEE],[N.MATH,I.MATH],[N.MENU,I.MENU],[N.META,I.META],[N.MGLYPH,I.MGLYPH],[N.MI,I.MI],[N.MO,I.MO],[N.MN,I.MN],[N.MS,I.MS],[N.MTEXT,I.MTEXT],[N.NAV,I.NAV],[N.NOBR,I.NOBR],[N.NOFRAMES,I.NOFRAMES],[N.NOEMBED,I.NOEMBED],[N.NOSCRIPT,I.NOSCRIPT],[N.OBJECT,I.OBJECT],[N.OL,I.OL],[N.OPTGROUP,I.OPTGROUP],[N.OPTION,I.OPTION],[N.P,I.P],[N.PARAM,I.PARAM],[N.PLAINTEXT,I.PLAINTEXT],[N.PRE,I.PRE],[N.RB,I.RB],[N.RP,I.RP],[N.RT,I.RT],[N.RTC,I.RTC],[N.RUBY,I.RUBY],[N.S,I.S],[N.SCRIPT,I.SCRIPT],[N.SECTION,I.SECTION],[N.SELECT,I.SELECT],[N.SOURCE,I.SOURCE],[N.SMALL,I.SMALL],[N.SPAN,I.SPAN],[N.STRIKE,I.STRIKE],[N.STRONG,I.STRONG],[N.STYLE,I.STYLE],[N.SUB,I.SUB],[N.SUMMARY,I.SUMMARY],[N.SUP,I.SUP],[N.TABLE,I.TABLE],[N.TBODY,I.TBODY],[N.TEMPLATE,I.TEMPLATE],[N.TEXTAREA,I.TEXTAREA],[N.TFOOT,I.TFOOT],[N.TD,I.TD],[N.TH,I.TH],[N.THEAD,I.THEAD],[N.TITLE,I.TITLE],[N.TR,I.TR],[N.TRACK,I.TRACK],[N.TT,I.TT],[N.U,I.U],[N.UL,I.UL],[N.SVG,I.SVG],[N.VAR,I.VAR],[N.WBR,I.WBR],[N.XMP,I.XMP]]);function f(e){var t;return null!==(t=O.get(e))&&void 0!==t?t:I.UNKNOWN}const L=I,M={[d.HTML]:new Set([L.ADDRESS,L.APPLET,L.AREA,L.ARTICLE,L.ASIDE,L.BASE,L.BASEFONT,L.BGSOUND,L.BLOCKQUOTE,L.BODY,L.BR,L.BUTTON,L.CAPTION,L.CENTER,L.COL,L.COLGROUP,L.DD,L.DETAILS,L.DIR,L.DIV,L.DL,L.DT,L.EMBED,L.FIELDSET,L.FIGCAPTION,L.FIGURE,L.FOOTER,L.FORM,L.FRAME,L.FRAMESET,L.H1,L.H2,L.H3,L.H4,L.H5,L.H6,L.HEAD,L.HEADER,L.HGROUP,L.HR,L.HTML,L.IFRAME,L.IMG,L.INPUT,L.LI,L.LINK,L.LISTING,L.MAIN,L.MARQUEE,L.MENU,L.META,L.NAV,L.NOEMBED,L.NOFRAMES,L.NOSCRIPT,L.OBJECT,L.OL,L.P,L.PARAM,L.PLAINTEXT,L.PRE,L.SCRIPT,L.SECTION,L.SELECT,L.SOURCE,L.STYLE,L.SUMMARY,L.TABLE,L.TBODY,L.TD,L.TEMPLATE,L.TEXTAREA,L.TFOOT,L.TH,L.THEAD,L.TITLE,L.TR,L.TRACK,L.UL,L.WBR,L.XMP]),[d.MATHML]:new Set([L.MI,L.MO,L.MN,L.MS,L.MTEXT,L.ANNOTATION_XML]),[d.SVG]:new Set([L.TITLE,L.FOREIGN_OBJECT,L.DESC]),[d.XLINK]:new Set,[d.XML]:new Set,[d.XMLNS]:new Set};function g(e){return e===L.H1||e===L.H2||e===L.H3||e===L.H4||e===L.H5||e===L.H6}new Set([N.STYLE,N.SCRIPT,N.XMP,N.IFRAME,N.NOEMBED,N.NOFRAMES,N.PLAINTEXT]);const P=new Map([[128,8364],[130,8218],[131,402],[132,8222],[133,8230],[134,8224],[135,8225],[136,710],[137,8240],[138,352],[139,8249],[140,338],[142,381],[145,8216],[146,8217],[147,8220],[148,8221],[149,8226],[150,8211],[151,8212],[152,732],[153,8482],[154,353],[155,8250],[156,339],[158,382],[159,376]]);var k;!function(e){e[e.DATA=0]="DATA",e[e.RCDATA=1]="RCDATA",e[e.RAWTEXT=2]="RAWTEXT",e[e.SCRIPT_DATA=3]="SCRIPT_DATA",e[e.PLAINTEXT=4]="PLAINTEXT",e[e.TAG_OPEN=5]="TAG_OPEN",e[e.END_TAG_OPEN=6]="END_TAG_OPEN",e[e.TAG_NAME=7]="TAG_NAME",e[e.RCDATA_LESS_THAN_SIGN=8]="RCDATA_LESS_THAN_SIGN",e[e.RCDATA_END_TAG_OPEN=9]="RCDATA_END_TAG_OPEN",e[e.RCDATA_END_TAG_NAME=10]="RCDATA_END_TAG_NAME",e[e.RAWTEXT_LESS_THAN_SIGN=11]="RAWTEXT_LESS_THAN_SIGN",e[e.RAWTEXT_END_TAG_OPEN=12]="RAWTEXT_END_TAG_OPEN",e[e.RAWTEXT_END_TAG_NAME=13]="RAWTEXT_END_TAG_NAME",e[e.SCRIPT_DATA_LESS_THAN_SIGN=14]="SCRIPT_DATA_LESS_THAN_SIGN",e[e.SCRIPT_DATA_END_TAG_OPEN=15]="SCRIPT_DATA_END_TAG_OPEN",e[e.SCRIPT_DATA_END_TAG_NAME=16]="SCRIPT_DATA_END_TAG_NAME",e[e.SCRIPT_DATA_ESCAPE_START=17]="SCRIPT_DATA_ESCAPE_START",e[e.SCRIPT_DATA_ESCAPE_START_DASH=18]="SCRIPT_DATA_ESCAPE_START_DASH",e[e.SCRIPT_DATA_ESCAPED=19]="SCRIPT_DATA_ESCAPED",e[e.SCRIPT_DATA_ESCAPED_DASH=20]="SCRIPT_DATA_ESCAPED_DASH",e[e.SCRIPT_DATA_ESCAPED_DASH_DASH=21]="SCRIPT_DATA_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN=22]="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_OPEN=23]="SCRIPT_DATA_ESCAPED_END_TAG_OPEN",e[e.SCRIPT_DATA_ESCAPED_END_TAG_NAME=24]="SCRIPT_DATA_ESCAPED_END_TAG_NAME",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_START=25]="SCRIPT_DATA_DOUBLE_ESCAPE_START",e[e.SCRIPT_DATA_DOUBLE_ESCAPED=26]="SCRIPT_DATA_DOUBLE_ESCAPED",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH=27]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH=28]="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH",e[e.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN=29]="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN",e[e.SCRIPT_DATA_DOUBLE_ESCAPE_END=30]="SCRIPT_DATA_DOUBLE_ESCAPE_END",e[e.BEFORE_ATTRIBUTE_NAME=31]="BEFORE_ATTRIBUTE_NAME",e[e.ATTRIBUTE_NAME=32]="ATTRIBUTE_NAME",e[e.AFTER_ATTRIBUTE_NAME=33]="AFTER_ATTRIBUTE_NAME",e[e.BEFORE_ATTRIBUTE_VALUE=34]="BEFORE_ATTRIBUTE_VALUE",e[e.ATTRIBUTE_VALUE_DOUBLE_QUOTED=35]="ATTRIBUTE_VALUE_DOUBLE_QUOTED",e[e.ATTRIBUTE_VALUE_SINGLE_QUOTED=36]="ATTRIBUTE_VALUE_SINGLE_QUOTED",e[e.ATTRIBUTE_VALUE_UNQUOTED=37]="ATTRIBUTE_VALUE_UNQUOTED",e[e.AFTER_ATTRIBUTE_VALUE_QUOTED=38]="AFTER_ATTRIBUTE_VALUE_QUOTED",e[e.SELF_CLOSING_START_TAG=39]="SELF_CLOSING_START_TAG",e[e.BOGUS_COMMENT=40]="BOGUS_COMMENT",e[e.MARKUP_DECLARATION_OPEN=41]="MARKUP_DECLARATION_OPEN",e[e.COMMENT_START=42]="COMMENT_START",e[e.COMMENT_START_DASH=43]="COMMENT_START_DASH",e[e.COMMENT=44]="COMMENT",e[e.COMMENT_LESS_THAN_SIGN=45]="COMMENT_LESS_THAN_SIGN",e[e.COMMENT_LESS_THAN_SIGN_BANG=46]="COMMENT_LESS_THAN_SIGN_BANG",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH=47]="COMMENT_LESS_THAN_SIGN_BANG_DASH",e[e.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH=48]="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH",e[e.COMMENT_END_DASH=49]="COMMENT_END_DASH",e[e.COMMENT_END=50]="COMMENT_END",e[e.COMMENT_END_BANG=51]="COMMENT_END_BANG",e[e.DOCTYPE=52]="DOCTYPE",e[e.BEFORE_DOCTYPE_NAME=53]="BEFORE_DOCTYPE_NAME",e[e.DOCTYPE_NAME=54]="DOCTYPE_NAME",e[e.AFTER_DOCTYPE_NAME=55]="AFTER_DOCTYPE_NAME",e[e.AFTER_DOCTYPE_PUBLIC_KEYWORD=56]="AFTER_DOCTYPE_PUBLIC_KEYWORD",e[e.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER=57]="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER",e[e.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED=58]="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED=59]="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_PUBLIC_IDENTIFIER=60]="AFTER_DOCTYPE_PUBLIC_IDENTIFIER",e[e.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS=61]="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS",e[e.AFTER_DOCTYPE_SYSTEM_KEYWORD=62]="AFTER_DOCTYPE_SYSTEM_KEYWORD",e[e.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER=63]="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER",e[e.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED=64]="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED",e[e.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED=65]="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED",e[e.AFTER_DOCTYPE_SYSTEM_IDENTIFIER=66]="AFTER_DOCTYPE_SYSTEM_IDENTIFIER",e[e.BOGUS_DOCTYPE=67]="BOGUS_DOCTYPE",e[e.CDATA_SECTION=68]="CDATA_SECTION",e[e.CDATA_SECTION_BRACKET=69]="CDATA_SECTION_BRACKET",e[e.CDATA_SECTION_END=70]="CDATA_SECTION_END",e[e.CHARACTER_REFERENCE=71]="CHARACTER_REFERENCE",e[e.NAMED_CHARACTER_REFERENCE=72]="NAMED_CHARACTER_REFERENCE",e[e.AMBIGUOUS_AMPERSAND=73]="AMBIGUOUS_AMPERSAND",e[e.NUMERIC_CHARACTER_REFERENCE=74]="NUMERIC_CHARACTER_REFERENCE",e[e.HEXADEMICAL_CHARACTER_REFERENCE_START=75]="HEXADEMICAL_CHARACTER_REFERENCE_START",e[e.HEXADEMICAL_CHARACTER_REFERENCE=76]="HEXADEMICAL_CHARACTER_REFERENCE",e[e.DECIMAL_CHARACTER_REFERENCE=77]="DECIMAL_CHARACTER_REFERENCE",e[e.NUMERIC_CHARACTER_REFERENCE_END=78]="NUMERIC_CHARACTER_REFERENCE_END";}(k||(k={}));const b={DATA:k.DATA,RCDATA:k.RCDATA,RAWTEXT:k.RAWTEXT,SCRIPT_DATA:k.SCRIPT_DATA,PLAINTEXT:k.PLAINTEXT,CDATA_SECTION:k.CDATA_SECTION};function B(e){return e>=a.DIGIT_0&&e<=a.DIGIT_9}function H(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_Z}function F(e){return function(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_Z}(e)||H(e)}function U(e){return F(e)||B(e)}function y(e){return e>=a.LATIN_CAPITAL_A&&e<=a.LATIN_CAPITAL_F}function G(e){return e>=a.LATIN_SMALL_A&&e<=a.LATIN_SMALL_F}function w(e){return e+32}function x(e){return e===a.SPACE||e===a.LINE_FEED||e===a.TABULATION||e===a.FORM_FEED}function Y(e){return x(e)||e===a.SOLIDUS||e===a.GREATER_THAN_SIGN}class v{constructor(e,t){this.options=e,this.handler=t,this.paused=!1,this.inLoop=!1,this.inForeignNode=!1,this.lastStartTagName="",this.active=!1,this.state=k.DATA,this.returnState=k.DATA,this.charRefCode=-1,this.consumedAfterSnapshot=-1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr={name:"",value:""},this.preprocessor=new _(t),this.currentLocation=this.getCurrentLocation(-1);}_err(e){var t,s;null===(s=(t=this.handler).onParseError)||void 0===s||s.call(t,this.preprocessor.getError(e));}getCurrentLocation(e){return this.options.sourceCodeLocationInfo?{startLine:this.preprocessor.line,startCol:this.preprocessor.col-e,startOffset:this.preprocessor.offset-e,endLine:-1,endCol:-1,endOffset:-1}:null}_runParsingLoop(){if(!this.inLoop){for(this.inLoop=!0;this.active&&!this.paused;){this.consumedAfterSnapshot=0;const e=this._consume();this._ensureHibernation()||this._callState(e);}this.inLoop=!1;}}pause(){this.paused=!0;}resume(e){if(!this.paused)throw new Error("Parser was already resumed");this.paused=!1,this.inLoop||(this._runParsingLoop(),this.paused||null==e||e());}write(e,t,s){this.active=!0,this.preprocessor.write(e,t),this._runParsingLoop(),this.paused||null==s||s();}insertHtmlAtCurrentPos(e){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(e),this._runParsingLoop();}_ensureHibernation(){return !!this.preprocessor.endOfChunkHit&&(this._unconsume(this.consumedAfterSnapshot),this.active=!1,!0)}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(e){this.consumedAfterSnapshot-=e,this.preprocessor.retreat(e);}_reconsumeInState(e,t){this.state=e,this._callState(t);}_advanceBy(e){this.consumedAfterSnapshot+=e;for(let t=0;t<e;t++)this.preprocessor.advance();}_consumeSequenceIfMatch(e,t){return !!this.preprocessor.startsWith(e,t)&&(this._advanceBy(e.length-1),!0)}_createStartTagToken(){this.currentToken={type:h.START_TAG,tagName:"",tagID:I.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(1)};}_createEndTagToken(){this.currentToken={type:h.END_TAG,tagName:"",tagID:I.UNKNOWN,selfClosing:!1,ackSelfClosing:!1,attrs:[],location:this.getCurrentLocation(2)};}_createCommentToken(e){this.currentToken={type:h.COMMENT,data:"",location:this.getCurrentLocation(e)};}_createDoctypeToken(e){this.currentToken={type:h.DOCTYPE,name:e,forceQuirks:!1,publicId:null,systemId:null,location:this.currentLocation};}_createCharacterToken(e,t){this.currentCharacterToken={type:e,chars:t,location:this.currentLocation};}_createAttr(e){this.currentAttr={name:e,value:""},this.currentLocation=this.getCurrentLocation(0);}_leaveAttrName(){var e,t;const s=this.currentToken;null===A(s,this.currentAttr.name)?(s.attrs.push(this.currentAttr),s.location&&this.currentLocation&&((null!==(e=(t=s.location).attrs)&&void 0!==e?e:t.attrs=Object.create(null))[this.currentAttr.name]=this.currentLocation,this._leaveAttrValue())):this._err(T.duplicateAttribute);}_leaveAttrValue(){this.currentLocation&&(this.currentLocation.endLine=this.preprocessor.line,this.currentLocation.endCol=this.preprocessor.col,this.currentLocation.endOffset=this.preprocessor.offset);}prepareToken(e){this._emitCurrentCharacterToken(e.location),this.currentToken=null,e.location&&(e.location.endLine=this.preprocessor.line,e.location.endCol=this.preprocessor.col+1,e.location.endOffset=this.preprocessor.offset+1),this.currentLocation=this.getCurrentLocation(-1);}emitCurrentTagToken(){const e=this.currentToken;this.prepareToken(e),e.tagID=f(e.tagName),e.type===h.START_TAG?(this.lastStartTagName=e.tagName,this.handler.onStartTag(e)):(e.attrs.length>0&&this._err(T.endTagWithAttributes),e.selfClosing&&this._err(T.endTagWithTrailingSolidus),this.handler.onEndTag(e)),this.preprocessor.dropParsedChunk();}emitCurrentComment(e){this.prepareToken(e),this.handler.onComment(e),this.preprocessor.dropParsedChunk();}emitCurrentDoctype(e){this.prepareToken(e),this.handler.onDoctype(e),this.preprocessor.dropParsedChunk();}_emitCurrentCharacterToken(e){if(this.currentCharacterToken){switch(e&&this.currentCharacterToken.location&&(this.currentCharacterToken.location.endLine=e.startLine,this.currentCharacterToken.location.endCol=e.startCol,this.currentCharacterToken.location.endOffset=e.startOffset),this.currentCharacterToken.type){case h.CHARACTER:this.handler.onCharacter(this.currentCharacterToken);break;case h.NULL_CHARACTER:this.handler.onNullCharacter(this.currentCharacterToken);break;case h.WHITESPACE_CHARACTER:this.handler.onWhitespaceCharacter(this.currentCharacterToken);}this.currentCharacterToken=null;}}_emitEOFToken(){const e=this.getCurrentLocation(0);e&&(e.endLine=e.startLine,e.endCol=e.startCol,e.endOffset=e.startOffset),this._emitCurrentCharacterToken(e),this.handler.onEof({type:h.EOF,location:e}),this.active=!1;}_appendCharToCurrentCharacterToken(e,t){if(this.currentCharacterToken){if(this.currentCharacterToken.type===e)return void(this.currentCharacterToken.chars+=t);this.currentLocation=this.getCurrentLocation(0),this._emitCurrentCharacterToken(this.currentLocation),this.preprocessor.dropParsedChunk();}this._createCharacterToken(e,t);}_emitCodePoint(e){const t=x(e)?h.WHITESPACE_CHARACTER:e===a.NULL?h.NULL_CHARACTER:h.CHARACTER;this._appendCharToCurrentCharacterToken(t,String.fromCodePoint(e));}_emitChars(e){this._appendCharToCurrentCharacterToken(h.CHARACTER,e);}_matchNamedCharacterReference(e){let t=null,s=0,r=!1;for(let i=0,o=R.htmlDecodeTree[0];i>=0&&(i=R.determineBranch(R.htmlDecodeTree,o,i+1,e),!(i<0));e=this._consume()){s+=1,o=R.htmlDecodeTree[i];const c=o&R.BinTrieFlags.VALUE_LENGTH;if(c){const o=(c>>14)-1;if(e!==a.SEMICOLON&&this._isCharacterReferenceInAttribute()&&((n=this.preprocessor.peek(1))===a.EQUALS_SIGN||U(n))?(t=[a.AMPERSAND],i+=o):(t=0===o?[R.htmlDecodeTree[i]&~R.BinTrieFlags.VALUE_LENGTH]:1===o?[R.htmlDecodeTree[++i]]:[R.htmlDecodeTree[++i],R.htmlDecodeTree[++i]],s=0,r=e!==a.SEMICOLON),0===o){this._consume();break}}}var n;return this._unconsume(s),r&&!this.preprocessor.endOfChunkHit&&this._err(T.missingSemicolonAfterCharacterReference),this._unconsume(1),t}_isCharacterReferenceInAttribute(){return this.returnState===k.ATTRIBUTE_VALUE_DOUBLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_SINGLE_QUOTED||this.returnState===k.ATTRIBUTE_VALUE_UNQUOTED}_flushCodePointConsumedAsCharacterReference(e){this._isCharacterReferenceInAttribute()?this.currentAttr.value+=String.fromCodePoint(e):this._emitCodePoint(e);}_callState(e){switch(this.state){case k.DATA:this._stateData(e);break;case k.RCDATA:this._stateRcdata(e);break;case k.RAWTEXT:this._stateRawtext(e);break;case k.SCRIPT_DATA:this._stateScriptData(e);break;case k.PLAINTEXT:this._statePlaintext(e);break;case k.TAG_OPEN:this._stateTagOpen(e);break;case k.END_TAG_OPEN:this._stateEndTagOpen(e);break;case k.TAG_NAME:this._stateTagName(e);break;case k.RCDATA_LESS_THAN_SIGN:this._stateRcdataLessThanSign(e);break;case k.RCDATA_END_TAG_OPEN:this._stateRcdataEndTagOpen(e);break;case k.RCDATA_END_TAG_NAME:this._stateRcdataEndTagName(e);break;case k.RAWTEXT_LESS_THAN_SIGN:this._stateRawtextLessThanSign(e);break;case k.RAWTEXT_END_TAG_OPEN:this._stateRawtextEndTagOpen(e);break;case k.RAWTEXT_END_TAG_NAME:this._stateRawtextEndTagName(e);break;case k.SCRIPT_DATA_LESS_THAN_SIGN:this._stateScriptDataLessThanSign(e);break;case k.SCRIPT_DATA_END_TAG_OPEN:this._stateScriptDataEndTagOpen(e);break;case k.SCRIPT_DATA_END_TAG_NAME:this._stateScriptDataEndTagName(e);break;case k.SCRIPT_DATA_ESCAPE_START:this._stateScriptDataEscapeStart(e);break;case k.SCRIPT_DATA_ESCAPE_START_DASH:this._stateScriptDataEscapeStartDash(e);break;case k.SCRIPT_DATA_ESCAPED:this._stateScriptDataEscaped(e);break;case k.SCRIPT_DATA_ESCAPED_DASH:this._stateScriptDataEscapedDash(e);break;case k.SCRIPT_DATA_ESCAPED_DASH_DASH:this._stateScriptDataEscapedDashDash(e);break;case k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataEscapedLessThanSign(e);break;case k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:this._stateScriptDataEscapedEndTagOpen(e);break;case k.SCRIPT_DATA_ESCAPED_END_TAG_NAME:this._stateScriptDataEscapedEndTagName(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPE_START:this._stateScriptDataDoubleEscapeStart(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPED:this._stateScriptDataDoubleEscaped(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:this._stateScriptDataDoubleEscapedDash(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:this._stateScriptDataDoubleEscapedDashDash(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:this._stateScriptDataDoubleEscapedLessThanSign(e);break;case k.SCRIPT_DATA_DOUBLE_ESCAPE_END:this._stateScriptDataDoubleEscapeEnd(e);break;case k.BEFORE_ATTRIBUTE_NAME:this._stateBeforeAttributeName(e);break;case k.ATTRIBUTE_NAME:this._stateAttributeName(e);break;case k.AFTER_ATTRIBUTE_NAME:this._stateAfterAttributeName(e);break;case k.BEFORE_ATTRIBUTE_VALUE:this._stateBeforeAttributeValue(e);break;case k.ATTRIBUTE_VALUE_DOUBLE_QUOTED:this._stateAttributeValueDoubleQuoted(e);break;case k.ATTRIBUTE_VALUE_SINGLE_QUOTED:this._stateAttributeValueSingleQuoted(e);break;case k.ATTRIBUTE_VALUE_UNQUOTED:this._stateAttributeValueUnquoted(e);break;case k.AFTER_ATTRIBUTE_VALUE_QUOTED:this._stateAfterAttributeValueQuoted(e);break;case k.SELF_CLOSING_START_TAG:this._stateSelfClosingStartTag(e);break;case k.BOGUS_COMMENT:this._stateBogusComment(e);break;case k.MARKUP_DECLARATION_OPEN:this._stateMarkupDeclarationOpen(e);break;case k.COMMENT_START:this._stateCommentStart(e);break;case k.COMMENT_START_DASH:this._stateCommentStartDash(e);break;case k.COMMENT:this._stateComment(e);break;case k.COMMENT_LESS_THAN_SIGN:this._stateCommentLessThanSign(e);break;case k.COMMENT_LESS_THAN_SIGN_BANG:this._stateCommentLessThanSignBang(e);break;case k.COMMENT_LESS_THAN_SIGN_BANG_DASH:this._stateCommentLessThanSignBangDash(e);break;case k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:this._stateCommentLessThanSignBangDashDash(e);break;case k.COMMENT_END_DASH:this._stateCommentEndDash(e);break;case k.COMMENT_END:this._stateCommentEnd(e);break;case k.COMMENT_END_BANG:this._stateCommentEndBang(e);break;case k.DOCTYPE:this._stateDoctype(e);break;case k.BEFORE_DOCTYPE_NAME:this._stateBeforeDoctypeName(e);break;case k.DOCTYPE_NAME:this._stateDoctypeName(e);break;case k.AFTER_DOCTYPE_NAME:this._stateAfterDoctypeName(e);break;case k.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._stateAfterDoctypePublicKeyword(e);break;case k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:this._stateBeforeDoctypePublicIdentifier(e);break;case k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypePublicIdentifierDoubleQuoted(e);break;case k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypePublicIdentifierSingleQuoted(e);break;case k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:this._stateAfterDoctypePublicIdentifier(e);break;case k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:this._stateBetweenDoctypePublicAndSystemIdentifiers(e);break;case k.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._stateAfterDoctypeSystemKeyword(e);break;case k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:this._stateBeforeDoctypeSystemIdentifier(e);break;case k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:this._stateDoctypeSystemIdentifierDoubleQuoted(e);break;case k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:this._stateDoctypeSystemIdentifierSingleQuoted(e);break;case k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:this._stateAfterDoctypeSystemIdentifier(e);break;case k.BOGUS_DOCTYPE:this._stateBogusDoctype(e);break;case k.CDATA_SECTION:this._stateCdataSection(e);break;case k.CDATA_SECTION_BRACKET:this._stateCdataSectionBracket(e);break;case k.CDATA_SECTION_END:this._stateCdataSectionEnd(e);break;case k.CHARACTER_REFERENCE:this._stateCharacterReference(e);break;case k.NAMED_CHARACTER_REFERENCE:this._stateNamedCharacterReference(e);break;case k.AMBIGUOUS_AMPERSAND:this._stateAmbiguousAmpersand(e);break;case k.NUMERIC_CHARACTER_REFERENCE:this._stateNumericCharacterReference(e);break;case k.HEXADEMICAL_CHARACTER_REFERENCE_START:this._stateHexademicalCharacterReferenceStart(e);break;case k.HEXADEMICAL_CHARACTER_REFERENCE:this._stateHexademicalCharacterReference(e);break;case k.DECIMAL_CHARACTER_REFERENCE:this._stateDecimalCharacterReference(e);break;case k.NUMERIC_CHARACTER_REFERENCE_END:this._stateNumericCharacterReferenceEnd(e);break;default:throw new Error("Unknown state")}}_stateData(e){switch(e){case a.LESS_THAN_SIGN:this.state=k.TAG_OPEN;break;case a.AMPERSAND:this.returnState=k.DATA,this.state=k.CHARACTER_REFERENCE;break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitCodePoint(e);break;case a.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateRcdata(e){switch(e){case a.AMPERSAND:this.returnState=k.RCDATA,this.state=k.CHARACTER_REFERENCE;break;case a.LESS_THAN_SIGN:this.state=k.RCDATA_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateRawtext(e){switch(e){case a.LESS_THAN_SIGN:this.state=k.RAWTEXT_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateScriptData(e){switch(e){case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e);}}_statePlaintext(e){switch(e){case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateTagOpen(e){if(F(e))this._createStartTagToken(),this.state=k.TAG_NAME,this._stateTagName(e);else switch(e){case a.EXCLAMATION_MARK:this.state=k.MARKUP_DECLARATION_OPEN;break;case a.SOLIDUS:this.state=k.END_TAG_OPEN;break;case a.QUESTION_MARK:this._err(T.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(1),this.state=k.BOGUS_COMMENT,this._stateBogusComment(e);break;case a.EOF:this._err(T.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken();break;default:this._err(T.invalidFirstCharacterOfTagName),this._emitChars("<"),this.state=k.DATA,this._stateData(e);}}_stateEndTagOpen(e){if(F(e))this._createEndTagToken(),this.state=k.TAG_NAME,this._stateTagName(e);else switch(e){case a.GREATER_THAN_SIGN:this._err(T.missingEndTagName),this.state=k.DATA;break;case a.EOF:this._err(T.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken();break;default:this._err(T.invalidFirstCharacterOfTagName),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(e);}}_stateTagName(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.BEFORE_ATTRIBUTE_NAME;break;case a.SOLIDUS:this.state=k.SELF_CLOSING_START_TAG;break;case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentTagToken();break;case a.NULL:this._err(T.unexpectedNullCharacter),t.tagName+=s;break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:t.tagName+=String.fromCodePoint(H(e)?w(e):e);}}_stateRcdataLessThanSign(e){e===a.SOLIDUS?this.state=k.RCDATA_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RCDATA,this._stateRcdata(e));}_stateRcdataEndTagOpen(e){F(e)?(this.state=k.RCDATA_END_TAG_NAME,this._stateRcdataEndTagName(e)):(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(e));}handleSpecialEndTag(e){if(!this.preprocessor.startsWith(this.lastStartTagName,!1))return !this._ensureHibernation();switch(this._createEndTagToken(),this.currentToken.tagName=this.lastStartTagName,this.preprocessor.peek(this.lastStartTagName.length)){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:return this._advanceBy(this.lastStartTagName.length),this.state=k.BEFORE_ATTRIBUTE_NAME,!1;case a.SOLIDUS:return this._advanceBy(this.lastStartTagName.length),this.state=k.SELF_CLOSING_START_TAG,!1;case a.GREATER_THAN_SIGN:return this._advanceBy(this.lastStartTagName.length),this.emitCurrentTagToken(),this.state=k.DATA,!1;default:return !this._ensureHibernation()}}_stateRcdataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=k.RCDATA,this._stateRcdata(e));}_stateRawtextLessThanSign(e){e===a.SOLIDUS?this.state=k.RAWTEXT_END_TAG_OPEN:(this._emitChars("<"),this.state=k.RAWTEXT,this._stateRawtext(e));}_stateRawtextEndTagOpen(e){F(e)?(this.state=k.RAWTEXT_END_TAG_NAME,this._stateRawtextEndTagName(e)):(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(e));}_stateRawtextEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=k.RAWTEXT,this._stateRawtext(e));}_stateScriptDataLessThanSign(e){switch(e){case a.SOLIDUS:this.state=k.SCRIPT_DATA_END_TAG_OPEN;break;case a.EXCLAMATION_MARK:this.state=k.SCRIPT_DATA_ESCAPE_START,this._emitChars("<!");break;default:this._emitChars("<"),this.state=k.SCRIPT_DATA,this._stateScriptData(e);}}_stateScriptDataEndTagOpen(e){F(e)?(this.state=k.SCRIPT_DATA_END_TAG_NAME,this._stateScriptDataEndTagName(e)):(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(e));}_stateScriptDataEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA,this._stateScriptData(e));}_stateScriptDataEscapeStart(e){e===a.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPE_START_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(e));}_stateScriptDataEscapeStartDash(e){e===a.HYPHEN_MINUS?(this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-")):(this.state=k.SCRIPT_DATA,this._stateScriptData(e));}_stateScriptDataEscaped(e){switch(e){case a.HYPHEN_MINUS:this.state=k.SCRIPT_DATA_ESCAPED_DASH,this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateScriptDataEscapedDash(e){switch(e){case a.HYPHEN_MINUS:this.state=k.SCRIPT_DATA_ESCAPED_DASH_DASH,this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e);}}_stateScriptDataEscapedDashDash(e){switch(e){case a.HYPHEN_MINUS:this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;break;case a.GREATER_THAN_SIGN:this.state=k.SCRIPT_DATA,this._emitChars(">");break;case a.NULL:this._err(T.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_ESCAPED,this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=k.SCRIPT_DATA_ESCAPED,this._emitCodePoint(e);}}_stateScriptDataEscapedLessThanSign(e){e===a.SOLIDUS?this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:F(e)?(this._emitChars("<"),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_START,this._stateScriptDataDoubleEscapeStart(e)):(this._emitChars("<"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e));}_stateScriptDataEscapedEndTagOpen(e){F(e)?(this.state=k.SCRIPT_DATA_ESCAPED_END_TAG_NAME,this._stateScriptDataEscapedEndTagName(e)):(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e));}_stateScriptDataEscapedEndTagName(e){this.handleSpecialEndTag(e)&&(this._emitChars("</"),this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e));}_stateScriptDataDoubleEscapeStart(e){if(this.preprocessor.startsWith(i,!1)&&Y(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED;}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_ESCAPED,this._stateScriptDataEscaped(e));}_stateScriptDataDoubleEscaped(e){switch(e){case a.HYPHEN_MINUS:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH,this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case a.NULL:this._err(T.unexpectedNullCharacter),this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateScriptDataDoubleEscapedDash(e){switch(e){case a.HYPHEN_MINUS:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH,this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case a.NULL:this._err(T.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e);}}_stateScriptDataDoubleEscapedDashDash(e){switch(e){case a.HYPHEN_MINUS:this._emitChars("-");break;case a.LESS_THAN_SIGN:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN,this._emitChars("<");break;case a.GREATER_THAN_SIGN:this.state=k.SCRIPT_DATA,this._emitChars(">");break;case a.NULL:this._err(T.unexpectedNullCharacter),this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitChars(s);break;case a.EOF:this._err(T.eofInScriptHtmlCommentLikeText),this._emitEOFToken();break;default:this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._emitCodePoint(e);}}_stateScriptDataDoubleEscapedLessThanSign(e){e===a.SOLIDUS?(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPE_END,this._emitChars("/")):(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e));}_stateScriptDataDoubleEscapeEnd(e){if(this.preprocessor.startsWith(i,!1)&&Y(this.preprocessor.peek(6))){this._emitCodePoint(e);for(let e=0;e<6;e++)this._emitCodePoint(this._consume());this.state=k.SCRIPT_DATA_ESCAPED;}else this._ensureHibernation()||(this.state=k.SCRIPT_DATA_DOUBLE_ESCAPED,this._stateScriptDataDoubleEscaped(e));}_stateBeforeAttributeName(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.SOLIDUS:case a.GREATER_THAN_SIGN:case a.EOF:this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case a.EQUALS_SIGN:this._err(T.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=k.ATTRIBUTE_NAME;break;default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(e);}}_stateAttributeName(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:case a.SOLIDUS:case a.GREATER_THAN_SIGN:case a.EOF:this._leaveAttrName(),this.state=k.AFTER_ATTRIBUTE_NAME,this._stateAfterAttributeName(e);break;case a.EQUALS_SIGN:this._leaveAttrName(),this.state=k.BEFORE_ATTRIBUTE_VALUE;break;case a.QUOTATION_MARK:case a.APOSTROPHE:case a.LESS_THAN_SIGN:this._err(T.unexpectedCharacterInAttributeName),this.currentAttr.name+=String.fromCodePoint(e);break;case a.NULL:this._err(T.unexpectedNullCharacter),this.currentAttr.name+=s;break;default:this.currentAttr.name+=String.fromCodePoint(H(e)?w(e):e);}}_stateAfterAttributeName(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.SOLIDUS:this.state=k.SELF_CLOSING_START_TAG;break;case a.EQUALS_SIGN:this.state=k.BEFORE_ATTRIBUTE_VALUE;break;case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentTagToken();break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this._createAttr(""),this.state=k.ATTRIBUTE_NAME,this._stateAttributeName(e);}}_stateBeforeAttributeValue(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.QUOTATION_MARK:this.state=k.ATTRIBUTE_VALUE_DOUBLE_QUOTED;break;case a.APOSTROPHE:this.state=k.ATTRIBUTE_VALUE_SINGLE_QUOTED;break;case a.GREATER_THAN_SIGN:this._err(T.missingAttributeValue),this.state=k.DATA,this.emitCurrentTagToken();break;default:this.state=k.ATTRIBUTE_VALUE_UNQUOTED,this._stateAttributeValueUnquoted(e);}}_stateAttributeValueDoubleQuoted(e){switch(e){case a.QUOTATION_MARK:this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case a.AMPERSAND:this.returnState=k.ATTRIBUTE_VALUE_DOUBLE_QUOTED,this.state=k.CHARACTER_REFERENCE;break;case a.NULL:this._err(T.unexpectedNullCharacter),this.currentAttr.value+=s;break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e);}}_stateAttributeValueSingleQuoted(e){switch(e){case a.APOSTROPHE:this.state=k.AFTER_ATTRIBUTE_VALUE_QUOTED;break;case a.AMPERSAND:this.returnState=k.ATTRIBUTE_VALUE_SINGLE_QUOTED,this.state=k.CHARACTER_REFERENCE;break;case a.NULL:this._err(T.unexpectedNullCharacter),this.currentAttr.value+=s;break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e);}}_stateAttributeValueUnquoted(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break;case a.AMPERSAND:this.returnState=k.ATTRIBUTE_VALUE_UNQUOTED,this.state=k.CHARACTER_REFERENCE;break;case a.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break;case a.NULL:this._err(T.unexpectedNullCharacter),this.currentAttr.value+=s;break;case a.QUOTATION_MARK:case a.APOSTROPHE:case a.LESS_THAN_SIGN:case a.EQUALS_SIGN:case a.GRAVE_ACCENT:this._err(T.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=String.fromCodePoint(e);break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this.currentAttr.value+=String.fromCodePoint(e);}}_stateAfterAttributeValueQuoted(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this._leaveAttrValue(),this.state=k.BEFORE_ATTRIBUTE_NAME;break;case a.SOLIDUS:this._leaveAttrValue(),this.state=k.SELF_CLOSING_START_TAG;break;case a.GREATER_THAN_SIGN:this._leaveAttrValue(),this.state=k.DATA,this.emitCurrentTagToken();break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this._err(T.missingWhitespaceBetweenAttributes),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e);}}_stateSelfClosingStartTag(e){switch(e){case a.GREATER_THAN_SIGN:this.currentToken.selfClosing=!0,this.state=k.DATA,this.emitCurrentTagToken();break;case a.EOF:this._err(T.eofInTag),this._emitEOFToken();break;default:this._err(T.unexpectedSolidusInTag),this.state=k.BEFORE_ATTRIBUTE_NAME,this._stateBeforeAttributeName(e);}}_stateBogusComment(e){const t=this.currentToken;switch(e){case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentComment(t);break;case a.EOF:this.emitCurrentComment(t),this._emitEOFToken();break;case a.NULL:this._err(T.unexpectedNullCharacter),t.data+=s;break;default:t.data+=String.fromCodePoint(e);}}_stateMarkupDeclarationOpen(e){this._consumeSequenceIfMatch("--",!0)?(this._createCommentToken(3),this.state=k.COMMENT_START):this._consumeSequenceIfMatch(n,!1)?(this.currentLocation=this.getCurrentLocation(8),this.state=k.DOCTYPE):this._consumeSequenceIfMatch(r,!0)?this.inForeignNode?this.state=k.CDATA_SECTION:(this._err(T.cdataInHtmlContent),this._createCommentToken(8),this.currentToken.data="[CDATA[",this.state=k.BOGUS_COMMENT):this._ensureHibernation()||(this._err(T.incorrectlyOpenedComment),this._createCommentToken(2),this.state=k.BOGUS_COMMENT,this._stateBogusComment(e));}_stateCommentStart(e){switch(e){case a.HYPHEN_MINUS:this.state=k.COMMENT_START_DASH;break;case a.GREATER_THAN_SIGN:{this._err(T.abruptClosingOfEmptyComment),this.state=k.DATA;const e=this.currentToken;this.emitCurrentComment(e);break}default:this.state=k.COMMENT,this._stateComment(e);}}_stateCommentStartDash(e){const t=this.currentToken;switch(e){case a.HYPHEN_MINUS:this.state=k.COMMENT_END;break;case a.GREATER_THAN_SIGN:this._err(T.abruptClosingOfEmptyComment),this.state=k.DATA,this.emitCurrentComment(t);break;case a.EOF:this._err(T.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=k.COMMENT,this._stateComment(e);}}_stateComment(e){const t=this.currentToken;switch(e){case a.HYPHEN_MINUS:this.state=k.COMMENT_END_DASH;break;case a.LESS_THAN_SIGN:t.data+="<",this.state=k.COMMENT_LESS_THAN_SIGN;break;case a.NULL:this._err(T.unexpectedNullCharacter),t.data+=s;break;case a.EOF:this._err(T.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+=String.fromCodePoint(e);}}_stateCommentLessThanSign(e){const t=this.currentToken;switch(e){case a.EXCLAMATION_MARK:t.data+="!",this.state=k.COMMENT_LESS_THAN_SIGN_BANG;break;case a.LESS_THAN_SIGN:t.data+="<";break;default:this.state=k.COMMENT,this._stateComment(e);}}_stateCommentLessThanSignBang(e){e===a.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH:(this.state=k.COMMENT,this._stateComment(e));}_stateCommentLessThanSignBangDash(e){e===a.HYPHEN_MINUS?this.state=k.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:(this.state=k.COMMENT_END_DASH,this._stateCommentEndDash(e));}_stateCommentLessThanSignBangDashDash(e){e!==a.GREATER_THAN_SIGN&&e!==a.EOF&&this._err(T.nestedComment),this.state=k.COMMENT_END,this._stateCommentEnd(e);}_stateCommentEndDash(e){const t=this.currentToken;switch(e){case a.HYPHEN_MINUS:this.state=k.COMMENT_END;break;case a.EOF:this._err(T.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="-",this.state=k.COMMENT,this._stateComment(e);}}_stateCommentEnd(e){const t=this.currentToken;switch(e){case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentComment(t);break;case a.EXCLAMATION_MARK:this.state=k.COMMENT_END_BANG;break;case a.HYPHEN_MINUS:t.data+="-";break;case a.EOF:this._err(T.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--",this.state=k.COMMENT,this._stateComment(e);}}_stateCommentEndBang(e){const t=this.currentToken;switch(e){case a.HYPHEN_MINUS:t.data+="--!",this.state=k.COMMENT_END_DASH;break;case a.GREATER_THAN_SIGN:this._err(T.incorrectlyClosedComment),this.state=k.DATA,this.emitCurrentComment(t);break;case a.EOF:this._err(T.eofInComment),this.emitCurrentComment(t),this._emitEOFToken();break;default:t.data+="--!",this.state=k.COMMENT,this._stateComment(e);}}_stateDoctype(e){switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.BEFORE_DOCTYPE_NAME;break;case a.GREATER_THAN_SIGN:this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);break;case a.EOF:{this._err(T.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._err(T.missingWhitespaceBeforeDoctypeName),this.state=k.BEFORE_DOCTYPE_NAME,this._stateBeforeDoctypeName(e);}}_stateBeforeDoctypeName(e){if(H(e))this._createDoctypeToken(String.fromCharCode(w(e))),this.state=k.DOCTYPE_NAME;else switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.NULL:this._err(T.unexpectedNullCharacter),this._createDoctypeToken(s),this.state=k.DOCTYPE_NAME;break;case a.GREATER_THAN_SIGN:{this._err(T.missingDoctypeName),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this.state=k.DATA;break}case a.EOF:{this._err(T.eofInDoctype),this._createDoctypeToken(null);const e=this.currentToken;e.forceQuirks=!0,this.emitCurrentDoctype(e),this._emitEOFToken();break}default:this._createDoctypeToken(String.fromCodePoint(e)),this.state=k.DOCTYPE_NAME;}}_stateDoctypeName(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.AFTER_DOCTYPE_NAME;break;case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.NULL:this._err(T.unexpectedNullCharacter),t.name+=s;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.name+=String.fromCodePoint(H(e)?w(e):e);}}_stateAfterDoctypeName(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._consumeSequenceIfMatch("public",!1)?this.state=k.AFTER_DOCTYPE_PUBLIC_KEYWORD:this._consumeSequenceIfMatch("system",!1)?this.state=k.AFTER_DOCTYPE_SYSTEM_KEYWORD:this._ensureHibernation()||(this._err(T.invalidCharacterSequenceAfterDoctypeName),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e));}}_stateAfterDoctypePublicKeyword(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;break;case a.QUOTATION_MARK:this._err(T.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:this._err(T.missingWhitespaceAfterDoctypePublicKeyword),t.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case a.GREATER_THAN_SIGN:this._err(T.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateBeforeDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.QUOTATION_MARK:t.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:t.publicId="",this.state=k.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;break;case a.GREATER_THAN_SIGN:this._err(T.missingDoctypePublicIdentifier),t.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypePublicIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateDoctypePublicIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case a.QUOTATION_MARK:this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case a.NULL:this._err(T.unexpectedNullCharacter),t.publicId+=s;break;case a.GREATER_THAN_SIGN:this._err(T.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e);}}_stateDoctypePublicIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case a.APOSTROPHE:this.state=k.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;break;case a.NULL:this._err(T.unexpectedNullCharacter),t.publicId+=s;break;case a.GREATER_THAN_SIGN:this._err(T.abruptDoctypePublicIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.publicId+=String.fromCodePoint(e);}}_stateAfterDoctypePublicIdentifier(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;break;case a.GREATER_THAN_SIGN:this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.QUOTATION_MARK:this._err(T.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:this._err(T.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateBetweenDoctypePublicAndSystemIdentifiers(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.QUOTATION_MARK:t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateAfterDoctypeSystemKeyword(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:this.state=k.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;break;case a.QUOTATION_MARK:this._err(T.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:this._err(T.missingWhitespaceAfterDoctypeSystemKeyword),t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case a.GREATER_THAN_SIGN:this._err(T.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateBeforeDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.QUOTATION_MARK:t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;break;case a.APOSTROPHE:t.systemId="",this.state=k.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;break;case a.GREATER_THAN_SIGN:this._err(T.missingDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.DATA,this.emitCurrentDoctype(t);break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.missingQuoteBeforeDoctypeSystemIdentifier),t.forceQuirks=!0,this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateDoctypeSystemIdentifierDoubleQuoted(e){const t=this.currentToken;switch(e){case a.QUOTATION_MARK:this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case a.NULL:this._err(T.unexpectedNullCharacter),t.systemId+=s;break;case a.GREATER_THAN_SIGN:this._err(T.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e);}}_stateDoctypeSystemIdentifierSingleQuoted(e){const t=this.currentToken;switch(e){case a.APOSTROPHE:this.state=k.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;break;case a.NULL:this._err(T.unexpectedNullCharacter),t.systemId+=s;break;case a.GREATER_THAN_SIGN:this._err(T.abruptDoctypeSystemIdentifier),t.forceQuirks=!0,this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:t.systemId+=String.fromCodePoint(e);}}_stateAfterDoctypeSystemIdentifier(e){const t=this.currentToken;switch(e){case a.SPACE:case a.LINE_FEED:case a.TABULATION:case a.FORM_FEED:break;case a.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.EOF:this._err(T.eofInDoctype),t.forceQuirks=!0,this.emitCurrentDoctype(t),this._emitEOFToken();break;default:this._err(T.unexpectedCharacterAfterDoctypeSystemIdentifier),this.state=k.BOGUS_DOCTYPE,this._stateBogusDoctype(e);}}_stateBogusDoctype(e){const t=this.currentToken;switch(e){case a.GREATER_THAN_SIGN:this.emitCurrentDoctype(t),this.state=k.DATA;break;case a.NULL:this._err(T.unexpectedNullCharacter);break;case a.EOF:this.emitCurrentDoctype(t),this._emitEOFToken();}}_stateCdataSection(e){switch(e){case a.RIGHT_SQUARE_BRACKET:this.state=k.CDATA_SECTION_BRACKET;break;case a.EOF:this._err(T.eofInCdata),this._emitEOFToken();break;default:this._emitCodePoint(e);}}_stateCdataSectionBracket(e){e===a.RIGHT_SQUARE_BRACKET?this.state=k.CDATA_SECTION_END:(this._emitChars("]"),this.state=k.CDATA_SECTION,this._stateCdataSection(e));}_stateCdataSectionEnd(e){switch(e){case a.GREATER_THAN_SIGN:this.state=k.DATA;break;case a.RIGHT_SQUARE_BRACKET:this._emitChars("]");break;default:this._emitChars("]]"),this.state=k.CDATA_SECTION,this._stateCdataSection(e);}}_stateCharacterReference(e){e===a.NUMBER_SIGN?this.state=k.NUMERIC_CHARACTER_REFERENCE:U(e)?(this.state=k.NAMED_CHARACTER_REFERENCE,this._stateNamedCharacterReference(e)):(this._flushCodePointConsumedAsCharacterReference(a.AMPERSAND),this._reconsumeInState(this.returnState,e));}_stateNamedCharacterReference(e){const t=this._matchNamedCharacterReference(e);if(this._ensureHibernation());else if(t){for(let e=0;e<t.length;e++)this._flushCodePointConsumedAsCharacterReference(t[e]);this.state=this.returnState;}else this._flushCodePointConsumedAsCharacterReference(a.AMPERSAND),this.state=k.AMBIGUOUS_AMPERSAND;}_stateAmbiguousAmpersand(e){U(e)?this._flushCodePointConsumedAsCharacterReference(e):(e===a.SEMICOLON&&this._err(T.unknownNamedCharacterReference),this._reconsumeInState(this.returnState,e));}_stateNumericCharacterReference(e){this.charRefCode=0,e===a.LATIN_SMALL_X||e===a.LATIN_CAPITAL_X?this.state=k.HEXADEMICAL_CHARACTER_REFERENCE_START:B(e)?(this.state=k.DECIMAL_CHARACTER_REFERENCE,this._stateDecimalCharacterReference(e)):(this._err(T.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(a.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(a.NUMBER_SIGN),this._reconsumeInState(this.returnState,e));}_stateHexademicalCharacterReferenceStart(e){!function(e){return B(e)||y(e)||G(e)}(e)?(this._err(T.absenceOfDigitsInNumericCharacterReference),this._flushCodePointConsumedAsCharacterReference(a.AMPERSAND),this._flushCodePointConsumedAsCharacterReference(a.NUMBER_SIGN),this._unconsume(2),this.state=this.returnState):(this.state=k.HEXADEMICAL_CHARACTER_REFERENCE,this._stateHexademicalCharacterReference(e));}_stateHexademicalCharacterReference(e){y(e)?this.charRefCode=16*this.charRefCode+e-55:G(e)?this.charRefCode=16*this.charRefCode+e-87:B(e)?this.charRefCode=16*this.charRefCode+e-48:e===a.SEMICOLON?this.state=k.NUMERIC_CHARACTER_REFERENCE_END:(this._err(T.missingSemicolonAfterCharacterReference),this.state=k.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e));}_stateDecimalCharacterReference(e){B(e)?this.charRefCode=10*this.charRefCode+e-48:e===a.SEMICOLON?this.state=k.NUMERIC_CHARACTER_REFERENCE_END:(this._err(T.missingSemicolonAfterCharacterReference),this.state=k.NUMERIC_CHARACTER_REFERENCE_END,this._stateNumericCharacterReferenceEnd(e));}_stateNumericCharacterReferenceEnd(e){if(this.charRefCode===a.NULL)this._err(T.nullCharacterReference),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(T.characterReferenceOutsideUnicodeRange),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(o(this.charRefCode))this._err(T.surrogateCharacterReference),this.charRefCode=a.REPLACEMENT_CHARACTER;else if(E(this.charRefCode))this._err(T.noncharacterCharacterReference);else if(c(this.charRefCode)||this.charRefCode===a.CARRIAGE_RETURN){this._err(T.controlCharacterReference);const e=P.get(this.charRefCode);void 0!==e&&(this.charRefCode=e);}this._flushCodePointConsumedAsCharacterReference(this.charRefCode),this._reconsumeInState(this.returnState,e);}}const Q=new Set([I.DD,I.DT,I.LI,I.OPTGROUP,I.OPTION,I.P,I.RB,I.RP,I.RT,I.RTC]),q=new Set([...Q,I.CAPTION,I.COLGROUP,I.TBODY,I.TD,I.TFOOT,I.TH,I.THEAD,I.TR]),W=new Map([[I.APPLET,d.HTML],[I.CAPTION,d.HTML],[I.HTML,d.HTML],[I.MARQUEE,d.HTML],[I.OBJECT,d.HTML],[I.TABLE,d.HTML],[I.TD,d.HTML],[I.TEMPLATE,d.HTML],[I.TH,d.HTML],[I.ANNOTATION_XML,d.MATHML],[I.MI,d.MATHML],[I.MN,d.MATHML],[I.MO,d.MATHML],[I.MS,d.MATHML],[I.MTEXT,d.MATHML],[I.DESC,d.SVG],[I.FOREIGN_OBJECT,d.SVG],[I.TITLE,d.SVG]]),X=[I.H1,I.H2,I.H3,I.H4,I.H5,I.H6],K=[I.TR,I.TEMPLATE,I.HTML],V=[I.TBODY,I.TFOOT,I.THEAD,I.TEMPLATE,I.HTML],j=[I.TABLE,I.TEMPLATE,I.HTML],z=[I.TD,I.TH];class J{get currentTmplContentOrNode(){return this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):this.current}constructor(e,t,s){this.treeAdapter=t,this.handler=s,this.items=[],this.tagIDs=[],this.stackTop=-1,this.tmplCount=0,this.currentTagId=I.UNKNOWN,this.current=e;}_indexOf(e){return this.items.lastIndexOf(e,this.stackTop)}_isInTemplate(){return this.currentTagId===I.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===d.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagId=this.tagIDs[this.stackTop];}push(e,t){this.stackTop++,this.items[this.stackTop]=e,this.current=e,this.tagIDs[this.stackTop]=t,this.currentTagId=t,this._isInTemplate()&&this.tmplCount++,this.handler.onItemPush(e,t,!0);}pop(){const e=this.current;this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!0);}replace(e,t){const s=this._indexOf(e);this.items[s]=t,s===this.stackTop&&(this.current=t);}insertAfter(e,t,s){const a=this._indexOf(e)+1;this.items.splice(a,0,t),this.tagIDs.splice(a,0,s),this.stackTop++,a===this.stackTop&&this._updateCurrentElement(),this.handler.onItemPush(this.current,this.currentTagId,a===this.stackTop);}popUntilTagNamePopped(e){let t=this.stackTop+1;do{t=this.tagIDs.lastIndexOf(e,t-1);}while(t>0&&this.treeAdapter.getNamespaceURI(this.items[t])!==d.HTML);this.shortenToLength(t<0?0:t);}shortenToLength(e){for(;this.stackTop>=e;){const t=this.current;this.tmplCount>0&&this._isInTemplate()&&(this.tmplCount-=1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(t,this.stackTop<e);}}popUntilElementPopped(e){const t=this._indexOf(e);this.shortenToLength(t<0?0:t);}popUntilPopped(e,t){const s=this._indexOfTagNames(e,t);this.shortenToLength(s<0?0:s);}popUntilNumberedHeaderPopped(){this.popUntilPopped(X,d.HTML);}popUntilTableCellPopped(){this.popUntilPopped(z,d.HTML);}popAllUpToHtmlElement(){this.tmplCount=0,this.shortenToLength(1);}_indexOfTagNames(e,t){for(let s=this.stackTop;s>=0;s--)if(e.includes(this.tagIDs[s])&&this.treeAdapter.getNamespaceURI(this.items[s])===t)return s;return -1}clearBackTo(e,t){const s=this._indexOfTagNames(e,t);this.shortenToLength(s+1);}clearBackToTableContext(){this.clearBackTo(j,d.HTML);}clearBackToTableBodyContext(){this.clearBackTo(V,d.HTML);}clearBackToTableRowContext(){this.clearBackTo(K,d.HTML);}remove(e){const t=this._indexOf(e);t>=0&&(t===this.stackTop?this.pop():(this.items.splice(t,1),this.tagIDs.splice(t,1),this.stackTop--,this._updateCurrentElement(),this.handler.onItemPop(e,!1)));}tryPeekProperlyNestedBodyElement(){return this.stackTop>=1&&this.tagIDs[1]===I.BODY?this.items[1]:null}contains(e){return this._indexOf(e)>-1}getCommonAncestor(e){const t=this._indexOf(e)-1;return t>=0?this.items[t]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.tagIDs[0]===I.HTML}hasInScope(e){for(let t=this.stackTop;t>=0;t--){const s=this.tagIDs[t],a=this.treeAdapter.getNamespaceURI(this.items[t]);if(s===e&&a===d.HTML)return !0;if(W.get(s)===a)return !1}return !0}hasNumberedHeaderInScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e],s=this.treeAdapter.getNamespaceURI(this.items[e]);if(g(t)&&s===d.HTML)return !0;if(W.get(t)===s)return !1}return !0}hasInListItemScope(e){for(let t=this.stackTop;t>=0;t--){const s=this.tagIDs[t],a=this.treeAdapter.getNamespaceURI(this.items[t]);if(s===e&&a===d.HTML)return !0;if((s===I.UL||s===I.OL)&&a===d.HTML||W.get(s)===a)return !1}return !0}hasInButtonScope(e){for(let t=this.stackTop;t>=0;t--){const s=this.tagIDs[t],a=this.treeAdapter.getNamespaceURI(this.items[t]);if(s===e&&a===d.HTML)return !0;if(s===I.BUTTON&&a===d.HTML||W.get(s)===a)return !1}return !0}hasInTableScope(e){for(let t=this.stackTop;t>=0;t--){const s=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===d.HTML){if(s===e)return !0;if(s===I.TABLE||s===I.TEMPLATE||s===I.HTML)return !1}}return !0}hasTableBodyContextInTableScope(){for(let e=this.stackTop;e>=0;e--){const t=this.tagIDs[e];if(this.treeAdapter.getNamespaceURI(this.items[e])===d.HTML){if(t===I.TBODY||t===I.THEAD||t===I.TFOOT)return !0;if(t===I.TABLE||t===I.HTML)return !1}}return !0}hasInSelectScope(e){for(let t=this.stackTop;t>=0;t--){const s=this.tagIDs[t];if(this.treeAdapter.getNamespaceURI(this.items[t])===d.HTML){if(s===e)return !0;if(s!==I.OPTION&&s!==I.OPTGROUP)return !1}}return !0}generateImpliedEndTags(){for(;Q.has(this.currentTagId);)this.pop();}generateImpliedEndTagsThoroughly(){for(;q.has(this.currentTagId);)this.pop();}generateImpliedEndTagsWithExclusion(e){for(;this.currentTagId!==e&&q.has(this.currentTagId);)this.pop();}}var Z;!function(e){e[e.Marker=0]="Marker",e[e.Element=1]="Element";}(Z=Z||(Z={}));const $={type:Z.Marker};class ee{constructor(e){this.treeAdapter=e,this.entries=[],this.bookmark=null;}_getNoahArkConditionCandidates(e,t){const s=[],a=t.length,r=this.treeAdapter.getTagName(e),n=this.treeAdapter.getNamespaceURI(e);for(let e=0;e<this.entries.length;e++){const t=this.entries[e];if(t.type===Z.Marker)break;const{element:i}=t;if(this.treeAdapter.getTagName(i)===r&&this.treeAdapter.getNamespaceURI(i)===n){const t=this.treeAdapter.getAttrList(i);t.length===a&&s.push({idx:e,attrs:t});}}return s}_ensureNoahArkCondition(e){if(this.entries.length<3)return;const t=this.treeAdapter.getAttrList(e),s=this._getNoahArkConditionCandidates(e,t);if(s.length<3)return;const a=new Map(t.map((e=>[e.name,e.value])));let r=0;for(let e=0;e<s.length;e++){const t=s[e];t.attrs.every((e=>a.get(e.name)===e.value))&&(r+=1,r>=3&&this.entries.splice(t.idx,1));}}insertMarker(){this.entries.unshift($);}pushElement(e,t){this._ensureNoahArkCondition(e),this.entries.unshift({type:Z.Element,element:e,token:t});}insertElementAfterBookmark(e,t){const s=this.entries.indexOf(this.bookmark);this.entries.splice(s,0,{type:Z.Element,element:e,token:t});}removeEntry(e){const t=this.entries.indexOf(e);t>=0&&this.entries.splice(t,1);}clearToLastMarker(){const e=this.entries.indexOf($);e>=0?this.entries.splice(0,e+1):this.entries.length=0;}getElementEntryInScopeWithTagName(e){const t=this.entries.find((t=>t.type===Z.Marker||this.treeAdapter.getTagName(t.element)===e));return t&&t.type===Z.Element?t:null}getElementEntry(e){return this.entries.find((t=>t.type===Z.Element&&t.element===e))}}function te(e){return {nodeName:"#text",value:e,parentNode:null}}const se={createDocument:()=>({nodeName:"#document",mode:u.NO_QUIRKS,childNodes:[]}),createDocumentFragment:()=>({nodeName:"#document-fragment",childNodes:[]}),createElement:(e,t,s)=>({nodeName:e,tagName:e,attrs:s,namespaceURI:t,childNodes:[],parentNode:null}),createCommentNode:e=>({nodeName:"#comment",data:e,parentNode:null}),appendChild(e,t){e.childNodes.push(t),t.parentNode=e;},insertBefore(e,t,s){const a=e.childNodes.indexOf(s);e.childNodes.splice(a,0,t),t.parentNode=e;},setTemplateContent(e,t){e.content=t;},getTemplateContent:e=>e.content,setDocumentType(e,t,s,a){const r=e.childNodes.find((e=>"#documentType"===e.nodeName));if(r)r.name=t,r.publicId=s,r.systemId=a;else {const r={nodeName:"#documentType",name:t,publicId:s,systemId:a,parentNode:null};se.appendChild(e,r);}},setDocumentMode(e,t){e.mode=t;},getDocumentMode:e=>e.mode,detachNode(e){if(e.parentNode){const t=e.parentNode.childNodes.indexOf(e);e.parentNode.childNodes.splice(t,1),e.parentNode=null;}},insertText(e,t){if(e.childNodes.length>0){const s=e.childNodes[e.childNodes.length-1];if(se.isTextNode(s))return void(s.value+=t)}se.appendChild(e,te(t));},insertTextBefore(e,t,s){const a=e.childNodes[e.childNodes.indexOf(s)-1];a&&se.isTextNode(a)?a.value+=t:se.insertBefore(e,te(t),s);},adoptAttributes(e,t){const s=new Set(e.attrs.map((e=>e.name)));for(let a=0;a<t.length;a++)s.has(t[a].name)||e.attrs.push(t[a]);},getFirstChild:e=>e.childNodes[0],getChildNodes:e=>e.childNodes,getParentNode:e=>e.parentNode,getAttrList:e=>e.attrs,getTagName:e=>e.tagName,getNamespaceURI:e=>e.namespaceURI,getTextNodeContent:e=>e.value,getCommentNodeContent:e=>e.data,getDocumentTypeNodeName:e=>e.name,getDocumentTypeNodePublicId:e=>e.publicId,getDocumentTypeNodeSystemId:e=>e.systemId,isTextNode:e=>"#text"===e.nodeName,isCommentNode:e=>"#comment"===e.nodeName,isDocumentTypeNode:e=>"#documentType"===e.nodeName,isElementNode:e=>Object.prototype.hasOwnProperty.call(e,"tagName"),setNodeSourceCodeLocation(e,t){e.sourceCodeLocation=t;},getNodeSourceCodeLocation:e=>e.sourceCodeLocation,updateNodeSourceCodeLocation(e,t){e.sourceCodeLocation={...e.sourceCodeLocation,...t};}},ae="html",re=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],ne=[...re,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"],ie=new Set(["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"]),oe=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],ce=[...oe,"-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"];function Ee(e,t){return t.some((t=>e.startsWith(t)))}const Te="text/html",he="application/xhtml+xml",_e="definitionurl",Ae="definitionURL",le=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map((e=>[e.toLowerCase(),e]))),me=new Map([["xlink:actuate",{prefix:"xlink",name:"actuate",namespace:d.XLINK}],["xlink:arcrole",{prefix:"xlink",name:"arcrole",namespace:d.XLINK}],["xlink:href",{prefix:"xlink",name:"href",namespace:d.XLINK}],["xlink:role",{prefix:"xlink",name:"role",namespace:d.XLINK}],["xlink:show",{prefix:"xlink",name:"show",namespace:d.XLINK}],["xlink:title",{prefix:"xlink",name:"title",namespace:d.XLINK}],["xlink:type",{prefix:"xlink",name:"type",namespace:d.XLINK}],["xml:base",{prefix:"xml",name:"base",namespace:d.XML}],["xml:lang",{prefix:"xml",name:"lang",namespace:d.XML}],["xml:space",{prefix:"xml",name:"space",namespace:d.XML}],["xmlns",{prefix:"",name:"xmlns",namespace:d.XMLNS}],["xmlns:xlink",{prefix:"xmlns",name:"xlink",namespace:d.XMLNS}]]),de=new Map(["altGlyph","altGlyphDef","altGlyphItem","animateColor","animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","glyphRef","linearGradient","radialGradient","textPath"].map((e=>[e.toLowerCase(),e]))),pe=new Set([I.B,I.BIG,I.BLOCKQUOTE,I.BODY,I.BR,I.CENTER,I.CODE,I.DD,I.DIV,I.DL,I.DT,I.EM,I.EMBED,I.H1,I.H2,I.H3,I.H4,I.H5,I.H6,I.HEAD,I.HR,I.I,I.IMG,I.LI,I.LISTING,I.MENU,I.META,I.NOBR,I.OL,I.P,I.PRE,I.RUBY,I.S,I.SMALL,I.SPAN,I.STRONG,I.STRIKE,I.SUB,I.SUP,I.TABLE,I.TT,I.U,I.UL,I.VAR]);function ue(e){for(let t=0;t<e.attrs.length;t++)if(e.attrs[t].name===_e){e.attrs[t].name=Ae;break}}function Ne(e){for(let t=0;t<e.attrs.length;t++){const s=le.get(e.attrs[t].name);null!=s&&(e.attrs[t].name=s);}}function Ie(e){for(let t=0;t<e.attrs.length;t++){const s=me.get(e.attrs[t].name);s&&(e.attrs[t].prefix=s.prefix,e.attrs[t].name=s.name,e.attrs[t].namespace=s.namespace);}}const Ce="hidden",Se=8,De=3;var Re;!function(e){e[e.INITIAL=0]="INITIAL",e[e.BEFORE_HTML=1]="BEFORE_HTML",e[e.BEFORE_HEAD=2]="BEFORE_HEAD",e[e.IN_HEAD=3]="IN_HEAD",e[e.IN_HEAD_NO_SCRIPT=4]="IN_HEAD_NO_SCRIPT",e[e.AFTER_HEAD=5]="AFTER_HEAD",e[e.IN_BODY=6]="IN_BODY",e[e.TEXT=7]="TEXT",e[e.IN_TABLE=8]="IN_TABLE",e[e.IN_TABLE_TEXT=9]="IN_TABLE_TEXT",e[e.IN_CAPTION=10]="IN_CAPTION",e[e.IN_COLUMN_GROUP=11]="IN_COLUMN_GROUP",e[e.IN_TABLE_BODY=12]="IN_TABLE_BODY",e[e.IN_ROW=13]="IN_ROW",e[e.IN_CELL=14]="IN_CELL",e[e.IN_SELECT=15]="IN_SELECT",e[e.IN_SELECT_IN_TABLE=16]="IN_SELECT_IN_TABLE",e[e.IN_TEMPLATE=17]="IN_TEMPLATE",e[e.AFTER_BODY=18]="AFTER_BODY",e[e.IN_FRAMESET=19]="IN_FRAMESET",e[e.AFTER_FRAMESET=20]="AFTER_FRAMESET",e[e.AFTER_AFTER_BODY=21]="AFTER_AFTER_BODY",e[e.AFTER_AFTER_FRAMESET=22]="AFTER_AFTER_FRAMESET";}(Re||(Re={}));const Oe={startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1},fe=new Set([I.TABLE,I.TBODY,I.TFOOT,I.THEAD,I.TR]),Le={scriptingEnabled:!0,sourceCodeLocationInfo:!1,treeAdapter:se,onParseError:null};class Me{constructor(e,t,s=null,a=null){this.fragmentContext=s,this.scriptHandler=a,this.currentToken=null,this.stopped=!1,this.insertionMode=Re.INITIAL,this.originalInsertionMode=Re.INITIAL,this.headElement=null,this.formElement=null,this.currentNotInHTML=!1,this.tmplInsertionModeStack=[],this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1,this.options={...Le,...e},this.treeAdapter=this.options.treeAdapter,this.onParseError=this.options.onParseError,this.onParseError&&(this.options.sourceCodeLocationInfo=!0),this.document=null!=t?t:this.treeAdapter.createDocument(),this.tokenizer=new v(this.options,this),this.activeFormattingElements=new ee(this.treeAdapter),this.fragmentContextID=s?f(this.treeAdapter.getTagName(s)):I.UNKNOWN,this._setContextModes(null!=s?s:this.document,this.fragmentContextID),this.openElements=new J(this.document,this.treeAdapter,this);}static parse(e,t){const s=new this(t);return s.tokenizer.write(e,!0),s.document}static getFragmentParser(e,t){const s={...Le,...t};null!=e||(e=s.treeAdapter.createElement(N.TEMPLATE,d.HTML,[]));const a=s.treeAdapter.createElement("documentmock",d.HTML,[]),r=new this(s,a,e);return r.fragmentContextID===I.TEMPLATE&&r.tmplInsertionModeStack.unshift(Re.IN_TEMPLATE),r._initTokenizerForFragmentParsing(),r._insertFakeRootElement(),r._resetInsertionMode(),r._findFormInFragmentContext(),r}getFragment(){const e=this.treeAdapter.getFirstChild(this.document),t=this.treeAdapter.createDocumentFragment();return this._adoptNodes(e,t),t}_err(e,t,s){var a;if(!this.onParseError)return;const r=null!==(a=e.location)&&void 0!==a?a:Oe,n={code:t,startLine:r.startLine,startCol:r.startCol,startOffset:r.startOffset,endLine:s?r.startLine:r.endLine,endCol:s?r.startCol:r.endCol,endOffset:s?r.startOffset:r.endOffset};this.onParseError(n);}onItemPush(e,t,s){var a,r;null===(r=(a=this.treeAdapter).onItemPush)||void 0===r||r.call(a,e),s&&this.openElements.stackTop>0&&this._setContextModes(e,t);}onItemPop(e,t){var s,a;if(this.options.sourceCodeLocationInfo&&this._setEndLocation(e,this.currentToken),null===(a=(s=this.treeAdapter).onItemPop)||void 0===a||a.call(s,e,this.openElements.current),t){let e,t;0===this.openElements.stackTop&&this.fragmentContext?(e=this.fragmentContext,t=this.fragmentContextID):({current:e,currentTagId:t}=this.openElements),this._setContextModes(e,t);}}_setContextModes(e,t){const s=e===this.document||this.treeAdapter.getNamespaceURI(e)===d.HTML;this.currentNotInHTML=!s,this.tokenizer.inForeignNode=!s&&!this._isIntegrationPoint(t,e);}_switchToTextParsing(e,t){this._insertElement(e,d.HTML),this.tokenizer.state=t,this.originalInsertionMode=this.insertionMode,this.insertionMode=Re.TEXT;}switchToPlaintextParsing(){this.insertionMode=Re.TEXT,this.originalInsertionMode=Re.IN_BODY,this.tokenizer.state=b.PLAINTEXT;}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let e=this.fragmentContext;for(;e;){if(this.treeAdapter.getTagName(e)===N.FORM){this.formElement=e;break}e=this.treeAdapter.getParentNode(e);}}_initTokenizerForFragmentParsing(){if(this.fragmentContext&&this.treeAdapter.getNamespaceURI(this.fragmentContext)===d.HTML)switch(this.fragmentContextID){case I.TITLE:case I.TEXTAREA:this.tokenizer.state=b.RCDATA;break;case I.STYLE:case I.XMP:case I.IFRAME:case I.NOEMBED:case I.NOFRAMES:case I.NOSCRIPT:this.tokenizer.state=b.RAWTEXT;break;case I.SCRIPT:this.tokenizer.state=b.SCRIPT_DATA;break;case I.PLAINTEXT:this.tokenizer.state=b.PLAINTEXT;}}_setDocumentType(e){const t=e.name||"",s=e.publicId||"",a=e.systemId||"";if(this.treeAdapter.setDocumentType(this.document,t,s,a),e.location){const t=this.treeAdapter.getChildNodes(this.document).find((e=>this.treeAdapter.isDocumentTypeNode(e)));t&&this.treeAdapter.setNodeSourceCodeLocation(t,e.location);}}_attachElementToTree(e,t){if(this.options.sourceCodeLocationInfo){const s=t&&{...t,startTag:t};this.treeAdapter.setNodeSourceCodeLocation(e,s);}if(this._shouldFosterParentOnInsertion())this._fosterParentElement(e);else {const t=this.openElements.currentTmplContentOrNode;this.treeAdapter.appendChild(t,e);}}_appendElement(e,t){const s=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(s,e.location);}_insertElement(e,t){const s=this.treeAdapter.createElement(e.tagName,t,e.attrs);this._attachElementToTree(s,e.location),this.openElements.push(s,e.tagID);}_insertFakeElement(e,t){const s=this.treeAdapter.createElement(e,d.HTML,[]);this._attachElementToTree(s,null),this.openElements.push(s,t);}_insertTemplate(e){const t=this.treeAdapter.createElement(e.tagName,d.HTML,e.attrs),s=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(t,s),this._attachElementToTree(t,e.location),this.openElements.push(t,e.tagID),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,null);}_insertFakeRootElement(){const e=this.treeAdapter.createElement(N.HTML,d.HTML,[]);this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(e,null),this.treeAdapter.appendChild(this.openElements.current,e),this.openElements.push(e,I.HTML);}_appendCommentNode(e,t){const s=this.treeAdapter.createCommentNode(e.data);this.treeAdapter.appendChild(t,s),this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(s,e.location);}_insertCharacters(e){let t,s;if(this._shouldFosterParentOnInsertion()?(({parent:t,beforeElement:s}=this._findFosterParentingLocation()),s?this.treeAdapter.insertTextBefore(t,e.chars,s):this.treeAdapter.insertText(t,e.chars)):(t=this.openElements.currentTmplContentOrNode,this.treeAdapter.insertText(t,e.chars)),!e.location)return;const a=this.treeAdapter.getChildNodes(t),r=s?a.lastIndexOf(s):a.length,n=a[r-1];if(this.treeAdapter.getNodeSourceCodeLocation(n)){const{endLine:t,endCol:s,endOffset:a}=e.location;this.treeAdapter.updateNodeSourceCodeLocation(n,{endLine:t,endCol:s,endOffset:a});}else this.options.sourceCodeLocationInfo&&this.treeAdapter.setNodeSourceCodeLocation(n,e.location);}_adoptNodes(e,t){for(let s=this.treeAdapter.getFirstChild(e);s;s=this.treeAdapter.getFirstChild(e))this.treeAdapter.detachNode(s),this.treeAdapter.appendChild(t,s);}_setEndLocation(e,t){if(this.treeAdapter.getNodeSourceCodeLocation(e)&&t.location){const s=t.location,a=this.treeAdapter.getTagName(e),r=t.type===h.END_TAG&&a===t.tagName?{endTag:{...s},endLine:s.endLine,endCol:s.endCol,endOffset:s.endOffset}:{endLine:s.startLine,endCol:s.startCol,endOffset:s.startOffset};this.treeAdapter.updateNodeSourceCodeLocation(e,r);}}shouldProcessStartTagTokenInForeignContent(e){if(!this.currentNotInHTML)return !1;let t,s;return 0===this.openElements.stackTop&&this.fragmentContext?(t=this.fragmentContext,s=this.fragmentContextID):({current:t,currentTagId:s}=this.openElements),(e.tagID!==I.SVG||this.treeAdapter.getTagName(t)!==N.ANNOTATION_XML||this.treeAdapter.getNamespaceURI(t)!==d.MATHML)&&(this.tokenizer.inForeignNode||(e.tagID===I.MGLYPH||e.tagID===I.MALIGNMARK)&&!this._isIntegrationPoint(s,t,d.HTML))}_processToken(e){switch(e.type){case h.CHARACTER:this.onCharacter(e);break;case h.NULL_CHARACTER:this.onNullCharacter(e);break;case h.COMMENT:this.onComment(e);break;case h.DOCTYPE:this.onDoctype(e);break;case h.START_TAG:this._processStartTag(e);break;case h.END_TAG:this.onEndTag(e);break;case h.EOF:this.onEof(e);break;case h.WHITESPACE_CHARACTER:this.onWhitespaceCharacter(e);}}_isIntegrationPoint(e,t,s){return function(e,t,s,a){return (!a||a===d.HTML)&&function(e,t,s){if(t===d.MATHML&&e===I.ANNOTATION_XML)for(let e=0;e<s.length;e++)if(s[e].name===p.ENCODING){const t=s[e].value.toLowerCase();return t===Te||t===he}return t===d.SVG&&(e===I.FOREIGN_OBJECT||e===I.DESC||e===I.TITLE)}(e,t,s)||(!a||a===d.MATHML)&&function(e,t){return t===d.MATHML&&(e===I.MI||e===I.MO||e===I.MN||e===I.MS||e===I.MTEXT)}(e,t)}(e,this.treeAdapter.getNamespaceURI(t),this.treeAdapter.getAttrList(t),s)}_reconstructActiveFormattingElements(){const e=this.activeFormattingElements.entries.length;if(e){const t=this.activeFormattingElements.entries.findIndex((e=>e.type===Z.Marker||this.openElements.contains(e.element)));for(let s=t<0?e-1:t-1;s>=0;s--){const e=this.activeFormattingElements.entries[s];this._insertElement(e.token,this.treeAdapter.getNamespaceURI(e.element)),e.element=this.openElements.current;}}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Re.IN_ROW;}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(I.P),this.openElements.popUntilTagNamePopped(I.P);}_resetInsertionMode(){for(let e=this.openElements.stackTop;e>=0;e--)switch(0===e&&this.fragmentContext?this.fragmentContextID:this.openElements.tagIDs[e]){case I.TR:return void(this.insertionMode=Re.IN_ROW);case I.TBODY:case I.THEAD:case I.TFOOT:return void(this.insertionMode=Re.IN_TABLE_BODY);case I.CAPTION:return void(this.insertionMode=Re.IN_CAPTION);case I.COLGROUP:return void(this.insertionMode=Re.IN_COLUMN_GROUP);case I.TABLE:return void(this.insertionMode=Re.IN_TABLE);case I.BODY:return void(this.insertionMode=Re.IN_BODY);case I.FRAMESET:return void(this.insertionMode=Re.IN_FRAMESET);case I.SELECT:return void this._resetInsertionModeForSelect(e);case I.TEMPLATE:return void(this.insertionMode=this.tmplInsertionModeStack[0]);case I.HTML:return void(this.insertionMode=this.headElement?Re.AFTER_HEAD:Re.BEFORE_HEAD);case I.TD:case I.TH:if(e>0)return void(this.insertionMode=Re.IN_CELL);break;case I.HEAD:if(e>0)return void(this.insertionMode=Re.IN_HEAD)}this.insertionMode=Re.IN_BODY;}_resetInsertionModeForSelect(e){if(e>0)for(let t=e-1;t>0;t--){const e=this.openElements.tagIDs[t];if(e===I.TEMPLATE)break;if(e===I.TABLE)return void(this.insertionMode=Re.IN_SELECT_IN_TABLE)}this.insertionMode=Re.IN_SELECT;}_isElementCausesFosterParenting(e){return fe.has(e)}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.currentTagId)}_findFosterParentingLocation(){for(let e=this.openElements.stackTop;e>=0;e--){const t=this.openElements.items[e];switch(this.openElements.tagIDs[e]){case I.TEMPLATE:if(this.treeAdapter.getNamespaceURI(t)===d.HTML)return {parent:this.treeAdapter.getTemplateContent(t),beforeElement:null};break;case I.TABLE:{const s=this.treeAdapter.getParentNode(t);return s?{parent:s,beforeElement:t}:{parent:this.openElements.items[e-1],beforeElement:null}}}}return {parent:this.openElements.items[0],beforeElement:null}}_fosterParentElement(e){const t=this._findFosterParentingLocation();t.beforeElement?this.treeAdapter.insertBefore(t.parent,e,t.beforeElement):this.treeAdapter.appendChild(t.parent,e);}_isSpecialElement(e,t){const s=this.treeAdapter.getNamespaceURI(e);return M[s].has(t)}onCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){e._insertCharacters(t),e.framesetOk=!1;}(this,e);else switch(this.insertionMode){case Re.INITIAL:Ge(this,e);break;case Re.BEFORE_HTML:we(this,e);break;case Re.BEFORE_HEAD:xe(this,e);break;case Re.IN_HEAD:Qe(this,e);break;case Re.IN_HEAD_NO_SCRIPT:qe(this,e);break;case Re.AFTER_HEAD:We(this,e);break;case Re.IN_BODY:case Re.IN_CAPTION:case Re.IN_CELL:case Re.IN_TEMPLATE:Ve(this,e);break;case Re.TEXT:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:this._insertCharacters(e);break;case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:at(this,e);break;case Re.IN_TABLE_TEXT:ct(this,e);break;case Re.IN_COLUMN_GROUP:_t(this,e);break;case Re.AFTER_BODY:Ct(this,e);break;case Re.AFTER_AFTER_BODY:St(this,e);}}onNullCharacter(e){if(this.skipNextNewLine=!1,this.tokenizer.inForeignNode)!function(e,t){t.chars=s,e._insertCharacters(t);}(this,e);else switch(this.insertionMode){case Re.INITIAL:Ge(this,e);break;case Re.BEFORE_HTML:we(this,e);break;case Re.BEFORE_HEAD:xe(this,e);break;case Re.IN_HEAD:Qe(this,e);break;case Re.IN_HEAD_NO_SCRIPT:qe(this,e);break;case Re.AFTER_HEAD:We(this,e);break;case Re.TEXT:this._insertCharacters(e);break;case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:at(this,e);break;case Re.IN_COLUMN_GROUP:_t(this,e);break;case Re.AFTER_BODY:Ct(this,e);break;case Re.AFTER_AFTER_BODY:St(this,e);}}onComment(e){if(this.skipNextNewLine=!1,this.currentNotInHTML)Ue(this,e);else switch(this.insertionMode){case Re.INITIAL:case Re.BEFORE_HTML:case Re.BEFORE_HEAD:case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:case Re.IN_BODY:case Re.IN_TABLE:case Re.IN_CAPTION:case Re.IN_COLUMN_GROUP:case Re.IN_TABLE_BODY:case Re.IN_ROW:case Re.IN_CELL:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:case Re.IN_TEMPLATE:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:Ue(this,e);break;case Re.IN_TABLE_TEXT:Et(this,e);break;case Re.AFTER_BODY:!function(e,t){e._appendCommentNode(t,e.openElements.items[0]);}(this,e);break;case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:!function(e,t){e._appendCommentNode(t,e.document);}(this,e);}}onDoctype(e){switch(this.skipNextNewLine=!1,this.insertionMode){case Re.INITIAL:!function(e,t){e._setDocumentType(t);const s=t.forceQuirks?u.QUIRKS:function(e){if(e.name!==ae)return u.QUIRKS;const{systemId:t}=e;if(t&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===t.toLowerCase())return u.QUIRKS;let{publicId:s}=e;if(null!==s){if(s=s.toLowerCase(),ie.has(s))return u.QUIRKS;let e=null===t?ne:re;if(Ee(s,e))return u.QUIRKS;if(e=null===t?oe:ce,Ee(s,e))return u.LIMITED_QUIRKS}return u.NO_QUIRKS}(t);(function(e){return e.name===ae&&null===e.publicId&&(null===e.systemId||"about:legacy-compat"===e.systemId)})(t)||e._err(t,T.nonConformingDoctype),e.treeAdapter.setDocumentMode(e.document,s),e.insertionMode=Re.BEFORE_HTML;}(this,e);break;case Re.BEFORE_HEAD:case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:this._err(e,T.misplacedDoctype);break;case Re.IN_TABLE_TEXT:Et(this,e);}}onStartTag(e){this.skipNextNewLine=!1,this.currentToken=e,this._processStartTag(e),e.selfClosing&&!e.ackSelfClosing&&this._err(e,T.nonVoidHtmlElementStartTagWithTrailingSolidus);}_processStartTag(e){this.shouldProcessStartTagTokenInForeignContent(e)?function(e,t){if(function(e){const t=e.tagID;return t===I.FONT&&e.attrs.some((({name:e})=>e===p.COLOR||e===p.SIZE||e===p.FACE))||pe.has(t)}(t))Dt(e),e._startTagOutsideForeignContent(t);else {const s=e._getAdjustedCurrentElement(),a=e.treeAdapter.getNamespaceURI(s);a===d.MATHML?ue(t):a===d.SVG&&(function(e){const t=de.get(e.tagName);null!=t&&(e.tagName=t,e.tagID=f(e.tagName));}(t),Ne(t)),Ie(t),t.selfClosing?e._appendElement(t,a):e._insertElement(t,a),t.ackSelfClosing=!0;}}(this,e):this._startTagOutsideForeignContent(e);}_startTagOutsideForeignContent(e){switch(this.insertionMode){case Re.INITIAL:Ge(this,e);break;case Re.BEFORE_HTML:!function(e,t){t.tagID===I.HTML?(e._insertElement(t,d.HTML),e.insertionMode=Re.BEFORE_HEAD):we(e,t);}(this,e);break;case Re.BEFORE_HEAD:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.HEAD:e._insertElement(t,d.HTML),e.headElement=e.openElements.current,e.insertionMode=Re.IN_HEAD;break;default:xe(e,t);}}(this,e);break;case Re.IN_HEAD:Ye(this,e);break;case Re.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.BASEFONT:case I.BGSOUND:case I.HEAD:case I.LINK:case I.META:case I.NOFRAMES:case I.STYLE:Ye(e,t);break;case I.NOSCRIPT:e._err(t,T.nestedNoscriptInHead);break;default:qe(e,t);}}(this,e);break;case Re.AFTER_HEAD:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.BODY:e._insertElement(t,d.HTML),e.framesetOk=!1,e.insertionMode=Re.IN_BODY;break;case I.FRAMESET:e._insertElement(t,d.HTML),e.insertionMode=Re.IN_FRAMESET;break;case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:case I.NOFRAMES:case I.SCRIPT:case I.STYLE:case I.TEMPLATE:case I.TITLE:e._err(t,T.abandonedHeadElementChild),e.openElements.push(e.headElement,I.HEAD),Ye(e,t),e.openElements.remove(e.headElement);break;case I.HEAD:e._err(t,T.misplacedStartTagForHeadElement);break;default:We(e,t);}}(this,e);break;case Re.IN_BODY:$e(this,e);break;case Re.IN_TABLE:rt(this,e);break;case Re.IN_TABLE_TEXT:Et(this,e);break;case Re.IN_CAPTION:!function(e,t){const s=t.tagID;Tt.has(s)?e.openElements.hasInTableScope(I.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(I.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Re.IN_TABLE,rt(e,t)):$e(e,t);}(this,e);break;case Re.IN_COLUMN_GROUP:ht(this,e);break;case Re.IN_TABLE_BODY:At(this,e);break;case Re.IN_ROW:mt(this,e);break;case Re.IN_CELL:!function(e,t){const s=t.tagID;Tt.has(s)?(e.openElements.hasInTableScope(I.TD)||e.openElements.hasInTableScope(I.TH))&&(e._closeTableCell(),mt(e,t)):$e(e,t);}(this,e);break;case Re.IN_SELECT:pt(this,e);break;case Re.IN_SELECT_IN_TABLE:!function(e,t){const s=t.tagID;s===I.CAPTION||s===I.TABLE||s===I.TBODY||s===I.TFOOT||s===I.THEAD||s===I.TR||s===I.TD||s===I.TH?(e.openElements.popUntilTagNamePopped(I.SELECT),e._resetInsertionMode(),e._processStartTag(t)):pt(e,t);}(this,e);break;case Re.IN_TEMPLATE:!function(e,t){switch(t.tagID){case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:case I.NOFRAMES:case I.SCRIPT:case I.STYLE:case I.TEMPLATE:case I.TITLE:Ye(e,t);break;case I.CAPTION:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:e.tmplInsertionModeStack[0]=Re.IN_TABLE,e.insertionMode=Re.IN_TABLE,rt(e,t);break;case I.COL:e.tmplInsertionModeStack[0]=Re.IN_COLUMN_GROUP,e.insertionMode=Re.IN_COLUMN_GROUP,ht(e,t);break;case I.TR:e.tmplInsertionModeStack[0]=Re.IN_TABLE_BODY,e.insertionMode=Re.IN_TABLE_BODY,At(e,t);break;case I.TD:case I.TH:e.tmplInsertionModeStack[0]=Re.IN_ROW,e.insertionMode=Re.IN_ROW,mt(e,t);break;default:e.tmplInsertionModeStack[0]=Re.IN_BODY,e.insertionMode=Re.IN_BODY,$e(e,t);}}(this,e);break;case Re.AFTER_BODY:!function(e,t){t.tagID===I.HTML?$e(e,t):Ct(e,t);}(this,e);break;case Re.IN_FRAMESET:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.FRAMESET:e._insertElement(t,d.HTML);break;case I.FRAME:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case I.NOFRAMES:Ye(e,t);}}(this,e);break;case Re.AFTER_FRAMESET:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.NOFRAMES:Ye(e,t);}}(this,e);break;case Re.AFTER_AFTER_BODY:!function(e,t){t.tagID===I.HTML?$e(e,t):St(e,t);}(this,e);break;case Re.AFTER_AFTER_FRAMESET:!function(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.NOFRAMES:Ye(e,t);}}(this,e);}}onEndTag(e){this.skipNextNewLine=!1,this.currentToken=e,this.currentNotInHTML?function(e,t){if(t.tagID===I.P||t.tagID===I.BR)return Dt(e),void e._endTagOutsideForeignContent(t);for(let s=e.openElements.stackTop;s>0;s--){const a=e.openElements.items[s];if(e.treeAdapter.getNamespaceURI(a)===d.HTML){e._endTagOutsideForeignContent(t);break}const r=e.treeAdapter.getTagName(a);if(r.toLowerCase()===t.tagName){t.tagName=r,e.openElements.shortenToLength(s);break}}}(this,e):this._endTagOutsideForeignContent(e);}_endTagOutsideForeignContent(e){switch(this.insertionMode){case Re.INITIAL:Ge(this,e);break;case Re.BEFORE_HTML:!function(e,t){const s=t.tagID;s!==I.HTML&&s!==I.HEAD&&s!==I.BODY&&s!==I.BR||we(e,t);}(this,e);break;case Re.BEFORE_HEAD:!function(e,t){const s=t.tagID;s===I.HEAD||s===I.BODY||s===I.HTML||s===I.BR?xe(e,t):e._err(t,T.endTagWithoutMatchingOpenElement);}(this,e);break;case Re.IN_HEAD:!function(e,t){switch(t.tagID){case I.HEAD:e.openElements.pop(),e.insertionMode=Re.AFTER_HEAD;break;case I.BODY:case I.BR:case I.HTML:Qe(e,t);break;case I.TEMPLATE:ve(e,t);break;default:e._err(t,T.endTagWithoutMatchingOpenElement);}}(this,e);break;case Re.IN_HEAD_NO_SCRIPT:!function(e,t){switch(t.tagID){case I.NOSCRIPT:e.openElements.pop(),e.insertionMode=Re.IN_HEAD;break;case I.BR:qe(e,t);break;default:e._err(t,T.endTagWithoutMatchingOpenElement);}}(this,e);break;case Re.AFTER_HEAD:!function(e,t){switch(t.tagID){case I.BODY:case I.HTML:case I.BR:We(e,t);break;case I.TEMPLATE:ve(e,t);break;default:e._err(t,T.endTagWithoutMatchingOpenElement);}}(this,e);break;case Re.IN_BODY:tt(this,e);break;case Re.TEXT:!function(e,t){var s;t.tagID===I.SCRIPT&&(null===(s=e.scriptHandler)||void 0===s||s.call(e,e.openElements.current)),e.openElements.pop(),e.insertionMode=e.originalInsertionMode;}(this,e);break;case Re.IN_TABLE:nt(this,e);break;case Re.IN_TABLE_TEXT:Et(this,e);break;case Re.IN_CAPTION:!function(e,t){const s=t.tagID;switch(s){case I.CAPTION:case I.TABLE:e.openElements.hasInTableScope(I.CAPTION)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(I.CAPTION),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Re.IN_TABLE,s===I.TABLE&&nt(e,t));break;case I.BODY:case I.COL:case I.COLGROUP:case I.HTML:case I.TBODY:case I.TD:case I.TFOOT:case I.TH:case I.THEAD:case I.TR:break;default:tt(e,t);}}(this,e);break;case Re.IN_COLUMN_GROUP:!function(e,t){switch(t.tagID){case I.COLGROUP:e.openElements.currentTagId===I.COLGROUP&&(e.openElements.pop(),e.insertionMode=Re.IN_TABLE);break;case I.TEMPLATE:ve(e,t);break;case I.COL:break;default:_t(e,t);}}(this,e);break;case Re.IN_TABLE_BODY:lt(this,e);break;case Re.IN_ROW:dt(this,e);break;case Re.IN_CELL:!function(e,t){const s=t.tagID;switch(s){case I.TD:case I.TH:e.openElements.hasInTableScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker(),e.insertionMode=Re.IN_ROW);break;case I.TABLE:case I.TBODY:case I.TFOOT:case I.THEAD:case I.TR:e.openElements.hasInTableScope(s)&&(e._closeTableCell(),dt(e,t));break;case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:break;default:tt(e,t);}}(this,e);break;case Re.IN_SELECT:ut(this,e);break;case Re.IN_SELECT_IN_TABLE:!function(e,t){const s=t.tagID;s===I.CAPTION||s===I.TABLE||s===I.TBODY||s===I.TFOOT||s===I.THEAD||s===I.TR||s===I.TD||s===I.TH?e.openElements.hasInTableScope(s)&&(e.openElements.popUntilTagNamePopped(I.SELECT),e._resetInsertionMode(),e.onEndTag(t)):ut(e,t);}(this,e);break;case Re.IN_TEMPLATE:!function(e,t){t.tagID===I.TEMPLATE&&ve(e,t);}(this,e);break;case Re.AFTER_BODY:It(this,e);break;case Re.IN_FRAMESET:!function(e,t){t.tagID!==I.FRAMESET||e.openElements.isRootHtmlElementCurrent()||(e.openElements.pop(),e.fragmentContext||e.openElements.currentTagId===I.FRAMESET||(e.insertionMode=Re.AFTER_FRAMESET));}(this,e);break;case Re.AFTER_FRAMESET:!function(e,t){t.tagID===I.HTML&&(e.insertionMode=Re.AFTER_AFTER_FRAMESET);}(this,e);break;case Re.AFTER_AFTER_BODY:St(this,e);}}onEof(e){switch(this.insertionMode){case Re.INITIAL:Ge(this,e);break;case Re.BEFORE_HTML:we(this,e);break;case Re.BEFORE_HEAD:xe(this,e);break;case Re.IN_HEAD:Qe(this,e);break;case Re.IN_HEAD_NO_SCRIPT:qe(this,e);break;case Re.AFTER_HEAD:We(this,e);break;case Re.IN_BODY:case Re.IN_TABLE:case Re.IN_CAPTION:case Re.IN_COLUMN_GROUP:case Re.IN_TABLE_BODY:case Re.IN_ROW:case Re.IN_CELL:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:st(this,e);break;case Re.TEXT:!function(e,t){e._err(t,T.eofInElementThatCanContainOnlyText),e.openElements.pop(),e.insertionMode=e.originalInsertionMode,e.onEof(t);}(this,e);break;case Re.IN_TABLE_TEXT:Et(this,e);break;case Re.IN_TEMPLATE:Nt(this,e);break;case Re.AFTER_BODY:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:ye(this,e);}}onWhitespaceCharacter(e){if(this.skipNextNewLine&&(this.skipNextNewLine=!1,e.chars.charCodeAt(0)===a.LINE_FEED)){if(1===e.chars.length)return;e.chars=e.chars.substr(1);}if(this.tokenizer.inForeignNode)this._insertCharacters(e);else switch(this.insertionMode){case Re.IN_HEAD:case Re.IN_HEAD_NO_SCRIPT:case Re.AFTER_HEAD:case Re.TEXT:case Re.IN_COLUMN_GROUP:case Re.IN_SELECT:case Re.IN_SELECT_IN_TABLE:case Re.IN_FRAMESET:case Re.AFTER_FRAMESET:this._insertCharacters(e);break;case Re.IN_BODY:case Re.IN_CAPTION:case Re.IN_CELL:case Re.IN_TEMPLATE:case Re.AFTER_BODY:case Re.AFTER_AFTER_BODY:case Re.AFTER_AFTER_FRAMESET:Ke(this,e);break;case Re.IN_TABLE:case Re.IN_TABLE_BODY:case Re.IN_ROW:at(this,e);break;case Re.IN_TABLE_TEXT:ot(this,e);}}}function ge(e,t){let s=e.activeFormattingElements.getElementEntryInScopeWithTagName(t.tagName);return s?e.openElements.contains(s.element)?e.openElements.hasInScope(t.tagID)||(s=null):(e.activeFormattingElements.removeEntry(s),s=null):et(e,t),s}function Pe(e,t){let s=null,a=e.openElements.stackTop;for(;a>=0;a--){const r=e.openElements.items[a];if(r===t.element)break;e._isSpecialElement(r,e.openElements.tagIDs[a])&&(s=r);}return s||(e.openElements.shortenToLength(a<0?0:a),e.activeFormattingElements.removeEntry(t)),s}function ke(e,t,s){let a=t,r=e.openElements.getCommonAncestor(t);for(let n=0,i=r;i!==s;n++,i=r){r=e.openElements.getCommonAncestor(i);const s=e.activeFormattingElements.getElementEntry(i),o=s&&n>=De;!s||o?(o&&e.activeFormattingElements.removeEntry(s),e.openElements.remove(i)):(i=be(e,s),a===t&&(e.activeFormattingElements.bookmark=s),e.treeAdapter.detachNode(a),e.treeAdapter.appendChild(i,a),a=i);}return a}function be(e,t){const s=e.treeAdapter.getNamespaceURI(t.element),a=e.treeAdapter.createElement(t.token.tagName,s,t.token.attrs);return e.openElements.replace(t.element,a),t.element=a,a}function Be(e,t,s){const a=f(e.treeAdapter.getTagName(t));if(e._isElementCausesFosterParenting(a))e._fosterParentElement(s);else {const r=e.treeAdapter.getNamespaceURI(t);a===I.TEMPLATE&&r===d.HTML&&(t=e.treeAdapter.getTemplateContent(t)),e.treeAdapter.appendChild(t,s);}}function He(e,t,s){const a=e.treeAdapter.getNamespaceURI(s.element),{token:r}=s,n=e.treeAdapter.createElement(r.tagName,a,r.attrs);e._adoptNodes(t,n),e.treeAdapter.appendChild(t,n),e.activeFormattingElements.insertElementAfterBookmark(n,r),e.activeFormattingElements.removeEntry(s),e.openElements.remove(s.element),e.openElements.insertAfter(t,n,r.tagID);}function Fe(e,t){for(let s=0;s<Se;s++){const s=ge(e,t);if(!s)break;const a=Pe(e,s);if(!a)break;e.activeFormattingElements.bookmark=s;const r=ke(e,a,s.element),n=e.openElements.getCommonAncestor(s.element);e.treeAdapter.detachNode(r),n&&Be(e,n,r),He(e,a,s);}}function Ue(e,t){e._appendCommentNode(t,e.openElements.currentTmplContentOrNode);}function ye(e,t){if(e.stopped=!0,t.location){const s=e.fragmentContext?0:2;for(let a=e.openElements.stackTop;a>=s;a--)e._setEndLocation(e.openElements.items[a],t);if(!e.fragmentContext&&e.openElements.stackTop>=0){const s=e.openElements.items[0],a=e.treeAdapter.getNodeSourceCodeLocation(s);if(a&&!a.endTag&&(e._setEndLocation(s,t),e.openElements.stackTop>=1)){const s=e.openElements.items[1],a=e.treeAdapter.getNodeSourceCodeLocation(s);a&&!a.endTag&&e._setEndLocation(s,t);}}}}function Ge(e,t){e._err(t,T.missingDoctype,!0),e.treeAdapter.setDocumentMode(e.document,u.QUIRKS),e.insertionMode=Re.BEFORE_HTML,e._processToken(t);}function we(e,t){e._insertFakeRootElement(),e.insertionMode=Re.BEFORE_HEAD,e._processToken(t);}function xe(e,t){e._insertFakeElement(N.HEAD,I.HEAD),e.headElement=e.openElements.current,e.insertionMode=Re.IN_HEAD,e._processToken(t);}function Ye(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.BASE:case I.BASEFONT:case I.BGSOUND:case I.LINK:case I.META:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case I.TITLE:e._switchToTextParsing(t,b.RCDATA);break;case I.NOSCRIPT:e.options.scriptingEnabled?e._switchToTextParsing(t,b.RAWTEXT):(e._insertElement(t,d.HTML),e.insertionMode=Re.IN_HEAD_NO_SCRIPT);break;case I.NOFRAMES:case I.STYLE:e._switchToTextParsing(t,b.RAWTEXT);break;case I.SCRIPT:e._switchToTextParsing(t,b.SCRIPT_DATA);break;case I.TEMPLATE:e._insertTemplate(t),e.activeFormattingElements.insertMarker(),e.framesetOk=!1,e.insertionMode=Re.IN_TEMPLATE,e.tmplInsertionModeStack.unshift(Re.IN_TEMPLATE);break;case I.HEAD:e._err(t,T.misplacedStartTagForHeadElement);break;default:Qe(e,t);}}function ve(e,t){e.openElements.tmplCount>0?(e.openElements.generateImpliedEndTagsThoroughly(),e.openElements.currentTagId!==I.TEMPLATE&&e._err(t,T.closingOfElementWithOpenChildElements),e.openElements.popUntilTagNamePopped(I.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode()):e._err(t,T.endTagWithoutMatchingOpenElement);}function Qe(e,t){e.openElements.pop(),e.insertionMode=Re.AFTER_HEAD,e._processToken(t);}function qe(e,t){const s=t.type===h.EOF?T.openElementsLeftAfterEof:T.disallowedContentInNoscriptInHead;e._err(t,s),e.openElements.pop(),e.insertionMode=Re.IN_HEAD,e._processToken(t);}function We(e,t){e._insertFakeElement(N.BODY,I.BODY),e.insertionMode=Re.IN_BODY,Xe(e,t);}function Xe(e,t){switch(t.type){case h.CHARACTER:Ve(e,t);break;case h.WHITESPACE_CHARACTER:Ke(e,t);break;case h.COMMENT:Ue(e,t);break;case h.START_TAG:$e(e,t);break;case h.END_TAG:tt(e,t);break;case h.EOF:st(e,t);}}function Ke(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t);}function Ve(e,t){e._reconstructActiveFormattingElements(),e._insertCharacters(t),e.framesetOk=!1;}function je(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,d.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}function ze(e){const t=A(e,p.TYPE);return null!=t&&t.toLowerCase()===Ce}function Je(e,t){e._switchToTextParsing(t,b.RAWTEXT);}function Ze(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML);}function $e(e,t){switch(t.tagID){case I.I:case I.S:case I.B:case I.U:case I.EM:case I.TT:case I.BIG:case I.CODE:case I.FONT:case I.SMALL:case I.STRIKE:case I.STRONG:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case I.A:!function(e,t){const s=e.activeFormattingElements.getElementEntryInScopeWithTagName(N.A);s&&(Fe(e,t),e.openElements.remove(s.element),e.activeFormattingElements.removeEntry(s)),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case I.H1:case I.H2:case I.H3:case I.H4:case I.H5:case I.H6:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),g(e.openElements.currentTagId)&&e.openElements.pop(),e._insertElement(t,d.HTML);}(e,t);break;case I.P:case I.DL:case I.OL:case I.UL:case I.DIV:case I.DIR:case I.NAV:case I.MAIN:case I.MENU:case I.ASIDE:case I.CENTER:case I.FIGURE:case I.FOOTER:case I.HEADER:case I.HGROUP:case I.DIALOG:case I.DETAILS:case I.ADDRESS:case I.ARTICLE:case I.SECTION:case I.SUMMARY:case I.FIELDSET:case I.BLOCKQUOTE:case I.FIGCAPTION:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML);}(e,t);break;case I.LI:case I.DD:case I.DT:!function(e,t){e.framesetOk=!1;const s=t.tagID;for(let t=e.openElements.stackTop;t>=0;t--){const a=e.openElements.tagIDs[t];if(s===I.LI&&a===I.LI||(s===I.DD||s===I.DT)&&(a===I.DD||a===I.DT)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.popUntilTagNamePopped(a);break}if(a!==I.ADDRESS&&a!==I.DIV&&a!==I.P&&e._isSpecialElement(e.openElements.items[t],a))break}e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML);}(e,t);break;case I.BR:case I.IMG:case I.WBR:case I.AREA:case I.EMBED:case I.KEYGEN:je(e,t);break;case I.HR:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._appendElement(t,d.HTML),e.framesetOk=!1,t.ackSelfClosing=!0;}(e,t);break;case I.RB:case I.RTC:!function(e,t){e.openElements.hasInScope(I.RUBY)&&e.openElements.generateImpliedEndTags(),e._insertElement(t,d.HTML);}(e,t);break;case I.RT:case I.RP:!function(e,t){e.openElements.hasInScope(I.RUBY)&&e.openElements.generateImpliedEndTagsWithExclusion(I.RTC),e._insertElement(t,d.HTML);}(e,t);break;case I.PRE:case I.LISTING:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.skipNextNewLine=!0,e.framesetOk=!1;}(e,t);break;case I.XMP:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._reconstructActiveFormattingElements(),e.framesetOk=!1,e._switchToTextParsing(t,b.RAWTEXT);}(e,t);break;case I.SVG:!function(e,t){e._reconstructActiveFormattingElements(),Ne(t),Ie(t),t.selfClosing?e._appendElement(t,d.SVG):e._insertElement(t,d.SVG),t.ackSelfClosing=!0;}(e,t);break;case I.HTML:!function(e,t){0===e.openElements.tmplCount&&e.treeAdapter.adoptAttributes(e.openElements.items[0],t.attrs);}(e,t);break;case I.BASE:case I.LINK:case I.META:case I.STYLE:case I.TITLE:case I.SCRIPT:case I.BGSOUND:case I.BASEFONT:case I.TEMPLATE:Ye(e,t);break;case I.BODY:!function(e,t){const s=e.openElements.tryPeekProperlyNestedBodyElement();s&&0===e.openElements.tmplCount&&(e.framesetOk=!1,e.treeAdapter.adoptAttributes(s,t.attrs));}(e,t);break;case I.FORM:!function(e,t){const s=e.openElements.tmplCount>0;e.formElement&&!s||(e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML),s||(e.formElement=e.openElements.current));}(e,t);break;case I.NOBR:!function(e,t){e._reconstructActiveFormattingElements(),e.openElements.hasInScope(I.NOBR)&&(Fe(e,t),e._reconstructActiveFormattingElements()),e._insertElement(t,d.HTML),e.activeFormattingElements.pushElement(e.openElements.current,t);}(e,t);break;case I.MATH:!function(e,t){e._reconstructActiveFormattingElements(),ue(t),Ie(t),t.selfClosing?e._appendElement(t,d.MATHML):e._insertElement(t,d.MATHML),t.ackSelfClosing=!0;}(e,t);break;case I.TABLE:!function(e,t){e.treeAdapter.getDocumentMode(e.document)!==u.QUIRKS&&e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.framesetOk=!1,e.insertionMode=Re.IN_TABLE;}(e,t);break;case I.INPUT:!function(e,t){e._reconstructActiveFormattingElements(),e._appendElement(t,d.HTML),ze(t)||(e.framesetOk=!1),t.ackSelfClosing=!0;}(e,t);break;case I.PARAM:case I.TRACK:case I.SOURCE:!function(e,t){e._appendElement(t,d.HTML),t.ackSelfClosing=!0;}(e,t);break;case I.IMAGE:!function(e,t){t.tagName=N.IMG,t.tagID=I.IMG,je(e,t);}(e,t);break;case I.BUTTON:!function(e,t){e.openElements.hasInScope(I.BUTTON)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(I.BUTTON)),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.framesetOk=!1;}(e,t);break;case I.APPLET:case I.OBJECT:case I.MARQUEE:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.activeFormattingElements.insertMarker(),e.framesetOk=!1;}(e,t);break;case I.IFRAME:!function(e,t){e.framesetOk=!1,e._switchToTextParsing(t,b.RAWTEXT);}(e,t);break;case I.SELECT:!function(e,t){e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML),e.framesetOk=!1,e.insertionMode=e.insertionMode===Re.IN_TABLE||e.insertionMode===Re.IN_CAPTION||e.insertionMode===Re.IN_TABLE_BODY||e.insertionMode===Re.IN_ROW||e.insertionMode===Re.IN_CELL?Re.IN_SELECT_IN_TABLE:Re.IN_SELECT;}(e,t);break;case I.OPTION:case I.OPTGROUP:!function(e,t){e.openElements.currentTagId===I.OPTION&&e.openElements.pop(),e._reconstructActiveFormattingElements(),e._insertElement(t,d.HTML);}(e,t);break;case I.NOEMBED:Je(e,t);break;case I.FRAMESET:!function(e,t){const s=e.openElements.tryPeekProperlyNestedBodyElement();e.framesetOk&&s&&(e.treeAdapter.detachNode(s),e.openElements.popAllUpToHtmlElement(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_FRAMESET);}(e,t);break;case I.TEXTAREA:!function(e,t){e._insertElement(t,d.HTML),e.skipNextNewLine=!0,e.tokenizer.state=b.RCDATA,e.originalInsertionMode=e.insertionMode,e.framesetOk=!1,e.insertionMode=Re.TEXT;}(e,t);break;case I.NOSCRIPT:e.options.scriptingEnabled?Je(e,t):Ze(e,t);break;case I.PLAINTEXT:!function(e,t){e.openElements.hasInButtonScope(I.P)&&e._closePElement(),e._insertElement(t,d.HTML),e.tokenizer.state=b.PLAINTEXT;}(e,t);break;case I.COL:case I.TH:case I.TD:case I.TR:case I.HEAD:case I.FRAME:case I.TBODY:case I.TFOOT:case I.THEAD:case I.CAPTION:case I.COLGROUP:break;default:Ze(e,t);}}function et(e,t){const s=t.tagName,a=t.tagID;for(let t=e.openElements.stackTop;t>0;t--){const r=e.openElements.items[t],n=e.openElements.tagIDs[t];if(a===n&&(a!==I.UNKNOWN||e.treeAdapter.getTagName(r)===s)){e.openElements.generateImpliedEndTagsWithExclusion(a),e.openElements.stackTop>=t&&e.openElements.shortenToLength(t);break}if(e._isSpecialElement(r,n))break}}function tt(e,t){switch(t.tagID){case I.A:case I.B:case I.I:case I.S:case I.U:case I.EM:case I.TT:case I.BIG:case I.CODE:case I.FONT:case I.NOBR:case I.SMALL:case I.STRIKE:case I.STRONG:Fe(e,t);break;case I.P:!function(e){e.openElements.hasInButtonScope(I.P)||e._insertFakeElement(N.P,I.P),e._closePElement();}(e);break;case I.DL:case I.UL:case I.OL:case I.DIR:case I.DIV:case I.NAV:case I.PRE:case I.MAIN:case I.MENU:case I.ASIDE:case I.BUTTON:case I.CENTER:case I.FIGURE:case I.FOOTER:case I.HEADER:case I.HGROUP:case I.DIALOG:case I.ADDRESS:case I.ARTICLE:case I.DETAILS:case I.SECTION:case I.SUMMARY:case I.LISTING:case I.FIELDSET:case I.BLOCKQUOTE:case I.FIGCAPTION:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s));}(e,t);break;case I.LI:!function(e){e.openElements.hasInListItemScope(I.LI)&&(e.openElements.generateImpliedEndTagsWithExclusion(I.LI),e.openElements.popUntilTagNamePopped(I.LI));}(e);break;case I.DD:case I.DT:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTagsWithExclusion(s),e.openElements.popUntilTagNamePopped(s));}(e,t);break;case I.H1:case I.H2:case I.H3:case I.H4:case I.H5:case I.H6:!function(e){e.openElements.hasNumberedHeaderInScope()&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilNumberedHeaderPopped());}(e);break;case I.BR:!function(e){e._reconstructActiveFormattingElements(),e._insertFakeElement(N.BR,I.BR),e.openElements.pop(),e.framesetOk=!1;}(e);break;case I.BODY:!function(e,t){if(e.openElements.hasInScope(I.BODY)&&(e.insertionMode=Re.AFTER_BODY,e.options.sourceCodeLocationInfo)){const s=e.openElements.tryPeekProperlyNestedBodyElement();s&&e._setEndLocation(s,t);}}(e,t);break;case I.HTML:!function(e,t){e.openElements.hasInScope(I.BODY)&&(e.insertionMode=Re.AFTER_BODY,It(e,t));}(e,t);break;case I.FORM:!function(e){const t=e.openElements.tmplCount>0,{formElement:s}=e;t||(e.formElement=null),(s||t)&&e.openElements.hasInScope(I.FORM)&&(e.openElements.generateImpliedEndTags(),t?e.openElements.popUntilTagNamePopped(I.FORM):s&&e.openElements.remove(s));}(e);break;case I.APPLET:case I.OBJECT:case I.MARQUEE:!function(e,t){const s=t.tagID;e.openElements.hasInScope(s)&&(e.openElements.generateImpliedEndTags(),e.openElements.popUntilTagNamePopped(s),e.activeFormattingElements.clearToLastMarker());}(e,t);break;case I.TEMPLATE:ve(e,t);break;default:et(e,t);}}function st(e,t){e.tmplInsertionModeStack.length>0?Nt(e,t):ye(e,t);}function at(e,t){if(fe.has(e.openElements.currentTagId))switch(e.pendingCharacterTokens.length=0,e.hasNonWhitespacePendingCharacterToken=!1,e.originalInsertionMode=e.insertionMode,e.insertionMode=Re.IN_TABLE_TEXT,t.type){case h.CHARACTER:ct(e,t);break;case h.WHITESPACE_CHARACTER:ot(e,t);}else it(e,t);}function rt(e,t){switch(t.tagID){case I.TD:case I.TH:case I.TR:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(N.TBODY,I.TBODY),e.insertionMode=Re.IN_TABLE_BODY,At(e,t);}(e,t);break;case I.STYLE:case I.SCRIPT:case I.TEMPLATE:Ye(e,t);break;case I.COL:!function(e,t){e.openElements.clearBackToTableContext(),e._insertFakeElement(N.COLGROUP,I.COLGROUP),e.insertionMode=Re.IN_COLUMN_GROUP,ht(e,t);}(e,t);break;case I.FORM:!function(e,t){e.formElement||0!==e.openElements.tmplCount||(e._insertElement(t,d.HTML),e.formElement=e.openElements.current,e.openElements.pop());}(e,t);break;case I.TABLE:!function(e,t){e.openElements.hasInTableScope(I.TABLE)&&(e.openElements.popUntilTagNamePopped(I.TABLE),e._resetInsertionMode(),e._processStartTag(t));}(e,t);break;case I.TBODY:case I.TFOOT:case I.THEAD:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_TABLE_BODY;}(e,t);break;case I.INPUT:!function(e,t){ze(t)?e._appendElement(t,d.HTML):it(e,t),t.ackSelfClosing=!0;}(e,t);break;case I.CAPTION:!function(e,t){e.openElements.clearBackToTableContext(),e.activeFormattingElements.insertMarker(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_CAPTION;}(e,t);break;case I.COLGROUP:!function(e,t){e.openElements.clearBackToTableContext(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_COLUMN_GROUP;}(e,t);break;default:it(e,t);}}function nt(e,t){switch(t.tagID){case I.TABLE:e.openElements.hasInTableScope(I.TABLE)&&(e.openElements.popUntilTagNamePopped(I.TABLE),e._resetInsertionMode());break;case I.TEMPLATE:ve(e,t);break;case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TBODY:case I.TD:case I.TFOOT:case I.TH:case I.THEAD:case I.TR:break;default:it(e,t);}}function it(e,t){const s=e.fosterParentingEnabled;e.fosterParentingEnabled=!0,Xe(e,t),e.fosterParentingEnabled=s;}function ot(e,t){e.pendingCharacterTokens.push(t);}function ct(e,t){e.pendingCharacterTokens.push(t),e.hasNonWhitespacePendingCharacterToken=!0;}function Et(e,t){let s=0;if(e.hasNonWhitespacePendingCharacterToken)for(;s<e.pendingCharacterTokens.length;s++)it(e,e.pendingCharacterTokens[s]);else for(;s<e.pendingCharacterTokens.length;s++)e._insertCharacters(e.pendingCharacterTokens[s]);e.insertionMode=e.originalInsertionMode,e._processToken(t);}const Tt=new Set([I.CAPTION,I.COL,I.COLGROUP,I.TBODY,I.TD,I.TFOOT,I.TH,I.THEAD,I.TR]);function ht(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.COL:e._appendElement(t,d.HTML),t.ackSelfClosing=!0;break;case I.TEMPLATE:Ye(e,t);break;default:_t(e,t);}}function _t(e,t){e.openElements.currentTagId===I.COLGROUP&&(e.openElements.pop(),e.insertionMode=Re.IN_TABLE,e._processToken(t));}function At(e,t){switch(t.tagID){case I.TR:e.openElements.clearBackToTableBodyContext(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_ROW;break;case I.TH:case I.TD:e.openElements.clearBackToTableBodyContext(),e._insertFakeElement(N.TR,I.TR),e.insertionMode=Re.IN_ROW,mt(e,t);break;case I.CAPTION:case I.COL:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE,rt(e,t));break;default:rt(e,t);}}function lt(e,t){const s=t.tagID;switch(t.tagID){case I.TBODY:case I.TFOOT:case I.THEAD:e.openElements.hasInTableScope(s)&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE);break;case I.TABLE:e.openElements.hasTableBodyContextInTableScope()&&(e.openElements.clearBackToTableBodyContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE,nt(e,t));break;case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TD:case I.TH:case I.TR:break;default:nt(e,t);}}function mt(e,t){switch(t.tagID){case I.TH:case I.TD:e.openElements.clearBackToTableRowContext(),e._insertElement(t,d.HTML),e.insertionMode=Re.IN_CELL,e.activeFormattingElements.insertMarker();break;case I.CAPTION:case I.COL:case I.COLGROUP:case I.TBODY:case I.TFOOT:case I.THEAD:case I.TR:e.openElements.hasInTableScope(I.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE_BODY,At(e,t));break;default:rt(e,t);}}function dt(e,t){switch(t.tagID){case I.TR:e.openElements.hasInTableScope(I.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE_BODY);break;case I.TABLE:e.openElements.hasInTableScope(I.TR)&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE_BODY,lt(e,t));break;case I.TBODY:case I.TFOOT:case I.THEAD:(e.openElements.hasInTableScope(t.tagID)||e.openElements.hasInTableScope(I.TR))&&(e.openElements.clearBackToTableRowContext(),e.openElements.pop(),e.insertionMode=Re.IN_TABLE_BODY,lt(e,t));break;case I.BODY:case I.CAPTION:case I.COL:case I.COLGROUP:case I.HTML:case I.TD:case I.TH:break;default:nt(e,t);}}function pt(e,t){switch(t.tagID){case I.HTML:$e(e,t);break;case I.OPTION:e.openElements.currentTagId===I.OPTION&&e.openElements.pop(),e._insertElement(t,d.HTML);break;case I.OPTGROUP:e.openElements.currentTagId===I.OPTION&&e.openElements.pop(),e.openElements.currentTagId===I.OPTGROUP&&e.openElements.pop(),e._insertElement(t,d.HTML);break;case I.INPUT:case I.KEYGEN:case I.TEXTAREA:case I.SELECT:e.openElements.hasInSelectScope(I.SELECT)&&(e.openElements.popUntilTagNamePopped(I.SELECT),e._resetInsertionMode(),t.tagID!==I.SELECT&&e._processStartTag(t));break;case I.SCRIPT:case I.TEMPLATE:Ye(e,t);}}function ut(e,t){switch(t.tagID){case I.OPTGROUP:e.openElements.stackTop>0&&e.openElements.currentTagId===I.OPTION&&e.openElements.tagIDs[e.openElements.stackTop-1]===I.OPTGROUP&&e.openElements.pop(),e.openElements.currentTagId===I.OPTGROUP&&e.openElements.pop();break;case I.OPTION:e.openElements.currentTagId===I.OPTION&&e.openElements.pop();break;case I.SELECT:e.openElements.hasInSelectScope(I.SELECT)&&(e.openElements.popUntilTagNamePopped(I.SELECT),e._resetInsertionMode());break;case I.TEMPLATE:ve(e,t);}}function Nt(e,t){e.openElements.tmplCount>0?(e.openElements.popUntilTagNamePopped(I.TEMPLATE),e.activeFormattingElements.clearToLastMarker(),e.tmplInsertionModeStack.shift(),e._resetInsertionMode(),e.onEof(t)):ye(e,t);}function It(e,t){var s;if(t.tagID===I.HTML){if(e.fragmentContext||(e.insertionMode=Re.AFTER_AFTER_BODY),e.options.sourceCodeLocationInfo&&e.openElements.tagIDs[0]===I.HTML){e._setEndLocation(e.openElements.items[0],t);const a=e.openElements.items[1];a&&!(null===(s=e.treeAdapter.getNodeSourceCodeLocation(a))||void 0===s?void 0:s.endTag)&&e._setEndLocation(a,t);}}else Ct(e,t);}function Ct(e,t){e.insertionMode=Re.IN_BODY,Xe(e,t);}function St(e,t){e.insertionMode=Re.IN_BODY,Xe(e,t);}function Dt(e){for(;e.treeAdapter.getNamespaceURI(e.openElements.current)!==d.HTML&&!e._isIntegrationPoint(e.openElements.currentTagId,e.openElements.current);)e.openElements.pop();}return new Set([N.AREA,N.BASE,N.BASEFONT,N.BGSOUND,N.BR,N.COL,N.EMBED,N.FRAME,N.HR,N.IMG,N.INPUT,N.KEYGEN,N.LINK,N.META,N.PARAM,N.SOURCE,N.TRACK,N.WBR]),e.parse=function(e,t){return Me.parse(e,t)},e.parseFragment=function(e,t,s){"string"==typeof e&&(s=t,t=e,e=null);const a=Me.getFragmentParser(e,s);return a.tokenizer.write(t,!0),a.getFragment()},Object.defineProperty(e,"__esModule",{value:!0}),e}({});const parse=e.parse;const parseFragment=e.parseFragment;

const docParser = new WeakMap();
function parseDocumentUtil(ownerDocument, html) {
    const doc = parse(html.trim(), getParser(ownerDocument));
    doc.documentElement = doc.firstElementChild;
    doc.head = doc.documentElement.firstElementChild;
    doc.body = doc.head.nextElementSibling;
    return doc;
}
function parseFragmentUtil(ownerDocument, html) {
    if (typeof html === 'string') {
        html = html.trim();
    }
    else {
        html = '';
    }
    const frag = parseFragment(html, getParser(ownerDocument));
    return frag;
}
function getParser(ownerDocument) {
    let parseOptions = docParser.get(ownerDocument);
    if (parseOptions != null) {
        return parseOptions;
    }
    const treeAdapter = {
        createDocument() {
            const doc = ownerDocument.createElement("#document" /* NODE_NAMES.DOCUMENT_NODE */);
            doc['x-mode'] = 'no-quirks';
            return doc;
        },
        setNodeSourceCodeLocation(node, location) {
            node.sourceCodeLocation = location;
        },
        getNodeSourceCodeLocation(node) {
            return node.sourceCodeLocation;
        },
        createDocumentFragment() {
            return ownerDocument.createDocumentFragment();
        },
        createElement(tagName, namespaceURI, attrs) {
            const elm = ownerDocument.createElementNS(namespaceURI, tagName);
            for (let i = 0; i < attrs.length; i++) {
                const attr = attrs[i];
                if (attr.namespace == null || attr.namespace === 'http://www.w3.org/1999/xhtml') {
                    elm.setAttribute(attr.name, attr.value);
                }
                else {
                    elm.setAttributeNS(attr.namespace, attr.name, attr.value);
                }
            }
            return elm;
        },
        createCommentNode(data) {
            return ownerDocument.createComment(data);
        },
        appendChild(parentNode, newNode) {
            parentNode.appendChild(newNode);
        },
        insertBefore(parentNode, newNode, referenceNode) {
            parentNode.insertBefore(newNode, referenceNode);
        },
        setTemplateContent(templateElement, contentElement) {
            templateElement.content = contentElement;
        },
        getTemplateContent(templateElement) {
            return templateElement.content;
        },
        setDocumentType(doc, name, publicId, systemId) {
            let doctypeNode = doc.childNodes.find((n) => n.nodeType === 10 /* NODE_TYPES.DOCUMENT_TYPE_NODE */);
            if (doctypeNode == null) {
                doctypeNode = ownerDocument.createDocumentTypeNode();
                doc.insertBefore(doctypeNode, doc.firstChild);
            }
            doctypeNode.nodeValue = '!DOCTYPE';
            doctypeNode['x-name'] = name;
            doctypeNode['x-publicId'] = publicId;
            doctypeNode['x-systemId'] = systemId;
        },
        setDocumentMode(doc, mode) {
            doc['x-mode'] = mode;
        },
        getDocumentMode(doc) {
            return doc['x-mode'];
        },
        detachNode(node) {
            node.remove();
        },
        insertText(parentNode, text) {
            const lastChild = parentNode.lastChild;
            if (lastChild != null && lastChild.nodeType === 3 /* NODE_TYPES.TEXT_NODE */) {
                lastChild.nodeValue += text;
            }
            else {
                parentNode.appendChild(ownerDocument.createTextNode(text));
            }
        },
        insertTextBefore(parentNode, text, referenceNode) {
            const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];
            if (prevNode != null && prevNode.nodeType === 3 /* NODE_TYPES.TEXT_NODE */) {
                prevNode.nodeValue += text;
            }
            else {
                parentNode.insertBefore(ownerDocument.createTextNode(text), referenceNode);
            }
        },
        adoptAttributes(recipient, attrs) {
            for (let i = 0; i < attrs.length; i++) {
                const attr = attrs[i];
                if (recipient.hasAttributeNS(attr.namespace, attr.name) === false) {
                    recipient.setAttributeNS(attr.namespace, attr.name, attr.value);
                }
            }
        },
        getFirstChild(node) {
            return node.childNodes[0];
        },
        getChildNodes(node) {
            return node.childNodes;
        },
        getParentNode(node) {
            return node.parentNode;
        },
        getAttrList(element) {
            const attrs = element.attributes.__items.map((attr) => {
                return {
                    name: attr.name,
                    value: attr.value,
                    namespace: attr.namespaceURI,
                    prefix: null,
                };
            });
            return attrs;
        },
        getTagName(element) {
            if (element.namespaceURI === 'http://www.w3.org/1999/xhtml') {
                return element.nodeName.toLowerCase();
            }
            else {
                return element.nodeName;
            }
        },
        getNamespaceURI(element) {
            // mock-doc widens the type of an element's namespace uri to 'string | null'
            // we use a type assertion here to adhere to parse5's type definitions
            return element.namespaceURI;
        },
        getTextNodeContent(textNode) {
            return textNode.nodeValue;
        },
        getCommentNodeContent(commentNode) {
            return commentNode.nodeValue;
        },
        getDocumentTypeNodeName(doctypeNode) {
            return doctypeNode['x-name'];
        },
        getDocumentTypeNodePublicId(doctypeNode) {
            return doctypeNode['x-publicId'];
        },
        getDocumentTypeNodeSystemId(doctypeNode) {
            return doctypeNode['x-systemId'];
        },
        // @ts-ignore - a `MockNode` will never be assignable to a `TreeAdapterTypeMap['text']`. As a result, we cannot
        // complete this function signature
        isTextNode(node) {
            return node.nodeType === 3 /* NODE_TYPES.TEXT_NODE */;
        },
        // @ts-ignore - a `MockNode` will never be assignable to a `TreeAdapterTypeMap['comment']`. As a result, we cannot
        // complete this function signature (which requires its return type to be a type predicate)
        isCommentNode(node) {
            return node.nodeType === 8 /* NODE_TYPES.COMMENT_NODE */;
        },
        // @ts-ignore - a `MockNode` will never be assignable to a `TreeAdapterTypeMap['document']`. As a result, we cannot
        // complete this function signature (which requires its return type to be a type predicate)
        isDocumentTypeNode(node) {
            return node.nodeType === 10 /* NODE_TYPES.DOCUMENT_TYPE_NODE */;
        },
        // @ts-ignore - a `MockNode` will never be assignable to a `TreeAdapterTypeMap['element']`. As a result, we cannot
        // complete this function signature (which requires its return type to be a type predicate)
        isElementNode(node) {
            return node.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */;
        },
    };
    parseOptions = {
        treeAdapter: treeAdapter,
    };
    docParser.set(ownerDocument, parseOptions);
    return parseOptions;
}

/* eslint-disable */
// @ts-nocheck
/**
 * ATTENTION: DO NOT MODIFY THIS FILE
 *
 * This file is generated by "scripts/updateSelectorEngine.ts" and can be overwritten
 * at any time. Don't make changes in here as they will get lost!
 */
const jQuery = /*!
 * jQuery JavaScript Library v4.0.0-pre+9352011a7.dirty +selector
 * https://jquery.com/
 *
 * Copyright OpenJS Foundation and other contributors
 * Released under the MIT license
 * https://jquery.org/license
 *
 * Date: 2023-12-11T17:55Z
 */ (function (global, factory) {
    {
        // For CommonJS and CommonJS-like environments where a proper `window`
        // is present, execute the factory and get jQuery.
        return factory(global, true);
    }
    // Pass this if window is not defined yet
})({
    document: {
        createElement() {
            return {};
        },
        nodeType: 9,
        documentElement: {
            nodeType: 1,
            nodeName: 'HTML'
        }
    }
}, function (window, noGlobal) {
    if (!window.document) {
        throw new Error("jQuery requires a window with a document");
    }
    var arr = [];
    var getProto = Object.getPrototypeOf;
    var slice = arr.slice;
    // Support: IE 11+
    // IE doesn't have Array#flat; provide a fallback.
    var flat = arr.flat ? function (array) {
        return arr.flat.call(array);
    } : function (array) {
        return arr.concat.apply([], array);
    };
    var push = arr.push;
    var indexOf = arr.indexOf;
    // [[Class]] -> type pairs
    var class2type = {};
    var toString = class2type.toString;
    var hasOwn = class2type.hasOwnProperty;
    var fnToString = hasOwn.toString;
    var ObjectFunctionString = fnToString.call(Object);
    // All support tests are defined in their respective modules.
    var support = {};
    function toType(obj) {
        if (obj == null) {
            return obj + "";
        }
        return typeof obj === "object" ?
            class2type[toString.call(obj)] || "object" :
            typeof obj;
    }
    function isWindow(obj) {
        return obj != null && obj === obj.window;
    }
    function isArrayLike(obj) {
        var length = !!obj && obj.length, type = toType(obj);
        if (typeof obj === "function" || isWindow(obj)) {
            return false;
        }
        return type === "array" || length === 0 ||
            typeof length === "number" && length > 0 && (length - 1) in obj;
    }
    var document = window.document;
    var preservedScriptAttributes = {
        type: true,
        src: true,
        nonce: true,
        noModule: true
    };
    function DOMEval(code, node, doc) {
        doc = doc || document;
        var i, script = doc.createElement("script");
        script.text = code;
        if (node) {
            for (i in preservedScriptAttributes) {
                if (node[i]) {
                    script[i] = node[i];
                }
            }
        }
        doc.head.appendChild(script).parentNode.removeChild(script);
    }
    const jQuery = {};
    var version = "4.0.0-pre+9352011a7.dirty +selector", rhtmlSuffix = /HTML$/i; 
    jQuery.fn = jQuery.prototype = {
        // The current version of jQuery being used
        jquery: version,
        constructor: jQuery,
        // The default length of a jQuery object is 0
        length: 0,
        toArray: function () {
            return slice.call(this);
        },
        // Get the Nth element in the matched element set OR
        // Get the whole matched element set as a clean array
        get: function (num) {
            // Return all the elements in a clean array
            if (num == null) {
                return slice.call(this);
            }
            // Return just the one element from the set
            return num < 0 ? this[num + this.length] : this[num];
        },
        // Take an array of elements and push it onto the stack
        // (returning the new matched element set)
        pushStack: function (elems) {
            // Build a new jQuery matched element set
            var ret = jQuery.merge(this.constructor(), elems);
            // Add the old object onto the stack (as a reference)
            ret.prevObject = this;
            // Return the newly-formed element set
            return ret;
        },
        // Execute a callback for every element in the matched set.
        each: function (callback) {
            return jQuery.each(this, callback);
        },
        map: function (callback) {
            return this.pushStack(jQuery.map(this, function (elem, i) {
                return callback.call(elem, i, elem);
            }));
        },
        slice: function () {
            return this.pushStack(slice.apply(this, arguments));
        },
        first: function () {
            return this.eq(0);
        },
        last: function () {
            return this.eq(-1);
        },
        even: function () {
            return this.pushStack(jQuery.grep(this, function (_elem, i) {
                return (i + 1) % 2;
            }));
        },
        odd: function () {
            return this.pushStack(jQuery.grep(this, function (_elem, i) {
                return i % 2;
            }));
        },
        eq: function (i) {
            var len = this.length, j = +i + (i < 0 ? len : 0);
            return this.pushStack(j >= 0 && j < len ? [this[j]] : []);
        },
        end: function () {
            return this.prevObject || this.constructor();
        }
    };
    jQuery.extend = jQuery.fn.extend = function () {
        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {}, i = 1, length = arguments.length, deep = false;
        // Handle a deep copy situation
        if (typeof target === "boolean") {
            deep = target;
            // Skip the boolean and the target
            target = arguments[i] || {};
            i++;
        }
        // Handle case when target is a string or something (possible in deep copy)
        if (typeof target !== "object" && typeof target !== "function") {
            target = {};
        }
        // Extend jQuery itself if only one argument is passed
        if (i === length) {
            target = this;
            i--;
        }
        for (; i < length; i++) {
            // Only deal with non-null/undefined values
            if ((options = arguments[i]) != null) {
                // Extend the base object
                for (name in options) {
                    copy = options[name];
                    // Prevent Object.prototype pollution
                    // Prevent never-ending loop
                    if (name === "__proto__" || target === copy) {
                        continue;
                    }
                    // Recurse if we're merging plain objects or arrays
                    if (deep && copy && (jQuery.isPlainObject(copy) ||
                        (copyIsArray = Array.isArray(copy)))) {
                        src = target[name];
                        // Ensure proper type for the source value
                        if (copyIsArray && !Array.isArray(src)) {
                            clone = [];
                        }
                        else if (!copyIsArray && !jQuery.isPlainObject(src)) {
                            clone = {};
                        }
                        else {
                            clone = src;
                        }
                        copyIsArray = false;
                        // Never move original objects, clone them
                        target[name] = jQuery.extend(deep, clone, copy);
                        // Don't bring in undefined values
                    }
                    else if (copy !== undefined) {
                        target[name] = copy;
                    }
                }
            }
        }
        // Return the modified object
        return target;
    };
    jQuery.extend({
        // Unique for each copy of jQuery on the page
        expando: "jQuery" + (version + Math.random()).replace(/\D/g, ""),
        // Assume jQuery is ready without the ready module
        isReady: true,
        error: function (msg) {
            throw new Error(msg);
        },
        noop: function () { },
        isPlainObject: function (obj) {
            var proto, Ctor;
            // Detect obvious negatives
            // Use toString instead of jQuery.type to catch host objects
            if (!obj || toString.call(obj) !== "[object Object]") {
                return false;
            }
            proto = getProto(obj);
            // Objects with no prototype (e.g., `Object.create( null )`) are plain
            if (!proto) {
                return true;
            }
            // Objects with prototype are plain iff they were constructed by a global Object function
            Ctor = hasOwn.call(proto, "constructor") && proto.constructor;
            return typeof Ctor === "function" && fnToString.call(Ctor) === ObjectFunctionString;
        },
        isEmptyObject: function (obj) {
            var name;
            for (name in obj) {
                return false;
            }
            return true;
        },
        // Evaluates a script in a provided context; falls back to the global one
        // if not specified.
        globalEval: function (code, options, doc) {
            DOMEval(code, { nonce: options && options.nonce }, doc);
        },
        each: function (obj, callback) {
            var length, i = 0;
            if (isArrayLike(obj)) {
                length = obj.length;
                for (; i < length; i++) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            else {
                for (i in obj) {
                    if (callback.call(obj[i], i, obj[i]) === false) {
                        break;
                    }
                }
            }
            return obj;
        },
        // Retrieve the text value of an array of DOM nodes
        text: function (elem) {
            var node, ret = "", i = 0, nodeType = elem.nodeType;
            if (!nodeType) {
                // If no nodeType, this is expected to be an array
                while ((node = elem[i++])) {
                    // Do not traverse comment nodes
                    ret += jQuery.text(node);
                }
            }
            if (nodeType === 1 || nodeType === 11) {
                return elem.textContent;
            }
            if (nodeType === 9) {
                return elem.documentElement.textContent;
            }
            if (nodeType === 3 || nodeType === 4) {
                return elem.nodeValue;
            }
            // Do not include comment or processing instruction nodes
            return ret;
        },
        // results is for internal usage only
        makeArray: function (arr, results) {
            var ret = results || [];
            if (arr != null) {
                if (isArrayLike(Object(arr))) {
                    jQuery.merge(ret, typeof arr === "string" ?
                        [arr] : arr);
                }
                else {
                    push.call(ret, arr);
                }
            }
            return ret;
        },
        inArray: function (elem, arr, i) {
            return arr == null ? -1 : indexOf.call(arr, elem, i);
        },
        isXMLDoc: function (elem) {
            var namespace = elem && elem.namespaceURI, docElem = elem && (elem.ownerDocument || elem).documentElement;
            // Assume HTML when documentElement doesn't yet exist, such as inside
            // document fragments.
            return !rhtmlSuffix.test(namespace || docElem && docElem.nodeName || "HTML");
        },
        // Note: an element does not contain itself
        contains: function (a, b) {
            var bup = b && b.parentNode;
            return a === bup || !!(bup && bup.nodeType === 1 && (
            // Support: IE 9 - 11+
            // IE doesn't have `contains` on SVG.
            a.contains ?
                a.contains(bup) :
                a.compareDocumentPosition && a.compareDocumentPosition(bup) & 16));
        },
        merge: function (first, second) {
            var len = +second.length, j = 0, i = first.length;
            for (; j < len; j++) {
                first[i++] = second[j];
            }
            first.length = i;
            return first;
        },
        grep: function (elems, callback, invert) {
            var callbackInverse, matches = [], i = 0, length = elems.length, callbackExpect = !invert;
            // Go through the array, only saving the items
            // that pass the validator function
            for (; i < length; i++) {
                callbackInverse = !callback(elems[i], i);
                if (callbackInverse !== callbackExpect) {
                    matches.push(elems[i]);
                }
            }
            return matches;
        },
        // arg is for internal usage only
        map: function (elems, callback, arg) {
            var length, value, i = 0, ret = [];
            // Go through the array, translating each of the items to their new values
            if (isArrayLike(elems)) {
                length = elems.length;
                for (; i < length; i++) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
                // Go through every key on the object,
            }
            else {
                for (i in elems) {
                    value = callback(elems[i], i, arg);
                    if (value != null) {
                        ret.push(value);
                    }
                }
            }
            // Flatten any nested arrays
            return flat(ret);
        },
        // A global GUID counter for objects
        guid: 1,
        // jQuery.support is not used in Core but other projects attach their
        // properties to it so it needs to exist.
        support: support
    });
    if (typeof Symbol === "function") {
        jQuery.fn[Symbol.iterator] = arr[Symbol.iterator];
    }
    // Populate the class2type map
    jQuery.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (_i, name) {
        class2type["[object " + name + "]"] = name.toLowerCase();
    });
    function nodeName(elem, name) {
        return elem.nodeName && elem.nodeName.toLowerCase() === name.toLowerCase();
    }
    var pop = arr.pop;
    // https://www.w3.org/TR/css3-selectors/#whitespace
    var whitespace = "[\\x20\\t\\r\\n\\f]";
    var isIE = document.documentMode;
    // Support: Chrome 105 - 111 only, Safari 15.4 - 16.3 only
    // Make sure the `:has()` argument is parsed unforgivingly.
    // We include `*` in the test to detect buggy implementations that are
    // _selectively_ forgiving (specifically when the list includes at least
    // one valid selector).
    // Note that we treat complete lack of support for `:has()` as if it were
    // spec-compliant support, which is fine because use of `:has()` in such
    // environments will fail in the qSA path and fall back to jQuery traversal
    // anyway.
    try {
        document.querySelector(":has(*,:jqfake)");
        support.cssHas = false;
    }
    catch (e) {
        support.cssHas = true;
    }
    // Build QSA regex.
    // Regex strategy adopted from Diego Perini.
    var rbuggyQSA = [];
    if (isIE) {
        rbuggyQSA.push(
        // Support: IE 9 - 11+
        // IE's :disabled selector does not pick up the children of disabled fieldsets
        ":enabled", ":disabled", 
        // Support: IE 11+
        // IE 11 doesn't find elements on a `[name='']` query in some cases.
        // Adding a temporary attribute to the document before the selection works
        // around the issue.
        "\\[" + whitespace + "*name" + whitespace + "*=" +
            whitespace + "*(?:''|\"\")");
    }
    if (!support.cssHas) {
        // Support: Chrome 105 - 110+, Safari 15.4 - 16.3+
        // Our regular `try-catch` mechanism fails to detect natively-unsupported
        // pseudo-classes inside `:has()` (such as `:has(:contains("Foo"))`)
        // in browsers that parse the `:has()` argument as a forgiving selector list.
        // https://drafts.csswg.org/selectors/#relational now requires the argument
        // to be parsed unforgivingly, but browsers have not yet fully adjusted.
        rbuggyQSA.push(":has");
    }
    rbuggyQSA = rbuggyQSA.length && new RegExp(rbuggyQSA.join("|"));
    var rtrimCSS = new RegExp("^" + whitespace + "+|((?:^|[^\\\\])(?:\\\\.)*)" + whitespace + "+$", "g");
    // https://www.w3.org/TR/css-syntax-3/#ident-token-diagram
    var identifier = "(?:\\\\[\\da-fA-F]{1,6}" + whitespace +
        "?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+";
    var booleans = "checked|selected|async|autofocus|autoplay|controls|" +
        "defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped";
    var rleadingCombinator = new RegExp("^" + whitespace + "*([>+~]|" +
        whitespace + ")" + whitespace + "*");
    var rsibling = /[+~]/;
    var documentElement = document.documentElement;
    // Support: IE 9 - 11+
    // IE requires a prefix.
    var matches = documentElement.matches || documentElement.msMatchesSelector;
    /**
     * Create key-value caches of limited size
     * @returns {function(string, object)} Returns the Object data after storing it on itself with
     *	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
     *	deleting the oldest entry
     */
    function createCache() {
        var keys = [];
        function cache(key, value) {
            // Use (key + " ") to avoid collision with native prototype properties
            // (see https://github.com/jquery/sizzle/issues/157)
            if (keys.push(key + " ") > jQuery.expr.cacheLength) {
                // Only keep the most recent entries
                delete cache[keys.shift()];
            }
            return (cache[key + " "] = value);
        }
        return cache;
    }
    /**
     * Checks a node for validity as a jQuery selector context
     * @param {Element|Object=} context
     * @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
     */
    function testContext(context) {
        return context && typeof context.getElementsByTagName !== "undefined" && context;
    }
    // Attribute selectors: https://www.w3.org/TR/selectors/#attribute-selectors
    var attributes = "\\[" + whitespace + "*(" + identifier + ")(?:" + whitespace +
        // Operator (capture 2)
        "*([*^$|!~]?=)" + whitespace +
        // "Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]"
        "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + identifier + "))|)" +
        whitespace + "*\\]";
    var pseudos = ":(" + identifier + ")(?:\\((" +
        // To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:
        // 1. quoted (capture 3; capture 4 or capture 5)
        "('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|" +
        // 2. simple (capture 6)
        "((?:\\\\.|[^\\\\()[\\]]|" + attributes + ")*)|" +
        // 3. anything else (capture 2)
        ".*" +
        ")\\)|)";
    var filterMatchExpr = {
        ID: new RegExp("^#(" + identifier + ")"),
        CLASS: new RegExp("^\\.(" + identifier + ")"),
        TAG: new RegExp("^(" + identifier + "|[*])"),
        ATTR: new RegExp("^" + attributes),
        PSEUDO: new RegExp("^" + pseudos),
        CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" +
            whitespace + "*(even|odd|(([+-]|)(\\d*)n|)" + whitespace + "*(?:([+-]|)" +
            whitespace + "*(\\d+)|))" + whitespace + "*\\)|)", "i")
    };
    var rpseudo = new RegExp(pseudos);
    // CSS escapes
    var runescape = new RegExp("\\\\[\\da-fA-F]{1,6}" + whitespace +
        "?|\\\\([^\\r\\n\\f])", "g"), funescape = function (escape, nonHex) {
        var high = "0x" + escape.slice(1) - 0x10000;
        if (nonHex) {
            // Strip the backslash prefix from a non-hex escape sequence
            return nonHex;
        }
        // Replace a hexadecimal escape sequence with the encoded Unicode code point
        // Support: IE <=11+
        // For values outside the Basic Multilingual Plane (BMP), manually construct a
        // surrogate pair
        return high < 0 ?
            String.fromCharCode(high + 0x10000) :
            String.fromCharCode(high >> 10 | 0xD800, high & 0x3FF | 0xDC00);
    };
    function unescapeSelector(sel) {
        return sel.replace(runescape, funescape);
    }
    function selectorError(msg) {
        jQuery.error("Syntax error, unrecognized expression: " + msg);
    }
    var rcomma = new RegExp("^" + whitespace + "*," + whitespace + "*");
    var tokenCache = createCache();
    function tokenize(selector, parseOnly) {
        var matched, match, tokens, type, soFar, groups, preFilters, cached = tokenCache[selector + " "];
        if (cached) {
            return parseOnly ? 0 : cached.slice(0);
        }
        soFar = selector;
        groups = [];
        preFilters = jQuery.expr.preFilter;
        while (soFar) {
            // Comma and first run
            if (!matched || (match = rcomma.exec(soFar))) {
                if (match) {
                    // Don't consume trailing commas as valid
                    soFar = soFar.slice(match[0].length) || soFar;
                }
                groups.push((tokens = []));
            }
            matched = false;
            // Combinators
            if ((match = rleadingCombinator.exec(soFar))) {
                matched = match.shift();
                tokens.push({
                    value: matched,
                    // Cast descendant combinators to space
                    type: match[0].replace(rtrimCSS, " ")
                });
                soFar = soFar.slice(matched.length);
            }
            // Filters
            for (type in filterMatchExpr) {
                if ((match = jQuery.expr.match[type].exec(soFar)) && (!preFilters[type] ||
                    (match = preFilters[type](match)))) {
                    matched = match.shift();
                    tokens.push({
                        value: matched,
                        type: type,
                        matches: match
                    });
                    soFar = soFar.slice(matched.length);
                }
            }
            if (!matched) {
                break;
            }
        }
        // Return the length of the invalid excess
        // if we're just parsing
        // Otherwise, throw an error or return tokens
        if (parseOnly) {
            return soFar.length;
        }
        return soFar ?
            selectorError(selector) :
            // Cache the tokens
            tokenCache(selector, groups).slice(0);
    }
    var preFilter = {
        ATTR: function (match) {
            match[1] = unescapeSelector(match[1]);
            // Move the given value to match[3] whether quoted or unquoted
            match[3] = unescapeSelector(match[3] || match[4] || match[5] || "");
            if (match[2] === "~=") {
                match[3] = " " + match[3] + " ";
            }
            return match.slice(0, 4);
        },
        CHILD: function (match) {
            /* matches from filterMatchExpr["CHILD"]
                1 type (only|nth|...)
                2 what (child|of-type)
                3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
                4 xn-component of xn+y argument ([+-]?\d*n|)
                5 sign of xn-component
                6 x of xn-component
                7 sign of y-component
                8 y of y-component
            */
            match[1] = match[1].toLowerCase();
            if (match[1].slice(0, 3) === "nth") {
                // nth-* requires argument
                if (!match[3]) {
                    selectorError(match[0]);
                }
                // numeric x and y parameters for jQuery.expr.filter.CHILD
                // remember that false/true cast respectively to 0/1
                match[4] = +(match[4] ?
                    match[5] + (match[6] || 1) :
                    2 * (match[3] === "even" || match[3] === "odd"));
                match[5] = +((match[7] + match[8]) || match[3] === "odd");
                // other types prohibit arguments
            }
            else if (match[3]) {
                selectorError(match[0]);
            }
            return match;
        },
        PSEUDO: function (match) {
            var excess, unquoted = !match[6] && match[2];
            if (filterMatchExpr.CHILD.test(match[0])) {
                return null;
            }
            // Accept quoted arguments as-is
            if (match[3]) {
                match[2] = match[4] || match[5] || "";
                // Strip excess characters from unquoted arguments
            }
            else if (unquoted && rpseudo.test(unquoted) &&
                // Get excess from tokenize (recursively)
                (excess = tokenize(unquoted, true)) &&
                // advance to the next closing parenthesis
                (excess = unquoted.indexOf(")", unquoted.length - excess) -
                    unquoted.length)) {
                // excess is a negative index
                match[0] = match[0].slice(0, excess);
                match[2] = unquoted.slice(0, excess);
            }
            // Return only captures needed by the pseudo filter method (type and argument)
            return match.slice(0, 3);
        }
    };
    function toSelector(tokens) {
        var i = 0, len = tokens.length, selector = "";
        for (; i < len; i++) {
            selector += tokens[i].value;
        }
        return selector;
    }
    // CSS string/identifier serialization
    // https://drafts.csswg.org/cssom/#common-serializing-idioms
    var rcssescape = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;
    function fcssescape(ch, asCodePoint) {
        if (asCodePoint) {
            // U+0000 NULL becomes U+FFFD REPLACEMENT CHARACTER
            if (ch === "\0") {
                return "\uFFFD";
            }
            // Control characters and (dependent upon position) numbers get escaped as code points
            return ch.slice(0, -1) + "\\" + ch.charCodeAt(ch.length - 1).toString(16) + " ";
        }
        // Other potentially-special ASCII characters get backslash-escaped
        return "\\" + ch;
    }
    jQuery.escapeSelector = function (sel) {
        return (sel + "").replace(rcssescape, fcssescape);
    };
    var sort = arr.sort;
    var splice = arr.splice;
    var hasDuplicate;
    // Document order sorting
    function sortOrder(a, b) {
        // Flag for duplicate removal
        if (a === b) {
            hasDuplicate = true;
            return 0;
        }
        // Sort on method existence if only one input has compareDocumentPosition
        var compare = !a.compareDocumentPosition - !b.compareDocumentPosition;
        if (compare) {
            return compare;
        }
        // Calculate position if both inputs belong to the same document
        // Support: IE 11+
        // IE sometimes throws a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq
        compare = (a.ownerDocument || a) == (b.ownerDocument || b) ?
            a.compareDocumentPosition(b) :
            // Otherwise we know they are disconnected
            1;
        // Disconnected nodes
        if (compare & 1) {
            // Choose the first element that is related to the document
            // Support: IE 11+
            // IE sometimes throws a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.
            // eslint-disable-next-line eqeqeq
            if (a == document || a.ownerDocument == document &&
                jQuery.contains(document, a)) {
                return -1;
            }
            // Support: IE 11+
            // IE sometimes throws a "Permission denied" error when strict-comparing
            // two documents; shallow comparisons work.
            // eslint-disable-next-line eqeqeq
            if (b == document || b.ownerDocument == document &&
                jQuery.contains(document, b)) {
                return 1;
            }
            // Maintain original order
            return 0;
        }
        return compare & 4 ? -1 : 1;
    }
    /**
     * Document sorting and removing duplicates
     * @param {ArrayLike} results
     */
    jQuery.uniqueSort = function (results) {
        var elem, duplicates = [], j = 0, i = 0;
        hasDuplicate = false;
        sort.call(results, sortOrder);
        if (hasDuplicate) {
            while ((elem = results[i++])) {
                if (elem === results[i]) {
                    j = duplicates.push(i);
                }
            }
            while (j--) {
                splice.call(results, duplicates[j], 1);
            }
        }
        return results;
    };
    jQuery.fn.uniqueSort = function () {
        return this.pushStack(jQuery.uniqueSort(slice.apply(this)));
    };
    var i, outermostContext, 
    // Local document vars
    document$1, documentElement$1, documentIsHTML, 
    // Instance-specific data
    dirruns = 0, done = 0, classCache = createCache(), compilerCache = createCache(), nonnativeSelectorCache = createCache(), 
    // Regular expressions
    // Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter
    rwhitespace = new RegExp(whitespace + "+", "g"), ridentifier = new RegExp("^" + identifier + "$"), matchExpr = jQuery.extend({
        bool: new RegExp("^(?:" + booleans + ")$", "i"),
        // For use in libraries implementing .is()
        // We use this for POS matching in `select`
        needsContext: new RegExp("^" + whitespace +
            "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + whitespace +
            "*((?:-\\d)?\\d*)" + whitespace + "*\\)|)(?=[^-]|$)", "i")
    }, filterMatchExpr), rinputs = /^(?:input|select|textarea|button)$/i, rheader = /^h\d$/i, 
    // Used for iframes; see `setDocument`.
    // Support: IE 9 - 11+
    // Removing the function wrapper causes a "Permission Denied"
    // error in IE.
    unloadHandler = function () {
        setDocument();
    }, inDisabledFieldset = addCombinator(function (elem) {
        return elem.disabled === true && nodeName(elem, "fieldset");
    }, { dir: "parentNode", next: "legend" });
    function find(selector, context, results, seed) {
        context && context.ownerDocument; 
        var // nodeType defaults to 9, since context defaults to document
        nodeType = context ? context.nodeType : 9;
        results = results || [];
        // Return early from calls with invalid selector or context
        if (typeof selector !== "string" || !selector ||
            nodeType !== 1 && nodeType !== 9 && nodeType !== 11) {
            return results;
        }
        // All others
        return select(selector.replace(rtrimCSS, "$1"), context, results, seed);
    }
    /**
     * Mark a function for special use by jQuery selector module
     * @param {Function} fn The function to mark
     */
    function markFunction(fn) {
        fn[jQuery.expando] = true;
        return fn;
    }
    /**
     * Returns a function to use in pseudos for input types
     * @param {String} type
     */
    function createInputPseudo(type) {
        return function (elem) {
            return nodeName(elem, "input") && elem.type === type;
        };
    }
    /**
     * Returns a function to use in pseudos for buttons
     * @param {String} type
     */
    function createButtonPseudo(type) {
        return function (elem) {
            return (nodeName(elem, "input") || nodeName(elem, "button")) &&
                elem.type === type;
        };
    }
    /**
     * Returns a function to use in pseudos for :enabled/:disabled
     * @param {Boolean} disabled true for :disabled; false for :enabled
     */
    function createDisabledPseudo(disabled) {
        // Known :disabled false positives: fieldset[disabled] > legend:nth-of-type(n+2) :can-disable
        return function (elem) {
            // Only certain elements can match :enabled or :disabled
            // https://html.spec.whatwg.org/multipage/scripting.html#selector-enabled
            // https://html.spec.whatwg.org/multipage/scripting.html#selector-disabled
            if ("form" in elem) {
                // Check for inherited disabledness on relevant non-disabled elements:
                // * listed form-associated elements in a disabled fieldset
                //   https://html.spec.whatwg.org/multipage/forms.html#category-listed
                //   https://html.spec.whatwg.org/multipage/forms.html#concept-fe-disabled
                // * option elements in a disabled optgroup
                //   https://html.spec.whatwg.org/multipage/forms.html#concept-option-disabled
                // All such elements have a "form" property.
                if (elem.parentNode && elem.disabled === false) {
                    // Option elements defer to a parent optgroup if present
                    if ("label" in elem) {
                        if ("label" in elem.parentNode) {
                            return elem.parentNode.disabled === disabled;
                        }
                        else {
                            return elem.disabled === disabled;
                        }
                    }
                    // Support: IE 6 - 11+
                    // Use the isDisabled shortcut property to check for disabled fieldset ancestors
                    return elem.isDisabled === disabled ||
                        // Where there is no isDisabled, check manually
                        elem.isDisabled !== !disabled &&
                            inDisabledFieldset(elem) === disabled;
                }
                return elem.disabled === disabled;
                // Try to winnow out elements that can't be disabled before trusting the disabled property.
                // Some victims get caught in our net (label, legend, menu, track), but it shouldn't
                // even exist on them, let alone have a boolean value.
            }
            else if ("label" in elem) {
                return elem.disabled === disabled;
            }
            // Remaining elements are neither :enabled nor :disabled
            return false;
        };
    }
    /**
     * Returns a function to use in pseudos for positionals
     * @param {Function} fn
     */
    function createPositionalPseudo(fn) {
        return markFunction(function (argument) {
            argument = +argument;
            return markFunction(function (seed, matches) {
                var j, matchIndexes = fn([], seed.length, argument), i = matchIndexes.length;
                // Match elements found at the specified indexes
                while (i--) {
                    if (seed[(j = matchIndexes[i])]) {
                        seed[j] = !(matches[j] = seed[j]);
                    }
                }
            });
        });
    }
    /**
     * Sets document-related variables once based on the current document
     * @param {Element|Object} [node] An element or document object to use to set the document
     */
    function setDocument(node) {
        var subWindow, doc = node ? node.ownerDocument || node : document;
        // Return early if doc is invalid or already selected
        // Support: IE 11+
        // IE sometimes throws a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq
        if (doc == document$1 || doc.nodeType !== 9) {
            return;
        }
        // Update global variables
        document$1 = doc;
        documentElement$1 = document$1.documentElement;
        documentIsHTML = !jQuery.isXMLDoc(document$1);
        // Support: IE 9 - 11+
        // Accessing iframe documents after unload throws "permission denied" errors (see trac-13936)
        // Support: IE 11+
        // IE sometimes throws a "Permission denied" error when strict-comparing
        // two documents; shallow comparisons work.
        // eslint-disable-next-line eqeqeq
        if (isIE && document != document$1 &&
            (subWindow = document$1.defaultView) && subWindow.top !== subWindow) {
            subWindow.addEventListener("unload", unloadHandler);
        }
    }
    find.matches = function (expr, elements) {
        return find(expr, null, null, elements);
    };
    find.matchesSelector = function (elem, expr) {
        setDocument(elem);
        if (documentIsHTML &&
            !nonnativeSelectorCache[expr + " "] &&
            (!rbuggyQSA || !rbuggyQSA.test(expr))) {
            try {
                return matches.call(elem, expr);
            }
            catch (e) {
                nonnativeSelectorCache(expr, true);
            }
        }
        return find(expr, document$1, null, [elem]).length > 0;
    };
    jQuery.expr = {
        // Can be adjusted by the user
        cacheLength: 50,
        createPseudo: markFunction,
        match: matchExpr,
        find: {
            ID: function (id, context) {
                if (typeof context.getElementById !== "undefined" && documentIsHTML) {
                    var elem = context.getElementById(id);
                    return elem ? [elem] : [];
                }
            },
            TAG: function (tag, context) {
                if (typeof context.getElementsByTagName !== "undefined") {
                    return context.getElementsByTagName(tag);
                    // DocumentFragment nodes don't have gEBTN
                }
                else {
                    return context.querySelectorAll(tag);
                }
            },
            CLASS: function (className, context) {
                if (typeof context.getElementsByClassName !== "undefined" && documentIsHTML) {
                    return context.getElementsByClassName(className);
                }
            }
        },
        relative: {
            ">": { dir: "parentNode", first: true },
            " ": { dir: "parentNode" },
            "+": { dir: "previousSibling", first: true },
            "~": { dir: "previousSibling" }
        },
        preFilter: preFilter,
        filter: {
            ID: function (id) {
                var attrId = unescapeSelector(id);
                return function (elem) {
                    return elem.getAttribute("id") === attrId;
                };
            },
            TAG: function (nodeNameSelector) {
                var expectedNodeName = unescapeSelector(nodeNameSelector).toLowerCase();
                return nodeNameSelector === "*" ?
                    function () {
                        return true;
                    } :
                    function (elem) {
                        return nodeName(elem, expectedNodeName);
                    };
            },
            CLASS: function (className) {
                var pattern = classCache[className + " "];
                return pattern ||
                    (pattern = new RegExp("(^|" + whitespace + ")" + className +
                        "(" + whitespace + "|$)")) &&
                        classCache(className, function (elem) {
                            return pattern.test(typeof elem.className === "string" && elem.className ||
                                typeof elem.getAttribute !== "undefined" &&
                                    elem.getAttribute("class") ||
                                "");
                        });
            },
            ATTR: function (name, operator, check) {
                return function (elem) {
                    var result = elem.getAttribute(name);
                    if (result == null) {
                        return operator === "!=";
                    }
                    if (!operator) {
                        return true;
                    }
                    result += "";
                    if (operator === "=") {
                        return result === check;
                    }
                    if (operator === "!=") {
                        return result !== check;
                    }
                    if (operator === "^=") {
                        return check && result.indexOf(check) === 0;
                    }
                    if (operator === "*=") {
                        return check && result.indexOf(check) > -1;
                    }
                    if (operator === "$=") {
                        return check && result.slice(-check.length) === check;
                    }
                    if (operator === "~=") {
                        return (" " + result.replace(rwhitespace, " ") + " ")
                            .indexOf(check) > -1;
                    }
                    if (operator === "|=") {
                        return result === check || result.slice(0, check.length + 1) === check + "-";
                    }
                    return false;
                };
            },
            CHILD: function (type, what, _argument, first, last) {
                var simple = type.slice(0, 3) !== "nth", forward = type.slice(-4) !== "last", ofType = what === "of-type";
                return first === 1 && last === 0 ?
                    // Shortcut for :nth-*(n)
                    function (elem) {
                        return !!elem.parentNode;
                    } :
                    function (elem, _context, xml) {
                        var cache, outerCache, node, nodeIndex, start, dir = simple !== forward ? "nextSibling" : "previousSibling", parent = elem.parentNode, name = ofType && elem.nodeName.toLowerCase(), useCache = !xml && !ofType, diff = false;
                        if (parent) {
                            // :(first|last|only)-(child|of-type)
                            if (simple) {
                                while (dir) {
                                    node = elem;
                                    while ((node = node[dir])) {
                                        if (ofType ?
                                            nodeName(node, name) :
                                            node.nodeType === 1) {
                                            return false;
                                        }
                                    }
                                    // Reverse direction for :only-* (if we haven't yet done so)
                                    start = dir = type === "only" && !start && "nextSibling";
                                }
                                return true;
                            }
                            start = [forward ? parent.firstChild : parent.lastChild];
                            // non-xml :nth-child(...) stores cache data on `parent`
                            if (forward && useCache) {
                                // Seek `elem` from a previously-cached index
                                outerCache = parent[jQuery.expando] ||
                                    (parent[jQuery.expando] = {});
                                cache = outerCache[type] || [];
                                nodeIndex = cache[0] === dirruns && cache[1];
                                diff = nodeIndex && cache[2];
                                node = nodeIndex && parent.childNodes[nodeIndex];
                                while ((node = ++nodeIndex && node && node[dir] ||
                                    // Fallback to seeking `elem` from the start
                                    (diff = nodeIndex = 0) || start.pop())) {
                                    // When found, cache indexes on `parent` and break
                                    if (node.nodeType === 1 && ++diff && node === elem) {
                                        outerCache[type] = [dirruns, nodeIndex, diff];
                                        break;
                                    }
                                }
                            }
                            else {
                                // Use previously-cached element index if available
                                if (useCache) {
                                    outerCache = elem[jQuery.expando] ||
                                        (elem[jQuery.expando] = {});
                                    cache = outerCache[type] || [];
                                    nodeIndex = cache[0] === dirruns && cache[1];
                                    diff = nodeIndex;
                                }
                                // xml :nth-child(...)
                                // or :nth-last-child(...) or :nth(-last)?-of-type(...)
                                if (diff === false) {
                                    // Use the same loop as above to seek `elem` from the start
                                    while ((node = ++nodeIndex && node && node[dir] ||
                                        (diff = nodeIndex = 0) || start.pop())) {
                                        if ((ofType ?
                                            nodeName(node, name) :
                                            node.nodeType === 1) &&
                                            ++diff) {
                                            // Cache the index of each encountered element
                                            if (useCache) {
                                                outerCache = node[jQuery.expando] ||
                                                    (node[jQuery.expando] = {});
                                                outerCache[type] = [dirruns, diff];
                                            }
                                            if (node === elem) {
                                                break;
                                            }
                                        }
                                    }
                                }
                            }
                            // Incorporate the offset, then check against cycle size
                            diff -= last;
                            return diff === first || (diff % first === 0 && diff / first >= 0);
                        }
                    };
            },
            PSEUDO: function (pseudo, argument) {
                // pseudo-class names are case-insensitive
                // https://www.w3.org/TR/selectors/#pseudo-classes
                // Prioritize by case sensitivity in case custom pseudos are added with uppercase letters
                // Remember that setFilters inherits from pseudos
                var fn = jQuery.expr.pseudos[pseudo] ||
                    jQuery.expr.setFilters[pseudo.toLowerCase()] ||
                    selectorError("unsupported pseudo: " + pseudo);
                // The user may use createPseudo to indicate that
                // arguments are needed to create the filter function
                // just as jQuery does
                if (fn[jQuery.expando]) {
                    return fn(argument);
                }
                return fn;
            }
        },
        pseudos: {
            // Potentially complex pseudos
            not: markFunction(function (selector) {
                // Trim the selector passed to compile
                // to avoid treating leading and trailing
                // spaces as combinators
                var input = [], results = [], matcher = compile(selector.replace(rtrimCSS, "$1"));
                return matcher[jQuery.expando] ?
                    markFunction(function (seed, matches, _context, xml) {
                        var elem, unmatched = matcher(seed, null, xml, []), i = seed.length;
                        // Match elements unmatched by `matcher`
                        while (i--) {
                            if ((elem = unmatched[i])) {
                                seed[i] = !(matches[i] = elem);
                            }
                        }
                    }) :
                    function (elem, _context, xml) {
                        input[0] = elem;
                        matcher(input, null, xml, results);
                        // Don't keep the element
                        // (see https://github.com/jquery/sizzle/issues/299)
                        input[0] = null;
                        return !results.pop();
                    };
            }),
            has: markFunction(function (selector) {
                return function (elem) {
                    return find(selector, elem).length > 0;
                };
            }),
            contains: markFunction(function (text) {
                text = unescapeSelector(text);
                return function (elem) {
                    return (elem.textContent || jQuery.text(elem)).indexOf(text) > -1;
                };
            }),
            // "Whether an element is represented by a :lang() selector
            // is based solely on the element's language value
            // being equal to the identifier C,
            // or beginning with the identifier C immediately followed by "-".
            // The matching of C against the element's language value is performed case-insensitively.
            // The identifier C does not have to be a valid language name."
            // https://www.w3.org/TR/selectors/#lang-pseudo
            lang: markFunction(function (lang) {
                // lang value must be a valid identifier
                if (!ridentifier.test(lang || "")) {
                    selectorError("unsupported lang: " + lang);
                }
                lang = unescapeSelector(lang).toLowerCase();
                return function (elem) {
                    var elemLang;
                    do {
                        if ((elemLang = documentIsHTML ?
                            elem.lang :
                            elem.getAttribute("xml:lang") || elem.getAttribute("lang"))) {
                            elemLang = elemLang.toLowerCase();
                            return elemLang === lang || elemLang.indexOf(lang + "-") === 0;
                        }
                    } while ((elem = elem.parentNode) && elem.nodeType === 1);
                    return false;
                };
            }),
            // Miscellaneous
            target: function (elem) {
                var hash = window.location && window.location.hash;
                return hash && hash.slice(1) === elem.id;
            },
            root: function (elem) {
                return elem === documentElement$1;
            },
            focus: function (elem) {
                return elem === document$1.activeElement &&
                    document$1.hasFocus() &&
                    !!(elem.type || elem.href || ~elem.tabIndex);
            },
            // Boolean properties
            enabled: createDisabledPseudo(false),
            disabled: createDisabledPseudo(true),
            checked: function (elem) {
                // In CSS3, :checked should return both checked and selected elements
                // https://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked
                return (nodeName(elem, "input") && !!elem.checked) ||
                    (nodeName(elem, "option") && !!elem.selected);
            },
            selected: function (elem) {
                // Support: IE <=11+
                // Accessing the selectedIndex property
                // forces the browser to treat the default option as
                // selected when in an optgroup.
                if (isIE && elem.parentNode) {
                    // eslint-disable-next-line no-unused-expressions
                    elem.parentNode.selectedIndex;
                }
                return elem.selected === true;
            },
            // Contents
            empty: function (elem) {
                // https://www.w3.org/TR/selectors/#empty-pseudo
                // :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),
                //   but not by others (comment: 8; processing instruction: 7; etc.)
                // nodeType < 6 works because attributes (2) do not appear as children
                for (elem = elem.firstChild; elem; elem = elem.nextSibling) {
                    if (elem.nodeType < 6) {
                        return false;
                    }
                }
                return true;
            },
            parent: function (elem) {
                return !jQuery.expr.pseudos.empty(elem);
            },
            // Element/input types
            header: function (elem) {
                return rheader.test(elem.nodeName);
            },
            input: function (elem) {
                return rinputs.test(elem.nodeName);
            },
            button: function (elem) {
                return nodeName(elem, "input") && elem.type === "button" ||
                    nodeName(elem, "button");
            },
            text: function (elem) {
                return nodeName(elem, "input") && elem.type === "text";
            },
            // Position-in-collection
            first: createPositionalPseudo(function () {
                return [0];
            }),
            last: createPositionalPseudo(function (_matchIndexes, length) {
                return [length - 1];
            }),
            eq: createPositionalPseudo(function (_matchIndexes, length, argument) {
                return [argument < 0 ? argument + length : argument];
            }),
            even: createPositionalPseudo(function (matchIndexes, length) {
                var i = 0;
                for (; i < length; i += 2) {
                    matchIndexes.push(i);
                }
                return matchIndexes;
            }),
            odd: createPositionalPseudo(function (matchIndexes, length) {
                var i = 1;
                for (; i < length; i += 2) {
                    matchIndexes.push(i);
                }
                return matchIndexes;
            }),
            lt: createPositionalPseudo(function (matchIndexes, length, argument) {
                var i;
                if (argument < 0) {
                    i = argument + length;
                }
                else if (argument > length) {
                    i = length;
                }
                else {
                    i = argument;
                }
                for (; --i >= 0;) {
                    matchIndexes.push(i);
                }
                return matchIndexes;
            }),
            gt: createPositionalPseudo(function (matchIndexes, length, argument) {
                var i = argument < 0 ? argument + length : argument;
                for (; ++i < length;) {
                    matchIndexes.push(i);
                }
                return matchIndexes;
            })
        }
    };
    jQuery.expr.pseudos.nth = jQuery.expr.pseudos.eq;
    // Add button/input type pseudos
    for (i in { radio: true, checkbox: true, file: true, password: true, image: true }) {
        jQuery.expr.pseudos[i] = createInputPseudo(i);
    }
    for (i in { submit: true, reset: true }) {
        jQuery.expr.pseudos[i] = createButtonPseudo(i);
    }
    // Easy API for creating new setFilters
    function setFilters() { }
    setFilters.prototype = jQuery.expr.filters = jQuery.expr.pseudos;
    jQuery.expr.setFilters = new setFilters();
    function addCombinator(matcher, combinator, base) {
        var dir = combinator.dir, skip = combinator.next, key = skip || dir, checkNonElements = base && key === "parentNode", doneName = done++;
        return combinator.first ?
            // Check against closest ancestor/preceding element
            function (elem, context, xml) {
                while ((elem = elem[dir])) {
                    if (elem.nodeType === 1 || checkNonElements) {
                        return matcher(elem, context, xml);
                    }
                }
                return false;
            } :
            // Check against all ancestor/preceding elements
            function (elem, context, xml) {
                var oldCache, outerCache, newCache = [dirruns, doneName];
                // We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching
                if (xml) {
                    while ((elem = elem[dir])) {
                        if (elem.nodeType === 1 || checkNonElements) {
                            if (matcher(elem, context, xml)) {
                                return true;
                            }
                        }
                    }
                }
                else {
                    while ((elem = elem[dir])) {
                        if (elem.nodeType === 1 || checkNonElements) {
                            outerCache = elem[jQuery.expando] || (elem[jQuery.expando] = {});
                            if (skip && nodeName(elem, skip)) {
                                elem = elem[dir] || elem;
                            }
                            else if ((oldCache = outerCache[key]) &&
                                oldCache[0] === dirruns && oldCache[1] === doneName) {
                                // Assign to newCache so results back-propagate to previous elements
                                return (newCache[2] = oldCache[2]);
                            }
                            else {
                                // Reuse newcache so results back-propagate to previous elements
                                outerCache[key] = newCache;
                                // A match means we're done; a fail means we have to keep checking
                                if ((newCache[2] = matcher(elem, context, xml))) {
                                    return true;
                                }
                            }
                        }
                    }
                }
                return false;
            };
    }
    function elementMatcher(matchers) {
        return matchers.length > 1 ?
            function (elem, context, xml) {
                var i = matchers.length;
                while (i--) {
                    if (!matchers[i](elem, context, xml)) {
                        return false;
                    }
                }
                return true;
            } :
            matchers[0];
    }
    function multipleContexts(selector, contexts, results) {
        var i = 0, len = contexts.length;
        for (; i < len; i++) {
            find(selector, contexts[i], results);
        }
        return results;
    }
    function condense(unmatched, map, filter, context, xml) {
        var elem, newUnmatched = [], i = 0, len = unmatched.length, mapped = map != null;
        for (; i < len; i++) {
            if ((elem = unmatched[i])) {
                if (!filter || filter(elem, context, xml)) {
                    newUnmatched.push(elem);
                    if (mapped) {
                        map.push(i);
                    }
                }
            }
        }
        return newUnmatched;
    }
    function setMatcher(preFilter, selector, matcher, postFilter, postFinder, postSelector) {
        if (postFilter && !postFilter[jQuery.expando]) {
            postFilter = setMatcher(postFilter);
        }
        if (postFinder && !postFinder[jQuery.expando]) {
            postFinder = setMatcher(postFinder, postSelector);
        }
        return markFunction(function (seed, results, context, xml) {
            var temp, i, elem, matcherOut, preMap = [], postMap = [], preexisting = results.length, 
            // Get initial elements from seed or context
            elems = seed ||
                multipleContexts(selector || "*", context.nodeType ? [context] : context, []), 
            // Prefilter to get matcher input, preserving a map for seed-results synchronization
            matcherIn = preFilter && (seed || !selector) ?
                condense(elems, preMap, preFilter, context, xml) :
                elems;
            if (matcher) {
                // If we have a postFinder, or filtered seed, or non-seed postFilter
                // or preexisting results,
                matcherOut = postFinder || (seed ? preFilter : preexisting || postFilter) ?
                    // ...intermediate processing is necessary
                    [] :
                    // ...otherwise use results directly
                    results;
                // Find primary matches
                matcher(matcherIn, matcherOut, context, xml);
            }
            else {
                matcherOut = matcherIn;
            }
            // Apply postFilter
            if (postFilter) {
                temp = condense(matcherOut, postMap);
                postFilter(temp, [], context, xml);
                // Un-match failing elements by moving them back to matcherIn
                i = temp.length;
                while (i--) {
                    if ((elem = temp[i])) {
                        matcherOut[postMap[i]] = !(matcherIn[postMap[i]] = elem);
                    }
                }
            }
            if (seed) {
                if (postFinder || preFilter) {
                    if (postFinder) {
                        // Get the final matcherOut by condensing this intermediate into postFinder contexts
                        temp = [];
                        i = matcherOut.length;
                        while (i--) {
                            if ((elem = matcherOut[i])) {
                                // Restore matcherIn since elem is not yet a final match
                                temp.push((matcherIn[i] = elem));
                            }
                        }
                        postFinder(null, (matcherOut = []), temp, xml);
                    }
                    // Move matched elements from seed to results to keep them synchronized
                    i = matcherOut.length;
                    while (i--) {
                        if ((elem = matcherOut[i]) &&
                            (temp = postFinder ? indexOf.call(seed, elem) : preMap[i]) > -1) {
                            seed[temp] = !(results[temp] = elem);
                        }
                    }
                }
                // Add elements to results, through postFinder if defined
            }
            else {
                matcherOut = condense(matcherOut === results ?
                    matcherOut.splice(preexisting, matcherOut.length) :
                    matcherOut);
                if (postFinder) {
                    postFinder(null, results, matcherOut, xml);
                }
                else {
                    push.apply(results, matcherOut);
                }
            }
        });
    }
    function matcherFromTokens(tokens) {
        var checkContext, matcher, j, len = tokens.length, leadingRelative = jQuery.expr.relative[tokens[0].type], implicitRelative = leadingRelative || jQuery.expr.relative[" "], i = leadingRelative ? 1 : 0, 
        // The foundational matcher ensures that elements are reachable from top-level context(s)
        matchContext = addCombinator(function (elem) {
            return elem === checkContext;
        }, implicitRelative, true), matchAnyContext = addCombinator(function (elem) {
            return indexOf.call(checkContext, elem) > -1;
        }, implicitRelative, true), matchers = [function (elem, context, xml) {
                // Support: IE 11+
                // IE sometimes throws a "Permission denied" error when strict-comparing
                // two documents; shallow comparisons work.
                // eslint-disable-next-line eqeqeq
                var ret = (!leadingRelative && (xml || context != outermostContext)) || ((checkContext = context).nodeType ?
                    matchContext(elem, context, xml) :
                    matchAnyContext(elem, context, xml));
                // Avoid hanging onto element
                // (see https://github.com/jquery/sizzle/issues/299)
                checkContext = null;
                return ret;
            }];
        for (; i < len; i++) {
            if ((matcher = jQuery.expr.relative[tokens[i].type])) {
                matchers = [addCombinator(elementMatcher(matchers), matcher)];
            }
            else {
                matcher = jQuery.expr.filter[tokens[i].type].apply(null, tokens[i].matches);
                // Return special upon seeing a positional matcher
                if (matcher[jQuery.expando]) {
                    // Find the next relative operator (if any) for proper handling
                    j = ++i;
                    for (; j < len; j++) {
                        if (jQuery.expr.relative[tokens[j].type]) {
                            break;
                        }
                    }
                    return setMatcher(i > 1 && elementMatcher(matchers), i > 1 && toSelector(
                    // If the preceding token was a descendant combinator, insert an implicit any-element `*`
                    tokens.slice(0, i - 1)
                        .concat({ value: tokens[i - 2].type === " " ? "*" : "" })).replace(rtrimCSS, "$1"), matcher, i < j && matcherFromTokens(tokens.slice(i, j)), j < len && matcherFromTokens((tokens = tokens.slice(j))), j < len && toSelector(tokens));
                }
                matchers.push(matcher);
            }
        }
        return elementMatcher(matchers);
    }
    function matcherFromGroupMatchers(elementMatchers, setMatchers) {
        var bySet = setMatchers.length > 0, byElement = elementMatchers.length > 0, superMatcher = function (seed, context, xml, results, outermost) {
            var elem, j, matcher, matchedCount = 0, i = "0", unmatched = seed && [], setMatched = [], contextBackup = outermostContext, 
            // We must always have either seed elements or outermost context
            elems = seed || byElement && jQuery.expr.find.TAG("*", outermost), 
            // Use integer dirruns iff this is the outermost matcher
            dirrunsUnique = (dirruns += contextBackup == null ? 1 : Math.random() || 0.1);
            if (outermost) {
                // Support: IE 11+
                // IE sometimes throws a "Permission denied" error when strict-comparing
                // two documents; shallow comparisons work.
                // eslint-disable-next-line eqeqeq
                outermostContext = context == document$1 || context || outermost;
            }
            // Add elements passing elementMatchers directly to results
            for (; (elem = elems[i]) != null; i++) {
                if (byElement && elem) {
                    j = 0;
                    // Support: IE 11+
                    // IE sometimes throws a "Permission denied" error when strict-comparing
                    // two documents; shallow comparisons work.
                    // eslint-disable-next-line eqeqeq
                    if (!context && elem.ownerDocument != document$1) {
                        setDocument(elem);
                        xml = !documentIsHTML;
                    }
                    while ((matcher = elementMatchers[j++])) {
                        if (matcher(elem, context || document$1, xml)) {
                            push.call(results, elem);
                            break;
                        }
                    }
                    if (outermost) {
                        dirruns = dirrunsUnique;
                    }
                }
                // Track unmatched elements for set filters
                if (bySet) {
                    // They will have gone through all possible matchers
                    if ((elem = !matcher && elem)) {
                        matchedCount--;
                    }
                    // Lengthen the array for every element, matched or not
                    if (seed) {
                        unmatched.push(elem);
                    }
                }
            }
            // `i` is now the count of elements visited above, and adding it to `matchedCount`
            // makes the latter nonnegative.
            matchedCount += i;
            // Apply set filters to unmatched elements
            // NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`
            // equals `i`), unless we didn't visit _any_ elements in the above loop because we have
            // no element matchers and no seed.
            // Incrementing an initially-string "0" `i` allows `i` to remain a string only in that
            // case, which will result in a "00" `matchedCount` that differs from `i` but is also
            // numerically zero.
            if (bySet && i !== matchedCount) {
                j = 0;
                while ((matcher = setMatchers[j++])) {
                    matcher(unmatched, setMatched, context, xml);
                }
                if (seed) {
                    // Reintegrate element matches to eliminate the need for sorting
                    if (matchedCount > 0) {
                        while (i--) {
                            if (!(unmatched[i] || setMatched[i])) {
                                setMatched[i] = pop.call(results);
                            }
                        }
                    }
                    // Discard index placeholder values to get only actual matches
                    setMatched = condense(setMatched);
                }
                // Add matches to results
                push.apply(results, setMatched);
                // Seedless set matches succeeding multiple successful matchers stipulate sorting
                if (outermost && !seed && setMatched.length > 0 &&
                    (matchedCount + setMatchers.length) > 1) {
                    jQuery.uniqueSort(results);
                }
            }
            // Override manipulation of globals by nested matchers
            if (outermost) {
                dirruns = dirrunsUnique;
                outermostContext = contextBackup;
            }
            return unmatched;
        };
        return bySet ?
            markFunction(superMatcher) :
            superMatcher;
    }
    function compile(selector, match /* Internal Use Only */) {
        var i, setMatchers = [], elementMatchers = [], cached = compilerCache[selector + " "];
        if (!cached) {
            // Generate a function of recursive functions that can be used to check each element
            if (!match) {
                match = tokenize(selector);
            }
            i = match.length;
            while (i--) {
                cached = matcherFromTokens(match[i]);
                if (cached[jQuery.expando]) {
                    setMatchers.push(cached);
                }
                else {
                    elementMatchers.push(cached);
                }
            }
            // Cache the compiled function
            cached = compilerCache(selector, matcherFromGroupMatchers(elementMatchers, setMatchers));
            // Save selector and tokenization
            cached.selector = selector;
        }
        return cached;
    }
    /**
     * A low-level selection function that works with jQuery's compiled
     *  selector functions
     * @param {String|Function} selector A selector or a pre-compiled
     *  selector function built with jQuery selector compile
     * @param {Element} context
     * @param {Array} [results]
     * @param {Array} [seed] A set of elements to match against
     */
    function select(selector, context, results, seed) {
        var i, tokens, token, type, find, compiled = typeof selector === "function" && selector, match = !seed && tokenize((selector = compiled.selector || selector));
        results = results || [];
        // Try to minimize operations if there is only one selector in the list and no seed
        // (the latter of which guarantees us context)
        if (match.length === 1) {
            // Reduce context if the leading compound selector is an ID
            tokens = match[0] = match[0].slice(0);
            if (tokens.length > 2 && (token = tokens[0]).type === "ID" &&
                context.nodeType === 9 && documentIsHTML &&
                jQuery.expr.relative[tokens[1].type]) {
                context = (jQuery.expr.find.ID(unescapeSelector(token.matches[0]), context) || [])[0];
                if (!context) {
                    return results;
                    // Precompiled matchers will still verify ancestry, so step up a level
                }
                else if (compiled) {
                    context = context.parentNode;
                }
                selector = selector.slice(tokens.shift().value.length);
            }
            // Fetch a seed set for right-to-left matching
            i = matchExpr.needsContext.test(selector) ? 0 : tokens.length;
            while (i--) {
                token = tokens[i];
                // Abort if we hit a combinator
                if (jQuery.expr.relative[(type = token.type)]) {
                    break;
                }
                if ((find = jQuery.expr.find[type])) {
                    // Search, expanding context for leading sibling combinators
                    if ((seed = find(unescapeSelector(token.matches[0]), rsibling.test(tokens[0].type) &&
                        testContext(context.parentNode) || context))) {
                        // If seed is empty or no tokens remain, we can return early
                        tokens.splice(i, 1);
                        selector = seed.length && toSelector(tokens);
                        if (!selector) {
                            push.apply(results, seed);
                            return results;
                        }
                        break;
                    }
                }
            }
        }
        // Compile and execute a filtering function if one is not provided
        // Provide `match` to avoid retokenization if we modified the selector above
        (compiled || compile(selector, match))(seed, context, !documentIsHTML, results, !context || rsibling.test(selector) && testContext(context.parentNode) || context);
        return results;
    }
    // Initialize against the default document
    setDocument();
    jQuery.find = find;
    // These have always been private, but they used to be documented as part of
    // Sizzle so let's maintain them for now for backwards compatibility purposes.
    find.compile = compile;
    find.select = select;
    find.setDocument = setDocument;
    find.tokenize = tokenize;
    return jQuery;
});

function matches(selector, elm) {
    const r = jQuery.find(selector, undefined, undefined, [elm]);
    return r.length > 0;
}
function selectOne(selector, elm) {
    const r = jQuery.find(selector, elm, undefined, undefined);
    return r[0] || null;
}
function selectAll(selector, elm) {
    return jQuery.find(selector, elm, undefined, undefined);
}

function serializeNodeToHtml(elm, opts = {}) {
    const output = {
        currentLineWidth: 0,
        indent: 0,
        isWithinBody: false,
        text: [],
    };
    if (opts.prettyHtml) {
        if (typeof opts.indentSpaces !== 'number') {
            opts.indentSpaces = 2;
        }
        if (typeof opts.newLines !== 'boolean') {
            opts.newLines = true;
        }
        opts.approximateLineWidth = -1;
    }
    else {
        opts.prettyHtml = false;
        if (typeof opts.newLines !== 'boolean') {
            opts.newLines = false;
        }
        if (typeof opts.indentSpaces !== 'number') {
            opts.indentSpaces = 0;
        }
    }
    if (typeof opts.approximateLineWidth !== 'number') {
        opts.approximateLineWidth = -1;
    }
    if (typeof opts.removeEmptyAttributes !== 'boolean') {
        opts.removeEmptyAttributes = true;
    }
    if (typeof opts.removeAttributeQuotes !== 'boolean') {
        opts.removeAttributeQuotes = false;
    }
    if (typeof opts.removeBooleanAttributeQuotes !== 'boolean') {
        opts.removeBooleanAttributeQuotes = false;
    }
    if (typeof opts.removeHtmlComments !== 'boolean') {
        opts.removeHtmlComments = false;
    }
    if (typeof opts.serializeShadowRoot !== 'boolean') {
        opts.serializeShadowRoot = false;
    }
    if (opts.outerHtml) {
        serializeToHtml(elm, opts, output, false);
    }
    else {
        for (let i = 0, ii = elm.childNodes.length; i < ii; i++) {
            serializeToHtml(elm.childNodes[i], opts, output, false);
        }
    }
    if (output.text[0] === '\n') {
        output.text.shift();
    }
    if (output.text[output.text.length - 1] === '\n') {
        output.text.pop();
    }
    return output.text.join('');
}
function serializeToHtml(node, opts, output, isShadowRoot) {
    if (node.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */ || isShadowRoot) {
        const tagName = isShadowRoot ? 'mock:shadow-root' : getTagName(node);
        if (tagName === 'body') {
            output.isWithinBody = true;
        }
        const ignoreTag = opts.excludeTags != null && opts.excludeTags.includes(tagName);
        if (ignoreTag === false) {
            const isWithinWhitespaceSensitiveNode = opts.newLines || opts.indentSpaces > 0 ? isWithinWhitespaceSensitive(node) : false;
            if (opts.newLines && !isWithinWhitespaceSensitiveNode) {
                output.text.push('\n');
                output.currentLineWidth = 0;
            }
            if (opts.indentSpaces > 0 && !isWithinWhitespaceSensitiveNode) {
                for (let i = 0; i < output.indent; i++) {
                    output.text.push(' ');
                }
                output.currentLineWidth += output.indent;
            }
            output.text.push('<' + tagName);
            output.currentLineWidth += tagName.length + 1;
            const attrsLength = node.attributes.length;
            const attributes = opts.prettyHtml && attrsLength > 1
                ? cloneAttributes(node.attributes, true)
                : node.attributes;
            for (let i = 0; i < attrsLength; i++) {
                const attr = attributes.item(i);
                const attrName = attr.name;
                if (attrName === 'style') {
                    continue;
                }
                let attrValue = attr.value;
                if (opts.removeEmptyAttributes && attrValue === '' && REMOVE_EMPTY_ATTR.has(attrName)) {
                    continue;
                }
                const attrNamespaceURI = attr.namespaceURI;
                if (attrNamespaceURI == null) {
                    output.currentLineWidth += attrName.length + 1;
                    if (opts.approximateLineWidth > 0 && output.currentLineWidth > opts.approximateLineWidth) {
                        output.text.push('\n' + attrName);
                        output.currentLineWidth = 0;
                    }
                    else {
                        output.text.push(' ' + attrName);
                    }
                }
                else if (attrNamespaceURI === 'http://www.w3.org/XML/1998/namespace') {
                    output.text.push(' xml:' + attrName);
                    output.currentLineWidth += attrName.length + 5;
                }
                else if (attrNamespaceURI === 'http://www.w3.org/2000/xmlns/') {
                    if (attrName !== 'xmlns') {
                        output.text.push(' xmlns:' + attrName);
                        output.currentLineWidth += attrName.length + 7;
                    }
                    else {
                        output.text.push(' ' + attrName);
                        output.currentLineWidth += attrName.length + 1;
                    }
                }
                else if (attrNamespaceURI === XLINK_NS) {
                    output.text.push(' xlink:' + attrName);
                    output.currentLineWidth += attrName.length + 7;
                }
                else {
                    output.text.push(' ' + attrNamespaceURI + ':' + attrName);
                    output.currentLineWidth += attrNamespaceURI.length + attrName.length + 2;
                }
                if (opts.prettyHtml && attrName === 'class') {
                    attrValue = attr.value = attrValue
                        .split(' ')
                        .filter((t) => t !== '')
                        .sort()
                        .join(' ')
                        .trim();
                }
                if (attrValue === '') {
                    if (opts.removeBooleanAttributeQuotes && BOOLEAN_ATTR.has(attrName)) {
                        continue;
                    }
                    if (opts.removeEmptyAttributes && attrName.startsWith('data-')) {
                        continue;
                    }
                }
                if (opts.removeAttributeQuotes && CAN_REMOVE_ATTR_QUOTES.test(attrValue)) {
                    output.text.push('=' + escapeString(attrValue, true));
                    output.currentLineWidth += attrValue.length + 1;
                }
                else {
                    output.text.push('="' + escapeString(attrValue, true) + '"');
                    output.currentLineWidth += attrValue.length + 3;
                }
            }
            if (node.hasAttribute('style')) {
                const cssText = node.style.cssText;
                if (opts.approximateLineWidth > 0 &&
                    output.currentLineWidth + cssText.length + 10 > opts.approximateLineWidth) {
                    output.text.push(`\nstyle="${cssText}">`);
                    output.currentLineWidth = 0;
                }
                else {
                    output.text.push(` style="${cssText}">`);
                    output.currentLineWidth += cssText.length + 10;
                }
            }
            else {
                output.text.push('>');
                output.currentLineWidth += 1;
            }
        }
        if (EMPTY_ELEMENTS.has(tagName) === false) {
            if (opts.serializeShadowRoot && node.shadowRoot != null) {
                output.indent = output.indent + opts.indentSpaces;
                serializeToHtml(node.shadowRoot, opts, output, true);
                output.indent = output.indent - opts.indentSpaces;
                if (opts.newLines &&
                    (node.childNodes.length === 0 ||
                        (node.childNodes.length === 1 &&
                            node.childNodes[0].nodeType === 3 /* NODE_TYPES.TEXT_NODE */ &&
                            node.childNodes[0].nodeValue.trim() === ''))) {
                    output.text.push('\n');
                    output.currentLineWidth = 0;
                    for (let i = 0; i < output.indent; i++) {
                        output.text.push(' ');
                    }
                    output.currentLineWidth += output.indent;
                }
            }
            if (opts.excludeTagContent == null || opts.excludeTagContent.includes(tagName) === false) {
                const childNodes = tagName === 'template' ? node.content.childNodes : node.childNodes;
                const childNodeLength = childNodes.length;
                if (childNodeLength > 0) {
                    if (childNodeLength === 1 &&
                        childNodes[0].nodeType === 3 /* NODE_TYPES.TEXT_NODE */ &&
                        (typeof childNodes[0].nodeValue !== 'string' || childNodes[0].nodeValue.trim() === '')) ;
                    else {
                        const isWithinWhitespaceSensitiveNode = opts.newLines || opts.indentSpaces > 0 ? isWithinWhitespaceSensitive(node) : false;
                        if (!isWithinWhitespaceSensitiveNode && opts.indentSpaces > 0 && ignoreTag === false) {
                            output.indent = output.indent + opts.indentSpaces;
                        }
                        for (let i = 0; i < childNodeLength; i++) {
                            serializeToHtml(childNodes[i], opts, output, false);
                        }
                        if (ignoreTag === false) {
                            if (opts.newLines && !isWithinWhitespaceSensitiveNode) {
                                output.text.push('\n');
                                output.currentLineWidth = 0;
                            }
                            if (opts.indentSpaces > 0 && !isWithinWhitespaceSensitiveNode) {
                                output.indent = output.indent - opts.indentSpaces;
                                for (let i = 0; i < output.indent; i++) {
                                    output.text.push(' ');
                                }
                                output.currentLineWidth += output.indent;
                            }
                        }
                    }
                }
                if (ignoreTag === false) {
                    output.text.push('</' + tagName + '>');
                    output.currentLineWidth += tagName.length + 3;
                }
            }
        }
        if (opts.approximateLineWidth > 0 && STRUCTURE_ELEMENTS.has(tagName)) {
            output.text.push('\n');
            output.currentLineWidth = 0;
        }
        if (tagName === 'body') {
            output.isWithinBody = false;
        }
    }
    else if (node.nodeType === 3 /* NODE_TYPES.TEXT_NODE */) {
        let textContent = node.nodeValue;
        if (typeof textContent === 'string') {
            const trimmedTextContent = textContent.trim();
            if (trimmedTextContent === '') {
                // this text node is whitespace only
                if (isWithinWhitespaceSensitive(node)) {
                    // whitespace matters within this element
                    // just add the exact text we were given
                    output.text.push(textContent);
                    output.currentLineWidth += textContent.length;
                }
                else if (opts.approximateLineWidth > 0 && !output.isWithinBody) ;
                else if (!opts.prettyHtml) {
                    // this text node is only whitespace, and it's not
                    // within a whitespace sensitive element like <pre> or <code>
                    // so replace the entire white space with a single new line
                    output.currentLineWidth += 1;
                    if (opts.approximateLineWidth > 0 && output.currentLineWidth > opts.approximateLineWidth) {
                        // good enough for a new line
                        // for perf these are all just estimates
                        // we don't care to ensure exact line lengths
                        output.text.push('\n');
                        output.currentLineWidth = 0;
                    }
                    else {
                        // let's keep it all on the same line yet
                        output.text.push(' ');
                    }
                }
            }
            else {
                // this text node has text content
                const isWithinWhitespaceSensitiveNode = opts.newLines || opts.indentSpaces > 0 || opts.prettyHtml ? isWithinWhitespaceSensitive(node) : false;
                if (opts.newLines && !isWithinWhitespaceSensitiveNode) {
                    output.text.push('\n');
                    output.currentLineWidth = 0;
                }
                if (opts.indentSpaces > 0 && !isWithinWhitespaceSensitiveNode) {
                    for (let i = 0; i < output.indent; i++) {
                        output.text.push(' ');
                    }
                    output.currentLineWidth += output.indent;
                }
                let textContentLength = textContent.length;
                if (textContentLength > 0) {
                    // this text node has text content
                    const parentTagName = node.parentNode != null && node.parentNode.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */
                        ? node.parentNode.nodeName
                        : null;
                    if (NON_ESCAPABLE_CONTENT.has(parentTagName)) {
                        // this text node cannot have its content escaped since it's going
                        // into an element like <style> or <script>
                        if (isWithinWhitespaceSensitive(node)) {
                            output.text.push(textContent);
                        }
                        else {
                            output.text.push(trimmedTextContent);
                            textContentLength = trimmedTextContent.length;
                        }
                        output.currentLineWidth += textContentLength;
                    }
                    else {
                        // this text node is going into a normal element and html can be escaped
                        if (opts.prettyHtml && !isWithinWhitespaceSensitiveNode) {
                            // pretty print the text node
                            output.text.push(escapeString(textContent.replace(/\s\s+/g, ' ').trim(), false));
                            output.currentLineWidth += textContentLength;
                        }
                        else {
                            // not pretty printing the text node
                            if (isWithinWhitespaceSensitive(node)) {
                                output.currentLineWidth += textContentLength;
                            }
                            else {
                                // this element is not a whitespace sensitive one, like <pre> or <code> so
                                // any whitespace at the start and end can be cleaned up to just be one space
                                if (/\s/.test(textContent.charAt(0))) {
                                    textContent = ' ' + textContent.trimLeft();
                                }
                                textContentLength = textContent.length;
                                if (textContentLength > 1) {
                                    if (/\s/.test(textContent.charAt(textContentLength - 1))) {
                                        if (opts.approximateLineWidth > 0 &&
                                            output.currentLineWidth + textContentLength > opts.approximateLineWidth) {
                                            textContent = textContent.trimRight() + '\n';
                                            output.currentLineWidth = 0;
                                        }
                                        else {
                                            textContent = textContent.trimRight() + ' ';
                                        }
                                    }
                                }
                                output.currentLineWidth += textContentLength;
                            }
                            output.text.push(escapeString(textContent, false));
                        }
                    }
                }
            }
        }
    }
    else if (node.nodeType === 8 /* NODE_TYPES.COMMENT_NODE */) {
        const nodeValue = node.nodeValue;
        if (opts.removeHtmlComments) {
            const isHydrateAnnotation = nodeValue.startsWith(CONTENT_REF_ID + '.') ||
                nodeValue.startsWith(ORG_LOCATION_ID + '.') ||
                nodeValue.startsWith(SLOT_NODE_ID + '.') ||
                nodeValue.startsWith(TEXT_NODE_ID + '.');
            if (!isHydrateAnnotation) {
                return;
            }
        }
        const isWithinWhitespaceSensitiveNode = opts.newLines || opts.indentSpaces > 0 ? isWithinWhitespaceSensitive(node) : false;
        if (opts.newLines && !isWithinWhitespaceSensitiveNode) {
            output.text.push('\n');
            output.currentLineWidth = 0;
        }
        if (opts.indentSpaces > 0 && !isWithinWhitespaceSensitiveNode) {
            for (let i = 0; i < output.indent; i++) {
                output.text.push(' ');
            }
            output.currentLineWidth += output.indent;
        }
        output.text.push('<!--' + nodeValue + '-->');
        output.currentLineWidth += nodeValue.length + 7;
    }
    else if (node.nodeType === 10 /* NODE_TYPES.DOCUMENT_TYPE_NODE */) {
        output.text.push('<!doctype html>');
    }
}
const AMP_REGEX = /&/g;
const NBSP_REGEX = /\u00a0/g;
const DOUBLE_QUOTE_REGEX = /"/g;
const LT_REGEX = /</g;
const GT_REGEX = />/g;
const CAN_REMOVE_ATTR_QUOTES = /^[^ \t\n\f\r"'`=<>\/\\-]+$/;
function getTagName(element) {
    if (element.namespaceURI === 'http://www.w3.org/1999/xhtml') {
        return element.nodeName.toLowerCase();
    }
    else {
        return element.nodeName;
    }
}
function escapeString(str, attrMode) {
    str = str.replace(AMP_REGEX, '&amp;').replace(NBSP_REGEX, '&nbsp;');
    if (attrMode) {
        return str.replace(DOUBLE_QUOTE_REGEX, '&quot;');
    }
    return str.replace(LT_REGEX, '&lt;').replace(GT_REGEX, '&gt;');
}
function isWithinWhitespaceSensitive(node) {
    while (node != null) {
        if (WHITESPACE_SENSITIVE.has(node.nodeName)) {
            return true;
        }
        node = node.parentNode;
    }
    return false;
}
/*@__PURE__*/ const NON_ESCAPABLE_CONTENT = new Set([
    'STYLE',
    'SCRIPT',
    'IFRAME',
    'NOSCRIPT',
    'XMP',
    'NOEMBED',
    'NOFRAMES',
    'PLAINTEXT',
]);
/*@__PURE__*/ const WHITESPACE_SENSITIVE = new Set([
    'CODE',
    'OUTPUT',
    'PLAINTEXT',
    'PRE',
    'SCRIPT',
    'TEMPLATE',
    'TEXTAREA',
]);
/*@__PURE__*/ const EMPTY_ELEMENTS = new Set([
    'area',
    'base',
    'basefont',
    'bgsound',
    'br',
    'col',
    'embed',
    'frame',
    'hr',
    'img',
    'input',
    'keygen',
    'link',
    'meta',
    'param',
    'source',
    'trace',
    'wbr',
]);
/*@__PURE__*/ const REMOVE_EMPTY_ATTR = new Set(['class', 'dir', 'id', 'lang', 'name', 'title']);
/*@__PURE__*/ const BOOLEAN_ATTR = new Set([
    'allowfullscreen',
    'async',
    'autofocus',
    'autoplay',
    'checked',
    'compact',
    'controls',
    'declare',
    'default',
    'defaultchecked',
    'defaultmuted',
    'defaultselected',
    'defer',
    'disabled',
    'enabled',
    'formnovalidate',
    'hidden',
    'indeterminate',
    'inert',
    'ismap',
    'itemscope',
    'loop',
    'multiple',
    'muted',
    'nohref',
    'nomodule',
    'noresize',
    'noshade',
    'novalidate',
    'nowrap',
    'open',
    'pauseonexit',
    'readonly',
    'required',
    'reversed',
    'scoped',
    'seamless',
    'selected',
    'sortable',
    'truespeed',
    'typemustmatch',
    'visible',
]);
/*@__PURE__*/ const STRUCTURE_ELEMENTS = new Set([
    'html',
    'body',
    'head',
    'iframe',
    'meta',
    'link',
    'base',
    'title',
    'script',
    'style',
]);

class MockNode {
    constructor(ownerDocument, nodeType, nodeName, nodeValue) {
        this.ownerDocument = ownerDocument;
        this.nodeType = nodeType;
        this.nodeName = nodeName;
        this._nodeValue = nodeValue;
        this.parentNode = null;
        this.childNodes = [];
    }
    appendChild(newNode) {
        if (newNode.nodeType === 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */) {
            const nodes = newNode.childNodes.slice();
            for (const child of nodes) {
                this.appendChild(child);
            }
        }
        else {
            newNode.remove();
            newNode.parentNode = this;
            this.childNodes.push(newNode);
            connectNode(this.ownerDocument, newNode);
        }
        return newNode;
    }
    append(...items) {
        items.forEach((item) => {
            const isNode = typeof item === 'object' && item !== null && 'nodeType' in item;
            this.appendChild(isNode ? item : this.ownerDocument.createTextNode(String(item)));
        });
    }
    prepend(...items) {
        const firstChild = this.firstChild;
        items.forEach((item) => {
            const isNode = typeof item === 'object' && item !== null && 'nodeType' in item;
            if (firstChild) {
                this.insertBefore(isNode ? item : this.ownerDocument.createTextNode(String(item)), firstChild);
            }
        });
    }
    cloneNode(deep) {
        throw new Error(`invalid node type to clone: ${this.nodeType}, deep: ${deep}`);
    }
    compareDocumentPosition(_other) {
        // unimplemented
        // https://developer.mozilla.org/en-US/docs/Web/API/Node/compareDocumentPosition
        return -1;
    }
    get firstChild() {
        return this.childNodes[0] || null;
    }
    insertBefore(newNode, referenceNode) {
        if (newNode.nodeType === 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */) {
            for (let i = 0, ii = newNode.childNodes.length; i < ii; i++) {
                insertBefore(this, newNode.childNodes[i], referenceNode);
            }
        }
        else {
            insertBefore(this, newNode, referenceNode);
        }
        return newNode;
    }
    get isConnected() {
        let node = this;
        while (node != null) {
            if (node.nodeType === 9 /* NODE_TYPES.DOCUMENT_NODE */) {
                return true;
            }
            node = node.parentNode;
            if (node != null && node.nodeType === 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */) {
                node = node.host;
            }
        }
        return false;
    }
    isSameNode(node) {
        return this === node;
    }
    get lastChild() {
        return this.childNodes[this.childNodes.length - 1] || null;
    }
    get nextSibling() {
        if (this.parentNode != null) {
            const index = this.parentNode.childNodes.indexOf(this) + 1;
            return this.parentNode.childNodes[index] || null;
        }
        return null;
    }
    get nodeValue() {
        var _a;
        return (_a = this._nodeValue) !== null && _a !== void 0 ? _a : '';
    }
    set nodeValue(value) {
        this._nodeValue = value;
    }
    get parentElement() {
        return this.parentNode || null;
    }
    set parentElement(value) {
        this.parentNode = value;
    }
    get previousSibling() {
        if (this.parentNode != null) {
            const index = this.parentNode.childNodes.indexOf(this) - 1;
            return this.parentNode.childNodes[index] || null;
        }
        return null;
    }
    contains(otherNode) {
        if (otherNode === this) {
            return true;
        }
        const childNodes = Array.from(this.childNodes);
        if (childNodes.includes(otherNode)) {
            return true;
        }
        return childNodes.some((node) => this.contains.bind(node)(otherNode));
    }
    removeChild(childNode) {
        const index = this.childNodes.indexOf(childNode);
        if (index > -1) {
            this.childNodes.splice(index, 1);
            if (this.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */) {
                const wasConnected = this.isConnected;
                childNode.parentNode = null;
                if (wasConnected === true) {
                    disconnectNode(childNode);
                }
            }
            else {
                childNode.parentNode = null;
            }
        }
        else {
            throw new Error(`node not found within childNodes during removeChild`);
        }
        return childNode;
    }
    remove() {
        if (this.parentNode != null) {
            this.parentNode.removeChild(this);
        }
    }
    replaceChild(newChild, oldChild) {
        if (oldChild.parentNode === this) {
            this.insertBefore(newChild, oldChild);
            oldChild.remove();
            return newChild;
        }
        return null;
    }
    get textContent() {
        var _a;
        return (_a = this._nodeValue) !== null && _a !== void 0 ? _a : '';
    }
    set textContent(value) {
        this._nodeValue = String(value);
    }
}
MockNode.ELEMENT_NODE = 1;
MockNode.TEXT_NODE = 3;
MockNode.PROCESSING_INSTRUCTION_NODE = 7;
MockNode.COMMENT_NODE = 8;
MockNode.DOCUMENT_NODE = 9;
MockNode.DOCUMENT_TYPE_NODE = 10;
MockNode.DOCUMENT_FRAGMENT_NODE = 11;
class MockNodeList {
    constructor(ownerDocument, childNodes, length) {
        this.ownerDocument = ownerDocument;
        this.childNodes = childNodes;
        this.length = length;
    }
}
class MockElement extends MockNode {
    attachInternals() {
        return new Proxy({}, {
            get: function (_target, prop, _receiver) {
                console.error(`NOTE: Property ${String(prop)} was accessed on ElementInternals, but this property is not implemented.
Testing components with ElementInternals is fully supported in e2e tests.`);
            },
        });
    }
    constructor(ownerDocument, nodeName, namespaceURI = null) {
        super(ownerDocument, 1 /* NODE_TYPES.ELEMENT_NODE */, typeof nodeName === 'string' ? nodeName : null, null);
        this.__namespaceURI = namespaceURI;
        this.__shadowRoot = null;
        this.__attributeMap = null;
    }
    addEventListener(type, handler) {
        addEventListener(this, type, handler);
    }
    attachShadow(_opts) {
        const shadowRoot = this.ownerDocument.createDocumentFragment();
        this.shadowRoot = shadowRoot;
        return shadowRoot;
    }
    blur() {
        dispatchEvent(this, new MockFocusEvent('blur', { relatedTarget: null, bubbles: true, cancelable: true, composed: true }));
    }
    get namespaceURI() {
        return this.__namespaceURI;
    }
    get shadowRoot() {
        return this.__shadowRoot || null;
    }
    set shadowRoot(shadowRoot) {
        if (shadowRoot != null) {
            shadowRoot.host = this;
            this.__shadowRoot = shadowRoot;
        }
        else {
            delete this.__shadowRoot;
        }
    }
    get attributes() {
        if (this.__attributeMap == null) {
            const attrMap = createAttributeProxy(false);
            this.__attributeMap = attrMap;
            return attrMap;
        }
        return this.__attributeMap;
    }
    set attributes(attrs) {
        this.__attributeMap = attrs;
    }
    get children() {
        return this.childNodes.filter((n) => n.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */);
    }
    get childElementCount() {
        return this.childNodes.filter((n) => n.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */).length;
    }
    get className() {
        return this.getAttributeNS(null, 'class') || '';
    }
    set className(value) {
        this.setAttributeNS(null, 'class', value);
    }
    get classList() {
        return new MockClassList(this);
    }
    click() {
        dispatchEvent(this, new MockEvent('click', { bubbles: true, cancelable: true, composed: true }));
    }
    cloneNode(_deep) {
        // implemented on MockElement.prototype from within element.ts
        // @ts-ignore - implemented on MockElement.prototype from within element.ts
        return null;
    }
    closest(selector) {
        let elm = this;
        while (elm != null) {
            if (elm.matches(selector)) {
                return elm;
            }
            elm = elm.parentNode;
        }
        return null;
    }
    get dataset() {
        return dataset(this);
    }
    get dir() {
        return this.getAttributeNS(null, 'dir') || '';
    }
    set dir(value) {
        this.setAttributeNS(null, 'dir', value);
    }
    dispatchEvent(ev) {
        return dispatchEvent(this, ev);
    }
    get firstElementChild() {
        return this.children[0] || null;
    }
    focus(_options) {
        dispatchEvent(this, new MockFocusEvent('focus', { relatedTarget: null, bubbles: true, cancelable: true, composed: true }));
    }
    getAttribute(attrName) {
        if (attrName === 'style') {
            if (this.__style != null && this.__style.length > 0) {
                return this.style.cssText;
            }
            return null;
        }
        const attr = this.attributes.getNamedItem(attrName);
        if (attr != null) {
            return attr.value;
        }
        return null;
    }
    getAttributeNS(namespaceURI, attrName) {
        const attr = this.attributes.getNamedItemNS(namespaceURI, attrName);
        if (attr != null) {
            return attr.value;
        }
        return null;
    }
    getAttributeNode(attrName) {
        if (!this.hasAttribute(attrName)) {
            return null;
        }
        return new MockAttr(attrName, this.getAttribute(attrName));
    }
    getBoundingClientRect() {
        return { bottom: 0, height: 0, left: 0, right: 0, top: 0, width: 0, x: 0, y: 0 };
    }
    getRootNode(opts) {
        const isComposed = opts != null && opts.composed === true;
        let node = this;
        while (node.parentNode != null) {
            node = node.parentNode;
            if (isComposed === true && node.parentNode == null && node.host != null) {
                node = node.host;
            }
        }
        return node;
    }
    get draggable() {
        return this.getAttributeNS(null, 'draggable') === 'true';
    }
    set draggable(value) {
        this.setAttributeNS(null, 'draggable', value);
    }
    hasChildNodes() {
        return this.childNodes.length > 0;
    }
    get id() {
        return this.getAttributeNS(null, 'id') || '';
    }
    set id(value) {
        this.setAttributeNS(null, 'id', value);
    }
    get innerHTML() {
        if (this.childNodes.length === 0) {
            return '';
        }
        return serializeNodeToHtml(this, {
            newLines: false,
            indentSpaces: 0,
        });
    }
    set innerHTML(html) {
        var _a;
        if (NON_ESCAPABLE_CONTENT.has((_a = this.nodeName) !== null && _a !== void 0 ? _a : '') === true) {
            setTextContent(this, html);
        }
        else {
            for (let i = this.childNodes.length - 1; i >= 0; i--) {
                this.removeChild(this.childNodes[i]);
            }
            if (typeof html === 'string') {
                const frag = parseFragmentUtil(this.ownerDocument, html);
                while (frag.childNodes.length > 0) {
                    this.appendChild(frag.childNodes[0]);
                }
            }
        }
    }
    get innerText() {
        const text = [];
        getTextContent(this.childNodes, text);
        return text.join('');
    }
    set innerText(value) {
        setTextContent(this, value);
    }
    insertAdjacentElement(position, elm) {
        if (position === 'beforebegin') {
            insertBefore(this.parentNode, elm, this);
        }
        else if (position === 'afterbegin') {
            this.prepend(elm);
        }
        else if (position === 'beforeend') {
            this.appendChild(elm);
        }
        else if (position === 'afterend') {
            insertBefore(this.parentNode, elm, this.nextSibling);
        }
        return elm;
    }
    insertAdjacentHTML(position, html) {
        const frag = parseFragmentUtil(this.ownerDocument, html);
        if (position === 'beforebegin') {
            while (frag.childNodes.length > 0) {
                insertBefore(this.parentNode, frag.childNodes[0], this);
            }
        }
        else if (position === 'afterbegin') {
            while (frag.childNodes.length > 0) {
                this.prepend(frag.childNodes[frag.childNodes.length - 1]);
            }
        }
        else if (position === 'beforeend') {
            while (frag.childNodes.length > 0) {
                this.appendChild(frag.childNodes[0]);
            }
        }
        else if (position === 'afterend') {
            while (frag.childNodes.length > 0) {
                insertBefore(this.parentNode, frag.childNodes[frag.childNodes.length - 1], this.nextSibling);
            }
        }
    }
    insertAdjacentText(position, text) {
        const elm = this.ownerDocument.createTextNode(text);
        if (position === 'beforebegin') {
            insertBefore(this.parentNode, elm, this);
        }
        else if (position === 'afterbegin') {
            this.prepend(elm);
        }
        else if (position === 'beforeend') {
            this.appendChild(elm);
        }
        else if (position === 'afterend') {
            insertBefore(this.parentNode, elm, this.nextSibling);
        }
    }
    hasAttribute(attrName) {
        if (attrName === 'style') {
            return this.__style != null && this.__style.length > 0;
        }
        return this.getAttribute(attrName) !== null;
    }
    hasAttributeNS(namespaceURI, name) {
        return this.getAttributeNS(namespaceURI, name) !== null;
    }
    get hidden() {
        return this.hasAttributeNS(null, 'hidden');
    }
    set hidden(isHidden) {
        if (isHidden === true) {
            this.setAttributeNS(null, 'hidden', '');
        }
        else {
            this.removeAttributeNS(null, 'hidden');
        }
    }
    get lang() {
        return this.getAttributeNS(null, 'lang') || '';
    }
    set lang(value) {
        this.setAttributeNS(null, 'lang', value);
    }
    get lastElementChild() {
        const children = this.children;
        return children[children.length - 1] || null;
    }
    matches(selector) {
        return matches(selector, this);
    }
    get nextElementSibling() {
        const parentElement = this.parentElement;
        if (parentElement != null &&
            (parentElement.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */ ||
                parentElement.nodeType === 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */ ||
                parentElement.nodeType === 9 /* NODE_TYPES.DOCUMENT_NODE */)) {
            const children = parentElement.children;
            const index = children.indexOf(this) + 1;
            return parentElement.children[index] || null;
        }
        return null;
    }
    get outerHTML() {
        return serializeNodeToHtml(this, {
            newLines: false,
            outerHtml: true,
            indentSpaces: 0,
        });
    }
    get previousElementSibling() {
        const parentElement = this.parentElement;
        if (parentElement != null &&
            (parentElement.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */ ||
                parentElement.nodeType === 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */ ||
                parentElement.nodeType === 9 /* NODE_TYPES.DOCUMENT_NODE */)) {
            const children = parentElement.children;
            const index = children.indexOf(this) - 1;
            return parentElement.children[index] || null;
        }
        return null;
    }
    getElementsByClassName(classNames) {
        const classes = classNames
            .trim()
            .split(' ')
            .filter((c) => c.length > 0);
        const results = [];
        getElementsByClassName(this, classes, results);
        return results;
    }
    getElementsByTagName(tagName) {
        const results = [];
        getElementsByTagName(this, tagName.toLowerCase(), results);
        return results;
    }
    querySelector(selector) {
        return selectOne(selector, this);
    }
    querySelectorAll(selector) {
        return selectAll(selector, this);
    }
    removeAttribute(attrName) {
        if (attrName === 'style') {
            delete this.__style;
        }
        else {
            const attr = this.attributes.getNamedItem(attrName);
            if (attr != null) {
                this.attributes.removeNamedItemNS(attr);
                if (checkAttributeChanged(this) === true) {
                    attributeChanged(this, attrName, attr.value, null);
                }
            }
        }
    }
    removeAttributeNS(namespaceURI, attrName) {
        const attr = this.attributes.getNamedItemNS(namespaceURI, attrName);
        if (attr != null) {
            this.attributes.removeNamedItemNS(attr);
            if (checkAttributeChanged(this) === true) {
                attributeChanged(this, attrName, attr.value, null);
            }
        }
    }
    removeEventListener(type, handler) {
        removeEventListener(this, type, handler);
    }
    setAttribute(attrName, value) {
        if (attrName === 'style') {
            this.style = value;
        }
        else {
            const attributes = this.attributes;
            let attr = attributes.getNamedItem(attrName);
            const checkAttrChanged = checkAttributeChanged(this);
            if (attr != null) {
                if (checkAttrChanged === true) {
                    const oldValue = attr.value;
                    attr.value = value;
                    if (oldValue !== attr.value) {
                        attributeChanged(this, attr.name, oldValue, attr.value);
                    }
                }
                else {
                    attr.value = value;
                }
            }
            else {
                if (attributes.caseInsensitive) {
                    attrName = attrName.toLowerCase();
                }
                attr = new MockAttr(attrName, value);
                attributes.__items.push(attr);
                if (checkAttrChanged === true) {
                    attributeChanged(this, attrName, null, attr.value);
                }
            }
        }
    }
    setAttributeNS(namespaceURI, attrName, value) {
        const attributes = this.attributes;
        let attr = attributes.getNamedItemNS(namespaceURI, attrName);
        const checkAttrChanged = checkAttributeChanged(this);
        if (attr != null) {
            if (checkAttrChanged === true) {
                const oldValue = attr.value;
                attr.value = value;
                if (oldValue !== attr.value) {
                    attributeChanged(this, attr.name, oldValue, attr.value);
                }
            }
            else {
                attr.value = value;
            }
        }
        else {
            attr = new MockAttr(attrName, value, namespaceURI);
            attributes.__items.push(attr);
            if (checkAttrChanged === true) {
                attributeChanged(this, attrName, null, attr.value);
            }
        }
    }
    get style() {
        if (this.__style == null) {
            this.__style = createCSSStyleDeclaration();
        }
        return this.__style;
    }
    set style(val) {
        if (typeof val === 'string') {
            if (this.__style == null) {
                this.__style = createCSSStyleDeclaration();
            }
            this.__style.cssText = val;
        }
        else {
            this.__style = val;
        }
    }
    get tabIndex() {
        return parseInt(this.getAttributeNS(null, 'tabindex') || '-1', 10);
    }
    set tabIndex(value) {
        this.setAttributeNS(null, 'tabindex', value);
    }
    get tagName() {
        var _a;
        return (_a = this.nodeName) !== null && _a !== void 0 ? _a : '';
    }
    set tagName(value) {
        this.nodeName = value;
    }
    get textContent() {
        const text = [];
        getTextContent(this.childNodes, text);
        return text.join('');
    }
    set textContent(value) {
        setTextContent(this, value);
    }
    get title() {
        return this.getAttributeNS(null, 'title') || '';
    }
    set title(value) {
        this.setAttributeNS(null, 'title', value);
    }
    animate() {
        /**/
    }
    onanimationstart() {
        /**/
    }
    onanimationend() {
        /**/
    }
    onanimationiteration() {
        /**/
    }
    onabort() {
        /**/
    }
    onauxclick() {
        /**/
    }
    onbeforecopy() {
        /**/
    }
    onbeforecut() {
        /**/
    }
    onbeforepaste() {
        /**/
    }
    onblur() {
        /**/
    }
    oncancel() {
        /**/
    }
    oncanplay() {
        /**/
    }
    oncanplaythrough() {
        /**/
    }
    onchange() {
        /**/
    }
    onclick() {
        /**/
    }
    onclose() {
        /**/
    }
    oncontextmenu() {
        /**/
    }
    oncopy() {
        /**/
    }
    oncuechange() {
        /**/
    }
    oncut() {
        /**/
    }
    ondblclick() {
        /**/
    }
    ondrag() {
        /**/
    }
    ondragend() {
        /**/
    }
    ondragenter() {
        /**/
    }
    ondragleave() {
        /**/
    }
    ondragover() {
        /**/
    }
    ondragstart() {
        /**/
    }
    ondrop() {
        /**/
    }
    ondurationchange() {
        /**/
    }
    onemptied() {
        /**/
    }
    onended() {
        /**/
    }
    onerror() {
        /**/
    }
    onfocus() {
        /**/
    }
    onfocusin() {
        /**/
    }
    onfocusout() {
        /**/
    }
    onformdata() {
        /**/
    }
    onfullscreenchange() {
        /**/
    }
    onfullscreenerror() {
        /**/
    }
    ongotpointercapture() {
        /**/
    }
    oninput() {
        /**/
    }
    oninvalid() {
        /**/
    }
    onkeydown() {
        /**/
    }
    onkeypress() {
        /**/
    }
    onkeyup() {
        /**/
    }
    onload() {
        /**/
    }
    onloadeddata() {
        /**/
    }
    onloadedmetadata() {
        /**/
    }
    onloadstart() {
        /**/
    }
    onlostpointercapture() {
        /**/
    }
    onmousedown() {
        /**/
    }
    onmouseenter() {
        /**/
    }
    onmouseleave() {
        /**/
    }
    onmousemove() {
        /**/
    }
    onmouseout() {
        /**/
    }
    onmouseover() {
        /**/
    }
    onmouseup() {
        /**/
    }
    onmousewheel() {
        /**/
    }
    onpaste() {
        /**/
    }
    onpause() {
        /**/
    }
    onplay() {
        /**/
    }
    onplaying() {
        /**/
    }
    onpointercancel() {
        /**/
    }
    onpointerdown() {
        /**/
    }
    onpointerenter() {
        /**/
    }
    onpointerleave() {
        /**/
    }
    onpointermove() {
        /**/
    }
    onpointerout() {
        /**/
    }
    onpointerover() {
        /**/
    }
    onpointerup() {
        /**/
    }
    onprogress() {
        /**/
    }
    onratechange() {
        /**/
    }
    onreset() {
        /**/
    }
    onresize() {
        /**/
    }
    onscroll() {
        /**/
    }
    onsearch() {
        /**/
    }
    onseeked() {
        /**/
    }
    onseeking() {
        /**/
    }
    onselect() {
        /**/
    }
    onselectstart() {
        /**/
    }
    onstalled() {
        /**/
    }
    onsubmit() {
        /**/
    }
    onsuspend() {
        /**/
    }
    ontimeupdate() {
        /**/
    }
    ontoggle() {
        /**/
    }
    onvolumechange() {
        /**/
    }
    onwaiting() {
        /**/
    }
    onwebkitfullscreenchange() {
        /**/
    }
    onwebkitfullscreenerror() {
        /**/
    }
    onwheel() {
        /**/
    }
    requestFullscreen() {
        /**/
    }
    scrollBy() {
        /**/
    }
    scrollTo() {
        /**/
    }
    scrollIntoView() {
        /**/
    }
    toString(opts) {
        return serializeNodeToHtml(this, opts);
    }
}
function getElementsByClassName(elm, classNames, foundElms) {
    const children = elm.children;
    for (let i = 0, ii = children.length; i < ii; i++) {
        const childElm = children[i];
        for (let j = 0, jj = classNames.length; j < jj; j++) {
            if (childElm.classList.contains(classNames[j])) {
                foundElms.push(childElm);
            }
        }
        getElementsByClassName(childElm, classNames, foundElms);
    }
}
function getElementsByTagName(elm, tagName, foundElms) {
    var _a;
    const children = elm.children;
    for (let i = 0, ii = children.length; i < ii; i++) {
        const childElm = children[i];
        if (tagName === '*' || ((_a = childElm.nodeName) !== null && _a !== void 0 ? _a : '').toLowerCase() === tagName) {
            foundElms.push(childElm);
        }
        getElementsByTagName(childElm, tagName, foundElms);
    }
}
function resetElement(elm) {
    resetEventListeners(elm);
    delete elm.__attributeMap;
    delete elm.__shadowRoot;
    delete elm.__style;
}
function insertBefore(parentNode, newNode, referenceNode) {
    if (newNode !== referenceNode) {
        newNode.remove();
        newNode.parentNode = parentNode;
        newNode.ownerDocument = parentNode.ownerDocument;
        if (referenceNode != null) {
            const index = parentNode.childNodes.indexOf(referenceNode);
            if (index > -1) {
                parentNode.childNodes.splice(index, 0, newNode);
            }
            else {
                throw new Error(`referenceNode not found in parentNode.childNodes`);
            }
        }
        else {
            parentNode.childNodes.push(newNode);
        }
        connectNode(parentNode.ownerDocument, newNode);
    }
    return newNode;
}
class MockHTMLElement extends MockElement {
    constructor(ownerDocument, nodeName) {
        super(ownerDocument, typeof nodeName === 'string' ? nodeName.toUpperCase() : null);
        this.__namespaceURI = 'http://www.w3.org/1999/xhtml';
    }
    get tagName() {
        var _a;
        return (_a = this.nodeName) !== null && _a !== void 0 ? _a : '';
    }
    set tagName(value) {
        this.nodeName = value;
    }
    get attributes() {
        if (this.__attributeMap == null) {
            const attrMap = createAttributeProxy(true);
            this.__attributeMap = attrMap;
            return attrMap;
        }
        return this.__attributeMap;
    }
    set attributes(attrs) {
        this.__attributeMap = attrs;
    }
}
class MockTextNode extends MockNode {
    constructor(ownerDocument, text) {
        super(ownerDocument, 3 /* NODE_TYPES.TEXT_NODE */, "#text" /* NODE_NAMES.TEXT_NODE */, text);
    }
    cloneNode(_deep) {
        return new MockTextNode(null, this.nodeValue);
    }
    get textContent() {
        return this.nodeValue;
    }
    set textContent(text) {
        this.nodeValue = text;
    }
    get data() {
        return this.nodeValue;
    }
    set data(text) {
        this.nodeValue = text;
    }
    get wholeText() {
        if (this.parentNode != null) {
            const text = [];
            for (let i = 0, ii = this.parentNode.childNodes.length; i < ii; i++) {
                const childNode = this.parentNode.childNodes[i];
                if (childNode.nodeType === 3 /* NODE_TYPES.TEXT_NODE */) {
                    text.push(childNode.nodeValue);
                }
            }
            return text.join('');
        }
        return this.nodeValue;
    }
}
function getTextContent(childNodes, text) {
    for (let i = 0, ii = childNodes.length; i < ii; i++) {
        const childNode = childNodes[i];
        if (childNode.nodeType === 3 /* NODE_TYPES.TEXT_NODE */) {
            text.push(childNode.nodeValue);
        }
        else if (childNode.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */) {
            getTextContent(childNode.childNodes, text);
        }
    }
}
function setTextContent(elm, text) {
    for (let i = elm.childNodes.length - 1; i >= 0; i--) {
        elm.removeChild(elm.childNodes[i]);
    }
    const textNode = new MockTextNode(elm.ownerDocument, text);
    elm.appendChild(textNode);
}

class MockComment extends MockNode {
    constructor(ownerDocument, data) {
        super(ownerDocument, 8 /* NODE_TYPES.COMMENT_NODE */, "#comment" /* NODE_NAMES.COMMENT_NODE */, data);
    }
    cloneNode(_deep) {
        return new MockComment(null, this.nodeValue);
    }
    get textContent() {
        return this.nodeValue;
    }
    set textContent(text) {
        this.nodeValue = text;
    }
}

class MockDocumentFragment extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, null);
        this.nodeName = "#document-fragment" /* NODE_NAMES.DOCUMENT_FRAGMENT_NODE */;
        this.nodeType = 11 /* NODE_TYPES.DOCUMENT_FRAGMENT_NODE */;
    }
    getElementById(id) {
        return getElementById(this, id);
    }
    cloneNode(deep) {
        const cloned = new MockDocumentFragment(null);
        if (deep) {
            for (let i = 0, ii = this.childNodes.length; i < ii; i++) {
                const childNode = this.childNodes[i];
                if (childNode.nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */ ||
                    childNode.nodeType === 3 /* NODE_TYPES.TEXT_NODE */ ||
                    childNode.nodeType === 8 /* NODE_TYPES.COMMENT_NODE */) {
                    const clonedChildNode = this.childNodes[i].cloneNode(true);
                    cloned.appendChild(clonedChildNode);
                }
            }
        }
        return cloned;
    }
}

class MockDocumentTypeNode extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, '!DOCTYPE');
        this.nodeType = 10 /* NODE_TYPES.DOCUMENT_TYPE_NODE */;
        this.setAttribute('html', '');
    }
}

class MockCSSRule {
    constructor(parentStyleSheet) {
        this.parentStyleSheet = parentStyleSheet;
        this.cssText = '';
        this.type = 0;
    }
}
class MockCSSStyleSheet {
    constructor(ownerNode) {
        this.type = 'text/css';
        this.parentStyleSheet = null;
        this.cssRules = [];
        this.ownerNode = ownerNode;
    }
    get rules() {
        return this.cssRules;
    }
    set rules(rules) {
        this.cssRules = rules;
    }
    deleteRule(index) {
        if (index >= 0 && index < this.cssRules.length) {
            this.cssRules.splice(index, 1);
            updateStyleTextNode(this.ownerNode);
        }
    }
    insertRule(rule, index = 0) {
        if (typeof index !== 'number') {
            index = 0;
        }
        if (index < 0) {
            index = 0;
        }
        if (index > this.cssRules.length) {
            index = this.cssRules.length;
        }
        const cssRule = new MockCSSRule(this);
        cssRule.cssText = rule;
        this.cssRules.splice(index, 0, cssRule);
        updateStyleTextNode(this.ownerNode);
        return index;
    }
}
function getStyleElementText(styleElm) {
    const output = [];
    for (let i = 0; i < styleElm.childNodes.length; i++) {
        output.push(styleElm.childNodes[i].nodeValue);
    }
    return output.join('');
}
function setStyleElementText(styleElm, text) {
    // keeping the innerHTML and the sheet.cssRules connected
    // is not technically correct, but since we're doing
    // SSR we'll need to turn any assigned cssRules into
    // real text, not just properties that aren't rendered
    const sheet = styleElm.sheet;
    sheet.cssRules.length = 0;
    sheet.insertRule(text);
    updateStyleTextNode(styleElm);
}
function updateStyleTextNode(styleElm) {
    const childNodeLen = styleElm.childNodes.length;
    if (childNodeLen > 1) {
        for (let i = childNodeLen - 1; i >= 1; i--) {
            styleElm.removeChild(styleElm.childNodes[i]);
        }
    }
    else if (childNodeLen < 1) {
        styleElm.appendChild(styleElm.ownerDocument.createTextNode(''));
    }
    const textNode = styleElm.childNodes[0];
    textNode.nodeValue = styleElm.sheet.cssRules.map((r) => r.cssText).join('\n');
}

function createElement(ownerDocument, tagName) {
    if (typeof tagName !== 'string' || tagName === '' || !/^[a-z0-9-_:]+$/i.test(tagName)) {
        throw new Error(`The tag name provided (${tagName}) is not a valid name.`);
    }
    tagName = tagName.toLowerCase();
    switch (tagName) {
        case 'a':
            return new MockAnchorElement(ownerDocument);
        case 'base':
            return new MockBaseElement(ownerDocument);
        case 'button':
            return new MockButtonElement(ownerDocument);
        case 'canvas':
            return new MockCanvasElement(ownerDocument);
        case 'form':
            return new MockFormElement(ownerDocument);
        case 'img':
            return new MockImageElement(ownerDocument);
        case 'input':
            return new MockInputElement(ownerDocument);
        case 'link':
            return new MockLinkElement(ownerDocument);
        case 'meta':
            return new MockMetaElement(ownerDocument);
        case 'script':
            return new MockScriptElement(ownerDocument);
        case 'style':
            return new MockStyleElement(ownerDocument);
        case 'template':
            return new MockTemplateElement(ownerDocument);
        case 'title':
            return new MockTitleElement(ownerDocument);
        case 'ul':
            return new MockUListElement(ownerDocument);
    }
    if (ownerDocument != null && tagName.includes('-')) {
        const win = ownerDocument.defaultView;
        if (win != null && win.customElements != null) {
            return createCustomElement(win.customElements, ownerDocument, tagName);
        }
    }
    return new MockHTMLElement(ownerDocument, tagName);
}
function createElementNS(ownerDocument, namespaceURI, tagName) {
    if (namespaceURI === 'http://www.w3.org/1999/xhtml') {
        return createElement(ownerDocument, tagName);
    }
    else if (namespaceURI === 'http://www.w3.org/2000/svg') {
        switch (tagName.toLowerCase()) {
            case 'text':
            case 'tspan':
            case 'tref':
            case 'altglyph':
            case 'textpath':
                return new MockSVGTextContentElement(ownerDocument, tagName);
            case 'circle':
            case 'ellipse':
            case 'image':
            case 'line':
            case 'path':
            case 'polygon':
            case 'polyline':
            case 'rect':
            case 'use':
                return new MockSVGGraphicsElement(ownerDocument, tagName);
            case 'svg':
                return new MockSVGSVGElement(ownerDocument, tagName);
            default:
                return new MockSVGElement(ownerDocument, tagName);
        }
    }
    else {
        return new MockElement(ownerDocument, tagName, namespaceURI);
    }
}
class MockAnchorElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'a');
    }
    get href() {
        return fullUrl(this, 'href');
    }
    set href(value) {
        this.setAttribute('href', value);
    }
    get pathname() {
        return new URL(this.href).pathname;
    }
}
class MockButtonElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'button');
    }
}
patchPropAttributes(MockButtonElement.prototype, {
    type: String,
}, {
    type: 'submit',
});
class MockImageElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'img');
    }
    get draggable() {
        return this.getAttributeNS(null, 'draggable') !== 'false';
    }
    set draggable(value) {
        this.setAttributeNS(null, 'draggable', value);
    }
    get src() {
        return fullUrl(this, 'src');
    }
    set src(value) {
        this.setAttribute('src', value);
    }
}
patchPropAttributes(MockImageElement.prototype, {
    height: Number,
    width: Number,
});
class MockInputElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'input');
    }
    get list() {
        const listId = this.getAttribute('list');
        if (listId) {
            return this.ownerDocument.getElementById(listId);
        }
        return null;
    }
}
patchPropAttributes(MockInputElement.prototype, {
    accept: String,
    autocomplete: String,
    autofocus: Boolean,
    capture: String,
    checked: Boolean,
    disabled: Boolean,
    form: String,
    formaction: String,
    formenctype: String,
    formmethod: String,
    formnovalidate: String,
    formtarget: String,
    height: Number,
    inputmode: String,
    max: String,
    maxLength: Number,
    min: String,
    minLength: Number,
    multiple: Boolean,
    name: String,
    pattern: String,
    placeholder: String,
    required: Boolean,
    readOnly: Boolean,
    size: Number,
    spellCheck: Boolean,
    src: String,
    step: String,
    type: String,
    value: String,
    width: Number,
}, {
    type: 'text',
});
class MockFormElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'form');
    }
}
patchPropAttributes(MockFormElement.prototype, {
    name: String,
});
class MockLinkElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'link');
    }
    get href() {
        return fullUrl(this, 'href');
    }
    set href(value) {
        this.setAttribute('href', value);
    }
}
patchPropAttributes(MockLinkElement.prototype, {
    crossorigin: String,
    media: String,
    rel: String,
    type: String,
});
class MockMetaElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'meta');
    }
}
patchPropAttributes(MockMetaElement.prototype, {
    charset: String,
    content: String,
    name: String,
});
class MockScriptElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'script');
    }
    get src() {
        return fullUrl(this, 'src');
    }
    set src(value) {
        this.setAttribute('src', value);
    }
}
patchPropAttributes(MockScriptElement.prototype, {
    type: String,
});
class MockDOMMatrix {
    constructor() {
        this.a = 1;
        this.b = 0;
        this.c = 0;
        this.d = 1;
        this.e = 0;
        this.f = 0;
        this.m11 = 1;
        this.m12 = 0;
        this.m13 = 0;
        this.m14 = 0;
        this.m21 = 0;
        this.m22 = 1;
        this.m23 = 0;
        this.m24 = 0;
        this.m31 = 0;
        this.m32 = 0;
        this.m33 = 1;
        this.m34 = 0;
        this.m41 = 0;
        this.m42 = 0;
        this.m43 = 0;
        this.m44 = 1;
        this.is2D = true;
        this.isIdentity = true;
    }
    static fromMatrix() {
        return new MockDOMMatrix();
    }
    inverse() {
        return new MockDOMMatrix();
    }
    flipX() {
        return new MockDOMMatrix();
    }
    flipY() {
        return new MockDOMMatrix();
    }
    multiply() {
        return new MockDOMMatrix();
    }
    rotate() {
        return new MockDOMMatrix();
    }
    rotateAxisAngle() {
        return new MockDOMMatrix();
    }
    rotateFromVector() {
        return new MockDOMMatrix();
    }
    scale() {
        return new MockDOMMatrix();
    }
    scaleNonUniform() {
        return new MockDOMMatrix();
    }
    skewX() {
        return new MockDOMMatrix();
    }
    skewY() {
        return new MockDOMMatrix();
    }
    toJSON() { }
    toString() { }
    transformPoint() {
        return new MockDOMPoint();
    }
    translate() {
        return new MockDOMMatrix();
    }
}
class MockDOMPoint {
    constructor() {
        this.w = 1;
        this.x = 0;
        this.y = 0;
        this.z = 0;
    }
    toJSON() { }
    matrixTransform() {
        return new MockDOMMatrix();
    }
}
class MockSVGRect {
    constructor() {
        this.height = 10;
        this.width = 10;
        this.x = 0;
        this.y = 0;
    }
}
class MockStyleElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'style');
        this.sheet = new MockCSSStyleSheet(this);
    }
    get innerHTML() {
        return getStyleElementText(this);
    }
    set innerHTML(value) {
        setStyleElementText(this, value);
    }
    get innerText() {
        return getStyleElementText(this);
    }
    set innerText(value) {
        setStyleElementText(this, value);
    }
    get textContent() {
        return getStyleElementText(this);
    }
    set textContent(value) {
        setStyleElementText(this, value);
    }
}
class MockSVGElement extends MockElement {
    constructor() {
        super(...arguments);
        this.__namespaceURI = 'http://www.w3.org/2000/svg';
    }
    // SVGElement properties and methods
    get ownerSVGElement() {
        return null;
    }
    get viewportElement() {
        return null;
    }
    onunload() {
        /**/
    }
    // SVGGeometryElement properties and methods
    get pathLength() {
        return 0;
    }
    isPointInFill(_pt) {
        return false;
    }
    isPointInStroke(_pt) {
        return false;
    }
    getTotalLength() {
        return 0;
    }
}
class MockSVGGraphicsElement extends MockSVGElement {
    getBBox(_options) {
        return new MockSVGRect();
    }
    getCTM() {
        return new MockDOMMatrix();
    }
    getScreenCTM() {
        return new MockDOMMatrix();
    }
}
class MockSVGSVGElement extends MockSVGGraphicsElement {
    createSVGPoint() {
        return new MockDOMPoint();
    }
}
class MockSVGTextContentElement extends MockSVGGraphicsElement {
    getComputedTextLength() {
        return 0;
    }
}
class MockBaseElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'base');
    }
    get href() {
        return fullUrl(this, 'href');
    }
    set href(value) {
        this.setAttribute('href', value);
    }
}
class MockTemplateElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'template');
        this.content = new MockDocumentFragment(ownerDocument);
    }
    get innerHTML() {
        return this.content.innerHTML;
    }
    set innerHTML(html) {
        this.content.innerHTML = html;
    }
    cloneNode(deep) {
        const cloned = new MockTemplateElement(null);
        cloned.attributes = cloneAttributes(this.attributes);
        const styleCssText = this.getAttribute('style');
        if (styleCssText != null && styleCssText.length > 0) {
            cloned.setAttribute('style', styleCssText);
        }
        cloned.content = this.content.cloneNode(deep);
        if (deep) {
            for (let i = 0, ii = this.childNodes.length; i < ii; i++) {
                const clonedChildNode = this.childNodes[i].cloneNode(true);
                cloned.appendChild(clonedChildNode);
            }
        }
        return cloned;
    }
}
class MockTitleElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'title');
    }
    get text() {
        return this.textContent;
    }
    set text(value) {
        this.textContent = value;
    }
}
class MockUListElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'ul');
    }
}
class MockCanvasElement extends MockHTMLElement {
    constructor(ownerDocument) {
        super(ownerDocument, 'canvas');
    }
    getContext() {
        return {
            fillRect() {
                return;
            },
            clearRect() { },
            getImageData: function (_, __, w, h) {
                return {
                    data: new Array(w * h * 4),
                };
            },
            putImageData() { },
            createImageData: function () {
                return [];
            },
            setTransform() { },
            drawImage() { },
            save() { },
            fillText() { },
            restore() { },
            beginPath() { },
            moveTo() { },
            lineTo() { },
            closePath() { },
            stroke() { },
            translate() { },
            scale() { },
            rotate() { },
            arc() { },
            fill() { },
            measureText() {
                return { width: 0 };
            },
            transform() { },
            rect() { },
            clip() { },
        };
    }
}
function fullUrl(elm, attrName) {
    const val = elm.getAttribute(attrName) || '';
    if (elm.ownerDocument != null) {
        const win = elm.ownerDocument.defaultView;
        if (win != null) {
            const loc = win.location;
            if (loc != null) {
                try {
                    const url = new URL(val, loc.href);
                    return url.href;
                }
                catch (e) { }
            }
        }
    }
    return val.replace(/\'|\"/g, '').trim();
}
function patchPropAttributes(prototype, attrs, defaults = {}) {
    Object.keys(attrs).forEach((propName) => {
        const attr = attrs[propName];
        const defaultValue = defaults[propName];
        if (attr === Boolean) {
            Object.defineProperty(prototype, propName, {
                get() {
                    return this.hasAttribute(propName);
                },
                set(value) {
                    if (value) {
                        this.setAttribute(propName, '');
                    }
                    else {
                        this.removeAttribute(propName);
                    }
                },
            });
        }
        else if (attr === Number) {
            Object.defineProperty(prototype, propName, {
                get() {
                    const value = this.getAttribute(propName);
                    return value ? parseInt(value, 10) : defaultValue === undefined ? 0 : defaultValue;
                },
                set(value) {
                    this.setAttribute(propName, value);
                },
            });
        }
        else {
            Object.defineProperty(prototype, propName, {
                get() {
                    return this.hasAttribute(propName) ? this.getAttribute(propName) : defaultValue || '';
                },
                set(value) {
                    this.setAttribute(propName, value);
                },
            });
        }
    });
}
MockElement.prototype.cloneNode = function (deep) {
    // because we're creating elements, which extending specific HTML base classes there
    // is a MockElement circular reference that bundling has trouble dealing with so
    // the fix is to add cloneNode() to MockElement's prototype after the HTML classes
    const cloned = createElement(this.ownerDocument, this.nodeName);
    cloned.attributes = cloneAttributes(this.attributes);
    const styleCssText = this.getAttribute('style');
    if (styleCssText != null && styleCssText.length > 0) {
        cloned.setAttribute('style', styleCssText);
    }
    if (deep) {
        for (let i = 0, ii = this.childNodes.length; i < ii; i++) {
            const clonedChildNode = this.childNodes[i].cloneNode(true);
            cloned.appendChild(clonedChildNode);
        }
    }
    return cloned;
};

let sharedDocument;
function parseHtmlToDocument(html, ownerDocument = null) {
    if (ownerDocument == null) {
        if (sharedDocument == null) {
            sharedDocument = new MockDocument();
        }
        ownerDocument = sharedDocument;
    }
    return parseDocumentUtil(ownerDocument, html);
}
function parseHtmlToFragment(html, ownerDocument = null) {
    if (ownerDocument == null) {
        if (sharedDocument == null) {
            sharedDocument = new MockDocument();
        }
        ownerDocument = sharedDocument;
    }
    return parseFragmentUtil(ownerDocument, html);
}

const consoleNoop = () => {
    /**/
};
function createConsole() {
    return {
        debug: consoleNoop,
        error: consoleNoop,
        info: consoleNoop,
        log: consoleNoop,
        warn: consoleNoop,
        dir: consoleNoop,
        dirxml: consoleNoop,
        table: consoleNoop,
        trace: consoleNoop,
        group: consoleNoop,
        groupCollapsed: consoleNoop,
        groupEnd: consoleNoop,
        clear: consoleNoop,
        count: consoleNoop,
        countReset: consoleNoop,
        assert: consoleNoop,
        profile: consoleNoop,
        profileEnd: consoleNoop,
        time: consoleNoop,
        timeLog: consoleNoop,
        timeEnd: consoleNoop,
        timeStamp: consoleNoop,
        context: consoleNoop,
        memory: consoleNoop,
    };
}

class MockHeaders {
    constructor(init) {
        this._values = [];
        if (typeof init === 'object') {
            if (typeof init[Symbol.iterator] === 'function') {
                const kvs = [];
                for (const kv of init) {
                    if (typeof kv[Symbol.iterator] === 'function') {
                        kvs.push([...kv]);
                    }
                }
                for (const kv of kvs) {
                    this.append(kv[0], kv[1]);
                }
            }
            else {
                for (const key in init) {
                    this.append(key, init[key]);
                }
            }
        }
    }
    append(key, value) {
        this._values.push([key, value + '']);
    }
    delete(key) {
        key = key.toLowerCase();
        for (let i = this._values.length - 1; i >= 0; i--) {
            if (this._values[i][0].toLowerCase() === key) {
                this._values.splice(i, 1);
            }
        }
    }
    entries() {
        const entries = [];
        for (const kv of this.keys()) {
            entries.push([kv, this.get(kv)]);
        }
        let index = -1;
        return {
            next() {
                index++;
                return {
                    value: entries[index],
                    done: !entries[index],
                };
            },
            [Symbol.iterator]() {
                return this;
            },
        };
    }
    forEach(cb) {
        for (const kv of this.entries()) {
            cb(kv[1], kv[0]);
        }
    }
    get(key) {
        const rtn = [];
        key = key.toLowerCase();
        for (const kv of this._values) {
            if (kv[0].toLowerCase() === key) {
                rtn.push(kv[1]);
            }
        }
        return rtn.length > 0 ? rtn.join(', ') : null;
    }
    has(key) {
        key = key.toLowerCase();
        for (const kv of this._values) {
            if (kv[0].toLowerCase() === key) {
                return true;
            }
        }
        return false;
    }
    keys() {
        const keys = [];
        for (const kv of this._values) {
            const key = kv[0].toLowerCase();
            if (!keys.includes(key)) {
                keys.push(key);
            }
        }
        let index = -1;
        return {
            next() {
                index++;
                return {
                    value: keys[index],
                    done: !keys[index],
                };
            },
            [Symbol.iterator]() {
                return this;
            },
        };
    }
    set(key, value) {
        for (const kv of this._values) {
            if (kv[0].toLowerCase() === key.toLowerCase()) {
                kv[1] = value + '';
                return;
            }
        }
        this.append(key, value);
    }
    values() {
        const values = this._values;
        let index = -1;
        return {
            next() {
                index++;
                const done = !values[index];
                return {
                    value: done ? undefined : values[index][1],
                    done,
                };
            },
            [Symbol.iterator]() {
                return this;
            },
        };
    }
    [Symbol.iterator]() {
        return this.entries();
    }
}

class MockDOMParser {
    parseFromString(htmlToParse, mimeType) {
        if (mimeType !== 'text/html') {
            console.error('XML parsing not implemented yet, continuing as html');
        }
        return parseHtmlToDocument(htmlToParse);
    }
}

class MockRequest {
    constructor(input, init = {}) {
        this._method = 'GET';
        this._url = '/';
        this.bodyUsed = false;
        this.cache = 'default';
        this.credentials = 'same-origin';
        this.integrity = '';
        this.keepalive = false;
        this.mode = 'cors';
        this.redirect = 'follow';
        this.referrer = 'about:client';
        this.referrerPolicy = '';
        if (typeof input === 'string') {
            this.url = input;
        }
        else if (input) {
            Object.assign(this, input);
            this.headers = new MockHeaders(input.headers);
        }
        Object.assign(this, init);
        if (init.headers) {
            this.headers = new MockHeaders(init.headers);
        }
        if (!this.headers) {
            this.headers = new MockHeaders();
        }
    }
    get url() {
        if (typeof this._url === 'string') {
            return new URL(this._url, location.href).href;
        }
        return new URL('/', location.href).href;
    }
    set url(value) {
        this._url = value;
    }
    get method() {
        if (typeof this._method === 'string') {
            return this._method.toUpperCase();
        }
        return 'GET';
    }
    set method(value) {
        this._method = value;
    }
    clone() {
        const clone = { ...this };
        clone.headers = new MockHeaders(this.headers);
        return new MockRequest(clone);
    }
}
class MockResponse {
    constructor(body, init = {}) {
        this.ok = true;
        this.status = 200;
        this.statusText = '';
        this.type = 'default';
        this.url = '';
        this._body = body;
        if (init) {
            Object.assign(this, init);
        }
        this.headers = new MockHeaders(init.headers);
    }
    async json() {
        return JSON.parse(this._body);
    }
    async text() {
        return this._body;
    }
    clone() {
        const initClone = { ...this };
        initClone.headers = new MockHeaders(this.headers);
        return new MockResponse(this._body, initClone);
    }
}

function setupGlobal(gbl) {
    if (gbl.window == null) {
        const win = (gbl.window = new MockWindow());
        WINDOW_FUNCTIONS.forEach((fnName) => {
            if (!(fnName in gbl)) {
                gbl[fnName] = win[fnName].bind(win);
            }
        });
        WINDOW_PROPS.forEach((propName) => {
            if (!(propName in gbl)) {
                Object.defineProperty(gbl, propName, {
                    get() {
                        return win[propName];
                    },
                    set(val) {
                        win[propName] = val;
                    },
                    configurable: true,
                    enumerable: true,
                });
            }
        });
        GLOBAL_CONSTRUCTORS.forEach(([cstrName]) => {
            gbl[cstrName] = win[cstrName];
        });
    }
    return gbl.window;
}
function teardownGlobal(gbl) {
    const win = gbl.window;
    if (win && typeof win.close === 'function') {
        win.close();
    }
}
function patchWindow(winToBePatched) {
    const mockWin = new MockWindow(false);
    WINDOW_FUNCTIONS.forEach((fnName) => {
        if (typeof winToBePatched[fnName] !== 'function') {
            winToBePatched[fnName] = mockWin[fnName].bind(mockWin);
        }
    });
    WINDOW_PROPS.forEach((propName) => {
        if (winToBePatched === undefined) {
            Object.defineProperty(winToBePatched, propName, {
                get() {
                    return mockWin[propName];
                },
                set(val) {
                    mockWin[propName] = val;
                },
                configurable: true,
                enumerable: true,
            });
        }
    });
}
function addGlobalsToWindowPrototype(mockWinPrototype) {
    GLOBAL_CONSTRUCTORS.forEach(([cstrName, Cstr]) => {
        Object.defineProperty(mockWinPrototype, cstrName, {
            get() {
                return this['__' + cstrName] || Cstr;
            },
            set(cstr) {
                this['__' + cstrName] = cstr;
            },
            configurable: true,
            enumerable: true,
        });
    });
}
const WINDOW_FUNCTIONS = [
    'addEventListener',
    'alert',
    'blur',
    'cancelAnimationFrame',
    'cancelIdleCallback',
    'clearInterval',
    'clearTimeout',
    'close',
    'confirm',
    'dispatchEvent',
    'focus',
    'getComputedStyle',
    'matchMedia',
    'open',
    'prompt',
    'removeEventListener',
    'requestAnimationFrame',
    'requestIdleCallback',
    'URL',
];
const WINDOW_PROPS = [
    'customElements',
    'devicePixelRatio',
    'document',
    'history',
    'innerHeight',
    'innerWidth',
    'localStorage',
    'location',
    'navigator',
    'pageXOffset',
    'pageYOffset',
    'performance',
    'screenLeft',
    'screenTop',
    'screenX',
    'screenY',
    'scrollX',
    'scrollY',
    'sessionStorage',
    'CSS',
    'CustomEvent',
    'Event',
    'Element',
    'HTMLElement',
    'Node',
    'NodeList',
    'FocusEvent',
    'KeyboardEvent',
    'MouseEvent',
];
const GLOBAL_CONSTRUCTORS = [
    ['CustomEvent', MockCustomEvent],
    ['Event', MockEvent],
    ['Headers', MockHeaders],
    ['FocusEvent', MockFocusEvent],
    ['KeyboardEvent', MockKeyboardEvent],
    ['MouseEvent', MockMouseEvent],
    ['Request', MockRequest],
    ['Response', MockResponse],
    ['DOMParser', MockDOMParser],
    ['HTMLAnchorElement', MockAnchorElement],
    ['HTMLBaseElement', MockBaseElement],
    ['HTMLButtonElement', MockButtonElement],
    ['HTMLCanvasElement', MockCanvasElement],
    ['HTMLFormElement', MockFormElement],
    ['HTMLImageElement', MockImageElement],
    ['HTMLInputElement', MockInputElement],
    ['HTMLLinkElement', MockLinkElement],
    ['HTMLMetaElement', MockMetaElement],
    ['HTMLScriptElement', MockScriptElement],
    ['HTMLStyleElement', MockStyleElement],
    ['HTMLTemplateElement', MockTemplateElement],
    ['HTMLTitleElement', MockTitleElement],
    ['HTMLUListElement', MockUListElement],
];

class MockHistory {
    constructor() {
        this.items = [];
    }
    get length() {
        return this.items.length;
    }
    back() {
        this.go(-1);
    }
    forward() {
        this.go(1);
    }
    go(_value) {
        //
    }
    pushState(_state, _title, _url) {
        //
    }
    replaceState(_state, _title, _url) {
        //
    }
}

class MockIntersectionObserver {
    constructor() {
        /**/
    }
    disconnect() {
        /**/
    }
    observe() {
        /**/
    }
    takeRecords() {
        return [];
    }
    unobserve() {
        /**/
    }
}

class MockLocation {
    constructor() {
        this.ancestorOrigins = null;
        this.protocol = '';
        this.host = '';
        this.hostname = '';
        this.port = '';
        this.pathname = '';
        this.search = '';
        this.hash = '';
        this.username = '';
        this.password = '';
        this.origin = '';
        this._href = '';
    }
    get href() {
        return this._href;
    }
    set href(value) {
        const url = new URL(value, 'http://mockdoc.stenciljs.com');
        this._href = url.href;
        this.protocol = url.protocol;
        this.host = url.host;
        this.hostname = url.hostname;
        this.port = url.port;
        this.pathname = url.pathname;
        this.search = url.search;
        this.hash = url.hash;
        this.username = url.username;
        this.password = url.password;
        this.origin = url.origin;
    }
    assign(_url) {
        //
    }
    reload(_forcedReload) {
        //
    }
    replace(_url) {
        //
    }
    toString() {
        return this.href;
    }
}

class MockNavigator {
    constructor() {
        this.appCodeName = 'MockNavigator';
        this.appName = 'MockNavigator';
        this.appVersion = 'MockNavigator';
        this.platform = 'MockNavigator';
        this.userAgent = 'MockNavigator';
    }
}

/**
 * https://developer.mozilla.org/en-US/docs/Web/API/Performance
 */
class MockPerformance {
    constructor() {
        this.timeOrigin = Date.now();
        this.eventCounts = new Map();
    }
    addEventListener() {
        //
    }
    clearMarks() {
        //
    }
    clearMeasures() {
        //
    }
    clearResourceTimings() {
        //
    }
    dispatchEvent() {
        return true;
    }
    getEntries() {
        return [];
    }
    getEntriesByName() {
        return [];
    }
    getEntriesByType() {
        return [];
    }
    // Stencil's implementation of `mark` is non-compliant with the `Performance` interface. Because Stencil will
    // instantiate an instance of this class and may attempt to assign it to a variable of type `Performance`, the return
    // type must match the `Performance` interface (rather than typing this function as returning `void` and ignoring the
    // associated errors returned by the type checker)
    // @ts-ignore
    mark() {
        //
    }
    // Stencil's implementation of `measure` is non-compliant with the `Performance` interface. Because Stencil will
    // instantiate an instance of this class and may attempt to assign it to a variable of type `Performance`, the return
    // type must match the `Performance` interface (rather than typing this function as returning `void` and ignoring the
    // associated errors returned by the type checker)
    // @ts-ignore
    measure() {
        //
    }
    get navigation() {
        return {};
    }
    now() {
        return Date.now() - this.timeOrigin;
    }
    get onresourcetimingbufferfull() {
        return null;
    }
    removeEventListener() {
        //
    }
    setResourceTimingBufferSize() {
        //
    }
    get timing() {
        return {};
    }
    toJSON() {
        //
    }
}
function resetPerformance(perf) {
    if (perf != null) {
        try {
            perf.timeOrigin = Date.now();
        }
        catch (e) { }
    }
}

class MockStorage {
    constructor() {
        this.items = new Map();
    }
    key(_value) {
        //
    }
    getItem(key) {
        key = String(key);
        if (this.items.has(key)) {
            return this.items.get(key);
        }
        return null;
    }
    setItem(key, value) {
        if (value == null) {
            value = 'null';
        }
        this.items.set(String(key), String(value));
    }
    removeItem(key) {
        this.items.delete(String(key));
    }
    clear() {
        this.items.clear();
    }
}

const nativeClearInterval = clearInterval;
const nativeClearTimeout = clearTimeout;
const nativeSetInterval = setInterval;
const nativeSetTimeout = setTimeout;
const nativeURL = URL;
class MockWindow {
    constructor(html = null) {
        if (html !== false) {
            this.document = new MockDocument(html, this);
        }
        else {
            this.document = null;
        }
        this.performance = new MockPerformance();
        this.customElements = new MockCustomElementRegistry(this);
        this.console = createConsole();
        resetWindowDefaults(this);
        resetWindowDimensions(this);
    }
    addEventListener(type, handler) {
        addEventListener(this, type, handler);
    }
    alert(msg) {
        if (this.console) {
            this.console.debug(msg);
        }
        else {
            console.debug(msg);
        }
    }
    blur() {
        /**/
    }
    cancelAnimationFrame(id) {
        this.__clearTimeout(id);
    }
    cancelIdleCallback(id) {
        this.__clearTimeout(id);
    }
    get CharacterData() {
        if (this.__charDataCstr == null) {
            const ownerDocument = this.document;
            this.__charDataCstr = class extends MockNode {
                constructor() {
                    super(ownerDocument, 0, 'test', '');
                    throw new Error('Illegal constructor: cannot construct CharacterData');
                }
            };
        }
        return this.__charDataCstr;
    }
    set CharacterData(charDataCstr) {
        this.__charDataCstr = charDataCstr;
    }
    clearInterval(id) {
        this.__clearInterval(id);
    }
    clearTimeout(id) {
        this.__clearTimeout(id);
    }
    close() {
        resetWindow(this);
    }
    confirm() {
        return false;
    }
    get CSS() {
        return {
            supports: () => true,
        };
    }
    get Document() {
        if (this.__docCstr == null) {
            const win = this;
            this.__docCstr = class extends MockDocument {
                constructor() {
                    super(false, win);
                    throw new Error('Illegal constructor: cannot construct Document');
                }
            };
        }
        return this.__docCstr;
    }
    set Document(docCstr) {
        this.__docCstr = docCstr;
    }
    get DocumentFragment() {
        if (this.__docFragCstr == null) {
            const ownerDocument = this.document;
            this.__docFragCstr = class extends MockDocumentFragment {
                constructor() {
                    super(ownerDocument);
                    throw new Error('Illegal constructor: cannot construct DocumentFragment');
                }
            };
        }
        return this.__docFragCstr;
    }
    set DocumentFragment(docFragCstr) {
        this.__docFragCstr = docFragCstr;
    }
    get DocumentType() {
        if (this.__docTypeCstr == null) {
            const ownerDocument = this.document;
            this.__docTypeCstr = class extends MockNode {
                constructor() {
                    super(ownerDocument, 0, 'test', '');
                    throw new Error('Illegal constructor: cannot construct DocumentType');
                }
            };
        }
        return this.__docTypeCstr;
    }
    set DocumentType(docTypeCstr) {
        this.__docTypeCstr = docTypeCstr;
    }
    get DOMTokenList() {
        if (this.__domTokenListCstr == null) {
            this.__domTokenListCstr = class MockDOMTokenList {
            };
        }
        return this.__domTokenListCstr;
    }
    set DOMTokenList(domTokenListCstr) {
        this.__domTokenListCstr = domTokenListCstr;
    }
    dispatchEvent(ev) {
        return dispatchEvent(this, ev);
    }
    get Element() {
        if (this.__elementCstr == null) {
            const ownerDocument = this.document;
            this.__elementCstr = class extends MockElement {
                constructor() {
                    super(ownerDocument, '');
                    throw new Error('Illegal constructor: cannot construct Element');
                }
            };
        }
        return this.__elementCstr;
    }
    fetch(input, init) {
        if (typeof fetch === 'function') {
            return fetch(input, init);
        }
        throw new Error(`fetch() not implemented`);
    }
    focus() {
        /**/
    }
    getComputedStyle(_) {
        return {
            cssText: '',
            length: 0,
            parentRule: null,
            getPropertyPriority() {
                return null;
            },
            getPropertyValue() {
                return '';
            },
            item() {
                return null;
            },
            removeProperty() {
                return null;
            },
            setProperty() {
                return null;
            },
        };
    }
    get globalThis() {
        return this;
    }
    get history() {
        if (this.__history == null) {
            this.__history = new MockHistory();
        }
        return this.__history;
    }
    set history(hsty) {
        this.__history = hsty;
    }
    get JSON() {
        return JSON;
    }
    get HTMLElement() {
        if (this.__htmlElementCstr == null) {
            const ownerDocument = this.document;
            this.__htmlElementCstr = class extends MockHTMLElement {
                constructor() {
                    super(ownerDocument, '');
                    const observedAttributes = this.constructor.observedAttributes;
                    if (Array.isArray(observedAttributes) && typeof this.attributeChangedCallback === 'function') {
                        observedAttributes.forEach((attrName) => {
                            const attrValue = this.getAttribute(attrName);
                            if (attrValue != null) {
                                this.attributeChangedCallback(attrName, null, attrValue);
                            }
                        });
                    }
                }
            };
        }
        return this.__htmlElementCstr;
    }
    set HTMLElement(htmlElementCstr) {
        this.__htmlElementCstr = htmlElementCstr;
    }
    get IntersectionObserver() {
        return MockIntersectionObserver;
    }
    get localStorage() {
        if (this.__localStorage == null) {
            this.__localStorage = new MockStorage();
        }
        return this.__localStorage;
    }
    set localStorage(locStorage) {
        this.__localStorage = locStorage;
    }
    get location() {
        if (this.__location == null) {
            this.__location = new MockLocation();
        }
        return this.__location;
    }
    set location(val) {
        if (typeof val === 'string') {
            if (this.__location == null) {
                this.__location = new MockLocation();
            }
            this.__location.href = val;
        }
        else {
            this.__location = val;
        }
    }
    matchMedia(media) {
        return {
            media,
            matches: false,
            addListener: (_handler) => { },
            removeListener: (_handler) => { },
            addEventListener: (_type, _handler) => { },
            removeEventListener: (_type, _handler) => { },
            dispatchEvent: (_ev) => { },
            onchange: null,
        };
    }
    get Node() {
        if (this.__nodeCstr == null) {
            const ownerDocument = this.document;
            this.__nodeCstr = class extends MockNode {
                constructor() {
                    super(ownerDocument, 0, 'test', '');
                    throw new Error('Illegal constructor: cannot construct Node');
                }
            };
        }
        return this.__nodeCstr;
    }
    get NodeList() {
        if (this.__nodeListCstr == null) {
            const ownerDocument = this.document;
            this.__nodeListCstr = class extends MockNodeList {
                constructor() {
                    super(ownerDocument, [], 0);
                    throw new Error('Illegal constructor: cannot construct NodeList');
                }
            };
        }
        return this.__nodeListCstr;
    }
    get navigator() {
        if (this.__navigator == null) {
            this.__navigator = new MockNavigator();
        }
        return this.__navigator;
    }
    set navigator(nav) {
        this.__navigator = nav;
    }
    get parent() {
        return null;
    }
    prompt() {
        return '';
    }
    open() {
        return null;
    }
    get origin() {
        return this.location.origin;
    }
    removeEventListener(type, handler) {
        removeEventListener(this, type, handler);
    }
    requestAnimationFrame(callback) {
        return this.setTimeout(() => {
            callback(Date.now());
        }, 0);
    }
    requestIdleCallback(callback) {
        return this.setTimeout(() => {
            callback({
                didTimeout: false,
                timeRemaining: () => 0,
            });
        }, 0);
    }
    scroll(_x, _y) {
        /**/
    }
    scrollBy(_x, _y) {
        /**/
    }
    scrollTo(_x, _y) {
        /**/
    }
    get self() {
        return this;
    }
    get sessionStorage() {
        if (this.__sessionStorage == null) {
            this.__sessionStorage = new MockStorage();
        }
        return this.__sessionStorage;
    }
    set sessionStorage(locStorage) {
        this.__sessionStorage = locStorage;
    }
    setInterval(callback, ms, ...args) {
        if (this.__timeouts == null) {
            this.__timeouts = new Set();
        }
        ms = Math.min(ms, this.__maxTimeout);
        if (this.__allowInterval) {
            const intervalId = this.__setInterval(() => {
                if (this.__timeouts) {
                    this.__timeouts.delete(intervalId);
                    try {
                        callback(...args);
                    }
                    catch (e) {
                        if (this.console) {
                            this.console.error(e);
                        }
                        else {
                            console.error(e);
                        }
                    }
                }
            }, ms);
            if (this.__timeouts) {
                this.__timeouts.add(intervalId);
            }
            return intervalId;
        }
        const timeoutId = this.__setTimeout(() => {
            if (this.__timeouts) {
                this.__timeouts.delete(timeoutId);
                try {
                    callback(...args);
                }
                catch (e) {
                    if (this.console) {
                        this.console.error(e);
                    }
                    else {
                        console.error(e);
                    }
                }
            }
        }, ms);
        if (this.__timeouts) {
            this.__timeouts.add(timeoutId);
        }
        return timeoutId;
    }
    setTimeout(callback, ms, ...args) {
        if (this.__timeouts == null) {
            this.__timeouts = new Set();
        }
        ms = Math.min(ms, this.__maxTimeout);
        const timeoutId = this.__setTimeout(() => {
            if (this.__timeouts) {
                this.__timeouts.delete(timeoutId);
                try {
                    callback(...args);
                }
                catch (e) {
                    if (this.console) {
                        this.console.error(e);
                    }
                    else {
                        console.error(e);
                    }
                }
            }
        }, ms);
        if (this.__timeouts) {
            this.__timeouts.add(timeoutId);
        }
        return timeoutId;
    }
    get top() {
        return this;
    }
    get window() {
        return this;
    }
    onanimationstart() {
        /**/
    }
    onanimationend() {
        /**/
    }
    onanimationiteration() {
        /**/
    }
    onabort() {
        /**/
    }
    onauxclick() {
        /**/
    }
    onbeforecopy() {
        /**/
    }
    onbeforecut() {
        /**/
    }
    onbeforepaste() {
        /**/
    }
    onblur() {
        /**/
    }
    oncancel() {
        /**/
    }
    oncanplay() {
        /**/
    }
    oncanplaythrough() {
        /**/
    }
    onchange() {
        /**/
    }
    onclick() {
        /**/
    }
    onclose() {
        /**/
    }
    oncontextmenu() {
        /**/
    }
    oncopy() {
        /**/
    }
    oncuechange() {
        /**/
    }
    oncut() {
        /**/
    }
    ondblclick() {
        /**/
    }
    ondrag() {
        /**/
    }
    ondragend() {
        /**/
    }
    ondragenter() {
        /**/
    }
    ondragleave() {
        /**/
    }
    ondragover() {
        /**/
    }
    ondragstart() {
        /**/
    }
    ondrop() {
        /**/
    }
    ondurationchange() {
        /**/
    }
    onemptied() {
        /**/
    }
    onended() {
        /**/
    }
    onerror() {
        /**/
    }
    onfocus() {
        /**/
    }
    onfocusin() {
        /**/
    }
    onfocusout() {
        /**/
    }
    onformdata() {
        /**/
    }
    onfullscreenchange() {
        /**/
    }
    onfullscreenerror() {
        /**/
    }
    ongotpointercapture() {
        /**/
    }
    oninput() {
        /**/
    }
    oninvalid() {
        /**/
    }
    onkeydown() {
        /**/
    }
    onkeypress() {
        /**/
    }
    onkeyup() {
        /**/
    }
    onload() {
        /**/
    }
    onloadeddata() {
        /**/
    }
    onloadedmetadata() {
        /**/
    }
    onloadstart() {
        /**/
    }
    onlostpointercapture() {
        /**/
    }
    onmousedown() {
        /**/
    }
    onmouseenter() {
        /**/
    }
    onmouseleave() {
        /**/
    }
    onmousemove() {
        /**/
    }
    onmouseout() {
        /**/
    }
    onmouseover() {
        /**/
    }
    onmouseup() {
        /**/
    }
    onmousewheel() {
        /**/
    }
    onpaste() {
        /**/
    }
    onpause() {
        /**/
    }
    onplay() {
        /**/
    }
    onplaying() {
        /**/
    }
    onpointercancel() {
        /**/
    }
    onpointerdown() {
        /**/
    }
    onpointerenter() {
        /**/
    }
    onpointerleave() {
        /**/
    }
    onpointermove() {
        /**/
    }
    onpointerout() {
        /**/
    }
    onpointerover() {
        /**/
    }
    onpointerup() {
        /**/
    }
    onprogress() {
        /**/
    }
    onratechange() {
        /**/
    }
    onreset() {
        /**/
    }
    onresize() {
        /**/
    }
    onscroll() {
        /**/
    }
    onsearch() {
        /**/
    }
    onseeked() {
        /**/
    }
    onseeking() {
        /**/
    }
    onselect() {
        /**/
    }
    onselectstart() {
        /**/
    }
    onstalled() {
        /**/
    }
    onsubmit() {
        /**/
    }
    onsuspend() {
        /**/
    }
    ontimeupdate() {
        /**/
    }
    ontoggle() {
        /**/
    }
    onvolumechange() {
        /**/
    }
    onwaiting() {
        /**/
    }
    onwebkitfullscreenchange() {
        /**/
    }
    onwebkitfullscreenerror() {
        /**/
    }
    onwheel() {
        /**/
    }
}
addGlobalsToWindowPrototype(MockWindow.prototype);
function resetWindowDefaults(win) {
    win.__clearInterval = nativeClearInterval;
    win.__clearTimeout = nativeClearTimeout;
    win.__setInterval = nativeSetInterval;
    win.__setTimeout = nativeSetTimeout;
    win.__maxTimeout = 30000;
    win.__allowInterval = true;
    win.URL = nativeURL;
}
function cloneWindow(srcWin, opts = {}) {
    if (srcWin == null) {
        return null;
    }
    const clonedWin = new MockWindow(false);
    if (!opts.customElementProxy) {
        // TODO(STENCIL-345) - Evaluate reconciling MockWindow, Window differences
        // @ts-ignore
        srcWin.customElements = null;
    }
    if (srcWin.document != null) {
        const clonedDoc = new MockDocument(false, clonedWin);
        clonedWin.document = clonedDoc;
        clonedDoc.documentElement = srcWin.document.documentElement.cloneNode(true);
    }
    else {
        clonedWin.document = new MockDocument(null, clonedWin);
    }
    return clonedWin;
}
function cloneDocument(srcDoc) {
    if (srcDoc == null) {
        return null;
    }
    const dstWin = cloneWindow(srcDoc.defaultView);
    return dstWin.document;
}
// TODO(STENCIL-345) - Evaluate reconciling MockWindow, Window differences
/**
 * Constrain setTimeout() to 1ms, but still async. Also
 * only allow setInterval() to fire once, also constrained to 1ms.
 * @param win the mock window instance to update
 */
function constrainTimeouts(win) {
    win.__allowInterval = false;
    win.__maxTimeout = 0;
}
function resetWindow(win) {
    if (win != null) {
        if (win.__timeouts) {
            win.__timeouts.forEach((timeoutId) => {
                nativeClearInterval(timeoutId);
                nativeClearTimeout(timeoutId);
            });
            win.__timeouts.clear();
        }
        if (win.customElements && win.customElements.clear) {
            win.customElements.clear();
        }
        resetDocument(win.document);
        resetPerformance(win.performance);
        for (const key in win) {
            if (win.hasOwnProperty(key) && key !== 'document' && key !== 'performance' && key !== 'customElements') {
                delete win[key];
            }
        }
        resetWindowDefaults(win);
        resetWindowDimensions(win);
        resetEventListeners(win);
        if (win.document != null) {
            try {
                win.document.defaultView = win;
            }
            catch (e) { }
        }
        // ensure we don't hold onto nodeFetch values
        win.fetch = null;
        win.Headers = null;
        win.Request = null;
        win.Response = null;
        win.FetchError = null;
    }
}
function resetWindowDimensions(win) {
    try {
        win.devicePixelRatio = 1;
        win.innerHeight = 768;
        win.innerWidth = 1366;
        win.pageXOffset = 0;
        win.pageYOffset = 0;
        win.screenLeft = 0;
        win.screenTop = 0;
        win.screenX = 0;
        win.screenY = 0;
        win.scrollX = 0;
        win.scrollY = 0;
        win.screen = {
            availHeight: win.innerHeight,
            availLeft: 0,
            availTop: 0,
            availWidth: win.innerWidth,
            colorDepth: 24,
            height: win.innerHeight,
            keepAwake: false,
            orientation: {
                angle: 0,
                type: 'portrait-primary',
            },
            pixelDepth: 24,
            width: win.innerWidth,
        };
    }
    catch (e) { }
}

class MockDocument extends MockHTMLElement {
    constructor(html = null, win = null) {
        super(null, null);
        this.nodeName = "#document" /* NODE_NAMES.DOCUMENT_NODE */;
        this.nodeType = 9 /* NODE_TYPES.DOCUMENT_NODE */;
        this.defaultView = win;
        this.cookie = '';
        this.referrer = '';
        this.appendChild(this.createDocumentTypeNode());
        if (typeof html === 'string') {
            const parsedDoc = parseDocumentUtil(this, html);
            const documentElement = parsedDoc.children.find((elm) => elm.nodeName === 'HTML');
            if (documentElement != null) {
                this.appendChild(documentElement);
                setOwnerDocument(documentElement, this);
            }
        }
        else if (html !== false) {
            const documentElement = new MockHTMLElement(this, 'html');
            this.appendChild(documentElement);
            documentElement.appendChild(new MockHTMLElement(this, 'head'));
            documentElement.appendChild(new MockHTMLElement(this, 'body'));
        }
    }
    get dir() {
        return this.documentElement.dir;
    }
    set dir(value) {
        this.documentElement.dir = value;
    }
    get location() {
        if (this.defaultView != null) {
            return this.defaultView.location;
        }
        return null;
    }
    set location(val) {
        if (this.defaultView != null) {
            this.defaultView.location = val;
        }
    }
    get baseURI() {
        const baseNode = this.head.childNodes.find((node) => node.nodeName === 'BASE');
        if (baseNode) {
            return baseNode.href;
        }
        return this.URL;
    }
    get URL() {
        return this.location.href;
    }
    get styleSheets() {
        return this.querySelectorAll('style');
    }
    get scripts() {
        return this.querySelectorAll('script');
    }
    get forms() {
        return this.querySelectorAll('form');
    }
    get images() {
        return this.querySelectorAll('img');
    }
    get scrollingElement() {
        return this.documentElement;
    }
    get documentElement() {
        for (let i = this.childNodes.length - 1; i >= 0; i--) {
            if (this.childNodes[i].nodeName === 'HTML') {
                return this.childNodes[i];
            }
        }
        const documentElement = new MockHTMLElement(this, 'html');
        this.appendChild(documentElement);
        return documentElement;
    }
    set documentElement(documentElement) {
        for (let i = this.childNodes.length - 1; i >= 0; i--) {
            if (this.childNodes[i].nodeType !== 10 /* NODE_TYPES.DOCUMENT_TYPE_NODE */) {
                this.childNodes[i].remove();
            }
        }
        if (documentElement != null) {
            this.appendChild(documentElement);
            setOwnerDocument(documentElement, this);
        }
    }
    get head() {
        const documentElement = this.documentElement;
        for (let i = 0; i < documentElement.childNodes.length; i++) {
            if (documentElement.childNodes[i].nodeName === 'HEAD') {
                return documentElement.childNodes[i];
            }
        }
        const head = new MockHTMLElement(this, 'head');
        documentElement.insertBefore(head, documentElement.firstChild);
        return head;
    }
    set head(head) {
        const documentElement = this.documentElement;
        for (let i = documentElement.childNodes.length - 1; i >= 0; i--) {
            if (documentElement.childNodes[i].nodeName === 'HEAD') {
                documentElement.childNodes[i].remove();
            }
        }
        if (head != null) {
            documentElement.insertBefore(head, documentElement.firstChild);
            setOwnerDocument(head, this);
        }
    }
    get body() {
        const documentElement = this.documentElement;
        for (let i = documentElement.childNodes.length - 1; i >= 0; i--) {
            if (documentElement.childNodes[i].nodeName === 'BODY') {
                return documentElement.childNodes[i];
            }
        }
        const body = new MockHTMLElement(this, 'body');
        documentElement.appendChild(body);
        return body;
    }
    set body(body) {
        const documentElement = this.documentElement;
        for (let i = documentElement.childNodes.length - 1; i >= 0; i--) {
            if (documentElement.childNodes[i].nodeName === 'BODY') {
                documentElement.childNodes[i].remove();
            }
        }
        if (body != null) {
            documentElement.appendChild(body);
            setOwnerDocument(body, this);
        }
    }
    appendChild(newNode) {
        newNode.remove();
        newNode.parentNode = this;
        this.childNodes.push(newNode);
        return newNode;
    }
    createComment(data) {
        return new MockComment(this, data);
    }
    createAttribute(attrName) {
        return new MockAttr(attrName.toLowerCase(), '');
    }
    createAttributeNS(namespaceURI, attrName) {
        return new MockAttr(attrName, '', namespaceURI);
    }
    createElement(tagName) {
        if (tagName === "#document" /* NODE_NAMES.DOCUMENT_NODE */) {
            const doc = new MockDocument(false);
            doc.nodeName = tagName;
            doc.parentNode = null;
            return doc;
        }
        return createElement(this, tagName);
    }
    createElementNS(namespaceURI, tagName) {
        const elmNs = createElementNS(this, namespaceURI, tagName);
        return elmNs;
    }
    createTextNode(text) {
        return new MockTextNode(this, text);
    }
    createDocumentFragment() {
        return new MockDocumentFragment(this);
    }
    createDocumentTypeNode() {
        return new MockDocumentTypeNode(this);
    }
    getElementById(id) {
        return getElementById(this, id);
    }
    getElementsByName(elmName) {
        return getElementsByName(this, elmName.toLowerCase());
    }
    get title() {
        const title = this.head.childNodes.find((elm) => elm.nodeName === 'TITLE');
        if (title != null && typeof title.textContent === 'string') {
            return title.textContent.trim();
        }
        return '';
    }
    set title(value) {
        const head = this.head;
        let title = head.childNodes.find((elm) => elm.nodeName === 'TITLE');
        if (title == null) {
            title = this.createElement('title');
            head.appendChild(title);
        }
        title.textContent = value;
    }
}
function createDocument(html = null) {
    return new MockWindow(html).document;
}
function createFragment(html) {
    return parseHtmlToFragment(html, null);
}
function resetDocument(doc) {
    if (doc != null) {
        resetEventListeners(doc);
        const documentElement = doc.documentElement;
        if (documentElement != null) {
            resetElement(documentElement);
            for (let i = 0, ii = documentElement.childNodes.length; i < ii; i++) {
                const childNode = documentElement.childNodes[i];
                resetElement(childNode);
                childNode.childNodes.length = 0;
            }
        }
        for (const key in doc) {
            if (doc.hasOwnProperty(key) && !DOC_KEY_KEEPERS.has(key)) {
                delete doc[key];
            }
        }
        try {
            doc.nodeName = "#document" /* NODE_NAMES.DOCUMENT_NODE */;
        }
        catch (e) { }
        try {
            doc.nodeType = 9 /* NODE_TYPES.DOCUMENT_NODE */;
        }
        catch (e) { }
        try {
            doc.cookie = '';
        }
        catch (e) { }
        try {
            doc.referrer = '';
        }
        catch (e) { }
    }
}
const DOC_KEY_KEEPERS = new Set([
    'nodeName',
    'nodeType',
    'nodeValue',
    'ownerDocument',
    'parentNode',
    'childNodes',
    '_shadowRoot',
]);
function getElementById(elm, id) {
    const children = elm.children;
    for (let i = 0, ii = children.length; i < ii; i++) {
        const childElm = children[i];
        if (childElm.id === id) {
            return childElm;
        }
        const childElmFound = getElementById(childElm, id);
        if (childElmFound != null) {
            return childElmFound;
        }
    }
    return null;
}
function getElementsByName(elm, elmName, foundElms = []) {
    const children = elm.children;
    for (let i = 0, ii = children.length; i < ii; i++) {
        const childElm = children[i];
        if (childElm.name && childElm.name.toLowerCase() === elmName) {
            foundElms.push(childElm);
        }
        getElementsByName(childElm, elmName, foundElms);
    }
    return foundElms;
}
function setOwnerDocument(elm, ownerDocument) {
    for (let i = 0, ii = elm.childNodes.length; i < ii; i++) {
        elm.childNodes[i].ownerDocument = ownerDocument;
        if (elm.childNodes[i].nodeType === 1 /* NODE_TYPES.ELEMENT_NODE */) {
            setOwnerDocument(elm.childNodes[i], ownerDocument);
        }
    }
}

function hydrateFactory($stencilWindow, $stencilHydrateOpts, $stencilHydrateResults, $stencilAfterHydrate, $stencilHydrateResolve) {
  var globalThis = $stencilWindow;
  var self = $stencilWindow;
  var top = $stencilWindow;
  var parent = $stencilWindow;

  var addEventListener = $stencilWindow.addEventListener.bind($stencilWindow);
  var alert = $stencilWindow.alert.bind($stencilWindow);
  var blur = $stencilWindow.blur.bind($stencilWindow);
  var cancelAnimationFrame = $stencilWindow.cancelAnimationFrame.bind($stencilWindow);
  var cancelIdleCallback = $stencilWindow.cancelIdleCallback.bind($stencilWindow);
  var clearInterval = $stencilWindow.clearInterval.bind($stencilWindow);
  var clearTimeout = $stencilWindow.clearTimeout.bind($stencilWindow);
  var close = () => {};
  var confirm = $stencilWindow.confirm.bind($stencilWindow);
  var dispatchEvent = $stencilWindow.dispatchEvent.bind($stencilWindow);
  var focus = $stencilWindow.focus.bind($stencilWindow);
  var getComputedStyle = $stencilWindow.getComputedStyle.bind($stencilWindow);
  var matchMedia = $stencilWindow.matchMedia.bind($stencilWindow);
  var open = $stencilWindow.open.bind($stencilWindow);
  var prompt = $stencilWindow.prompt.bind($stencilWindow);
  var removeEventListener = $stencilWindow.removeEventListener.bind($stencilWindow);
  var requestAnimationFrame = $stencilWindow.requestAnimationFrame.bind($stencilWindow);
  var requestIdleCallback = $stencilWindow.requestIdleCallback.bind($stencilWindow);
  var setInterval = $stencilWindow.setInterval.bind($stencilWindow);
  var setTimeout = $stencilWindow.setTimeout.bind($stencilWindow);

  var CharacterData = $stencilWindow.CharacterData;
  var CSS = $stencilWindow.CSS;
  var CustomEvent = $stencilWindow.CustomEvent;
  var Document = $stencilWindow.Document;
  var DocumentFragment = $stencilWindow.DocumentFragment;
  var DocumentType = $stencilWindow.DocumentType;
  var DOMTokenList = $stencilWindow.DOMTokenList;
  var Element = $stencilWindow.Element;
  var Event = $stencilWindow.Event;
  var HTMLAnchorElement = $stencilWindow.HTMLAnchorElement;
  var HTMLBaseElement = $stencilWindow.HTMLBaseElement;
  var HTMLButtonElement = $stencilWindow.HTMLButtonElement;
  var HTMLCanvasElement = $stencilWindow.HTMLCanvasElement;
  var HTMLElement = $stencilWindow.HTMLElement;
  var HTMLFormElement = $stencilWindow.HTMLFormElement;
  var HTMLImageElement = $stencilWindow.HTMLImageElement;
  var HTMLInputElement = $stencilWindow.HTMLInputElement;
  var HTMLLinkElement = $stencilWindow.HTMLLinkElement;
  var HTMLMetaElement = $stencilWindow.HTMLMetaElement;
  var HTMLScriptElement = $stencilWindow.HTMLScriptElement;
  var HTMLStyleElement = $stencilWindow.HTMLStyleElement;
  var HTMLTemplateElement = $stencilWindow.HTMLTemplateElement;
  var HTMLTitleElement = $stencilWindow.HTMLTitleElement;
  var IntersectionObserver = $stencilWindow.IntersectionObserver;
  var KeyboardEvent = $stencilWindow.KeyboardEvent;
  var MouseEvent = $stencilWindow.MouseEvent;
  var Node = $stencilWindow.Node;
  var NodeList = $stencilWindow.NodeList;
  var URL = $stencilWindow.URL;

  var console = $stencilWindow.console;
  var customElements = $stencilWindow.customElements;
  var history = $stencilWindow.history;
  var localStorage = $stencilWindow.localStorage;
  var location = $stencilWindow.location;
  var navigator = $stencilWindow.navigator;
  var performance = $stencilWindow.performance;
  var sessionStorage = $stencilWindow.sessionStorage;

  var devicePixelRatio = $stencilWindow.devicePixelRatio;
  var innerHeight = $stencilWindow.innerHeight;
  var innerWidth = $stencilWindow.innerWidth;
  var origin = $stencilWindow.origin;
  var pageXOffset = $stencilWindow.pageXOffset;
  var pageYOffset = $stencilWindow.pageYOffset;
  var screen = $stencilWindow.screen;
  var screenLeft = $stencilWindow.screenLeft;
  var screenTop = $stencilWindow.screenTop;
  var screenX = $stencilWindow.screenX;
  var screenY = $stencilWindow.screenY;
  var scrollX = $stencilWindow.scrollX;
  var scrollY = $stencilWindow.scrollY;
  var exports = {};

  var fetch, FetchError, Headers, Request, Response;

  if (typeof $stencilWindow.fetch === 'function') {
    fetch = $stencilWindow.fetch;
  } else {
    fetch = $stencilWindow.fetch = function() { throw new Error('fetch() is not implemented'); };
  }

  if (typeof $stencilWindow.FetchError === 'function') {
    FetchError = $stencilWindow.FetchError;
  } else {
    FetchError = $stencilWindow.FetchError = class FetchError { constructor() { throw new Error('FetchError is not implemented'); } };
  }

  if (typeof $stencilWindow.Headers === 'function') {
    Headers = $stencilWindow.Headers;
  } else {
    Headers = $stencilWindow.Headers = class Headers { constructor() { throw new Error('Headers is not implemented'); } };
  }

  if (typeof $stencilWindow.Request === 'function') {
    Request = $stencilWindow.Request;
  } else {
    Request = $stencilWindow.Request = class Request { constructor() { throw new Error('Request is not implemented'); } };
  }

  if (typeof $stencilWindow.Response === 'function') {
    Response = $stencilWindow.Response;
  } else {
    Response = $stencilWindow.Response = class Response { constructor() { throw new Error('Response is not implemented'); } };
  }

  function hydrateAppClosure($stencilWindow) {
    const window = $stencilWindow;
    const document = $stencilWindow.document;
    /*hydrateAppClosure start*/


const NAMESPACE = 'duet';
const BUILD = /* duet */ { allRenderFn: true, appendChildSlotFix: false, asyncLoading: true, attachStyles: true, cloneNodeFix: false, cmpDidLoad: true, cmpDidRender: true, cmpDidUnload: false, cmpDidUpdate: true, cmpShouldUpdate: false, cmpWillLoad: true, cmpWillRender: true, cmpWillUpdate: false, connectedCallback: true, constructableCSS: false, cssAnnotations: true, devTools: false, disconnectedCallback: true, element: false, event: true, experimentalScopedSlotChanges: false, experimentalSlotFixes: false, formAssociated: false, hasRenderFn: true, hostListener: true, hostListenerTarget: true, hostListenerTargetBody: true, hostListenerTargetDocument: true, hostListenerTargetParent: false, hostListenerTargetWindow: true, hotModuleReplacement: false, hydrateClientSide: true, hydrateServerSide: true, hydratedAttribute: false, hydratedClass: true, isDebug: false, isDev: false, isTesting: false, lazyLoad: true, lifecycle: true, lifecycleDOMEvents: false, member: true, method: true, mode: false, observeAttribute: true, profile: false, prop: true, propBoolean: true, propMutable: true, propNumber: true, propString: true, reflect: true, scoped: true, scriptDataOpts: false, shadowDelegatesFocus: true, shadowDom: true, shadowDomShim: true, slot: true, slotChildNodesFix: false, slotRelocation: true, state: true, style: true, svg: true, taskQueue: true, updatable: true, vdomAttribute: true, vdomClass: true, vdomFunctional: true, vdomKey: true, vdomListener: true, vdomPropOrAttr: true, vdomRef: true, vdomRender: true, vdomStyle: true, vdomText: true, vdomXlink: true, watchCallback: true };

const setupLoggers = () => {
    {
        globalThis.ds = {
            log: () => {
                return;
            },
            warn: () => {
                return;
            },
            info: () => {
                return;
            },
        };
    }
};

var appGlobalScript = () => {
    setupLoggers();
};

const globalScripts = appGlobalScript;

function queryNonceMetaTagContent(e) {
 var t, o, n;
 return null !== (n = null === (o = null === (t = e.head) || void 0 === t ? void 0 : t.querySelector('meta[name="csp-nonce"]')) || void 0 === o ? void 0 : o.getAttribute("content")) && void 0 !== n ? n : void 0;
}

function componentOnReady() {
 return getHostRef(this).$onReadyPromise$;
}

function forceUpdate() {}

function hydrateApp(e, t, o, n, s) {
 function l() {
  if (global.clearTimeout(p), i.clear(), r.clear(), !h) {
   h = !0;
   try {
    t.clientHydrateAnnotations && insertVdomAnnotations(e.document, t.staticComponents), 
    e.dispatchEvent(new e.Event("DOMContentLoaded")), e.document.createElement = c, 
    e.document.createElementNS = $;
   } catch (e) {
    renderCatchError(t, o, e);
   }
  }
  n(e, t, o, s);
 }
 function a(e) {
  renderCatchError(t, o, e), l();
 }
 const r = new Set, i = new Set, d = new Set, c = e.document.createElement, $ = e.document.createElementNS, m = Promise.resolve();
 let p, h = !1;
 try {
  function f() {
   return L(this);
  }
  function u(e) {
   if (isValidComponent(e, t) && !getHostRef(e)) {
    const t = loadModule({
     $tagName$: e.nodeName.toLowerCase(),
     $flags$: null
    });
    null != t && null != t.cmpMeta && (i.add(e), e.connectedCallback = f, registerHost(e, t.cmpMeta), 
    function o(e, t) {
     if ("function" != typeof e.componentOnReady && (e.componentOnReady = componentOnReady), 
     "function" != typeof e.forceUpdate && (e.forceUpdate = forceUpdate), 1 & t.$flags$ && (e.shadowRoot = e), 
     null != t.$members$) {
      const o = getHostRef(e);
      Object.entries(t.$members$).forEach((([n, s]) => {
       const l = s[0];
       if (31 & l) {
        const a = s[1] || n, r = e.getAttribute(a);
        if (null != r) {
         const e = parsePropertyValue(r, l);
         o.$instanceValues$.set(n, e);
        }
        const i = e[n];
        void 0 !== i && (o.$instanceValues$.set(n, i), delete e[n]), Object.defineProperty(e, n, {
         get() {
          return getValue(this, n);
         },
         set(e) {
          setValue(this, n, e, t);
         },
         configurable: !0,
         enumerable: !0
        });
       } else 64 & l && Object.defineProperty(e, n, {
        value(...e) {
         const t = getHostRef(this);
         return t.$onInstancePromise$.then((() => t.$lazyInstance$[n](...e))).catch(consoleError);
        }
       });
      }));
     }
    }(e, t.cmpMeta));
   }
  }
  function g(e) {
   if (null != e && 1 === e.nodeType) {
    u(e);
    const t = e.children;
    for (let e = 0, o = t.length; e < o; e++) g(t[e]);
   }
  }
  function L(n) {
   return i.delete(n), isValidComponent(n, t) && o.hydratedCount < t.maxHydrateCount && !r.has(n) && shouldHydrate(n) ? (r.add(n), 
   async function s(e, t, o, n, l) {
    o = o.toLowerCase();
    const a = loadModule({
     $tagName$: o,
     $flags$: null
    });
    if (null != a && null != a.cmpMeta) {
     l.add(n);
     try {
      connectedCallback(n), await n.componentOnReady(), t.hydratedCount++;
      const e = getHostRef(n), s = e.$modeName$ ? e.$modeName$ : "$";
      t.components.some((e => e.tag === o && e.mode === s)) || t.components.push({
       tag: o,
       mode: s,
       count: 0,
       depth: -1
      });
     } catch (t) {
      e.console.error(t);
     }
     l.delete(n);
    }
   }(e, o, n.nodeName, n, d)) : m;
  }
  function y() {
   const e = Array.from(i).filter((e => e.parentElement));
   return e.length > 0 ? Promise.all(e.map(L)).then(y) : m;
  }
  e.document.createElement = function t(o) {
   const n = c.call(e.document, o);
   return u(n), n;
  }, e.document.createElementNS = function t(o, n) {
   const s = $.call(e.document, o, n);
   return u(s), s;
  }, p = global.setTimeout((function I() {
   a(`Hydrate exceeded timeout${function e(t) {
    return Array.from(t).map(waitingOnElementMsg);
   }(d)}`);
  }), t.timeout), plt.$resourcesUrl$ = new URL(t.resourcesUrl || "./", doc.baseURI).href, 
  globalScripts(), g(e.document.body), y().then(l).catch(a);
 } catch (D) {
  a(D);
 }
}

function isValidComponent(e, t) {
 if (null != e && 1 === e.nodeType) {
  const o = e.nodeName;
  if ("string" == typeof o && o.includes("-")) return !t.excludeComponents.includes(o.toLowerCase());
 }
 return !1;
}

function shouldHydrate(e) {
 if (9 === e.nodeType) return !0;
 if (NO_HYDRATE_TAGS.has(e.nodeName)) return !1;
 if (e.hasAttribute("no-prerender")) return !1;
 const t = e.parentNode;
 return null == t || shouldHydrate(t);
}

function renderCatchError(e, t, o) {
 const n = {
  level: "error",
  type: "build",
  header: "Hydrate Error",
  messageText: "",
  relFilePath: void 0,
  absFilePath: void 0,
  lines: []
 };
 if (e.url) try {
  const t = new URL(e.url);
  "/" !== t.pathname && (n.header += ": " + t.pathname);
 } catch (e) {}
 null != o && (null != o.stack ? n.messageText = o.stack.toString() : null != o.message ? n.messageText = o.message.toString() : n.messageText = o.toString()), 
 t.diagnostics.push(n);
}

function printTag(e) {
 let t = `<${e.nodeName.toLowerCase()}`;
 if (Array.isArray(e.attributes)) for (let o = 0; o < e.attributes.length; o++) {
  const n = e.attributes[o];
  t += ` ${n.name}`, "" !== n.value && (t += `="${n.value}"`);
 }
 return t += ">", t;
}

function waitingOnElementMsg(e) {
 let t = "";
 if (e) {
  const o = [];
  t = " - waiting on:";
  let n = e;
  for (;n && 9 !== n.nodeType && "BODY" !== n.nodeName; ) o.unshift(printTag(n)), 
  n = n.parentElement;
  let s = "";
  for (const e of o) s += "  ", t += `\n${s}${e}`;
 }
 return t;
}

const createTime = (e, t = "") => {
 return () => {};
}, SLOT_FB_CSS = "slot-fb{display:contents}slot-fb[hidden]{display:none}", XLINK_NS = "http://www.w3.org/1999/xlink", EMPTY_OBJ = {}, isComplexType = e => "object" == (e = typeof e) || "function" === e, isPromise = e => !!e && ("object" == typeof e || "function" == typeof e) && "function" == typeof e.then, h = (e, t, ...o) => {
 let n = null, s = null, l = null, a = !1, r = !1;
 const i = [], d = t => {
  for (let o = 0; o < t.length; o++) n = t[o], Array.isArray(n) ? d(n) : null != n && "boolean" != typeof n && ((a = "function" != typeof e && !isComplexType(n)) ? n = String(n) : BUILD.isDev  , 
  a && r ? i[i.length - 1].$text$ += n : i.push(a ? newVNode(null, n) : n), r = a);
 };
 if (d(o), t && (t.key && (s = t.key), 
 t.name && (l = t.name), BUILD.vdomClass)) {
  const e = t.className || t.class;
  e && (t.class = "object" != typeof e ? e : Object.keys(e).filter((t => e[t])).join(" "));
 }
 if ("function" == typeof e) return e(null === t ? {} : t, i, vdomFnUtils);
 const c = newVNode(e, null);
 return c.$attrs$ = t, i.length > 0 && (c.$children$ = i), (c.$key$ = s), 
 (c.$name$ = l), c;
}, newVNode = (e, t) => {
 const o = {
  $flags$: 0,
  $tag$: e,
  $text$: t,
  $elm$: null,
  $children$: null
 };
 return (o.$attrs$ = null), (o.$key$ = null), 
 (o.$name$ = null), o;
}, Host = {}, isHost = e => e && e.$tag$ === Host, vdomFnUtils = {
 forEach: (e, t) => e.map(convertToPublic).forEach(t),
 map: (e, t) => e.map(convertToPublic).map(t).map(convertToPrivate)
}, convertToPublic = e => ({
 vattrs: e.$attrs$,
 vchildren: e.$children$,
 vkey: e.$key$,
 vname: e.$name$,
 vtag: e.$tag$,
 vtext: e.$text$
}), convertToPrivate = e => {
 if ("function" == typeof e.vtag) {
  const t = {
   ...e.vattrs
  };
  return e.vkey && (t.key = e.vkey), e.vname && (t.name = e.vname), h(e.vtag, t, ...e.vchildren || []);
 }
 const t = newVNode(e.vtag, e.vtext);
 return t.$attrs$ = e.vattrs, t.$children$ = e.vchildren, t.$key$ = e.vkey, t.$name$ = e.vname, 
 t;
}, clientHydrate = (e, t, o, n, s, l, a) => {
 let r, i, d, c;
 if (1 === l.nodeType) {
  for (r = l.getAttribute("c-id"), r && (i = r.split("."), i[0] !== a && "0" !== i[0] || (d = {
   $flags$: 0,
   $hostId$: i[0],
   $nodeId$: i[1],
   $depth$: i[2],
   $index$: i[3],
   $tag$: l.tagName.toLowerCase(),
   $elm$: l,
   $attrs$: null,
   $children$: null,
   $key$: null,
   $name$: null,
   $text$: null
  }, t.push(d), l.removeAttribute("c-id"), e.$children$ || (e.$children$ = []), e.$children$[d.$index$] = d, 
  e = d, n && "0" === d.$depth$ && (n[d.$index$] = d.$elm$))), c = l.childNodes.length - 1; c >= 0; c--) clientHydrate(e, t, o, n, s, l.childNodes[c], a);
  if (l.shadowRoot) for (c = l.shadowRoot.childNodes.length - 1; c >= 0; c--) clientHydrate(e, t, o, n, s, l.shadowRoot.childNodes[c], a);
 } else if (8 === l.nodeType) i = l.nodeValue.split("."), i[1] !== a && "0" !== i[1] || (r = i[0], 
 d = {
  $flags$: 0,
  $hostId$: i[1],
  $nodeId$: i[2],
  $depth$: i[3],
  $index$: i[4],
  $elm$: l,
  $attrs$: null,
  $children$: null,
  $key$: null,
  $name$: null,
  $tag$: null,
  $text$: null
 }, "t" === r ? (d.$elm$ = l.nextSibling, d.$elm$ && 3 === d.$elm$.nodeType && (d.$text$ = d.$elm$.textContent, 
 t.push(d), l.remove(), e.$children$ || (e.$children$ = []), e.$children$[d.$index$] = d, 
 n && "0" === d.$depth$ && (n[d.$index$] = d.$elm$))) : d.$hostId$ === a && ("s" === r ? (d.$tag$ = "slot", 
 i[5] ? l["s-sn"] = d.$name$ = i[5] : l["s-sn"] = "", l["s-sr"] = !0, n && (d.$elm$ = doc.createElement(d.$tag$), 
 d.$name$ && d.$elm$.setAttribute("name", d.$name$), l.parentNode.insertBefore(d.$elm$, l), 
 l.remove(), "0" === d.$depth$ && (n[d.$index$] = d.$elm$)), o.push(d), e.$children$ || (e.$children$ = []), 
 e.$children$[d.$index$] = d) : "r" === r && (n ? l.remove() : (s["s-cr"] = l, 
 l["s-cn"] = !0)))); else if (e && "style" === e.$tag$) {
  const t = newVNode(null, l.textContent);
  t.$elm$ = l, t.$index$ = "0", e.$children$ = [ t ];
 }
}, initializeDocumentHydrate = (e, t) => {
 if (1 === e.nodeType) {
  let o = 0;
  for (;o < e.childNodes.length; o++) initializeDocumentHydrate(e.childNodes[o], t);
  if (e.shadowRoot) for (o = 0; o < e.shadowRoot.childNodes.length; o++) initializeDocumentHydrate(e.shadowRoot.childNodes[o], t);
 } else if (8 === e.nodeType) {
  const o = e.nodeValue.split(".");
  "o" === o[0] && (t.set(o[1] + "." + o[2], e), e.nodeValue = "", e["s-en"] = o[3]);
 }
}, parsePropertyValue = (e, t) => null == e || isComplexType(e) ? e : 4 & t ? "false" !== e && ("" === e || !!e) : 2 & t ? parseFloat(e) : 1 & t ? String(e) : e, getElement = e => getHostRef(e).$hostElement$ , createEvent$2 = (e, t, o) => {
 const n = getElement(e);
 return {
  emit: e => (emitEvent(n, t, {
   bubbles: !!(4 & o),
   composed: !!(2 & o),
   cancelable: !!(1 & o),
   detail: e
  }))
 };
}, emitEvent = (e, t, o) => {
 const n = plt.ce(t, o);
 return e.dispatchEvent(n), n;
}, rootAppliedStyles = new WeakMap, registerStyle = (e, t, o) => {
 let n = styles.get(e);
 n = t, styles.set(e, n);
}, addStyle = (e, t, o) => {
 var n;
 const s = getScopeId(t), l = styles.get(s);
 if (e = 11 === e.nodeType ? e : doc, l) if ("string" == typeof l) {
  e = e.head || e;
  let o, a = rootAppliedStyles.get(e);
  if (a || rootAppliedStyles.set(e, a = new Set), !a.has(s)) {
   if (e.host && (o = e.querySelector(`[sty-id="${s}"]`))) o.innerHTML = l; else {
    o = doc.createElement("style"), o.innerHTML = l;
    const t = null !== (n = plt.$nonce$) && void 0 !== n ? n : queryNonceMetaTagContent(doc);
    null != t && o.setAttribute("nonce", t), o.setAttribute("sty-id", s), 
    e.insertBefore(o, e.querySelector("link"));
   }
   4 & t.$flags$ && (o.innerHTML += SLOT_FB_CSS), a && a.add(s);
  }
 }
 return s;
}, attachStyles = e => {
 const t = e.$cmpMeta$, o = e.$hostElement$, n = t.$flags$, s = createTime("attachStyles", t.$tagName$), l = addStyle(o.getRootNode(), t);
 10 & n && (o["s-sc"] = l, 
 o.classList.add(l + "-h"), 2 & n && o.classList.add(l + "-s")), 
 s();
}, getScopeId = (e, t) => "sc-" + (e.$tagName$), setAccessor = (e, t, o, n, s, l) => {
 if (o !== n) {
  let a = isMemberInElement(e, t), r = t.toLowerCase();
  if ("class" === t) {
   const t = e.classList, s = parseClassList(o), l = parseClassList(n);
   t.remove(...s.filter((e => e && !l.includes(e)))), t.add(...l.filter((e => e && !s.includes(e))));
  } else if ("style" === t) {
   for (const t in o) n && null != n[t] || (e.style[t] = "");
   for (const t in n) o && n[t] === o[t] || (e.style[t] = n[t]);
  } else if ("key" === t) ; else if ("ref" === t) n && n(e); else if ((a ) || "o" !== t[0] || "n" !== t[1]) {
   {
    const i = isComplexType(n);
    if ((a || i && null !== n) && !s) try {
     if (e.tagName.includes("-")) e[t] = n; else {
      const s = null == n ? "" : n;
      "list" === t ? a = !1 : null != o && e[t] == s || (e[t] = s);
     }
    } catch (e) {}
    let d = !1;
    r !== (r = r.replace(/^xlink\:?/, "")) && (t = r, d = !0), null == n || !1 === n ? !1 === n && "" !== e.getAttribute(t) || (d ? e.removeAttributeNS(XLINK_NS, t) : e.removeAttribute(t)) : (!a || 4 & l || s) && !i && (n = !0 === n ? "" : n, 
    d ? e.setAttributeNS(XLINK_NS, t, n) : e.setAttribute(t, n));
   }
  } else if (t = "-" === t[2] ? t.slice(3) : isMemberInElement(win, r) ? r.slice(2) : r[2] + t.slice(3), 
  o || n) {
   const s = t.endsWith(CAPTURE_EVENT_SUFFIX);
   t = t.replace(CAPTURE_EVENT_REGEX, ""), o && plt.rel(e, t, o, s), n && plt.ael(e, t, n, s);
  }
 }
}, parseClassListRegex = /\s/, parseClassList = e => e ? e.split(parseClassListRegex) : [], CAPTURE_EVENT_SUFFIX = "Capture", CAPTURE_EVENT_REGEX = new RegExp(CAPTURE_EVENT_SUFFIX + "$"), updateElement = (e, t, o, n) => {
 const s = 11 === t.$elm$.nodeType && t.$elm$.host ? t.$elm$.host : t.$elm$, l = e && e.$attrs$ || EMPTY_OBJ, a = t.$attrs$ || EMPTY_OBJ;
 for (n in l) n in a || setAccessor(s, n, l[n], void 0, o, t.$flags$);
 for (n in a) setAccessor(s, n, l[n], a[n], o, t.$flags$);
};

let scopeId, contentRef, hostTagName, useNativeShadowDom = !1, checkSlotFallbackVisibility = !1, checkSlotRelocate = !1, isSvgMode = !1;

const createElm = (e, t, o, n) => {
 const s = t.$children$[o];
 let l, a, r, i = 0;
 if (!useNativeShadowDom && (checkSlotRelocate = !0, "slot" === s.$tag$ && (scopeId && n.classList.add(scopeId + "-s"), 
 s.$flags$ |= s.$children$ ? 2 : 1)), null !== s.$text$) l = s.$elm$ = doc.createTextNode(s.$text$); else if (1 & s.$flags$) l = s.$elm$ = slotReferenceDebugNode(s) ; else {
  if (!isSvgMode && (isSvgMode = "svg" === s.$tag$), l = s.$elm$ = doc.createElementNS(isSvgMode ? "http://www.w3.org/2000/svg" : "http://www.w3.org/1999/xhtml", 2 & s.$flags$ ? "slot-fb" : s.$tag$) , 
  isSvgMode && "foreignObject" === s.$tag$ && (isSvgMode = !1), updateElement(null, s, isSvgMode), 
  null != scopeId && l["s-si"] !== scopeId && l.classList.add(l["s-si"] = scopeId), 
  s.$children$) for (i = 0; i < s.$children$.length; ++i) a = createElm(e, s, i, l), 
  a && l.appendChild(a);
  ("svg" === s.$tag$ ? isSvgMode = !1 : "foreignObject" === l.tagName && (isSvgMode = !0));
 }
 return l["s-hn"] = hostTagName, 3 & s.$flags$ && (l["s-sr"] = !0, 
 l["s-cr"] = contentRef, l["s-sn"] = s.$name$ || "", r = e && e.$children$ && e.$children$[o], 
 r && r.$tag$ === s.$tag$ && e.$elm$ && (putBackInOriginalLocation(e.$elm$, !1))), 
 l;
}, putBackInOriginalLocation = (e, t) => {
 plt.$flags$ |= 1;
 const o = e.childNodes;
 for (let e = o.length - 1; e >= 0; e--) {
  const n = o[e];
  n["s-hn"] !== hostTagName && n["s-ol"] && (parentReferenceNode(n).insertBefore(n, referenceNode(n)), 
  n["s-ol"].remove(), n["s-ol"] = void 0, n["s-sh"] = void 0, checkSlotRelocate = !0), 
  t && putBackInOriginalLocation(n, t);
 }
 plt.$flags$ &= -2;
}, addVnodes = (e, t, o, n, s, l) => {
 let a, r = e["s-cr"] && e["s-cr"].parentNode || e;
 for (r.shadowRoot && r.tagName === hostTagName && (r = r.shadowRoot); s <= l; ++s) n[s] && (a = createElm(null, o, s, e), 
 a && (n[s].$elm$ = a, r.insertBefore(a, referenceNode(t) )));
}, removeVnodes = (e, t, o) => {
 for (let n = t; n <= o; ++n) {
  const t = e[n];
  if (t) {
   const e = t.$elm$;
   nullifyVNodeRefs(t), e && ((checkSlotFallbackVisibility = !0, 
   e["s-ol"] ? e["s-ol"].remove() : putBackInOriginalLocation(e, !0)), e.remove());
  }
 }
}, isSameVnode = (e, t, o = !1) => e.$tag$ === t.$tag$ && ("slot" === e.$tag$ ? e.$name$ === t.$name$ : !(!o) || e.$key$ === t.$key$), referenceNode = e => e && e["s-ol"] || e, parentReferenceNode = e => (e["s-ol"] ? e["s-ol"] : e).parentNode, patch = (e, t, o = !1) => {
 const n = t.$elm$ = e.$elm$, s = e.$children$, l = t.$children$, a = t.$tag$, r = t.$text$;
 let i;
 null !== r ? (i = n["s-cr"]) ? i.parentNode.textContent = r : e.$text$ !== r && (n.data = r) : ((isSvgMode = "svg" === a || "foreignObject" !== a && isSvgMode), 
 ("slot" === a || updateElement(e, t, isSvgMode)), 
 null !== s && null !== l ? ((e, t, o, n, s = !1) => {
  let l, a, r = 0, i = 0, d = 0, c = 0, $ = t.length - 1, m = t[0], p = t[$], h = n.length - 1, f = n[0], u = n[h];
  for (;r <= $ && i <= h; ) if (null == m) m = t[++r]; else if (null == p) p = t[--$]; else if (null == f) f = n[++i]; else if (null == u) u = n[--h]; else if (isSameVnode(m, f, s)) patch(m, f, s), 
  m = t[++r], f = n[++i]; else if (isSameVnode(p, u, s)) patch(p, u, s), p = t[--$], 
  u = n[--h]; else if (isSameVnode(m, u, s)) "slot" !== m.$tag$ && "slot" !== u.$tag$ || putBackInOriginalLocation(m.$elm$.parentNode, !1), 
  patch(m, u, s), e.insertBefore(m.$elm$, p.$elm$.nextSibling), m = t[++r], u = n[--h]; else if (isSameVnode(p, f, s)) "slot" !== m.$tag$ && "slot" !== u.$tag$ || putBackInOriginalLocation(p.$elm$.parentNode, !1), 
  patch(p, f, s), e.insertBefore(p.$elm$, m.$elm$), p = t[--$], f = n[++i]; else {
   if (d = -1, BUILD.vdomKey) for (c = r; c <= $; ++c) if (t[c] && null !== t[c].$key$ && t[c].$key$ === f.$key$) {
    d = c;
    break;
   }
   d >= 0 ? (a = t[d], a.$tag$ !== f.$tag$ ? l = createElm(t && t[i], o, d, e) : (patch(a, f, s), 
   t[d] = void 0, l = a.$elm$), f = n[++i]) : (l = createElm(t && t[i], o, i, e), f = n[++i]), 
   l && (parentReferenceNode(m.$elm$).insertBefore(l, referenceNode(m.$elm$)) );
  }
  r > $ ? addVnodes(e, null == n[h + 1] ? null : n[h + 1].$elm$, o, n, i, h) : i > h && removeVnodes(t, r, $);
 })(n, s, t, l, o) : null !== l ? (null !== e.$text$ && (n.textContent = ""), 
 addVnodes(n, null, t, l, 0, l.length - 1)) : null !== s && removeVnodes(s, 0, s.length - 1), 
 isSvgMode && "svg" === a && (isSvgMode = !1));
}, updateFallbackSlotVisibility = e => {
 const t = e.childNodes;
 for (const e of t) if (1 === e.nodeType) {
  if (e["s-sr"]) {
   const o = e["s-sn"];
   e.hidden = !1;
   for (const n of t) if (n !== e) if (n["s-hn"] !== e["s-hn"] || "" !== o) {
    if (1 === n.nodeType && (o === n.getAttribute("slot") || o === n["s-sn"])) {
     e.hidden = !0;
     break;
    }
   } else if (1 === n.nodeType || 3 === n.nodeType && "" !== n.textContent.trim()) {
    e.hidden = !0;
    break;
   }
  }
  updateFallbackSlotVisibility(e);
 }
}, relocateNodes = [], markSlotContentForRelocation = e => {
 let t, o, n;
 for (const s of e.childNodes) {
  if (s["s-sr"] && (t = s["s-cr"]) && t.parentNode) {
   o = t.parentNode.childNodes;
   const e = s["s-sn"];
   for (n = o.length - 1; n >= 0; n--) if (t = o[n], !(t["s-cn"] || t["s-nr"] || t["s-hn"] === s["s-hn"] || BUILD.experimentalSlotFixes  )) if (isNodeLocatedInSlot(t, e)) {
    let o = relocateNodes.find((e => e.$nodeToRelocate$ === t));
    checkSlotFallbackVisibility = !0, t["s-sn"] = t["s-sn"] || e, o ? (o.$nodeToRelocate$["s-sh"] = s["s-hn"], 
    o.$slotRefNode$ = s) : (t["s-sh"] = s["s-hn"], relocateNodes.push({
     $slotRefNode$: s,
     $nodeToRelocate$: t
    })), t["s-sr"] && relocateNodes.map((e => {
     isNodeLocatedInSlot(e.$nodeToRelocate$, t["s-sn"]) && (o = relocateNodes.find((e => e.$nodeToRelocate$ === t)), 
     o && !e.$slotRefNode$ && (e.$slotRefNode$ = o.$slotRefNode$));
    }));
   } else relocateNodes.some((e => e.$nodeToRelocate$ === t)) || relocateNodes.push({
    $nodeToRelocate$: t
   });
  }
  1 === s.nodeType && markSlotContentForRelocation(s);
 }
}, isNodeLocatedInSlot = (e, t) => 1 === e.nodeType ? null === e.getAttribute("slot") && "" === t || e.getAttribute("slot") === t : e["s-sn"] === t || "" === t, nullifyVNodeRefs = e => {
 (e.$attrs$ && e.$attrs$.ref && e.$attrs$.ref(null), e.$children$ && e.$children$.map(nullifyVNodeRefs));
}, renderVdom = (e, t, o = !1) => {
 var n, s, l, a;
 const i = e.$hostElement$, d = e.$cmpMeta$, c = e.$vnode$ || newVNode(null, null), $ = isHost(t) ? t : h(null, null, t);
 if (hostTagName = i.tagName, BUILD.isDev  ) ;
 if (d.$attrsToReflect$ && ($.$attrs$ = $.$attrs$ || {}, d.$attrsToReflect$.map((([e, t]) => $.$attrs$[t] = i[e]))), 
 o && $.$attrs$) for (const e of Object.keys($.$attrs$)) i.hasAttribute(e) && ![ "key", "ref", "style", "class" ].includes(e) && ($.$attrs$[e] = i[e]);
 if ($.$tag$ = null, $.$flags$ |= 4, e.$vnode$ = $, $.$elm$ = c.$elm$ = i.shadowRoot || i, 
 (scopeId = i["s-sc"]), (contentRef = i["s-cr"], 
 useNativeShadowDom = supportsShadow, checkSlotFallbackVisibility = !1), patch(c, $, o), 
 BUILD.slotRelocation) {
  if (plt.$flags$ |= 1, checkSlotRelocate) {
   markSlotContentForRelocation($.$elm$);
   for (const e of relocateNodes) {
    const t = e.$nodeToRelocate$;
    if (!t["s-ol"]) {
     const e = originalLocationDebugNode(t) ;
     e["s-nr"] = t, t.parentNode.insertBefore(t["s-ol"] = e, t);
    }
   }
   for (const e of relocateNodes) {
    const t = e.$nodeToRelocate$, r = e.$slotRefNode$;
    if (r) {
     const e = r.parentNode;
     let o = r.nextSibling;
     {
      let l = null === (n = t["s-ol"]) || void 0 === n ? void 0 : n.previousSibling;
      for (;l; ) {
       let n = null !== (s = l["s-nr"]) && void 0 !== s ? s : null;
       if (n && n["s-sn"] === t["s-sn"] && e === n.parentNode && (n = n.nextSibling, !n || !n["s-nr"])) {
        o = n;
        break;
       }
       l = l.previousSibling;
      }
     }
     (!o && e !== t.parentNode || t.nextSibling !== o) && t !== o && (t["s-hn"] || !t["s-ol"] || (t["s-hn"] = t["s-ol"].parentNode.nodeName), 
     e.insertBefore(t, o), 1 === t.nodeType && (t.hidden = null !== (l = t["s-ih"]) && void 0 !== l && l));
    } else 1 === t.nodeType && (o && (t["s-ih"] = null !== (a = t.hidden) && void 0 !== a && a), 
    t.hidden = !0);
   }
  }
  checkSlotFallbackVisibility && updateFallbackSlotVisibility($.$elm$), plt.$flags$ &= -2, 
  relocateNodes.length = 0;
 }
}, slotReferenceDebugNode = e => doc.createComment(`<slot${e.$name$ ? ' name="' + e.$name$ + '"' : ""}> (host=${hostTagName.toLowerCase()})`), originalLocationDebugNode = e => doc.createComment("org-location for " + (e.localName ? `<${e.localName}> (host=${e["s-hn"]})` : `[${e.textContent}]`)), attachToAncestor = (e, t) => {
 t && !e.$onRenderResolve$ && t["s-p"] && t["s-p"].push(new Promise((t => e.$onRenderResolve$ = t)));
}, scheduleUpdate = (e, t) => {
 if ((e.$flags$ |= 16), 4 & e.$flags$) return void (e.$flags$ |= 512);
 attachToAncestor(e, e.$ancestorComponent$);
 const o = () => dispatchHooks(e, t);
 return writeTask(o) ;
}, dispatchHooks = (e, t) => {
 const n = createTime("scheduleUpdate", e.$cmpMeta$.$tagName$), s = e.$lazyInstance$ ;
 let l;
 return t ? ((e.$flags$ |= 256, e.$queuedListeners$ && (e.$queuedListeners$.map((([e, t]) => safeCall(s, e, t))), 
 e.$queuedListeners$ = void 0)), (l = safeCall(s, "componentWillLoad"))) : (BUILD.cmpWillUpdate ), (l = enqueue(l, (() => safeCall(s, "componentWillRender")))), 
 n(), enqueue(l, (() => updateComponent(e, s, t)));
}, enqueue = (e, t) => isPromisey(e) ? e.then(t) : t(), isPromisey = e => e instanceof Promise || e && e.then && "function" == typeof e.then, updateComponent = async (e, t, o) => {
 var n;
 const s = e.$hostElement$, l = createTime("update", e.$cmpMeta$.$tagName$), a = s["s-rc"];
 o && attachStyles(e);
 const r = createTime("render", e.$cmpMeta$.$tagName$);
 if (await callRender(e, t, s, o) , 
 BUILD.hydrateServerSide) try {
  serverSideConnected(s), o && (1 & e.$cmpMeta$.$flags$ ? s["s-en"] = "" : 2 & e.$cmpMeta$.$flags$ && (s["s-en"] = "c"));
 } catch (e) {
  consoleError(e, s);
 }
 if (a && (a.map((e => e())), s["s-rc"] = void 0), r(), l(), 
 BUILD.asyncLoading) {
  const t = null !== (n = s["s-p"]) && void 0 !== n ? n : [], o = () => postUpdateComponent(e);
  0 === t.length ? o() : (Promise.all(t).then(o), e.$flags$ |= 4, t.length = 0);
 }
};

const callRender = (e, t, o, n) => {
 try {
  if (t = t.render(), (e.$flags$ &= -17), 
  (e.$flags$ |= 2), BUILD.hasRenderFn ) {
   return Promise.resolve(t).then((t => renderVdom(e, t, n)));
  }
 } catch (t) {
  consoleError(t, e.$hostElement$);
 }
 return null;
}, postUpdateComponent = e => {
 const t = e.$cmpMeta$.$tagName$, o = e.$hostElement$, n = createTime("postUpdate", t), s = e.$lazyInstance$ , l = e.$ancestorComponent$;
 (safeCall(s, "componentDidRender"), 
 BUILD.isDev ), 64 & e.$flags$ ? ((safeCall(s, "componentDidUpdate"), 
 BUILD.isDev ), n()) : (e.$flags$ |= 64, addHydratedFlag(o), 
 (safeCall(s, "componentDidLoad"), 
 BUILD.isDev ), n(), (e.$onReadyResolve$(o), l || appDidLoad())), e.$onInstanceResolve$(o), 
 (e.$onRenderResolve$ && (e.$onRenderResolve$(), e.$onRenderResolve$ = void 0), 
 512 & e.$flags$ && nextTick((() => scheduleUpdate(e, !1))), e.$flags$ &= -517);
}, appDidLoad = e => {
 addHydratedFlag(doc.documentElement), nextTick((() => emitEvent(win, "appload", {
  detail: {
   namespace: NAMESPACE
  }
 }))), BUILD.profile  ;
}, safeCall = (e, t, o) => {
 if (e && e[t]) try {
  return e[t](o);
 } catch (e) {
  consoleError(e);
 }
}, addHydratedFlag = e => e.classList.add("hydrated") , serverSideConnected = e => {
 const t = e.children;
 if (null != t) for (let e = 0, o = t.length; e < o; e++) {
  const o = t[e];
  "function" == typeof o.connectedCallback && o.connectedCallback(), serverSideConnected(o);
 }
}, getValue = (e, t) => getHostRef(e).$instanceValues$.get(t), setValue = (e, t, o, n) => {
 const s = getHostRef(e), l = s.$hostElement$ , a = s.$instanceValues$.get(t), r = s.$flags$, i = s.$lazyInstance$ ;
 o = parsePropertyValue(o, n.$members$[t][0]);
 const d = Number.isNaN(a) && Number.isNaN(o), c = o !== a && !d;
 if ((!(8 & r) || void 0 === a) && c && (s.$instanceValues$.set(t, o), 
 i)) {
  if (n.$watchers$ && 128 & r) {
   const e = n.$watchers$[t];
   e && e.map((e => {
    try {
     i[e](o, a, t);
    } catch (e) {
     consoleError(e, l);
    }
   }));
  }
  if (2 == (18 & r)) {
   scheduleUpdate(s, !1);
  }
 }
}, proxyComponent = (e, t, o) => {
 var n;
 const s = e.prototype;
 if (t.$members$) {
  e.watchers && (t.$watchers$ = e.watchers);
  const l = Object.entries(t.$members$);
  if (l.map((([e, [n]]) => {
   (31 & n || (2 & o) && 32 & n) ? Object.defineProperty(s, e, {
    get() {
     return getValue(this, e);
    },
    set(s) {
     setValue(this, e, s, t);
    },
    configurable: !0,
    enumerable: !0
   }) : 1 & o && 64 & n && Object.defineProperty(s, e, {
    value(...t) {
     var o;
     const n = getHostRef(this);
     return null === (o = null == n ? void 0 : n.$onInstancePromise$) || void 0 === o ? void 0 : o.then((() => {
      var o;
      return null === (o = n.$lazyInstance$) || void 0 === o ? void 0 : o[e](...t);
     }));
    }
   });
  })), (1 & o)) {
   const o = new Map;
   s.attributeChangedCallback = function(e, n, l) {
    plt.jmp((() => {
     var a;
     const r = o.get(e);
     if (this.hasOwnProperty(r)) l = this[r], delete this[r]; else {
      if (s.hasOwnProperty(r) && "number" == typeof this[r] && this[r] == l) return;
      if (null == r) {
       const o = getHostRef(this), s = null == o ? void 0 : o.$flags$;
       if (s && !(8 & s) && 128 & s && l !== n) {
        const r = o.$lazyInstance$ , i = null === (a = t.$watchers$) || void 0 === a ? void 0 : a[e];
        null == i || i.forEach((t => {
         null != r[t] && r[t].call(r, l, n, e);
        }));
       }
       return;
      }
     }
     this[r] = (null !== l || "boolean" != typeof this[r]) && l;
    }));
   }, e.observedAttributes = Array.from(new Set([ ...Object.keys(null !== (n = t.$watchers$) && void 0 !== n ? n : {}), ...l.filter((([e, t]) => 15 & t[0])).map((([e, n]) => {
    var s;
    const l = n[1] || e;
    return o.set(l, e), 512 & n[0] && (null === (s = t.$attrsToReflect$) || void 0 === s || s.push([ e, l ])), 
    l;
   })) ]));
  }
 }
 return e;
}, initializeComponent = async (e, t, o, n) => {
 let s;
 if (0 == (32 & t.$flags$)) {
  if (t.$flags$ |= 32, BUILD.lazyLoad ) {
   if (s = loadModule(o), s.then) {
    const e = (() => {});
    s = await s, e();
   }
   !s.isProxied && ((o.$watchers$ = s.watchers), 
   proxyComponent(s, o, 2), s.isProxied = !0);
   const e = createTime("createInstance", o.$tagName$);
   (t.$flags$ |= 8);
   try {
    new s(t);
   } catch (e) {
    consoleError(e);
   }
   (t.$flags$ &= -9), (t.$flags$ |= 128), e(), 
   fireConnectedCallback(t.$lazyInstance$);
  }
  if (s.style) {
   let n = s.style;
   const l = getScopeId(o);
   if (!styles.has(l)) {
    const e = createTime("registerStyles", o.$tagName$);
    registerStyle(l, n), e();
   }
  }
 }
 const r = t.$ancestorComponent$, i = () => scheduleUpdate(t, !0);
 r && r["s-rc"] ? r["s-rc"].push(i) : i();
}, fireConnectedCallback = e => {
 safeCall(e, "connectedCallback");
}, connectedCallback = e => {
 if (0 == (1 & plt.$flags$)) {
  const t = getHostRef(e), o = t.$cmpMeta$, n = createTime("connectedCallback", o.$tagName$);
  if (1 & t.$flags$) addHostEventListeners(e, t, o.$listeners$), (null == t ? void 0 : t.$lazyInstance$) ? fireConnectedCallback(t.$lazyInstance$) : (null == t ? void 0 : t.$onReadyPromise$) && t.$onReadyPromise$.then((() => fireConnectedCallback(t.$lazyInstance$))); else {
   let n;
   if (t.$flags$ |= 1, (n = e.getAttribute("s-id"), n)) {
    ((e, t, o, n) => {
     const s = createTime("hydrateClient", t), l = e.shadowRoot, a = [], r = l ? [] : null, i = n.$vnode$ = newVNode(t, null);
     plt.$orgLocNodes$ || initializeDocumentHydrate(doc.body, plt.$orgLocNodes$ = new Map), 
     e["s-id"] = o, e.removeAttribute("s-id"), clientHydrate(i, a, [], r, e, e, o), a.map((e => {
      const o = e.$hostId$ + "." + e.$nodeId$, n = plt.$orgLocNodes$.get(o), s = e.$elm$;
      n && supportsShadow && "" === n["s-en"] && n.parentNode.insertBefore(s, n.nextSibling), 
      l || (s["s-hn"] = t, n && (s["s-ol"] = n, s["s-ol"]["s-nr"] = s)), plt.$orgLocNodes$.delete(o);
     })), l && r.map((e => {
      e && l.appendChild(e);
     })), s();
    })(e, o.$tagName$, n, t);
   }
   if (!n && (BUILD.hydrateServerSide ) && setContentReference(e), 
   BUILD.asyncLoading) {
    let o = e;
    for (;o = o.parentNode || o.host; ) if (1 === o.nodeType && o.hasAttribute("s-id") && o["s-p"] || o["s-p"]) {
     attachToAncestor(t, t.$ancestorComponent$ = o);
     break;
    }
   }
   initializeComponent(e, t, o);
  }
  n();
 }
}, setContentReference = e => {
 const t = e["s-cr"] = doc.createComment("");
 t["s-cn"] = !0, e.insertBefore(t, e.firstChild);
}, Fragment = (e, t) => t, addHostEventListeners = (e, t, o, n) => {
 o && (o.map((([o, n, s]) => {
  const l = getHostListenerTarget(e, o) , a = hostListenerProxy(t, s), r = hostListenerOpts(o);
  plt.ael(l, n, a, r), (t.$rmListeners$ = t.$rmListeners$ || []).push((() => plt.rel(l, n, a, r)));
 })));
}, hostListenerProxy = (e, t) => o => {
 try {
  256 & e.$flags$ ? e.$lazyInstance$[t](o) : (e.$queuedListeners$ = e.$queuedListeners$ || []).push([ t, o ]) ;
 } catch (e) {
  consoleError(e);
 }
}, getHostListenerTarget = (e, t) => 4 & t ? doc : 8 & t ? win : 16 & t ? doc.body : e, hostListenerOpts = e => 0 != (2 & e), insertVdomAnnotations = (e, t) => {
 if (null != e) {
  const o = {
   hostIds: 0,
   rootLevelIds: 0,
   staticComponents: new Set(t)
  }, n = [];
  parseVNodeAnnotations(e, e.body, o, n), n.forEach((t => {
   var n, s;
   if (null != t && t["s-nr"]) {
    const l = t["s-nr"];
    let a = l["s-host-id"], r = l["s-node-id"], i = `${a}.${r}`;
    if (null == a) if (a = 0, o.rootLevelIds++, r = o.rootLevelIds, i = `${a}.${r}`, 
    1 === l.nodeType) l.setAttribute("c-id", i); else if (3 === l.nodeType) {
     if (0 === a && "" === (null === (n = l.nodeValue) || void 0 === n ? void 0 : n.trim())) return void t.remove();
     const o = e.createComment(i);
     o.nodeValue = `t.${i}`, null === (s = l.parentNode) || void 0 === s || s.insertBefore(o, l);
    }
    let d = `o.${i}`;
    const c = t.parentElement;
    c && ("" === c["s-en"] ? d += "." : "c" === c["s-en"] && (d += ".c")), t.nodeValue = d;
   }
  }));
 }
}, parseVNodeAnnotations = (e, t, o, n) => {
 null != t && (null != t["s-nr"] && n.push(t), 1 === t.nodeType && t.childNodes.forEach((t => {
  const s = getHostRef(t);
  if (null != s && !o.staticComponents.has(t.nodeName.toLowerCase())) {
   const n = {
    nodeIds: 0
   };
   insertVNodeAnnotations(e, t, s.$vnode$, o, n);
  }
  parseVNodeAnnotations(e, t, o, n);
 })));
}, insertVNodeAnnotations = (e, t, o, n, s) => {
 if (null != o) {
  const l = ++n.hostIds;
  if (t.setAttribute("s-id", l), null != t["s-cr"] && (t["s-cr"].nodeValue = `r.${l}`), 
  null != o.$children$) {
   const t = 0;
   o.$children$.forEach(((o, n) => {
    insertChildVNodeAnnotations(e, o, s, l, t, n);
   }));
  }
  if (t && o && o.$elm$ && !t.hasAttribute("c-id")) {
   const e = t.parentElement;
   if (e && e.childNodes) {
    const n = Array.from(e.childNodes), s = n.find((e => 8 === e.nodeType && e["s-sr"]));
    if (s) {
     const e = n.indexOf(t) - 1;
     o.$elm$.setAttribute("c-id", `${s["s-host-id"]}.${s["s-node-id"]}.0.${e}`);
    }
   }
  }
 }
}, insertChildVNodeAnnotations = (e, t, o, n, s, l) => {
 const a = t.$elm$;
 if (null == a) return;
 const r = o.nodeIds++, i = `${n}.${r}.${s}.${l}`;
 if (a["s-host-id"] = n, a["s-node-id"] = r, 1 === a.nodeType) a.setAttribute("c-id", i); else if (3 === a.nodeType) {
  const t = a.parentNode, o = null == t ? void 0 : t.nodeName;
  if ("STYLE" !== o && "SCRIPT" !== o) {
   const o = `t.${i}`, n = e.createComment(o);
   null == t || t.insertBefore(n, a);
  }
 } else if (8 === a.nodeType && a["s-sr"]) {
  const e = `s.${i}.${a["s-sn"] || ""}`;
  a.nodeValue = e;
 }
 if (null != t.$children$) {
  const l = s + 1;
  t.$children$.forEach(((t, s) => {
   insertChildVNodeAnnotations(e, t, o, n, l, s);
  }));
 }
}, hAsync = (e, t, ...o) => {
 if (Array.isArray(o) && o.length > 0) {
  const n = o.flat(1 / 0);
  return n.some(isPromise) ? Promise.all(n).then((o => h(e, t, ...o))).catch((o => h(e, t))) : h(e, t, ...o);
 }
 return h(e, t);
}, NO_HYDRATE_TAGS = new Set([ "CODE", "HEAD", "IFRAME", "INPUT", "OBJECT", "OUTPUT", "NOSCRIPT", "PRE", "SCRIPT", "SELECT", "STYLE", "TEMPLATE", "TEXTAREA" ]);

const cmpModules = new Map, getModule = e => {
 if ("string" == typeof e) {
  e = e.toLowerCase();
  const t = cmpModules.get(e);
  if (null != t) return t[e];
 }
 return null;
}, loadModule = (e, t, o) => getModule(e.$tagName$), isMemberInElement = (e, t) => {
 if (null != e) {
  if (t in e) return !0;
  const o = getModule(e.nodeName);
  if (null != o) {
   const e = o;
   if (null != e && null != e.cmpMeta && null != e.cmpMeta.$members$) return t in e.cmpMeta.$members$;
  }
 }
 return !1;
}, registerComponents = e => {
 for (const t of e) {
  const e = t.cmpMeta.$tagName$;
  cmpModules.set(e, {
   [e]: t
  });
 }
}, win = window, doc = win.document, writeTask = e => {
 process.nextTick((() => {
  try {
   e();
  } catch (e) {
   consoleError(e);
  }
 }));
}, resolved = Promise.resolve(), nextTick = e => resolved.then(e), defaultConsoleError = e => {
 null != e && console.error(e.stack || e.message || e);
}, consoleError = (e, t) => (defaultConsoleError)(e, t), plt = {
 $flags$: 0,
 $resourcesUrl$: "",
 jmp: e => e(),
 raf: e => requestAnimationFrame(e),
 ael: (e, t, o, n) => e.addEventListener(t, o, n),
 rel: (e, t, o, n) => e.removeEventListener(t, o, n),
 ce: (e, t) => new win.CustomEvent(e, t)
}, supportsShadow = !1, hostRefs = new WeakMap, getHostRef = e => hostRefs.get(e), registerInstance = (e, t) => hostRefs.set(t.$lazyInstance$ = e, t), registerHost = (e, t) => {
 const o = {
  $flags$: 0,
  $cmpMeta$: t,
  $hostElement$: e,
  $instanceValues$: new Map,
  $renderCount$: 0
 };
 return o.$onInstancePromise$ = new Promise((e => o.$onInstanceResolve$ = e)), o.$onReadyPromise$ = new Promise((e => o.$onReadyResolve$ = e)), 
 e["s-p"] = [], e["s-rc"] = [], addHostEventListeners(e, o, t.$listeners$), hostRefs.set(e, o);
}, Build = {
 isDev: !1,
 isBrowser: !1,
 isServer: !0,
 isTesting: !1
}, styles = new Map;

const inheritGlobalTheme = (component) => {
    // this minor change enables duet-theme-XXXXX instead of just duet-theme-turva
    const classList = Array.from(document.documentElement.classList).join(" ") || "";
    const theme = /(duet-theme-)([a-z]*)/gis.exec(classList);
    if (theme && theme[1] === "duet-theme-") {
        component.theme = theme[2] === "default" ? "" : theme[2];
    }
};

const duetHeadingLevels = ["h1", "h2", "h3", "h4", "h5", "h6"];
const duetBlock = "div";

const hasSlot = (element, slotName) => {
    return Array.from(element.children).filter(el => el.matches(`[slot='${slotName}']`)).length > 0
        ;
};

function chr4() {
    return Math.random().toString(16).slice(-4);
}
function createID(prefix) {
    return `${prefix}-${chr4()}${chr4()}-${chr4()}-${chr4()}-${chr4()}-${chr4()}${chr4()}${chr4()}`;
}

const debounce = (func, timeout = 250) => {
    let timer;
    return (...args) => {
        clearTimeout(timer);
        timer = setTimeout(() => {
            func.apply(undefined, args);
        }, timeout);
    };
};
/**
 * The fieldSorter function is a helper function that takes an array of objects and returns
 * a function that can be used to sort those objects. The returned sorting function takes two
 * parameters, which are compared using the field values in the object. If one object's field value is greater than another's, then 1 is returned; if they're equal, 0 is returned; and if one object's field value is less than another's, - 1 will be returned. This allows for easy sorting by multiple fields in any order desired (e.g., first by name ascending and then by age descending).
 *
 *
 * @param fields Sort the table
 *
 * @return A function that takes two objects and returns an integer
 *
 */
function fieldSorter(fields) {
    return function (a, b) {
        return fields
            .map(function (o) {
            let dir = 1;
            if (o[0] === "-") {
                dir = -1;
                o = o.substring(1);
            }
            if (a[o] > b[o]) {
                return dir;
            }
            if (a[o] < b[o]) {
                return -dir;
            }
            return 0;
        })
            .reduce(function firstNonZeroValue(p, n) {
            return p ? p : n;
        }, 0);
    };
}

const isArrowLeftKey = (e) => e.key === "ArrowLeft" || e.key === "Left";
const isArrowUpKey = (e) => e.key === "ArrowUp" || e.key === "Up";
const isArrowRightKey = (e) => e.key === "ArrowRight" || e.key === "Right";
const isArrowDownKey = (e) => e.key === "ArrowDown" || e.key === "Down";
const isArrowKey = (e) => isArrowDownKey(e) || isArrowRightKey(e) || isArrowUpKey(e) || isArrowLeftKey(e);
const isEscapeKey = (e) => e.key === "Escape" || e.key === "Esc";
const isTabKey = (e) => e.key === "Tab";
const isBackspaceKey = (e) => e.key === "Backspace";
const isSpaceKey = (e) => e.key === " " || e.key === "Spacebar";
const isPlusKey = (e) => e.key === "+" || e.key === "Add";
const isMinusKey = (e) => e.key === "-" || e.key === "Subtract";
const isQuestionKey = (e) => e.key === "?";
const isEnterKey = (e) => e.key === "Enter";
const isKeyboardClick = (e) => isEnterKey(e) || isSpaceKey(e);
const isNumber = (e) => e.key >= "0" && e.key <= "9";
/**
 * Component instances that have subscribed to tabbing change.
 */
const tabbingChangeSubscribers = new Set();
function notifySubscribers(tabbing) {
    tabbingChangeSubscribers.forEach(subscriber => {
        subscriber.element.classList[tabbing ? "add" : "remove"]("user-is-tabbing");
    });
}
function listenKeys(event) {
    if (isTabKey(event)) {
        notifySubscribers(true);
        window.removeEventListener("keydown", listenKeys);
        window.addEventListener("mousedown", listenMouse, false);
    }
}
function listenMouse() {
    notifySubscribers(false);
    window.removeEventListener("mousedown", listenMouse);
    window.addEventListener("keydown", listenKeys, false);
}
// start listening for tabbing (and mouse clicking through that) only if window is defined (i.e. not on server)
if (typeof window !== "undefined") {
    window.addEventListener("keydown", listenKeys, false);
}
const subscribeTabbingChange = component => {
    tabbingChangeSubscribers.add(component);
};
const unsubscribeTabbingChange = component => {
    tabbingChangeSubscribers.delete(component);
};

function isObject(maybeObj) {
    return Object.prototype.toString.call(maybeObj) === "[object Object]";
}
const parsePossibleJSON = (maybeJSON) => {
    if (Array.isArray(maybeJSON) || isObject(maybeJSON)) {
        return maybeJSON;
    }
    if (typeof maybeJSON === "string") {
        try {
            return JSON.parse(maybeJSON);
        }
        catch (e) {
            console.warn(e);
            try {
                return JSON.parse(convertHtmlQuotes(maybeJSON));
            }
            catch (e) {
                console.warn(e);
            }
        }
    }
    // undefined is not a type in JSON,
    // so we use it here to signal invalid input
    return undefined;
};
/**
 * Format string, via simplistic sprintf equivalent
 * @example String.format('{0} is super, but {1} is best! {{0}}', 'Duet', 'Coffee'); -> "Duet is super, but Coffee ist best! {0}"
 *
 */
// @ts-ignore
if (!String.format) {
    // @ts-ignore
    String.format = function (format) {
        var args = Array.prototype.slice.call(arguments, 1);
        return format.replace(/\{\{|\}\}|\{(\d+)\}/g, function (curlyBrack, index) {
            return curlyBrack == "{{" ? "{" : curlyBrack == "}}" ? "}" : args[index];
        });
    };
}
const MATCH_DISALLOWED_CHARS = /[^a-z0-9áéíóúñüöäå \.,_-]/gim;
function sanitizeString$1(string) {
    return string.replace(MATCH_DISALLOWED_CHARS, "").trim();
}
const convertHtmlQuotes = string => {
    if (typeof string === "string") {
        return string.replace(/&quot;/g, '"').replace(/&apos;/g, '"');
    }
    return string;
};

const localeLookUpTable = {
    fi: "fi-FI",
    en: "en-GB",
    us: "en-US",
    sv: "sv-SE",
};
const localeMonetarySignifierLookUpTable = {
    fi: "€",
    en: "£",
    us: "$",
    sv: "€",
};
const defLanguageArray = ["fi", "en", "sv"];
const defaultLanguage = "fi";
const getCurrentLanguage = () => {
    return document.documentElement.lang ? document.documentElement.lang.toLowerCase() : defaultLanguage;
};
const isOfTypeLanguage = (keyInput) => {
    return defLanguageArray.includes(keyInput);
};
const checkForLanguage = (languageString = getCurrentLanguage()) => {
    if (isOfTypeLanguage(languageString)) {
        return languageString;
    }
    else {
        return defaultLanguage;
    }
};
/**
 * Returns the current language as a string representation (taken from html lang attribute)
 * If language is not fi|sv|en it will default to "fi"
 * @param {string} lang=fi - "fi" | "sv" | "en"
 * @default {string} "fi"
 */
const getLanguage = (languageString = getCurrentLanguage()) => checkForLanguage(languageString);
/**
 * Returns the current language and locale
 * If language is not fi|sv|en it will default to "fi"
 * special case where lang can be ALSO be "us" in addition to other types - if user decides to override local language
 * @param {string} lang="fi" - "fi" | "sv" | "en" | "us"
 * @default {object} {locale: "fi-FI", money: "€"}
 */
const getLocale = (lang) => {
    const returnObj = {
        locale: localeLookUpTable[lang],
        money: localeMonetarySignifierLookUpTable[lang],
    };
    if (returnObj.locale && returnObj.money) {
        return returnObj;
    }
    throw new Error(`Locale for "${lang}" not found`);
};
/**
 * Takes any json object that is passed and/or htmlencoded and converts it to proper json
 */
const sanitizeString = (string) => {
    const argIsString = typeof string === "string";
    if (argIsString) {
        try {
            return JSON.parse(convertHtmlQuotes(string));
        }
        catch (e) {
            console.log("sanitizeString received a string, that didnt parse to json object", string, e);
        }
    }
    return string;
};
/**
 * Returns the current string / object from a given translation object
 * If language is not fi|sv|en it will default to "fi"
 * special case where lang can be ALSO be "us" in addition to other types - if user decides to override local language
 * @param {object} langObject - {fi: "finnish", sv: "swedish", en: "english"} | string will get JSON.parsed
 * @param {boolean} languageOverride = false - in case you want to override the actual language set in html tag
 * @default {object} {locale: "fi-FI", money: "€"}
 * @returns {(string|Object)} given example contains {fi:"something"} and language===fi this will return "something"
 */
const getLocaleString = (langObject, languageOverride) => {
    const obj = sanitizeString(langObject);
    if (languageOverride) {
        return obj[checkForLanguage(languageOverride)];
    }
    else {
        return obj[getLanguage()];
    }
};
/**
 * Language change observer
 *
 * Change component's language property or state when the html lang attribute changes. Can also change default labeles to new language.
 * For now the <html> element must have the data-duet-lang-observe attribute set to a truthy value for the
 * language change to happen. At a later point this will be done without requiring the data attribute.
 *
 * Usage:
 * Call in component's connectedCallback
 * connectLanguageChangeObserver(this)
 * or
 * connectLanguageChangeObserver(this, [{ prop: "labelProp", defaults: "labelPropDefaults" }])
 *
 * Call in disconnectedCallback
 * disconnectLanguageChangeObserver(this)
 */
/**
 * Component instances that have subscribed to language change.
 */
const languageChangeSubscribers = new Set();
/**
 * Label properties that should be changed when language changes.
 */
const languageChangeTargets = new WeakMap();
const connectLanguageChangeObserver = (component, targets) => {
    languageChangeSubscribers.add(component);
    if (targets) {
        if (!Array.isArray(targets)) {
            targets = [targets];
        }
        if (targets.some(t => !(t.prop in component) || !(t.defaults in component))) {
            console.error("connectLanguageChangeObserver: component must have target.prop and target.defaults properties");
            targets = targets.filter(t => t.prop in component && t.defaults in component);
        }
        languageChangeTargets.set(component, targets);
    }
};
const disconnectLanguageChangeObserver = (component) => {
    languageChangeSubscribers.delete(component);
    languageChangeTargets.delete(component);
};

const colorWarning = "rgb(247, 178, 40)";
const colorGrayDarker = "rgb(101, 119, 135)";
const colorGrayLighter = "rgb(245, 248, 250)";
const colorCategoryHome = "rgb(211, 36, 131)";
const colorPrimary = "rgb(0, 119, 179)";
const colorCategoryVehicle = "rgb(54, 74, 129)";
const colorSuccess = "rgb(0, 135, 90)";
const colorCategoryFamily = "rgb(11, 114, 136)";
const colorPrimaryLightest = "rgb(243, 249, 252)";
const colorPrimaryLighter = "rgb(230, 242, 248)";
const colorBrandBlue = "rgb(0, 161, 212)";
const colorPrimaryDark = "rgb(0, 77, 128)";
const colorGrayLightest = "rgb(255, 255, 255)";
const colorCategoryFinance = "rgb(122, 1, 196)";
const colorGrayDark = "rgb(144, 149, 153)";
const colorGrayLight = "rgb(225, 227, 230)";
const colorSecondary = "rgb(0, 41, 77)";
const colorCategoryPet = "rgb(168, 1, 78)";
const colorPrimaryLight = "rgb(205, 229, 241)";
const colorCategoryTravel = "rgb(213, 66, 3)";
const colorGray = "rgb(207, 210, 212)";
const colorDanger = "rgb(222, 35, 98)";
const colorGrayDarkerTurva = "rgb(68, 68, 69)";
const colorGrayLighterTurva = "rgb(245, 245, 247)";
const colorCategoryHomeTurva = "rgb(161, 10, 78)";
const colorPrimaryTurva = "rgb(198, 12, 48)";
const colorCategoryVehicleTurva = "rgb(23, 28, 58)";
const colorSuccessTurva = "rgb(8, 135, 78)";
const colorPrimaryLightestTurva = "rgb(252, 243, 244)";
const colorCategoryFamilyTurva = "rgb(199, 12, 112)";
const colorCategoryUnionTurva = "rgb(169, 69, 124)";
const colorPrimaryLighterTurva = "rgb(249, 230, 234)";
const colorPrimaryDarkTurva = "rgb(148, 9, 37)";
const colorGrayLightestTurva = "rgb(255, 255, 255)";
const colorGrayDarkTurva = "rgb(116, 116, 117)";
const colorGrayLightTurva = "rgb(228, 228, 230)";
const colorBrandGrayTurva = "rgb(178, 180, 179)";
const colorSecondaryTurva = "rgb(23, 28, 58)";
const colorPrimaryLightTurva = "rgb(244, 207, 214)";
const colorCategoryTravelTurva = "rgb(9, 129, 148)";
const colorGrayTurva = "rgb(207, 207, 209)";
const colorDangerTurva = "rgb(224, 42, 13)";
const colorWarningTurva = "rgb(250, 164, 15)";
const colorData07 = "rgb(192, 101, 247)";
const colorData08 = "rgb(0, 105, 191)";
const colorData09 = "rgb(19, 120, 53)";
const colorData10 = "rgb(179, 60, 24)";
const colorData11 = "rgb(13, 163, 166)";
const colorData01 = "rgb(122, 1, 196)";
const colorData12 = "rgb(11, 114, 136)";
const colorData02 = "rgb(0, 155, 204)";
const colorData13 = "rgb(179, 137, 24)";
const colorData03 = "rgb(27, 171, 75)";
const colorData14 = "rgb(128, 98, 17)";
const colorData04 = "rgb(255, 86, 34)";
const colorData15 = "rgb(0, 41, 77)";
const colorData05 = "rgb(245, 76, 154)";
const colorData06 = "rgb(194, 21, 101)";
const fontWeightExtraBold = "800";
const letterSpacingHeading = "-0.01rem";
const fontFamilyHeadingTurva = "'turva-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const fontFamilyTextTurva = "'turva-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const fontFamilyHeading = "'localtapiola-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const fontFamilyText = "'localtapiola-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const fontWeightBold = "700";
const fontWeightNormal = "400";
const fontWeightSemiBold = "600";
const fontSizeXxxxLarge = "4.5rem";
const fontSizeXxxLarge = "3rem";
const fontSizeXxLarge = "2.25rem";
const fontSizeXLarge = "1.5rem";
const fontSizeLarge = "1.25rem";
const fontSizeMedium = "1rem";
const fontSizeSmall = "0.875rem";
const fontSizeXSmall = "0.75rem";
const radiusSharp = "0";
const radiusDefault = "4px";
const radiusMedium = "8px";
const radiusLarge = "20px";
const radiusCircle = "50%";
const radiusPill = "20rem";
const shadowTooltipTurva = "0 2px 10px 0 rgba(117, 117, 117, 0.13)";
const shadowFocusInputTurva = "0 0 0 1px #171c3a";
const shadowDefault = "0 2px 6px 0 rgba(0, 41, 77, 0.07)";
const shadowFocusInput = "0 0 0 1px #0077b3";
const shadowTooltip = "0 2px 10px 0 rgba(0, 41, 77, 0.07)";
const shadowHoverInputTurva = "0 0 0 1px #747475";
const shadowErrorTurva = "0 0 0 1px #e55039";
const shadowHoverInput = "0 0 0 1px #909599";
const shadowError = "0 0 0 1px #de2362";
const shadowCardTurva = "0 2px 6px 0 rgba(117, 117, 117, 0.13), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)";
const shadowModal = "0 2px 20px 0 rgba(0, 0, 0, 0.2)";
const shadowCard = "0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)";
const shadowFocusTurva = "0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a";
const shadowFocus = "0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3";
const shadowHoverTurva = "0 2px 10px 0 rgba(117, 117, 117, 0.15)";
const shadowHover = "0 2px 10px 0 rgba(0, 41, 77, 0.1)";
const shadowDefaultTurva = "0 2px 6px 0 rgba(117, 117, 117, 0.13)";
const spaceXxSmall = "4px";
const spaceLarge = "20px";
const spaceXSmall = "8px";
const spaceXxxSmall = "2px";
const spaceSmall = "12px";
const spaceMedium = "16px";
const spaceXxLarge = "36px";
const spaceXxxxLarge = "72px";
const spaceXxxxxLarge = "94px";
const spaceXxxLarge = "48px";
const spaceXLarge = "28px";
const sizeIconXxLarge = "48px";
const sizeFormBorder = "1px";
const sizeStepMedium = "40px";
const sizeButtonMinWidth = "8rem";
const sizeHeader = "4rem";
const sizeIconXxxLarge = "72px";
const sizeIconXLarge = "36px";
const sizeIconXxSmall = "10px";
const sizeStepSmall = "30px";
const sizeNavigation = "3rem";
const sizeIconLarge = "30px";
const sizeLayoutMaxWidth = "1110px";
const sizeTappableSquare = "48px";
const sizeIconXSmall = "16px";
const sizeMediumBorder = "2px";
const sizeIconXxxSmall = "7px";
const sizeButtonBorder = "1px";
const sizeButtonTinyBorder = "1px";
const sizeIconMedium = "24px";
const sizeIconSmall = "20px";
const opacity85 = "0.85";
const opacity75 = "0.75";
const opacity50 = "0.50";
const opacity30 = "0.30";
const zIndexMaskButtons = "250";
const zIndexDropdown = "600";
const zIndexSpinner = "800";
const zIndexDefault = "1";
const zIndexToast = "500";
const zIndexPopup = "950";
const zIndexModal = "900";
const zIndexSticky = "300";
const zIndexMasked = "100";
const zIndexDeep = "-999999";
const zIndexOverlay = "700";
const zIndexMask = "200";
const zIndexHeader = "400";
const lineHeightMedium = "1.5";
const lineHeightSmall = "1.25";
const lineHeightXSmall = "1.1";
const transitionQuickly = "300ms ease";
const transitionSlowly = "600ms ease";
const mediaQueryXxxLarge = "'(min-width: 106.25em)'";
const mediaQueryXLarge = "'(min-width: 64.0625em)'";
const mediaQueryMedium = "'(min-width: 48em)'";
const mediaQueryLarge = "'(min-width: 62em)'";
const mediaQueryXxLarge = "'(min-width: 76.25em)'";
const mediaQueryXSmall = "'(max-width: 35.9375em)'";
const mediaQueryXxxSmall = "'(max-width: 20.5em)'";
const mediaQuerySmall = "'(min-width: 36em)'";
const mediaQueryXxSmall = "'(max-width: 22.5em)'";

var tokens$2 = /*#__PURE__*/Object.freeze({
    __proto__: null,
    colorWarning: colorWarning,
    colorGrayDarker: colorGrayDarker,
    colorGrayLighter: colorGrayLighter,
    colorCategoryHome: colorCategoryHome,
    colorPrimary: colorPrimary,
    colorCategoryVehicle: colorCategoryVehicle,
    colorSuccess: colorSuccess,
    colorCategoryFamily: colorCategoryFamily,
    colorPrimaryLightest: colorPrimaryLightest,
    colorPrimaryLighter: colorPrimaryLighter,
    colorBrandBlue: colorBrandBlue,
    colorPrimaryDark: colorPrimaryDark,
    colorGrayLightest: colorGrayLightest,
    colorCategoryFinance: colorCategoryFinance,
    colorGrayDark: colorGrayDark,
    colorGrayLight: colorGrayLight,
    colorSecondary: colorSecondary,
    colorCategoryPet: colorCategoryPet,
    colorPrimaryLight: colorPrimaryLight,
    colorCategoryTravel: colorCategoryTravel,
    colorGray: colorGray,
    colorDanger: colorDanger,
    colorGrayDarkerTurva: colorGrayDarkerTurva,
    colorGrayLighterTurva: colorGrayLighterTurva,
    colorCategoryHomeTurva: colorCategoryHomeTurva,
    colorPrimaryTurva: colorPrimaryTurva,
    colorCategoryVehicleTurva: colorCategoryVehicleTurva,
    colorSuccessTurva: colorSuccessTurva,
    colorPrimaryLightestTurva: colorPrimaryLightestTurva,
    colorCategoryFamilyTurva: colorCategoryFamilyTurva,
    colorCategoryUnionTurva: colorCategoryUnionTurva,
    colorPrimaryLighterTurva: colorPrimaryLighterTurva,
    colorPrimaryDarkTurva: colorPrimaryDarkTurva,
    colorGrayLightestTurva: colorGrayLightestTurva,
    colorGrayDarkTurva: colorGrayDarkTurva,
    colorGrayLightTurva: colorGrayLightTurva,
    colorBrandGrayTurva: colorBrandGrayTurva,
    colorSecondaryTurva: colorSecondaryTurva,
    colorPrimaryLightTurva: colorPrimaryLightTurva,
    colorCategoryTravelTurva: colorCategoryTravelTurva,
    colorGrayTurva: colorGrayTurva,
    colorDangerTurva: colorDangerTurva,
    colorWarningTurva: colorWarningTurva,
    colorData07: colorData07,
    colorData08: colorData08,
    colorData09: colorData09,
    colorData10: colorData10,
    colorData11: colorData11,
    colorData01: colorData01,
    colorData12: colorData12,
    colorData02: colorData02,
    colorData13: colorData13,
    colorData03: colorData03,
    colorData14: colorData14,
    colorData04: colorData04,
    colorData15: colorData15,
    colorData05: colorData05,
    colorData06: colorData06,
    fontWeightExtraBold: fontWeightExtraBold,
    letterSpacingHeading: letterSpacingHeading,
    fontFamilyHeadingTurva: fontFamilyHeadingTurva,
    fontFamilyTextTurva: fontFamilyTextTurva,
    fontFamilyHeading: fontFamilyHeading,
    fontFamilyText: fontFamilyText,
    fontWeightBold: fontWeightBold,
    fontWeightNormal: fontWeightNormal,
    fontWeightSemiBold: fontWeightSemiBold,
    fontSizeXxxxLarge: fontSizeXxxxLarge,
    fontSizeXxxLarge: fontSizeXxxLarge,
    fontSizeXxLarge: fontSizeXxLarge,
    fontSizeXLarge: fontSizeXLarge,
    fontSizeLarge: fontSizeLarge,
    fontSizeMedium: fontSizeMedium,
    fontSizeSmall: fontSizeSmall,
    fontSizeXSmall: fontSizeXSmall,
    radiusSharp: radiusSharp,
    radiusDefault: radiusDefault,
    radiusMedium: radiusMedium,
    radiusLarge: radiusLarge,
    radiusCircle: radiusCircle,
    radiusPill: radiusPill,
    shadowTooltipTurva: shadowTooltipTurva,
    shadowFocusInputTurva: shadowFocusInputTurva,
    shadowDefault: shadowDefault,
    shadowFocusInput: shadowFocusInput,
    shadowTooltip: shadowTooltip,
    shadowHoverInputTurva: shadowHoverInputTurva,
    shadowErrorTurva: shadowErrorTurva,
    shadowHoverInput: shadowHoverInput,
    shadowError: shadowError,
    shadowCardTurva: shadowCardTurva,
    shadowModal: shadowModal,
    shadowCard: shadowCard,
    shadowFocusTurva: shadowFocusTurva,
    shadowFocus: shadowFocus,
    shadowHoverTurva: shadowHoverTurva,
    shadowHover: shadowHover,
    shadowDefaultTurva: shadowDefaultTurva,
    spaceXxSmall: spaceXxSmall,
    spaceLarge: spaceLarge,
    spaceXSmall: spaceXSmall,
    spaceXxxSmall: spaceXxxSmall,
    spaceSmall: spaceSmall,
    spaceMedium: spaceMedium,
    spaceXxLarge: spaceXxLarge,
    spaceXxxxLarge: spaceXxxxLarge,
    spaceXxxxxLarge: spaceXxxxxLarge,
    spaceXxxLarge: spaceXxxLarge,
    spaceXLarge: spaceXLarge,
    sizeIconXxLarge: sizeIconXxLarge,
    sizeFormBorder: sizeFormBorder,
    sizeStepMedium: sizeStepMedium,
    sizeButtonMinWidth: sizeButtonMinWidth,
    sizeHeader: sizeHeader,
    sizeIconXxxLarge: sizeIconXxxLarge,
    sizeIconXLarge: sizeIconXLarge,
    sizeIconXxSmall: sizeIconXxSmall,
    sizeStepSmall: sizeStepSmall,
    sizeNavigation: sizeNavigation,
    sizeIconLarge: sizeIconLarge,
    sizeLayoutMaxWidth: sizeLayoutMaxWidth,
    sizeTappableSquare: sizeTappableSquare,
    sizeIconXSmall: sizeIconXSmall,
    sizeMediumBorder: sizeMediumBorder,
    sizeIconXxxSmall: sizeIconXxxSmall,
    sizeButtonBorder: sizeButtonBorder,
    sizeButtonTinyBorder: sizeButtonTinyBorder,
    sizeIconMedium: sizeIconMedium,
    sizeIconSmall: sizeIconSmall,
    opacity85: opacity85,
    opacity75: opacity75,
    opacity50: opacity50,
    opacity30: opacity30,
    zIndexMaskButtons: zIndexMaskButtons,
    zIndexDropdown: zIndexDropdown,
    zIndexSpinner: zIndexSpinner,
    zIndexDefault: zIndexDefault,
    zIndexToast: zIndexToast,
    zIndexPopup: zIndexPopup,
    zIndexModal: zIndexModal,
    zIndexSticky: zIndexSticky,
    zIndexMasked: zIndexMasked,
    zIndexDeep: zIndexDeep,
    zIndexOverlay: zIndexOverlay,
    zIndexMask: zIndexMask,
    zIndexHeader: zIndexHeader,
    lineHeightMedium: lineHeightMedium,
    lineHeightSmall: lineHeightSmall,
    lineHeightXSmall: lineHeightXSmall,
    transitionQuickly: transitionQuickly,
    transitionSlowly: transitionSlowly,
    mediaQueryXxxLarge: mediaQueryXxxLarge,
    mediaQueryXLarge: mediaQueryXLarge,
    mediaQueryMedium: mediaQueryMedium,
    mediaQueryLarge: mediaQueryLarge,
    mediaQueryXxLarge: mediaQueryXxLarge,
    mediaQueryXSmall: mediaQueryXSmall,
    mediaQueryXxxSmall: mediaQueryXxxSmall,
    mediaQuerySmall: mediaQuerySmall,
    mediaQueryXxSmall: mediaQueryXxSmall
});

const allowedThemes = ["turva"];
function isDashCase(str) {
    const dash = str.includes("-");
    const barredString = str.includes(" ") || str.includes("_");
    const barredStartingString = str.charAt(0) === "-";
    return dash && !barredString && !barredStartingString;
}
function capitalize(str = "") {
    return `${str.charAt(0).toUpperCase()}${str.slice(1)}`;
}
function lowerCaseFirst(str = "") {
    return `${str.charAt(0).toLowerCase()}${str.slice(1)}`;
}
function camelize(str = "") {
    const arr = str.split("-");
    //loop through each element of the array and capitalize the first letter.'
    arr.forEach((string, index) => {
        arr[index] = capitalize(string);
    });
    return arr.join("");
}
function getTheme(theme = "") {
    if (allowedThemes.includes(theme.toLowerCase())) {
        return theme.toLowerCase();
    }
    return "";
}
function capitalizeFirstLetter(string) {
    return string.charAt(0).toUpperCase() + string.slice(1);
}
function hasType(t, str = "") {
    return str.indexOf(capitalizeFirstLetter(t)) === 0 || str.indexOf(t) === 0;
}
function addPrefix(prefix, str = "") {
    if (str && !isDashCase(str) && !hasType(prefix, str)) {
        return `${prefix}${capitalize(str)}`;
    }
    return str;
}
function addTheme(str, theme) {
    const hasTheme = getTheme(theme).length;
    if (hasTheme && str.indexOf(theme) === -1) {
        return `${str}${capitalize(theme)}`;
    }
    return str;
}
function getColorByName(name, theme = "") {
    if (!name) {
        return undefined;
    }
    const defaultColor = convertToColorName(name);
    const themedColor = convertToColorName(name, theme);
    // lets just try to get the color first to save some cycles
    let resolvedToken = tokens$2[themedColor];
    if (!resolvedToken) {
        resolvedToken = tokens$2[defaultColor];
    }
    return resolvedToken;
}
function convertToColorName(name = "", theme = "") {
    let colorResolution = name;
    const dash = isDashCase(name);
    if (dash) {
        colorResolution = camelize(colorResolution);
    }
    colorResolution = addPrefix("color", colorResolution);
    colorResolution = addTheme(colorResolution, theme);
    // takes care of the case where colorPrimaryDark ends up with ColorPrimaryDark
    colorResolution = lowerCaseFirst(colorResolution);
    return colorResolution;
}
function rgbaColorFromRgb(color, opacity) {
    if (!color || (opacity !== 0 && !opacity)) {
        return undefined;
    }
    const f = color.split(",");
    const R = parseInt(f[0].slice(4)), G = parseInt(f[1]), B = parseInt(f[2]);
    return `rgba(${R},${G},${B},${opacity})`;
}
function shadeRGBColor(color, percent) {
    const f = color.split(","), t = percent < 0 ? 0 : 255, p = percent < 0 ? percent * -1 : percent;
    let R = parseInt(f[0].slice(4)), G = parseInt(f[1]), B = parseInt(f[2]);
    R = Math.round((t - R) * p) + R;
    G = Math.round((t - G) * p) + G;
    B = Math.round((t - B) * p) + B;
    R = R < 0 ? 0 : R;
    R = R > 255 ? 255 : R;
    G = G < 0 ? 0 : G;
    G = G > 255 ? 255 : G;
    B = B < 0 ? 0 : B;
    B = B > 255 ? 255 : B;
    return `rgb(${R},${G},${B})`;
}
// remove wrapping speech marks.
// media query tokens are wrapped in speech marks,
// which need to be removed before use with matchMedia.
const unwrap = (str) => str.substring(1, str.length - 1);
const breakpointToToken = {
    "xxx-small": unwrap(mediaQueryXxxSmall),
    "xx-small": unwrap(mediaQueryXxSmall),
    "x-small": unwrap(mediaQueryXSmall),
    small: unwrap(mediaQuerySmall),
    medium: unwrap(mediaQueryMedium),
    large: unwrap(mediaQueryLarge),
    "x-large": unwrap(mediaQueryXLarge),
    "xx-large": unwrap(mediaQueryXxLarge),
    "xxx-large": unwrap(mediaQueryXxxLarge),
};
const breakpointTokensUpTo = Object.keys(breakpointToToken).filter(key => key.indexOf("x-small") !== -1);
Object.keys(breakpointToToken).filter(key => !breakpointTokensUpTo.includes(key));

const duetActionButtonCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-action-button,*.sc-duet-action-button::after,*.sc-duet-action-button::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-action-button-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}/*!@.duet-action-button*/.duet-action-button.sc-duet-action-button{display:inline-flex;align-items:center;justify-content:center;width:32px;height:32px;min-height:auto !important;padding:0 !important;margin:0 0 0 8px;color:rgb(0, 41, 77);white-space:nowrap;cursor:pointer;background:rgb(245, 248, 250);border-radius:50%;transition:background-color 300ms ease !important}/*!@.duet-action-button.duet-theme-turva*/.duet-action-button.duet-theme-turva.sc-duet-action-button{color:rgb(23, 28, 58);background:rgb(245, 245, 247)}/*!@.duet-action-button duet-icon*/.duet-action-button.sc-duet-action-button duet-icon.sc-duet-action-button{display:block}@media (max-width: 35.9375em){/*!@.duet-action-button*/.duet-action-button.sc-duet-action-button{width:32px;height:32px}}/*!@.duet-action-button:not(:disabled):hover*/.duet-action-button.sc-duet-action-button:not(:disabled):hover{background:#e9ecee}/*!@.duet-action-button:not(:disabled):hover.duet-theme-turva*/.duet-action-button.sc-duet-action-button:not(:disabled):hover.duet-theme-turva{background:#e9e9eb}/*!@.duet-action-button:focus*/.duet-action-button.sc-duet-action-button:focus{outline:0;box-shadow:0 0 0 2px #0077b3 !important}/*!@.duet-action-button:focus.duet-theme-turva*/.duet-action-button.sc-duet-action-button:focus.duet-theme-turva{box-shadow:0 0 0 2px #171c3a !important}/*!@.duet-action-button:active:focus*/.duet-action-button.sc-duet-action-button:active:focus{background:#dddfe1 !important;box-shadow:none}/*!@.duet-action-button:active:focus.duet-theme-turva*/.duet-action-button.sc-duet-action-button:active:focus.duet-theme-turva{background:#ddddde !important}/*!@.duet-action-button:disabled*/.duet-action-button.sc-duet-action-button:disabled{color:rgb(144, 149, 153);cursor:default;background:rgb(245, 248, 250);opacity:0.75}/*!@.duet-action-button.duet-theme-turva:disabled*/.duet-action-button.duet-theme-turva.sc-duet-action-button:disabled{color:rgb(116, 116, 117);background:rgb(245, 245, 247)}";

/**
 * @slot default - slot inside an invisible element, this can be used to enhance accessibility
 * @part button - this part enables style overrides for the button
 * @part icon - this part enables style overrides for the icon
 */
class DuetActionButton {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetActionEvent = createEvent$2(this, "duetActionEvent", 6);
        this.listId = createID("duet-action-button");
        /**
         * Private methods.
         */
        //helper to emit relevant page events
        this.emitPageEvent = debounce(e => {
            this.duetActionEvent.emit({
                component: "duet-action-button",
                originalEvent: e,
                action: this.actionId,
                name: this.actionName,
                meta: this.actionMeta,
                id: this.listId,
            });
        });
        this.numbersStore = "";
        this.theme = "";
        this.iconName = "action-arrow-left-small";
        this.iconColor = "currentColor";
        this.iconSize = "xx-small";
        this.actionName = "default-action";
        this.actionId = undefined;
        this.actionMeta = undefined;
        this.disabled = false;
        this.color = "";
        this.background = "";
        this.accessibleTitle = true;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleLabelsDefaults = {
            en: "Click to activate action",
            fi: "Klikkaa aktivoidaksesi toiminto",
            sv: "Klicka för att aktivera åtgärd",
        };
        this.accessibleLabel = getLocaleString(this.accessibleLabelsDefaults);
        this.accessibleControls = "";
        this.url = undefined;
    }
    //handle a11y keyboard navigation events
    async onKeyboardDown(e) {
        if (isKeyboardClick(e)) {
            this.emitPageEvent(e);
        }
    }
    //return readable title for the action-button
    getTitle() {
        let titleString = "";
        if (typeof this.accessibleTitle === "string") {
            titleString = this.accessibleTitle;
        }
        if (this.accessibleTitle === true) {
            titleString = capitalizeFirstLetter(`${this.actionName}`);
        }
        return titleString;
    }
    async onMouseHandler(e) {
        e.preventDefault();
        this.duetActionEvent.emit({
            component: "duet-action-button",
            originalEvent: e,
            action: this.actionName,
            id: this.actionId,
            meta: this.actionMeta,
        });
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleLabel", defaults: "accessibleLabelsDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus on the specified `duet-action-button`. Use this method instead of the global
     * `button.focus()`.
     */
    async setFocus(options) {
        if (this.nativeButton) {
            this.nativeButton.focus(options);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const color = this.color === "currentColor" ? "currentColor" : getColorByName(this.color, this.theme);
        const backgroundColor = getColorByName(this.background, this.theme);
        const backgroundHoverColor = backgroundColor ? shadeRGBColor(backgroundColor, -0.1) : backgroundColor;
        const backgroundStyles = backgroundColor
            ? `
          button.duet-action-button {
            background: ${backgroundColor} !important;
          }
          button.duet-action-button:not(:disabled):hover {
            background: ${backgroundHoverColor} !important;
          }
        `
            : "";
        const styles = {
            color,
            "border-color": getColorByName(this.iconColor, this.theme),
            "border-width": "1px",
            "border-style": "solid",
        };
        const commonProps = {
            ref: button => (this.nativeButton = button),
            part: "button",
            style: styles,
            disabled: this.disabled,
            id: this.listId,
            type: "button",
            "aria-label": this.accessibleLabel,
            "aria-labelledby": this.accessibleLabelledBy,
            "aria-description": this.accessibleDescription,
            "aria-describedby": this.accessibleDescribedBy,
            "aria-details": this.accessibleDetails,
            "aria-controls": this.accessibleControls,
            title: this.getTitle(),
            class: {
                "duet-action-button": true,
                "duet-action-button--disabled": this.disabled,
                [`duet-action-button--${this.theme}`]: this.theme !== "",
                "duet-theme-turva": this.theme === "turva",
            },
        };
        return (hAsync(Host, { onKeyDown: e => this.onKeyboardDown(e) }, hAsync("style", { innerHTML: backgroundStyles }), this.url && !this.disabled ? (hAsync("a", Object.assign({}, commonProps, { href: this.url }), hAsync("duet-icon", { part: "icon", name: this.iconName, color: this.iconColor, margin: "none", size: this.iconSize }))) : (hAsync("button", Object.assign({}, commonProps, { onClick: e => this.onMouseHandler(e) }), hAsync("duet-icon", { part: "icon", name: this.iconName, color: this.iconColor, margin: "none", size: this.iconSize }), hAsync("duet-visually-hidden", null, hAsync("slot", null))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetActionButtonCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-action-button",
        "$members$": {
            "theme": [1025],
            "iconName": [1, "icon-name"],
            "iconColor": [1, "icon-color"],
            "iconSize": [1, "icon-size"],
            "actionName": [1, "action-name"],
            "actionId": [1, "action-id"],
            "actionMeta": [1, "action-meta"],
            "disabled": [4],
            "color": [513],
            "background": [1],
            "accessibleTitle": [8, "title"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleLabelsDefaults": [16],
            "accessibleLabel": [1025, "accessible-label"],
            "accessibleControls": [1, "accessible-controls"],
            "url": [513],
            "numbersStore": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["color", "color"], ["url", "url"]]
    }; }
}

const duetAlertCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-alert,*.sc-duet-alert::after,*.sc-duet-alert::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-alert-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%;max-height:999px;border-radius:4px;transition:opacity 300ms ease, visibility 300ms ease, transform 300ms ease, max-height 300ms ease}/*!@:host(:focus)*/.sc-duet-alert-h:focus{outline:0}/*!@:host(.user-is-tabbing:focus)*/.user-is-tabbing.sc-duet-alert-h:focus{border-radius:4px;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing.duet-theme-turva:focus)*/.user-is-tabbing.duet-theme-turva.sc-duet-alert-h:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@:host(.duet-alert-is-dismissed)*/.duet-alert-is-dismissed.sc-duet-alert-h{max-height:0;overflow:hidden;visibility:hidden !important;opacity:0;transform:scale(0.98)}/*!@:host(.duet-alert-is-dismissed) .duet-alert*/.duet-alert-is-dismissed.sc-duet-alert-h .duet-alert.sc-duet-alert{margin:0 !important}/*!@.duet-alert*/.duet-alert.sc-duet-alert{margin-bottom:16px !important;position:relative;width:100%;padding:16px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);background:#f2f8fb;border:1px solid rgb(0, 119, 179);border-radius:4px;transition:margin 100ms 300ms ease}/*!@.duet-alert.duet-p-0*/.duet-alert.duet-p-0.sc-duet-alert{padding:0 !important}/*!@.duet-alert.duet-m-0*/.duet-alert.duet-m-0.sc-duet-alert{margin:0 !important}/*!@.duet-alert.duet-theme-turva*/.duet-alert.duet-theme-turva.sc-duet-alert{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);background:#f3f4f5;border-color:rgb(23, 28, 58)}/*!@.duet-alert.warning*/.duet-alert.warning.sc-duet-alert{background:#fffbf4;border-color:rgb(247, 178, 40)}/*!@.duet-alert.warning.duet-theme-turva*/.duet-alert.warning.duet-theme-turva.sc-duet-alert{background:#fffaf3;border-color:rgb(250, 164, 15)}/*!@.duet-alert.danger*/.duet-alert.danger.sc-duet-alert{background:#fdf4f7;border-color:rgb(222, 35, 98)}/*!@.duet-alert.danger.duet-theme-turva*/.duet-alert.danger.duet-theme-turva.sc-duet-alert{background:#fdf4f3;border-color:rgb(224, 42, 13)}/*!@.duet-alert.success*/.duet-alert.success.sc-duet-alert{background:#f2f9f7;border-color:rgb(0, 135, 90)}/*!@.duet-alert.success.duet-theme-turva*/.duet-alert.success.duet-theme-turva.sc-duet-alert{background:#f3f9f6;border-color:rgb(8, 135, 78)}/*!@.duet-alert-dismiss*/.duet-alert-dismiss.sc-duet-alert{position:absolute;top:2px;right:2px}/*!@.duet-alert-container*/.duet-alert-container.sc-duet-alert{display:inline-flex;align-items:center;justify-content:center;width:100%;margin:0 auto !important}/*!@.duet-alert-container span*/.duet-alert-container.sc-duet-alert span.sc-duet-alert{width:100%}/*!@.duet-alert-has-icon .duet-alert-container*/.duet-alert-has-icon.sc-duet-alert .duet-alert-container.sc-duet-alert{margin-top:2px !important}/*!@.duet-alert-icon*/.duet-alert-icon.sc-duet-alert{display:inline-block;align-self:center;width:20px;min-width:20px;height:20px;margin:0 16px 0 0 !important}/*!@.duet-alert-icon duet-icon*/.duet-alert-icon.sc-duet-alert duet-icon.sc-duet-alert{width:20px;height:20px}/*!@.duet-alert-is-dismissible*/.duet-alert-is-dismissible.sc-duet-alert{padding:16px 48px 16px 16px;text-align:left}/*!@.duet-alert-is-dismissible .duet-alert-container*/.duet-alert-is-dismissible.sc-duet-alert .duet-alert-container.sc-duet-alert{text-align:left}";

class DuetAlert {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetDismiss = createEvent$2(this, "duetDismiss", 7);
        this.descriptiveId = createID("DuetAlert");
        this.handleDismiss = (ev) => {
            this.handleHide();
            this.duetDismiss.emit({
                component: "duet-alert",
                originalEvent: ev,
            });
        };
        this.handleShow = () => {
            this.isDismissed = false;
        };
        this.handleHide = () => {
            this.isDismissed = true;
        };
        this.theme = "";
        this.isDismissed = false;
        this.timeoutID = undefined;
        this.accessibleLabelDefaults = {
            fi: "Sulje viesti",
            sv: "Stäng meddelandet",
            en: "Close the message",
        };
        this.accessibleLabel = getLocaleString(this.accessibleLabelDefaults);
        this.announcements = true;
        this.icon = "";
        this.autoDismiss = undefined;
        this.margin = "auto";
        this.padding = "auto";
        this.variation = "default";
        this.dismissible = false;
        this.focusable = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    componentDidLoad() {
        if (this.autoDismiss) {
            this.timeoutID = setTimeout(() => this.handleDismiss(), this.autoDismiss);
        }
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleLabel", defaults: "accessibleLabelDefaults" });
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        if (this.timeoutID) {
            clearTimeout(this.timeoutID);
        }
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Show.
     */
    async show() {
        this.handleShow();
    }
    /**
     * Hide.
     */
    async hide() {
        this.handleHide();
    }
    /**
     * Sets focus on the specified `duet-alert`.
     * Works only when focusable property is set to true.
     * Use this method instead of the global
     * `button.focus()`.
     */
    async setFocus(options) {
        this.alertContainer.focus(options);
    }
    /**
     * There is bug in NVDA screen reader
     * that is causing multiple alert readings
     * when alert contains other components (link, button etc.).
     */
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const closeColor = this.theme === "turva" ? "secondary-turva" : "secondary";
        return (hAsync(Host, { class: {
                "duet-theme-turva": this.theme === "turva",
                "duet-alert-is-dismissed": this.isDismissed,
            }, role: this.announcements ? "alert" : undefined }, hAsync("div", { class: {
                "duet-alert": true,
                "duet-alert-has-icon": !!this.icon,
                "duet-alert-is-dismissible": this.dismissible,
                "duet-p-0": this.padding === "none",
                "duet-m-0": this.margin === "none",
                [this.variation]: true,
                "duet-theme-turva": this.theme === "turva",
            } }, hAsync("div", { class: "duet-alert-container", ref: element => {
                this.alertContainer = element;
            }, tabindex: this.focusable ? "0" : undefined }, this.icon && (hAsync("div", { class: "duet-alert-icon" }, hAsync("duet-icon", { size: "auto", name: this.icon, color: "currentColor" }))), hAsync("span", { id: this.descriptiveId }, hAsync("slot", null))), this.dismissible && (hAsync("div", { class: "duet-alert-dismiss" }, hAsync("duet-button", { variation: "plain", accessibleLabel: this.accessibleLabel, accessibleDescribedBy: this.descriptiveId, color: closeColor, iconSize: "medium", icon: "navigation-close", iconOnly: true, margin: "none", theme: this.theme, onClick: this.handleDismiss, fixed: true }))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetAlertCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-alert",
        "$members$": {
            "theme": [1025],
            "accessibleLabelDefaults": [1, "accessible-label-default"],
            "accessibleLabel": [1025, "accessible-label"],
            "announcements": [4],
            "icon": [1],
            "autoDismiss": [2, "auto-dismiss"],
            "margin": [1],
            "padding": [1],
            "variation": [1],
            "dismissible": [4],
            "focusable": [4],
            "isDismissed": [32],
            "timeoutID": [32],
            "show": [64],
            "hide": [64],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetBadgeCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-badge,*.sc-duet-badge::after,*.sc-duet-badge::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-badge-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:4px !important;margin-bottom:2px !important;display:inline-block;width:auto;vertical-align:middle}/*!@:host:last-child, :host:last-of-type*/.sc-duet-badge-h:last-child,.sc-duet-badge-h:last-of-type{margin-right:0 !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-badge-h{margin:0 !important}/*!@.duet-badge*/.duet-badge.sc-duet-badge{width:100%;padding:4.4444444444px 12px 5.4444444444px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.75rem;font-style:normal;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);text-align:center;word-break:break-word;vertical-align:middle;background:#d9ebf4;border-radius:20rem}/*!@.duet-badge.duet-p-0*/.duet-badge.duet-p-0.sc-duet-badge{padding:0 !important}/*!@.duet-badge.duet-m-0*/.duet-badge.duet-m-0.sc-duet-badge{margin:0 !important}/*!@.duet-badge.duet-theme-turva*/.duet-badge.duet-theme-turva.sc-duet-badge{padding:5.4444444444px 12px 4.4444444444px;font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-weight:700;color:rgb(23, 28, 58);background:#e8e8eb}/*!@.duet-badge.warning*/.duet-badge.warning.sc-duet-badge{background:#fdecc9}/*!@.duet-badge.warning.duet-theme-turva*/.duet-badge.warning.duet-theme-turva.sc-duet-badge{background:#fee8c3}/*!@.duet-badge.danger*/.duet-badge.danger.sc-duet-badge{background:#f8d3e0}/*!@.duet-badge.danger.duet-theme-turva*/.duet-badge.danger.duet-theme-turva.sc-duet-badge{background:#f9d4cf}/*!@.duet-badge.success*/.duet-badge.success.sc-duet-badge{background:#cce7de}/*!@.duet-badge.success.duet-theme-turva*/.duet-badge.success.duet-theme-turva.sc-duet-badge{background:#cee7dc}/*!@.duet-badge.subtle*/.duet-badge.subtle.sc-duet-badge{color:rgb(101, 119, 135);background:none;outline:1px solid rgb(225, 227, 230);outline-offset:-1px}/*!@.duet-badge.subtle.duet-theme-turva*/.duet-badge.subtle.duet-theme-turva.sc-duet-badge{color:rgb(68, 68, 69);background:none;outline-color:rgb(228, 228, 230)}/*!@.duet-badge.background-strong.default*/.duet-badge.background-strong.default.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(0, 119, 179)}/*!@.duet-badge.background-strong.default.duet-theme-turva*/.duet-badge.background-strong.default.duet-theme-turva.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(23, 28, 58)}/*!@.duet-badge.background-strong.warning*/.duet-badge.background-strong.warning.sc-duet-badge{background:#f9c153}/*!@.duet-badge.background-strong.warning.duet-theme-turva*/.duet-badge.background-strong.warning.duet-theme-turva.sc-duet-badge{background:#fbb63f}/*!@.duet-badge.background-strong.danger*/.duet-badge.background-strong.danger.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(222, 35, 98)}/*!@.duet-badge.background-strong.danger.duet-theme-turva*/.duet-badge.background-strong.danger.duet-theme-turva.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(224, 42, 13)}/*!@.duet-badge.background-strong.success*/.duet-badge.background-strong.success.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(0, 135, 90)}/*!@.duet-badge.background-strong.success.duet-theme-turva*/.duet-badge.background-strong.success.duet-theme-turva.sc-duet-badge{color:rgb(255, 255, 255);background:rgb(8, 135, 78)}/*!@.duet-badge.background-strong.subtle*/.duet-badge.background-strong.subtle.sc-duet-badge{border-color:rgb(207, 210, 212);outline-color:rgb(0, 41, 77)}/*!@.duet-badge.background-strong.subtle.duet-theme-turva*/.duet-badge.background-strong.subtle.duet-theme-turva.sc-duet-badge{border-color:rgb(207, 207, 209);outline-color:rgb(23, 28, 58)}";

class DuetBadge {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.variation = "default";
        this.background = "normal";
        this.margin = "auto";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one of the class.
     */
    render() {
        const backgroundClass = `background-${this.background}`;
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("div", { class: {
                "duet-badge": true,
                [this.variation]: true,
                [backgroundClass]: true,
                "duet-theme-turva": this.theme === "turva",
            } }, hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetBadgeCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-badge",
        "$members$": {
            "theme": [1025],
            "variation": [1],
            "background": [1],
            "margin": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const DuetPicture = ({ img, sources }) => {
    return (hAsync("picture", null,
        sources &&
            sources.map(source => (hAsync("source", { srcSet: source.srcset, media: source.media, type: source.type, sizes: source.sizes }))),
        hAsync("img", Object.assign({}, img))));
};

const duetBannerCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-banner,*.sc-duet-banner::after,*.sc-duet-banner::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-banner-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:4px !important;margin-bottom:2px !important;display:block;width:auto}/*!@:host:last-child, :host:last-of-type*/.sc-duet-banner-h:last-child,.sc-duet-banner-h:last-of-type{margin-right:0 !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-banner-h{margin:0 !important}/*!@.duet-banner*/.duet-banner.sc-duet-banner{display:grid;width:100%;height:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:normal;text-align:left;border-radius:24px}/*!@.duet-banner.duet-p-0*/.duet-banner.duet-p-0.sc-duet-banner{padding:0 !important}/*!@.duet-banner.duet-m-0*/.duet-banner.duet-m-0.sc-duet-banner{margin:0 !important}/*!@.duet-banner .visual*/.duet-banner.sc-duet-banner .visual.sc-duet-banner{position:relative;overflow:hidden;border-top-left-radius:24px;border-top-right-radius:24px}/*!@.duet-banner .visual .image-container*/.duet-banner.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{position:relative;width:400px;height:400px;overflow:hidden;border-radius:20%;transform:rotate(7deg)}/*!@.duet-banner .visual .image*/.duet-banner.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{position:relative;top:20px;width:100%;height:100%;transform:rotate(-7deg);object-fit:cover}/*!@.duet-banner .visual .icon*/.duet-banner.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{position:absolute}/*!@.duet-banner .content*/.duet-banner.sc-duet-banner .content.sc-duet-banner{display:flex;flex-direction:column;gap:8px;padding:0 20px 36px}/*!@.duet-banner .action*/.duet-banner.sc-duet-banner .action.sc-duet-banner{display:flex;flex-direction:column;flex-grow:1;align-items:flex-start;justify-content:flex-end;padding-top:16px}/*!@.duet-banner.small*/.duet-banner.small.sc-duet-banner{grid-template-rows:335px 1fr;max-width:335px}/*!@.duet-banner.small .visual*/.duet-banner.small.sc-duet-banner .visual.sc-duet-banner{border-top-left-radius:24px;border-top-right-radius:24px}/*!@.duet-banner.small .visual .image-container*/.duet-banner.small.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-130px;left:-40px}/*!@.duet-banner.small .visual .icon*/.duet-banner.small.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:30px;left:15px}/*!@.duet-banner.large*/.duet-banner.large.sc-duet-banner{grid-template-rows:none;grid-template-columns:50% 50%;min-width:900px;max-width:1112px;height:320px;max-height:none}/*!@.duet-banner.large .visual*/.duet-banner.large.sc-duet-banner .visual.sc-duet-banner{border-top-left-radius:24px;border-bottom-left-radius:24px}/*!@.duet-banner.large .visual .image-container*/.duet-banner.large.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-30px;left:-30px}/*!@.duet-banner.large .visual .image*/.duet-banner.large.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:-15px;left:30px}/*!@.duet-banner.large .visual .icon*/.duet-banner.large.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{top:40px;bottom:auto;left:335px}/*!@.duet-banner.large .content*/.duet-banner.large.sc-duet-banner .content.sc-duet-banner{align-items:flex-start;justify-content:center;padding:0 72px 0 0}/*!@.duet-banner.large .action*/.duet-banner.large.sc-duet-banner .action.sc-duet-banner{flex-grow:0}/*!@.duet-banner.auto*/.duet-banner.auto.sc-duet-banner{grid-template-rows:335px 1fr;max-width:335px}/*!@.duet-banner.auto .visual*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner{border-top-left-radius:24px;border-top-right-radius:24px}/*!@.duet-banner.auto .visual .image-container*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-130px;left:-40px}/*!@.duet-banner.auto .visual .icon*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:30px;left:15px}@media (min-width: 62em){/*!@.duet-banner.auto*/.duet-banner.auto.sc-duet-banner{grid-template-rows:none;grid-template-columns:50% 50%;min-width:900px;max-width:1112px;height:320px;max-height:none}/*!@.duet-banner.auto .visual*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner{border-top-left-radius:24px;border-bottom-left-radius:24px}/*!@.duet-banner.auto .visual .image-container*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-30px;left:-30px}/*!@.duet-banner.auto .visual .image*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:-15px;left:30px}/*!@.duet-banner.auto .visual .icon*/.duet-banner.auto.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{top:40px;bottom:auto;left:335px}/*!@.duet-banner.auto .content*/.duet-banner.auto.sc-duet-banner .content.sc-duet-banner{align-items:flex-start;justify-content:center;padding:0 72px 0 0}/*!@.duet-banner.auto .action*/.duet-banner.auto.sc-duet-banner .action.sc-duet-banner{flex-grow:0}}/*!@.duet-banner.duet-theme-turva*/.duet-banner.duet-theme-turva.sc-duet-banner{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-banner.duet-theme-turva .visual .image-container*/.duet-banner.duet-theme-turva.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{width:526px;height:456px;transform:none;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}/*!@.duet-banner.duet-theme-turva .visual .image*/.duet-banner.duet-theme-turva.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{transform:none}/*!@.duet-banner.duet-theme-turva.small .visual .image-container*/.duet-banner.duet-theme-turva.small.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-164px;left:-147px}/*!@.duet-banner.duet-theme-turva.small .visual .image*/.duet-banner.duet-theme-turva.small.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:0;left:0}/*!@.duet-banner.duet-theme-turva.small .visual .icon*/.duet-banner.duet-theme-turva.small.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:15px}/*!@.duet-banner.duet-theme-turva.large .visual .image-container*/.duet-banner.duet-theme-turva.large.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-54.923px;left:-147px}/*!@.duet-banner.duet-theme-turva.large .visual .image*/.duet-banner.duet-theme-turva.large.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:0;left:0}/*!@.duet-banner.duet-theme-turva.large .visual .icon*/.duet-banner.duet-theme-turva.large.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:auto;left:295px}/*!@.duet-banner.duet-theme-turva.auto .visual .image-container*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-164px;left:-147px}/*!@.duet-banner.duet-theme-turva.auto .visual .image*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:0;left:0}/*!@.duet-banner.duet-theme-turva.auto .visual .icon*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:15px}@media (min-width: 62em){/*!@.duet-banner.duet-theme-turva.auto .visual .image-container*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .image-container.sc-duet-banner{top:-54.923px;left:-147px}/*!@.duet-banner.duet-theme-turva.auto .visual .image*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .image.sc-duet-banner{top:0;left:0}/*!@.duet-banner.duet-theme-turva.auto .visual .icon*/.duet-banner.duet-theme-turva.auto.sc-duet-banner .visual.sc-duet-banner .icon.sc-duet-banner{bottom:auto;left:295px}}";

class DuetBanner {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.backgroundColor = "primary-lighter";
        this.iconColor = "gray-lightest";
        this.iconBackgroundColor = "primary";
        this.textColor = "secondary";
        this.size = "auto";
        this.image = "";
        this.sources = undefined;
        this.icon = "";
        this.headingLevel = "h2";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasHeadingSlot = !!this.element.querySelector('[slot="heading"]');
        this.hasDescriptionSlot = !!this.element.querySelector('[slot="description"]');
        this.hasActionSlot = !!this.element.querySelector('[slot="action"]');
    }
    /**
     * render() function
     * Always the last one of the class.
     */
    render() {
        const backgroundColorTemp = this.theme === "turva" && this.backgroundColor === "primary-lighter" ? "gray-lighter" : this.backgroundColor;
        const backgroundColor = getColorByName(backgroundColorTemp, this.theme);
        const bannerStyles = {
            backgroundColor,
        };
        const pictureSource = {
            img: { src: this.image, alt: "", loading: "lazy", class: "image", role: "presentation" },
            sources: parsePossibleJSON(this.sources),
        };
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("aside", { class: {
                "duet-banner": true,
                "duet-theme-turva": this.theme === "turva",
                [this.size]: true,
            }, style: bannerStyles }, hAsync("div", { class: "visual" }, hAsync("div", { class: "image-container" }, this.image && hAsync(DuetPicture, Object.assign({}, pictureSource))), this.icon && (hAsync("duet-icon", { theme: this.theme, class: "icon", name: this.icon, shape: "brand", size: "xx-large", color: this.iconColor, background: this.iconBackgroundColor, "background-rotation": "7", "background-opacity": "0.85", margin: "none" }))), hAsync("div", { class: "content" }, this.hasHeadingSlot && (hAsync("div", { class: "heading" }, hAsync("duet-heading", { theme: this.theme, level: this.headingLevel, "visual-level": "h2", margin: "none", color: this.textColor }, hAsync("div", null, hAsync("slot", { name: "heading" }))))), this.hasDescriptionSlot && (hAsync("div", { class: "description" }, hAsync("duet-paragraph", { theme: this.theme, margin: "none", color: this.textColor }, hAsync("div", null, hAsync("slot", { name: "description" }))))), this.hasActionSlot && (hAsync("div", { class: "action" }, hAsync("slot", { name: "action" })))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetBannerCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-banner",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "backgroundColor": [1, "background-color"],
            "iconColor": [1, "icon-color"],
            "iconBackgroundColor": [1, "icon-background-color"],
            "textColor": [1, "text-color"],
            "size": [1],
            "image": [1],
            "sources": [1],
            "icon": [1],
            "headingLevel": [1, "heading-level"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

var actionArrowRightSmall={"title":"action-arrow-right-small","tags":"action arrow right small caret","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M19.5 12a2.3 2.3 0 0 1-.78 1.729L7.568 23.54a1.847 1.847 0 0 1-2.439-2.773l9.752-8.579a.25.25 0 0 0 0-.376L5.129 3.233A1.847 1.847 0 0 1 7.568.46l11.148 9.808A2.31 2.31 0 0 1 19.5 12z\"/></svg>"};

const duetBreadcrumbCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-breadcrumb,*.sc-duet-breadcrumb::after,*.sc-duet-breadcrumb::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-breadcrumb-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:list-item;width:auto}/*!@.container*/.container.sc-duet-breadcrumb{display:flex;gap:8px;align-items:center}/*!@.hide*/.hide.sc-duet-breadcrumb{display:none}/*!@.duet-breadrumbs-arrow*/.duet-breadrumbs-arrow.sc-duet-breadcrumb{display:block;align-items:center;justify-content:center;width:0.375rem;min-width:0.375rem;height:0.375rem;min-height:0.375rem}/*!@.duet-breadcrumb*/.duet-breadcrumb.sc-duet-breadcrumb{display:flex;flex-direction:row;align-items:center;justify-content:flex-start;height:100%;font-size:0.875rem;font-weight:inherit;line-height:1.25;color:inherit;text-decoration:none}/*!@.duet-breadcrumb:focus*/.duet-breadcrumb.sc-duet-breadcrumb:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-breadcrumb:focus*/.user-is-tabbing.sc-duet-breadcrumb-h .duet-breadcrumb.sc-duet-breadcrumb:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-breadcrumb.duet-theme-turva:focus*/.user-is-tabbing.sc-duet-breadcrumb-h .duet-breadcrumb.duet-theme-turva.sc-duet-breadcrumb:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}";

class DuetBreadcrumb {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.currentCrumb = {
            fi: "disabled. Nykyinen sivu",
            sv: "disabled. Visa mer",
            en: "disabled. Nuvarande sida",
        };
        this.hasSlottedContent = false;
        this.theme = "";
        this.language = getLanguage();
        this.href = "";
        this.icon = "";
        this.iconSize = "x-small";
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
        subscribeTabbingChange(this);
        this.hasSlottedContent = Array.from(this.element.childNodes).length > 0;
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        var _a;
        return (hAsync(Host, { role: "listitem" }, hAsync("div", { class: "container" }, !this.icon && (hAsync("duet-icon", { class: "duet-breadrumbs-arrow", size: "auto", icon: actionArrowRightSmall.svg, margin: "none", color: "currentColor" })), hAsync("a", { class: {
                "duet-breadcrumb": true,
                "duet-theme-turva": this.theme === "turva",
            }, href: this.href ? this.href : undefined, "aria-label": `${!this.href ? `${getLocaleString(this.currentCrumb)} ` : ""}${(_a = this.accessibleLabel) !== null && _a !== void 0 ? _a : this.element.innerHTML}`, role: "link" }, this.icon && [
            hAsync("duet-icon", { size: this.iconSize, name: this.icon, margin: "none", color: "currentColor" }),
            this.hasSlottedContent && hAsync("duet-spacer", { size: "x-small", direction: "horizontal" }),
        ], hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetBreadcrumbCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-breadcrumb",
        "$members$": {
            "theme": [1025],
            "href": [1025],
            "icon": [1025],
            "iconSize": [1, "icon-size"],
            "accessibleLabel": [1, "accessible-label"],
            "language": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetBreadcrumbsCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-breadcrumbs,*.sc-duet-breadcrumbs::after,*.sc-duet-breadcrumbs::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-breadcrumbs-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@::slotted(*)*/.sc-duet-breadcrumbs-s>*{font-weight:400}/*!@::slotted(:last-child)*/.sc-duet-breadcrumbs-s>:last-child{font-weight:600}/*!@.duet-breadcrumbs*/.duet-breadcrumbs.sc-duet-breadcrumbs{position:relative;display:flex;align-items:center;justify-content:center;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-breadcrumbs .container*/.duet-breadcrumbs.sc-duet-breadcrumbs .container.sc-duet-breadcrumbs{position:relative;display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1384px;min-height:36px;margin:0 28px}/*!@.duet-breadcrumbs .list*/.duet-breadcrumbs.sc-duet-breadcrumbs .list.sc-duet-breadcrumbs{display:flex;flex-direction:row;flex-wrap:wrap;gap:8px;align-items:center;justify-content:flex-start;padding:10px 0;color:inherit;list-style:none}/*!@.duet-breadcrumbs .bottom-border*/.duet-breadcrumbs.sc-duet-breadcrumbs .bottom-border.sc-duet-breadcrumbs{position:absolute;bottom:0;display:none;width:100%;height:1px}/*!@.duet-breadcrumbs.header*/.duet-breadcrumbs.header.sc-duet-breadcrumbs{color:rgb(0, 41, 77);background:rgb(243, 249, 252)}/*!@.duet-breadcrumbs.header .list duet-breadcrumb[href]:hover*/.duet-breadcrumbs.header.sc-duet-breadcrumbs .list.sc-duet-breadcrumbs duet-breadcrumb[href].sc-duet-breadcrumbs:hover{color:rgb(0, 77, 128)}/*!@.duet-breadcrumbs.header .bottom-border--nav*/.duet-breadcrumbs.header.sc-duet-breadcrumbs .bottom-border--nav.sc-duet-breadcrumbs{display:block;background:rgb(225, 227, 230)}/*!@.duet-breadcrumbs.header.duet-theme-turva*/.duet-breadcrumbs.header.duet-theme-turva.sc-duet-breadcrumbs{color:rgb(23, 28, 58);background:rgb(245, 245, 247)}/*!@.duet-breadcrumbs.header.duet-theme-turva ol duet-breadcrumb[href]:hover*/.duet-breadcrumbs.header.duet-theme-turva.sc-duet-breadcrumbs ol.sc-duet-breadcrumbs duet-breadcrumb[href].sc-duet-breadcrumbs:hover{color:rgb(148, 9, 37)}/*!@.duet-breadcrumbs.footer*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs{color:rgb(255, 255, 255);background:rgb(0, 41, 77)}@media (min-width: 64.0625em){/*!@.duet-breadcrumbs.footer*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs{justify-content:flex-start}}@media (min-width: 76.25em){/*!@.duet-breadcrumbs.footer*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs{justify-content:center}}/*!@.duet-breadcrumbs.footer .container*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .container.sc-duet-breadcrumbs{max-width:1110px}@media (min-width: 62em){/*!@.duet-breadcrumbs.footer .container*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .container.sc-duet-breadcrumbs{margin:0 72px 0 48px}}/*!@.duet-breadcrumbs.footer .list*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .list.sc-duet-breadcrumbs{padding:20px 0}@media (min-width: 62em){/*!@.duet-breadcrumbs.footer .list*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .list.sc-duet-breadcrumbs{padding:20px 8px}}/*!@.duet-breadcrumbs.footer .list duet-breadcrumb[href]:hover*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .list.sc-duet-breadcrumbs duet-breadcrumb[href].sc-duet-breadcrumbs:hover{text-decoration:underline}/*!@.duet-breadcrumbs.footer .bottom-border--container*/.duet-breadcrumbs.footer.sc-duet-breadcrumbs .bottom-border--container.sc-duet-breadcrumbs{display:block;background:rgba(255, 255, 255, 0.2)}/*!@.duet-breadcrumbs.footer.duet-theme-turva*/.duet-breadcrumbs.footer.duet-theme-turva.sc-duet-breadcrumbs{color:rgb(255, 255, 255);background:rgb(198, 12, 48)}";

class DuetBreadcrumbs {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.observers = [];
        this.breadcrumbsAriaLabel = getLocaleString({
            fi: "Murupolku",
            sv: "Ströbröd",
            en: "Breadcrumbs",
        });
        this.children = undefined;
        this.theme = "";
        this.variation = "header";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.children = Array.from(this.element.children);
    }
    connectedCallback() {
        {
            return;
        }
    }
    disconnectedCallback() {
        {
            return;
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("nav", { "aria-label": this.breadcrumbsAriaLabel, class: {
                "duet-breadcrumbs": true,
                "duet-theme-turva": this.theme === "turva",
                [this.variation]: true,
            } }, hAsync("div", { class: "container" }, hAsync("div", { role: "list", class: "list" }, hAsync("slot", null)), hAsync("div", { class: "bottom-border bottom-border--container" })), hAsync("div", { class: "bottom-border bottom-border--nav" }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetBreadcrumbsCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-breadcrumbs",
        "$members$": {
            "theme": [1025],
            "variation": [1],
            "children": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const DuetStringsExternalDefaults = {
    fi: "Avautuu uuteen ikkunaan",
    sv: "Öppnas i nytt fönster",
    en: "Opens in a new window",
};
const DuetStringsLoadingDefaults = {
    fi: "Ladataan",
    sv: "Lastning",
    en: "Loading…",
};

const duetButtonCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-button,*.sc-duet-button::after,*.sc-duet-button::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-button-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:8px !important;margin-bottom:12px !important;position:relative;z-index:1;display:inline-flex;width:auto;max-width:100%;font-size:0;vertical-align:bottom;-webkit-tap-highlight-color:transparent}/*!@:host:last-child, :host:last-of-type*/.sc-duet-button-h:last-child,.sc-duet-button-h:last-of-type{margin-right:0 !important}@media (max-width: 35.9375em){/*!@:host*/.sc-duet-button-h{width:100%}}/*!@:host(.square)*/.square.sc-duet-button-h{margin-right:12px !important}/*!@:host(.square):last-child, :host(.square):last-of-type*/.square.sc-duet-button-h:last-child,.square.sc-duet-button-h:last-of-type{margin-right:0 !important}/*!@:host(.input-button)*/.input-button.sc-duet-button-h{z-index:250}/*!@:host(.duet-small),\n:host(.duet-x-small)*/.duet-small.sc-duet-button-h,.duet-x-small.sc-duet-button-h{margin-right:4px !important;margin-bottom:8px !important}/*!@:host(.duet-small):last-child, :host(.duet-small):last-of-type,\n:host(.duet-x-small):last-child,\n:host(.duet-x-small):last-of-type*/.duet-small.sc-duet-button-h:last-child,.duet-small.sc-duet-button-h:last-of-type,.duet-x-small.sc-duet-button-h:last-child,.duet-x-small.sc-duet-button-h:last-of-type{margin-right:0 !important}@media (max-width: 35.9375em){/*!@:host(.duet-small),\n  :host(.duet-x-small)*/.duet-small.sc-duet-button-h,.duet-x-small.sc-duet-button-h{width:auto}}/*!@:host(.duet-x-small)*/.duet-x-small.sc-duet-button-h{margin-right:2px !important}/*!@:host(.duet-x-small):last-child, :host(.duet-x-small):last-of-type*/.duet-x-small.sc-duet-button-h:last-child,.duet-x-small.sc-duet-button-h:last-of-type{margin-right:0 !important}/*!@:host(.square.duet-small),\n:host(.square.duet-x-small)*/.square.duet-small.sc-duet-button-h,.square.duet-x-small.sc-duet-button-h{margin-right:8px !important}/*!@:host(.square.duet-small):last-child, :host(.square.duet-small):last-of-type,\n:host(.square.duet-x-small):last-child,\n:host(.square.duet-x-small):last-of-type*/.square.duet-small.sc-duet-button-h:last-child,.square.duet-small.sc-duet-button-h:last-of-type,.square.duet-x-small.sc-duet-button-h:last-child,.square.duet-x-small.sc-duet-button-h:last-of-type{margin-right:0 !important}/*!@:host(.duet-expand)*/.duet-expand.sc-duet-button-h{width:100% !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-button-h{margin:0 !important}/*!@:host(.duet-fixed)*/.duet-fixed.sc-duet-button-h{width:auto !important}/*!@:host(:last-child)*/.sc-duet-button-h:last-child{margin-right:0 !important}/*!@.duet-button-container*/.duet-button-container.sc-duet-button{position:relative;width:100%}/*!@.duet-button*/.duet-button.sc-duet-button{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:flex;align-items:center;width:100%;min-width:8rem;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.1;color:rgb(0, 119, 179) !important;text-align:center;text-decoration:none;cursor:pointer;background:transparent;border-style:solid;border-width:1px;transition:background-color 300ms ease, color 300ms ease, border 300ms ease, outline 300ms ease, padding 300ms ease, box-shadow 300ms ease}/*!@.duet-button.duet-p-0*/.duet-button.duet-p-0.sc-duet-button{padding:0 !important}/*!@.duet-button.duet-m-0*/.duet-button.duet-m-0.sc-duet-button{margin:0 !important}/*!@.duet-button:focus*/.duet-button.sc-duet-button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-button:focus, .duet-button:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-button .duet-button.sc-duet-button:focus,.duet-button.sc-duet-button:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-button.duet-button-size-medium*/.duet-button.duet-button-size-medium.sc-duet-button{height:50px;padding-right:24px;padding-left:24px;font-size:1rem;border-radius:12.5px}/*!@.duet-button.duet-button-size-medium.icon-left*/.duet-button.duet-button-size-medium.icon-left.sc-duet-button{padding-left:18px}/*!@.duet-button.duet-button-size-medium.icon-right*/.duet-button.duet-button-size-medium.icon-right.sc-duet-button{padding-right:18px}/*!@.duet-button.duet-button-size-small*/.duet-button.duet-button-size-small.sc-duet-button{height:40px;padding-right:18px;padding-left:18px;font-size:0.875rem;border-radius:10px}/*!@.duet-button.duet-button-size-small.icon-left*/.duet-button.duet-button-size-small.icon-left.sc-duet-button{padding-left:14px}/*!@.duet-button.duet-button-size-small.icon-right*/.duet-button.duet-button-size-small.icon-right.sc-duet-button{padding-right:14px}/*!@.duet-button.duet-button-size-x-small*/.duet-button.duet-button-size-x-small.sc-duet-button{height:32px;padding-right:12px;padding-left:12px;font-size:0.75rem;border-radius:8px}/*!@.duet-button.duet-button-size-x-small.icon-left*/.duet-button.duet-button-size-x-small.icon-left.sc-duet-button{padding-left:10px}/*!@.duet-button.duet-button-size-x-small.icon-right*/.duet-button.duet-button-size-x-small.icon-right.sc-duet-button{padding-right:10px}/*!@.duet-button.plain.duet-p-0*/.duet-button.plain.duet-p-0.sc-duet-button{height:auto}/*!@.duet-button:not(.input-button-primary, .input-button-secondary, .input-button-embedded)*/.duet-button.sc-duet-button:not(.input-button-primary,.input-button-secondary.sc-duet-button,.input-button-embedded).sc-duet-button{font-variant-numeric:tabular-nums}/*!@.duet-button.duet-button-text-center*/.duet-button.duet-button-text-center.sc-duet-button{text-align:center !important}/*!@.duet-button.duet-button-is-small:not(.duet-button-icon-only)*/.duet-button.duet-button-is-small.sc-duet-button:not(.duet-button-icon-only){min-width:48px}/*!@.duet-button.duet-button-is-small:not(.duet-button-icon-only).plain*/.duet-button.duet-button-is-small.sc-duet-button:not(.duet-button-icon-only).plain{padding-right:0 !important;padding-left:0 !important}/*!@.duet-button.duet-button-is-small:not(.duet-button-icon-only).duet-p-0*/.duet-button.duet-button-is-small.sc-duet-button:not(.duet-button-icon-only).duet-p-0{padding:0 !important}/*!@.duet-theme-turva .duet-button*/.duet-theme-turva.sc-duet-button .duet-button.sc-duet-button{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(198, 12, 48) !important}/*!@.duet-button .duet-button-contents*/.duet-button.sc-duet-button .duet-button-contents.sc-duet-button{position:relative;display:flex;gap:10px;align-items:center;margin:0 auto;pointer-events:none}/*!@.duet-button .duet-button-contents.icon-right*/.duet-button.sc-duet-button .duet-button-contents.icon-right.sc-duet-button{flex-direction:row-reverse}/*!@.duet-button .duet-button-contents .duet-button-contents-slot*/.duet-button.sc-duet-button .duet-button-contents.sc-duet-button .duet-button-contents-slot.sc-duet-button{position:relative;top:0}/*!@.duet-button.duet-no-wrap*/.duet-button.duet-no-wrap.sc-duet-button{white-space:nowrap}/*!@.duet-button svg*/.duet-button.sc-duet-button svg.sc-duet-button{width:100%;min-width:100%;fill:currentColor}/*!@.duet-button .duet-button-icon*/.duet-button.sc-duet-button .duet-button-icon.sc-duet-button{display:flex;align-items:center}/*!@.duet-button .duet-button-icon duet-icon*/.duet-button.sc-duet-button .duet-button-icon.sc-duet-button duet-icon.sc-duet-button{width:16px;height:16px}/*!@.duet-button .duet-button-icon.large duet-icon*/.duet-button.sc-duet-button .duet-button-icon.large.sc-duet-button duet-icon.sc-duet-button{width:20px;height:20px}/*!@.duet-button .duet-button-icon.medium-small duet-icon*/.duet-button.sc-duet-button .duet-button-icon.medium-small.sc-duet-button duet-icon.sc-duet-button{width:10px;height:10px}/*!@.duet-button .duet-button-icon.small duet-icon*/.duet-button.sc-duet-button .duet-button-icon.small.sc-duet-button duet-icon.sc-duet-button{width:7px;height:7px}/*!@.duet-button:active:not([disabled])*/.duet-button.sc-duet-button:active:not([disabled]){opacity:0.75;transition:none}/*!@.duet-button.default*/.duet-button.default.sc-duet-button{border-color:rgb(207, 210, 212)}/*!@.duet-theme-turva .duet-button.default*/.duet-theme-turva.sc-duet-button .duet-button.default.sc-duet-button{color:rgb(198, 12, 48) !important;border-color:rgb(228, 228, 230)}/*!@.duet-button.default:hover*/.duet-button.default.sc-duet-button:hover{border-color:rgb(0, 119, 179);outline:2px solid rgb(0, 119, 179);outline-offset:-2px}/*!@.duet-theme-turva .duet-button.default:hover*/.duet-theme-turva.sc-duet-button .duet-button.default.sc-duet-button:hover{border-color:rgb(198, 12, 48);outline-color:rgb(198, 12, 48)}/*!@.duet-button.default.duet-button-negative*/.duet-button.default.duet-button-negative.sc-duet-button{background-color:rgb(255, 255, 255)}/*!@.duet-theme-turva .duet-button.default.duet-button-negative*/.duet-theme-turva.sc-duet-button .duet-button.default.duet-button-negative.sc-duet-button{background-color:rgb(228, 228, 230) !important}/*!@.duet-button.default.duet-button-negative:hover*/.duet-button.default.duet-button-negative.sc-duet-button:hover{color:rgb(0, 119, 179) !important;border-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-button.default.duet-button-negative:hover*/.duet-theme-turva.sc-duet-button .duet-button.default.duet-button-negative.sc-duet-button:hover{color:rgb(198, 12, 48) !important;border-color:rgb(198, 12, 48)}/*!@.duet-button.primary, .duet-button.input-button-primary*/.duet-button.primary.sc-duet-button,.duet-button.input-button-primary.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179);border-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-button.primary, .duet-theme-turva .duet-button.input-button-primary*/.duet-theme-turva.sc-duet-button .duet-button.primary.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.input-button-primary.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48);border-color:rgb(198, 12, 48)}/*!@.duet-button.primary:hover, .duet-button.input-button-primary:hover*/.duet-button.primary.sc-duet-button:hover,.duet-button.input-button-primary.sc-duet-button:hover{background:#005f8f;border-color:#005f8f;box-shadow:0 4px 20px 0 rgba(34, 34, 34, 0.1)}/*!@.duet-theme-turva .duet-button.primary:hover, .duet-theme-turva .duet-button.input-button-primary:hover*/.duet-theme-turva.sc-duet-button .duet-button.primary.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.input-button-primary.sc-duet-button:hover{background:rgb(148, 9, 37);border-color:rgb(148, 9, 37)}/*!@.duet-button.primary:focus, .duet-button.input-button-primary:focus*/.duet-button.primary.sc-duet-button:focus,.duet-button.input-button-primary.sc-duet-button:focus{outline:0;box-shadow:0 0 0 1px #fff, 0 0 0 4px rgba(0, 119, 179, 0.75)}/*!@.duet-theme-turva .duet-button.primary:focus, .duet-theme-turva .duet-button.input-button-primary:focus*/.duet-theme-turva.sc-duet-button .duet-button.primary.sc-duet-button:focus,.duet-theme-turva.sc-duet-button .duet-button.input-button-primary.sc-duet-button:focus{box-shadow:0 0 0 1px #fff, 0 0 0 4px rgba(23, 28, 58, 0.75)}/*!@.duet-button.secondary, .duet-button.input-button-secondary, .duet-button.input-button-embedded*/.duet-button.secondary.sc-duet-button,.duet-button.input-button-secondary.sc-duet-button,.duet-button.input-button-embedded.sc-duet-button{color:rgb(0, 41, 77) !important;background:transparent;border-color:rgb(0, 41, 77)}/*!@.duet-theme-turva .duet-button.secondary, .duet-theme-turva .duet-button.input-button-secondary, .duet-theme-turva .duet-button.input-button-embedded*/.duet-theme-turva.sc-duet-button .duet-button.secondary.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.input-button-secondary.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.input-button-embedded.sc-duet-button{color:rgb(23, 28, 58) !important;border-color:rgb(23, 28, 58)}/*!@.duet-button.secondary:hover, .duet-button.input-button-secondary:hover, .duet-button.input-button-embedded:hover*/.duet-button.secondary.sc-duet-button:hover,.duet-button.input-button-secondary.sc-duet-button:hover,.duet-button.input-button-embedded.sc-duet-button:hover{color:rgb(0, 119, 179) !important;border-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-button.secondary:hover, .duet-theme-turva .duet-button.input-button-secondary:hover, .duet-theme-turva .duet-button.input-button-embedded:hover*/.duet-theme-turva.sc-duet-button .duet-button.secondary.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.input-button-secondary.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.input-button-embedded.sc-duet-button:hover{color:rgb(198, 12, 48) !important;border-color:rgb(198, 12, 48)}/*!@.duet-button.secondary.duet-button-negative, .duet-button.input-button-secondary.duet-button-negative, .duet-button.input-button-embedded.duet-button-negative*/.duet-button.secondary.duet-button-negative.sc-duet-button,.duet-button.input-button-secondary.duet-button-negative.sc-duet-button,.duet-button.input-button-embedded.duet-button-negative.sc-duet-button{color:rgb(225, 227, 230) !important;border-color:rgb(255, 255, 255)}/*!@.duet-theme-turva .duet-button.secondary.duet-button-negative, .duet-theme-turva .duet-button.input-button-secondary.duet-button-negative, .duet-theme-turva .duet-button.input-button-embedded.duet-button-negative*/.duet-theme-turva.sc-duet-button .duet-button.secondary.duet-button-negative.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.input-button-secondary.duet-button-negative.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.input-button-embedded.duet-button-negative.sc-duet-button{color:rgb(228, 228, 230) !important}/*!@.duet-button.secondary.duet-button-negative:hover, .duet-button.input-button-secondary.duet-button-negative:hover, .duet-button.input-button-embedded.duet-button-negative:hover*/.duet-button.secondary.duet-button-negative.sc-duet-button:hover,.duet-button.input-button-secondary.duet-button-negative.sc-duet-button:hover,.duet-button.input-button-embedded.duet-button-negative.sc-duet-button:hover{color:rgb(0, 119, 179) !important;border-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-button.secondary.duet-button-negative:hover, .duet-theme-turva .duet-button.input-button-secondary.duet-button-negative:hover, .duet-theme-turva .duet-button.input-button-embedded.duet-button-negative:hover*/.duet-theme-turva.sc-duet-button .duet-button.secondary.duet-button-negative.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.input-button-secondary.duet-button-negative.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.input-button-embedded.duet-button-negative.sc-duet-button:hover{color:rgb(198, 12, 48) !important;border-color:rgb(198, 12, 48)}/*!@.duet-button.input-button-embedded*/.duet-button.input-button-embedded.sc-duet-button{width:40px;min-width:40px !important;min-height:40px !important;margin:4px !important;border-width:0 !important;border-radius:4px !important}/*!@.duet-button.input-button*/.duet-button.input-button.sc-duet-button{height:auto}/*!@.duet-button.negative*/.duet-button.negative.sc-duet-button{color:rgb(0, 41, 77) !important;background:rgb(255, 255, 255);border-color:rgb(255, 255, 255)}/*!@.duet-theme-turva .duet-button.negative*/.duet-theme-turva.sc-duet-button .duet-button.negative.sc-duet-button{color:rgb(23, 28, 58) !important}/*!@.duet-button.negative:hover*/.duet-button.negative.sc-duet-button:hover{color:rgb(255, 255, 255) !important;background:transparent;border-color:rgb(255, 255, 255)}/*!@.duet-button.negative:focus*/.duet-button.negative.sc-duet-button:focus{outline:0;box-shadow:0 0 0 1px #00294d, 0 0 0 4px rgba(255, 255, 255, 0.7)}/*!@.duet-theme-turva .duet-button.negative:focus*/.duet-theme-turva.sc-duet-button .duet-button.negative.sc-duet-button:focus{box-shadow:0 0 0 1px #0077b3, 0 0 0 4px rgba(255, 255, 255, 0.7)}/*!@.duet-button.destructive-primary*/.duet-button.destructive-primary.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(222, 35, 98);border-color:rgb(222, 35, 98)}/*!@.duet-theme-turva .duet-button.destructive-primary*/.duet-theme-turva.sc-duet-button .duet-button.destructive-primary.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(224, 42, 13);border-color:rgb(224, 42, 13)}/*!@.duet-button.destructive-primary:hover*/.duet-button.destructive-primary.sc-duet-button:hover{background:#b21c4e;border-color:#b21c4e;box-shadow:0 4px 20px 0 rgba(34, 34, 34, 0.1)}/*!@.duet-theme-turva .duet-button.destructive-primary:hover*/.duet-theme-turva.sc-duet-button .duet-button.destructive-primary.sc-duet-button:hover{background:#b3220a}/*!@.duet-button.destructive, .duet-button.destructive-secondary*/.duet-button.destructive.sc-duet-button,.duet-button.destructive-secondary.sc-duet-button{color:rgb(222, 35, 98) !important;background:rgb(255, 255, 255);border-color:rgb(222, 35, 98)}/*!@.duet-theme-turva .duet-button.destructive, .duet-theme-turva .duet-button.destructive-secondary*/.duet-theme-turva.sc-duet-button .duet-button.destructive.sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.destructive-secondary.sc-duet-button{color:rgb(224, 42, 13) !important;background:rgb(255, 255, 255);border-color:rgb(224, 42, 13)}/*!@.duet-button.destructive:hover, .duet-button.destructive-secondary:hover*/.duet-button.destructive.sc-duet-button:hover,.duet-button.destructive-secondary.sc-duet-button:hover{color:rgb(255, 255, 255) !important;background:#b21c4e;border-color:#b21c4e}/*!@.duet-theme-turva .duet-button.destructive:hover, .duet-theme-turva .duet-button.destructive-secondary:hover*/.duet-theme-turva.sc-duet-button .duet-button.destructive.sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.destructive-secondary.sc-duet-button:hover{color:rgb(255, 255, 255) !important;background:#b3220a;border-color:#b3220a}/*!@.duet-button.plain*/.duet-button.plain.sc-duet-button{min-width:48px;padding-right:0 !important;padding-left:0 !important;line-height:1.5;text-align:left;background:transparent;border:0;border-color:transparent;border-radius:4px}/*!@.duet-theme-turva .duet-button.plain*/.duet-theme-turva.sc-duet-button .duet-button.plain.sc-duet-button{color:rgb(198, 12, 48) !important;background:transparent;border-color:transparent}/*!@.duet-button.plain.duet-p-0 .duet-button-contents*/.duet-button.plain.duet-p-0.sc-duet-button .duet-button-contents.sc-duet-button{height:auto}/*!@.duet-button.plain[disabled]*/.duet-button.plain[disabled].sc-duet-button{color:rgb(101, 119, 135) !important;cursor:not-allowed;background:transparent !important;border-color:transparent !important}/*!@.duet-theme-turva .duet-button.plain[disabled]*/.duet-theme-turva.sc-duet-button .duet-button.plain[disabled].sc-duet-button{color:transparent !important;cursor:not-allowed;background:transparent !important;border-color:rgb(228, 228, 230) !important}/*!@.duet-button.plain:hover*/.duet-button.plain.sc-duet-button:hover{color:rgb(0, 77, 128) !important;background:transparent !important}/*!@.duet-theme-turva .duet-button.plain:hover*/.duet-theme-turva.sc-duet-button .duet-button.plain.sc-duet-button:hover{color:rgb(148, 9, 37) !important}/*!@.duet-button.plain.duet-button-negative*/.duet-button.plain.duet-button-negative.sc-duet-button{color:rgb(255, 255, 255) !important}/*!@.duet-theme-turva .duet-button.plain.duet-button-negative*/.duet-theme-turva.sc-duet-button .duet-button.plain.duet-button-negative.sc-duet-button{color:rgb(228, 228, 230) !important}/*!@.duet-button.plain.duet-button-negative:hover*/.duet-button.plain.duet-button-negative.sc-duet-button:hover{color:rgb(0, 119, 179) !important}/*!@.duet-theme-turva .duet-button.plain.duet-button-negative:hover*/.duet-theme-turva.sc-duet-button .duet-button.plain.duet-button-negative.sc-duet-button:hover{color:rgb(198, 12, 48) !important}/*!@.duet-button.duet-button-icon-only*/.duet-button.duet-button-icon-only.sc-duet-button{min-width:48px;min-height:48px;padding:0 !important}/*!@.duet-button.duet-button-icon-only .duet-button-contents*/.duet-button.duet-button-icon-only.sc-duet-button .duet-button-contents.sc-duet-button{position:static}/*!@.duet-button.duet-button-icon-only .duet-button-icon.left.large,\n.duet-button.duet-button-icon-only .duet-button-icon.left.medium,\n.duet-button.duet-button-icon-only .duet-button-icon.left.small*/.duet-button.duet-button-icon-only.sc-duet-button .duet-button-icon.left.large.sc-duet-button,.duet-button.duet-button-icon-only.sc-duet-button .duet-button-icon.left.medium.sc-duet-button,.duet-button.duet-button-icon-only.sc-duet-button .duet-button-icon.left.small.sc-duet-button{position:absolute;top:50% !important;left:50% !important;padding:0;margin:0;transform:translateX(-50%) translateY(-50%)}/*!@.duet-button.duet-button.input-button-primary, .duet-button.duet-button.input-button-secondary, .duet-button.duet-button.input-button-embedded*/.duet-button.duet-button.input-button-primary.sc-duet-button,.duet-button.duet-button.input-button-secondary.sc-duet-button,.duet-button.duet-button.input-button-embedded.sc-duet-button{box-sizing:content-box;min-width:48px;min-height:48px;padding:0 !important;border-width:1px;border-top-left-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px;border-bottom-left-radius:0}/*!@.duet-button.duet-button.input-button-primary .duet-button-contents, .duet-button.duet-button.input-button-secondary .duet-button-contents, .duet-button.duet-button.input-button-embedded .duet-button-contents*/.duet-button.duet-button.input-button-primary.sc-duet-button .duet-button-contents.sc-duet-button,.duet-button.duet-button.input-button-secondary.sc-duet-button .duet-button-contents.sc-duet-button,.duet-button.duet-button.input-button-embedded.sc-duet-button .duet-button-contents.sc-duet-button{position:static}/*!@.duet-button.duet-button.input-button-primary .duet-button-icon.left.large,\n.duet-button.duet-button.input-button-primary .duet-button-icon.left.medium,\n.duet-button.duet-button.input-button-primary .duet-button-icon.left.small, .duet-button.duet-button.input-button-secondary .duet-button-icon.left.large,\n.duet-button.duet-button.input-button-secondary .duet-button-icon.left.medium,\n.duet-button.duet-button.input-button-secondary .duet-button-icon.left.small, .duet-button.duet-button.input-button-embedded .duet-button-icon.left.large,\n.duet-button.duet-button.input-button-embedded .duet-button-icon.left.medium,\n.duet-button.duet-button.input-button-embedded .duet-button-icon.left.small*/.duet-button.duet-button.input-button-primary.sc-duet-button .duet-button-icon.left.large.sc-duet-button,.duet-button.duet-button.input-button-primary.sc-duet-button .duet-button-icon.left.medium.sc-duet-button,.duet-button.duet-button.input-button-primary.sc-duet-button .duet-button-icon.left.small.sc-duet-button,.duet-button.duet-button.input-button-secondary.sc-duet-button .duet-button-icon.left.large.sc-duet-button,.duet-button.duet-button.input-button-secondary.sc-duet-button .duet-button-icon.left.medium.sc-duet-button,.duet-button.duet-button.input-button-secondary.sc-duet-button .duet-button-icon.left.small.sc-duet-button,.duet-button.duet-button.input-button-embedded.sc-duet-button .duet-button-icon.left.large.sc-duet-button,.duet-button.duet-button.input-button-embedded.sc-duet-button .duet-button-icon.left.medium.sc-duet-button,.duet-button.duet-button.input-button-embedded.sc-duet-button .duet-button-icon.left.small.sc-duet-button{position:absolute;top:50% !important;left:50% !important;padding:0;margin:0;transform:translateX(-50%) translateY(-50%)}/*!@.duet-button.duet-button.input-button-embedded*/.duet-button.duet-button.input-button-embedded.sc-duet-button{border-left-width:0}/*!@.duet-button.square*/.duet-button.square.sc-duet-button{width:52px;min-width:auto !important;padding:0 !important;font-size:1rem;border-color:rgb(207, 210, 212);border-width:1px}/*!@.duet-button.square.duet-button-size-small*/.duet-button.square.duet-button-size-small.sc-duet-button{width:42px;font-size:0.875rem}/*!@.duet-button.square.duet-button-size-x-small*/.duet-button.square.duet-button-size-x-small.sc-duet-button{width:34px;font-size:0.875rem}/*!@.duet-button.square.duet-button-negative*/.duet-button.square.duet-button-negative.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179);border-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-button.square.duet-button-negative*/.duet-theme-turva.sc-duet-button .duet-button.square.duet-button-negative.sc-duet-button{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48);border-color:rgb(198, 12, 48)}/*!@.duet-theme-turva .duet-button.square*/.duet-theme-turva.sc-duet-button .duet-button.square.sc-duet-button{border-color:rgb(228, 228, 230)}/*!@.duet-button.square:hover*/.duet-button.square.sc-duet-button:hover{border-color:rgb(0, 119, 179);outline:2px solid rgb(0, 119, 179);outline-offset:-2px}/*!@.duet-theme-turva .duet-button.square:hover*/.duet-theme-turva.sc-duet-button .duet-button.square.sc-duet-button:hover{border-color:rgb(198, 12, 48);outline-color:rgb(198, 12, 48)}/*!@.duet-button.square .duet-button-contents*/.duet-button.square.sc-duet-button .duet-button-contents.sc-duet-button{gap:0}/*!@.duet-button[disabled], .duet-button[disabled]:hover, .duet-button.duet-button-negative[disabled], .duet-button.duet-button-negative[disabled]:hover*/.duet-button[disabled].sc-duet-button,.duet-button[disabled].sc-duet-button:hover,.duet-button.duet-button-negative[disabled].sc-duet-button,.duet-button.duet-button-negative[disabled].sc-duet-button:hover{color:rgb(101, 119, 135) !important;cursor:not-allowed;background:rgb(225, 227, 230) !important;border-color:rgb(225, 227, 230) !important;box-shadow:none !important}/*!@.duet-theme-turva .duet-button[disabled], .duet-theme-turva .duet-button[disabled]:hover, .duet-theme-turva .duet-button.duet-button-negative [disabled], .duet-theme-turva .duet-button.duet-button-negative [disabled]:hover*/.duet-theme-turva.sc-duet-button .duet-button[disabled].sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button[disabled].sc-duet-button:hover,.duet-theme-turva.sc-duet-button .duet-button.duet-button-negative.sc-duet-button [disabled].sc-duet-button,.duet-theme-turva.sc-duet-button .duet-button.duet-button-negative.sc-duet-button [disabled].sc-duet-button:hover{color:rgb(116, 116, 117) !important;cursor:not-allowed;background:rgb(228, 228, 230) !important;border-color:rgb(228, 228, 230) !important}/*!@.duet-button-is-loading.primary, .duet-button-is-loading.input-button-primary*/.duet-button-is-loading.primary.sc-duet-button,.duet-button-is-loading.input-button-primary.sc-duet-button{color:rgb(255, 255, 255)}/*!@.duet-button-is-loading.default*/.duet-button-is-loading.default.sc-duet-button{color:rgb(0, 119, 179)}/*!@.duet-button-is-loading.default.duet-theme-turva*/.duet-button-is-loading.default.duet-theme-turva.sc-duet-button{color:rgb(198, 12, 48)}/*!@.duet-button-is-loading .duet-button-contents*/.duet-button-is-loading.sc-duet-button .duet-button-contents.sc-duet-button{visibility:hidden;opacity:0}";

class DuetButton {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Component event handling.
         */
        this.handleClick = (ev) => {
            // If this button wants to specifically submit a form
            // climb up the dom to see if we're in a <form>
            // and if so, then use JS to submit it.
            // To understand better, see: https://www.hjorthhansen.dev/shadow-dom-form-participation/
            if (!this.url && this.element.closest("form")) {
                ev.preventDefault();
                this.proxyButton.click();
            }
        };
        this.onFocus = () => {
            this.duetFocus.emit();
        };
        this.onBlur = () => {
            this.duetBlur.emit();
        };
        this.accessibleLabel = undefined;
        this.accessibleControls = undefined;
        this.accessiblePopup = "false";
        this.accessibleActiveDescendant = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleExpanded = undefined;
        this.accessiblePressed = undefined;
        this.loading = false;
        this.variation = "default";
        this.negative = false;
        this.theme = "";
        this.margin = "auto";
        this.padding = "auto";
        this.centerText = false;
        this.wrapping = "auto";
        this.expand = false;
        this.fixed = false;
        this.disabled = false;
        this.name = undefined;
        this.value = undefined;
        this.identifier = undefined;
        this.submit = false;
        this.external = false;
        this.language = getLanguage();
        this.accessibleLabelExternalDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelExternal = getLocaleString(this.accessibleLabelExternalDefaults);
        this.accessibleLabelLoadingDefaults = DuetStringsLoadingDefaults;
        this.accessibleLabelLoading = getLocaleString(this.accessibleLabelLoadingDefaults);
        this.icon = "";
        this.color = "";
        this.iconRight = false;
        this.iconSize = "medium";
        this.size = "medium";
        this.iconOnly = false;
        this.url = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        if (this.url && this.external && this.icon) {
            console.warn("[DUET]: Button used as an external link will override any icon that is set");
        }
    }
    connectedCallback() {
        this.proxyButton = document.createElement("button");
        this.proxyButton.style.display = "none";
        this.syncToProxyButton();
        connectLanguageChangeObserver(this, [
            {
                prop: "accessibleLabelExternal",
                defaults: "accessibleLabelExternalDefaults",
            },
            {
                prop: "accessibleLabelLoading",
                defaults: "accessibleLabelLoadingDefaults",
            },
        ]);
        if (!this.url && this.element.closest("form")) {
            this.element.insertAdjacentElement("beforebegin", this.proxyButton);
        }
    }
    disconnectedCallback() {
        this.proxyButton.remove();
        this.proxyButton = null;
        disconnectLanguageChangeObserver(this);
    }
    syncToProxyButton() {
        this.proxyButton.type = this.getButtonType();
        this.proxyButton.disabled = this.disabled;
        // attributes should be removed in cases where name/value is not set
        if (this.name != null) {
            this.proxyButton.name = this.name;
        }
        else {
            this.proxyButton.removeAttribute("name");
        }
        if (this.value != null) {
            this.proxyButton.value = this.value;
        }
        else {
            this.proxyButton.removeAttribute("value");
        }
    }
    getButtonType() {
        return this.submit ? "submit" : "button";
    }
    getButtonIconSize() {
        switch (this.iconSize) {
            case "small":
                return "small";
            case "medium-small":
                return "medium-small";
            case "medium":
                return "medium";
            case "large":
                return "large";
            default:
                return "medium";
        }
    }
    /**
     * Sets focus on the specified `duet-button`. Use this method instead of the global
     * `button.focus()`.
     */
    async setFocus(options) {
        if (this.nativeButton) {
            this.nativeButton.focus(options);
        }
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        var _a, _b;
        const isExternalLink = this.external && this.url;
        // enforce consistency for external links
        const icon = isExternalLink ? "action-new-window" : this.icon;
        const iconRight = isExternalLink ? true : this.iconRight;
        const commonChildren = (hAsync("span", { class: { "duet-button-contents": true, "icon-right": iconRight }, style: { color: getColorByName(this.color) } }, icon && (hAsync("div", { "aria-hidden": "true", class: {
                "duet-button-icon": true,
                left: !iconRight,
                right: iconRight,
                [this.getButtonIconSize()]: true,
            } }, hAsync("duet-icon", { size: "auto", margin: "none", name: icon, color: "currentColor" }))), hAsync("span", { class: "duet-button-contents-slot" }, hAsync("slot", null))));
        const commonProps = {
            onFocus: this.onFocus,
            onBlur: this.onBlur,
            ref: button => (this.nativeButton = button),
            id: this.identifier,
            class: {
                "duet-m-0": this.margin === "none",
                "duet-p-0": this.padding === "none",
                "duet-no-wrap": this.wrapping === "none",
                "duet-button": true,
                "duet-button-is-small": this.size === "small",
                [`duet-button-size-${this.size}`]: true,
                "duet-button-icon-only": this.iconOnly,
                "duet-button-text-center": this.centerText,
                "duet-button-negative": this.negative || this.variation === "negative",
                [this.variation]: true,
                "input-button": (_a = this.variation) === null || _a === void 0 ? void 0 : _a.startsWith("input-button"),
                disabled: this.disabled,
                icon: !!icon,
                "icon-right": iconRight,
                "icon-left": !!icon && !iconRight,
                [this.getButtonIconSize()]: true,
            },
            "aria-controls": this.accessibleControls,
            "aria-label": this.accessibleLabel,
            "aria-expanded": this.accessibleExpanded != null ? this.accessibleExpanded.toString() : undefined,
            "aria-activedescendant": this.accessibleActiveDescendant,
            "aria-owns": this.accessibleOwns,
            "aria-describedby": this.accessibleDescribedBy,
            "aria-labelledby": this.accessibleLabelledBy,
            "aria-details": this.accessibleDetails,
            "aria-description": this.accessibleDescription,
        };
        return (hAsync(Host, { onClick: this.handleClick, class: {
                "duet-m-0": this.margin === "none",
                "duet-small": this.size === "small",
                "duet-x-small": this.size === "x-small",
                "duet-fixed": this.fixed,
                "duet-expand": this.expand,
                [this.variation]: true,
                "input-button": (_b = this.variation) === null || _b === void 0 ? void 0 : _b.startsWith("input-button"),
            } }, hAsync("div", { class: {
                "duet-button-container": true,
                "duet-button-is-loading": this.loading,
                "duet-theme-turva": this.theme === "turva",
                "duet-button-negative": this.negative || this.variation === "negative",
                [this.variation]: true,
            } }, this.url ? (hAsync("a", Object.assign({}, commonProps, { href: this.url, target: this.external ? "_blank" : "_self", rel: this.external ? "noopener" : undefined }), commonChildren, this.external && hAsync("duet-visually-hidden", null, ", ", this.accessibleLabelExternal))) : (hAsync("button", Object.assign({}, commonProps, { type: this.getButtonType(), disabled: this.disabled, name: this.name, value: this.value, "aria-pressed": this.accessiblePressed != null ? this.accessiblePressed.toString() : undefined, "aria-haspopup": this.accessiblePopup != null ? this.accessiblePopup.toString() : undefined, "aria-disabled": this.disabled }), commonChildren, this.loading && hAsync("duet-visually-hidden", null, " ", this.accessibleLabelLoading, " "))), this.loading && hAsync("duet-spinner", { color: "currentColor" }))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "disabled": ["syncToProxyButton"],
        "submit": ["syncToProxyButton"],
        "value": ["syncToProxyButton"],
        "name": ["syncToProxyButton"]
    }; }
    static get style() { return duetButtonCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-button",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "accessibleControls": [1, "accessible-controls"],
            "accessiblePopup": [1, "accessible-popup"],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleExpanded": [4, "accessible-expanded"],
            "accessiblePressed": [4, "accessible-pressed"],
            "loading": [4],
            "variation": [1],
            "negative": [4],
            "theme": [1025],
            "margin": [1],
            "padding": [1],
            "centerText": [4, "center-text"],
            "wrapping": [1],
            "expand": [4],
            "fixed": [4],
            "disabled": [516],
            "name": [1],
            "value": [1],
            "identifier": [1],
            "submit": [516],
            "external": [4],
            "language": [1537],
            "accessibleLabelExternalDefaults": [1, "accessible-label-external-default"],
            "accessibleLabelExternal": [1025, "accessible-label-external"],
            "accessibleLabelLoadingDefaults": [1, "accessible-label-loading-default"],
            "accessibleLabelLoading": [1025, "accessible-label-loading"],
            "icon": [1],
            "color": [1],
            "iconRight": [4, "icon-right"],
            "iconSize": [1, "icon-size"],
            "size": [1],
            "iconOnly": [4, "icon-only"],
            "url": [513],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"], ["submit", "submit"], ["language", "language"], ["url", "url"]]
    }; }
}

const duetCalloutCss = "/*!@:host*/.sc-duet-callout-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;display:block;width:100%}/*!@blockquote,\nfigure*/blockquote.sc-duet-callout,figure.sc-duet-callout{margin:0}/*!@.duet-callout*/.duet-callout.sc-duet-callout{margin-bottom:28px !important;display:flex;align-items:center;justify-content:center;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-callout .container*/.duet-callout.sc-duet-callout .container.sc-duet-callout{display:flex;flex-direction:column;gap:8px;align-items:center;max-width:688px;text-align:center}/*!@.duet-callout .callout-icon*/.duet-callout.sc-duet-callout .callout-icon.sc-duet-callout{width:50px;padding-bottom:8px}/*!@.duet-callout .author*/.duet-callout.sc-duet-callout .author.sc-duet-callout{color:rgb(0, 41, 77)}/*!@.duet-callout.duet-theme-turva*/.duet-callout.duet-theme-turva.sc-duet-callout{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-callout.duet-theme-turva .author*/.duet-callout.duet-theme-turva.sc-duet-callout .author.sc-duet-callout{color:rgb(23, 28, 58)}/*!@.duet-callout.duet-m-0*/.duet-callout.duet-m-0.sc-duet-callout{margin:0 !important}";

/**
 * @slot default - Slot for text.
 * @slot author - Slot for author information.
 */
class DuetCallout {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.hasAuthorSlot = false;
        this.theme = "";
        this.margin = "auto";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasAuthorSlot = !!this.element.querySelector('[slot="author"]');
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const icon = `<svg viewBox="0 0 22 17" fill="none" xmlns="http://www.w3.org/2000/svg">
    <path d="M6.6591 0.557547L9.2031 2.33355C7.0911 5.21355 6.1311 7.18155 5.8431 8.90955C7.4751 9.34155 8.7231 10.5415 8.7231 12.6535C8.7231 15.2935 6.9471 16.9255 4.6431 16.9255C2.0511 16.9255 0.227096 15.1975 0.227096 12.2695C0.227096 8.28555 2.3871 4.34955 6.6591 0.557547ZM17.9871 8.95755C19.6191 9.34155 20.8671 10.5415 20.8671 12.6535C20.8671 15.2935 19.1391 16.9255 16.8351 16.9255C14.2431 16.9255 12.4191 15.1975 12.4191 12.2695C12.4191 8.28555 14.5791 4.34955 18.8511 0.557547L21.3951 2.33355C19.2351 5.21355 18.3231 7.18155 17.9871 8.95755Z"/>
    </svg>
    `;
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-callout": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-m-0": this.margin === "none",
            } }, hAsync("figure", { class: "container" }, hAsync("duet-icon", { class: "callout-icon", shape: "brand-rotated", background: "primary-lighter", "background-opacity": "0.75", "background-rotation": this.theme === "turva" ? "0" : "7", color: "secondary", icon: icon, size: "auto", margin: "none", theme: this.theme }), hAsync("blockquote", null, hAsync("duet-paragraph", { variation: "intro", weight: "semi-bold", margin: "none", theme: this.theme }, hAsync("slot", null))), this.hasAuthorSlot && (hAsync("figcaption", { class: "author" }, hAsync("span", null, "\u2014 "), hAsync("span", null, hAsync("slot", { name: "author" }))))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetCalloutCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-callout",
        "$members$": {
            "theme": [1025],
            "margin": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetCaptionCss = "/*!@:host*/.sc-duet-caption-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:16px !important;display:flex;flex:0 0 100%;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(101, 119, 135);vertical-align:top}/*!@:host.duet-p-0*/.duet-p-0.sc-duet-caption-h{padding:0 !important}/*!@:host.duet-m-0*/.duet-m-0.sc-duet-caption-h{margin:0 !important}/*!@:host(.duet-caption-small)*/.duet-caption-small.sc-duet-caption-h{font-size:0.875rem;line-height:1.25}/*!@:host(.duet-theme-turva)*/.duet-theme-turva.sc-duet-caption-h{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(116, 116, 117)}/*!@:host(.duet-caption-selected)*/.duet-caption-selected.sc-duet-caption-h{color:rgb(0, 119, 179)}/*!@:host(.duet-caption-selected.duet-theme-turva)*/.duet-caption-selected.duet-theme-turva.sc-duet-caption-h{color:rgb(23, 28, 58)}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-caption-h{margin:0 !important}";

class DuetCaption {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.selected = false;
        this.size = "medium";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-caption": true,
                "duet-caption-selected": this.selected,
                "duet-caption-small": this.size === "small",
                "duet-theme-turva": this.theme === "turva",
                "duet-m-0": this.margin === "none",
            } }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get style() { return duetCaptionCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-caption",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "selected": [4],
            "size": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

var actionArrowUp={"title":"action-arrow-up","tags":"action arrow up caret","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M.75 17.939a.752.752 0 0 1-.53-1.281L10.94 5.94c.283-.284.659-.44 1.059-.44.401 0 .777.156 1.06.438l10.721 10.72a.752.752 0 0 1-.53 1.281.743.743 0 0 1-.53-.22L12 7 1.28 17.719a.743.743 0 0 1-.53.22z\"/></svg>"};

const duetCardCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-card,*.sc-duet-card::after,*.sc-duet-card::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-card-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:20px !important;display:flex;width:100%;vertical-align:top}/*!@:host(.duet-card-info)*/.duet-card-info.sc-duet-card-h{margin-bottom:16px !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-card-h{margin:0 !important}/*!@.duet-card*/.duet-card.sc-duet-card{padding:20px !important;position:relative;display:flex;flex-direction:column;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-style:normal;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-decoration:none;border-radius:4px;box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)}/*!@.duet-card.duet-p-0*/.duet-card.duet-p-0.sc-duet-card{padding:0 !important}/*!@.duet-card.duet-m-0*/.duet-card.duet-m-0.sc-duet-card{margin:0 !important}/*!@.duet-card:focus*/.duet-card.sc-duet-card:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-card:focus, .duet-card:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-card .duet-card.sc-duet-card:focus,.duet-card.sc-duet-card:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}@media (max-width: 20.5em){/*!@.duet-card.shadow-xxx-small*/.duet-card.shadow-xxx-small.sc-duet-card{box-shadow:none}}@media (max-width: 22.5em){/*!@.duet-card.shadow-xx-small*/.duet-card.shadow-xx-small.sc-duet-card{box-shadow:none}}@media (max-width: 35.9375em){/*!@.duet-card.shadow-x-small*/.duet-card.shadow-x-small.sc-duet-card{box-shadow:none}}@media (min-width: 36em){/*!@.duet-card.shadow-small*/.duet-card.shadow-small.sc-duet-card{box-shadow:none}}@media (min-width: 48em){/*!@.duet-card.shadow-medium*/.duet-card.shadow-medium.sc-duet-card{box-shadow:none}}@media (min-width: 62em){/*!@.duet-card.shadow-large*/.duet-card.shadow-large.sc-duet-card{box-shadow:none}}@media (min-width: 64.0625em){/*!@.duet-card.shadow-x-large*/.duet-card.shadow-x-large.sc-duet-card{box-shadow:none}}@media (min-width: 76.25em){/*!@.duet-card.shadow-xx-large*/.duet-card.shadow-xx-large.sc-duet-card{box-shadow:none}}@media (min-width: 106.25em){/*!@.duet-card.shadow-xxx-large*/.duet-card.shadow-xxx-large.sc-duet-card{box-shadow:none}}@media (min-width: 36em){/*!@.duet-card*/.duet-card.sc-duet-card{padding:28px !important}}/*!@.duet-card.duet-theme-turva*/.duet-card.duet-theme-turva.sc-duet-card{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);box-shadow:0 2px 6px 0 rgba(117, 117, 117, 0.13), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)}@media (min-width: 36em){/*!@.duet-card.xx-small*/.duet-card.xx-small.sc-duet-card{padding:12px !important}}@media (min-width: 36em){/*!@.duet-card.x-small*/.duet-card.x-small.sc-duet-card{padding:20px !important}}@media (min-width: 36em){/*!@.duet-card.medium*/.duet-card.medium.sc-duet-card{padding:28px !important}}@media (min-width: 48em){/*!@.duet-card.medium*/.duet-card.medium.sc-duet-card{padding:36px !important}}@media (min-width: 36em){/*!@.duet-card.large*/.duet-card.large.sc-duet-card{padding:36px !important}}@media (min-width: 48em){/*!@.duet-card.large*/.duet-card.large.sc-duet-card{padding:48px !important}}@media (min-width: 36em){/*!@.duet-card.x-large*/.duet-card.x-large.sc-duet-card{padding:48px !important}}@media (min-width: 48em){/*!@.duet-card.x-large*/.duet-card.x-large.sc-duet-card{padding:72px !important}}/*!@.duet-card.duet-card-collapsed*/.duet-card.duet-card-collapsed.sc-duet-card{padding-bottom:0 !important}@media (min-width: 36em){/*!@.duet-card.duet-card-collapsed*/.duet-card.duet-card-collapsed.sc-duet-card{padding-bottom:0 !important}}/*!@.duet-card.info*/.duet-card.info.sc-duet-card{background:rgba(0, 80, 128, 0.04) !important;box-shadow:none}/*!@.duet-card.info.duet-theme-turva*/.duet-card.info.duet-theme-turva.sc-duet-card{background:rgba(23, 28, 58, 0.035) !important}/*!@.duet-card.plain*/.duet-card.plain.sc-duet-card{box-shadow:none}/*!@.duet-card.plain:not(.duet-card-has-bg)*/.duet-card.plain.sc-duet-card:not(.duet-card-has-bg){background:transparent !important}/*!@.duet-card-heading-grid*/.duet-card-heading-grid.sc-duet-card{display:flex;flex-direction:row}/*!@.duet-card-icon*/.duet-card-icon.sc-duet-card{align-self:center}/*!@.duet-card-heading-text*/.duet-card-heading-text.sc-duet-card{flex:1;word-break:break-word}/*!@.duet-card-secondary-heading*/.duet-card-secondary-heading.sc-duet-card{font-size:1rem;font-weight:600;word-break:break-word}/*!@.duet-card-secondary-heading--inline*/.duet-card-secondary-heading--inline.sc-duet-card{display:block;flex:1;align-self:flex-start;line-height:1.875;text-align:right}@media (max-width: 22.5em){/*!@.duet-card-secondary-heading--inline*/.duet-card-secondary-heading--inline.sc-duet-card{display:none}}/*!@.duet-card-secondary-heading--new-line*/.duet-card-secondary-heading--new-line.sc-duet-card{display:none}@media (max-width: 22.5em){/*!@.duet-card-secondary-heading--new-line*/.duet-card-secondary-heading--new-line.sc-duet-card{display:block}}/*!@.duet-card-heading*/.duet-card-heading.sc-duet-card{position:relative;display:block;padding:16px 20px;margin:-20px -20px 20px;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1.25rem;font-weight:800;color:rgb(0, 41, 77);border-bottom:1px solid rgb(225, 227, 230);border-radius:4px 4px 0 0}@media (min-width: 36em){/*!@.duet-card-heading*/.duet-card-heading.sc-duet-card{padding:15px 28px 16px !important;margin:-28px -28px 20px}/*!@.none .duet-card-heading*/.none.sc-duet-card .duet-card-heading.sc-duet-card{padding:0 !important;margin:0}}/*!@.duet-card-image-mask + .duet-card-heading*/.duet-card-image-mask.sc-duet-card+.duet-card-heading.sc-duet-card{border-radius:0}/*!@.duet-card-heading.duet-card-heading--collapsible*/.duet-card-heading.duet-card-heading--collapsible.sc-duet-card{cursor:pointer}/*!@.duet-card-heading.duet-card-heading--collapsible button*/.duet-card-heading.duet-card-heading--collapsible.sc-duet-card button.sc-duet-card{width:100%;font-family:inherit;font-size:inherit;font-weight:inherit;color:inherit;text-align:left;cursor:pointer}/*!@.duet-card-heading.duet-card-heading--collapsible button:focus*/.duet-card-heading.duet-card-heading--collapsible.sc-duet-card button.sc-duet-card:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-card-heading.duet-card-heading--collapsible button:focus*/.user-is-tabbing.sc-duet-card-h .duet-card-heading.duet-card-heading--collapsible.sc-duet-card button.sc-duet-card:focus{border-radius:4px;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-card-heading.duet-card-heading--collapsible button:focus*/.user-is-tabbing.sc-duet-card-h .duet-theme-turva.sc-duet-card .duet-card-heading.duet-card-heading--collapsible.sc-duet-card button.sc-duet-card:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-card-collapsed .duet-card-heading*/.duet-card-collapsed.sc-duet-card .duet-card-heading.sc-duet-card{margin-bottom:0 !important;border-bottom:0 !important}/*!@.duet-theme-turva .duet-card-heading*/.duet-theme-turva.sc-duet-card .duet-card-heading.sc-duet-card{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(228, 228, 230)}@media (min-width: 36em){/*!@.xx-small .duet-card-heading*/.xx-small.sc-duet-card .duet-card-heading.sc-duet-card{padding:6px 12px 7px !important;margin:-12px -12px 12px}}@media (min-width: 48em){/*!@.xx-small .duet-card-heading*/.xx-small.sc-duet-card .duet-card-heading.sc-duet-card{padding:6px 12px 7px !important;margin:-12px -12px 12px}}@media (min-width: 36em){/*!@.x-small .duet-card-heading*/.x-small.sc-duet-card .duet-card-heading.sc-duet-card{padding:10px 20px 11px !important;margin:-20px -20px 20px}}@media (min-width: 48em){/*!@.x-small .duet-card-heading*/.x-small.sc-duet-card .duet-card-heading.sc-duet-card{padding:10px 20px 11px !important;margin:-20px -20px 20px}}/*!@.medium .duet-card-heading*/.medium.sc-duet-card .duet-card-heading.sc-duet-card{margin:-20px -20px 20px}@media (min-width: 36em){/*!@.medium .duet-card-heading*/.medium.sc-duet-card .duet-card-heading.sc-duet-card{padding:15px 28px 16px !important;margin:-28px -28px 20px}}@media (min-width: 48em){/*!@.medium .duet-card-heading*/.medium.sc-duet-card .duet-card-heading.sc-duet-card{padding:19px 36px 20px !important;margin:-36px -36px 28px}}/*!@.large .duet-card-heading*/.large.sc-duet-card .duet-card-heading.sc-duet-card{margin:-20px -20px 20px}@media (min-width: 36em){/*!@.large .duet-card-heading*/.large.sc-duet-card .duet-card-heading.sc-duet-card{padding:19px 36px 20px !important;margin:-36px -36px 28px}}@media (min-width: 48em){/*!@.large .duet-card-heading*/.large.sc-duet-card .duet-card-heading.sc-duet-card{padding:26px 48px 27px !important;margin:-48px -48px 36px}}/*!@.x-large .duet-card-heading*/.x-large.sc-duet-card .duet-card-heading.sc-duet-card{margin:-20px -20px 20px}@media (min-width: 36em){/*!@.x-large .duet-card-heading*/.x-large.sc-duet-card .duet-card-heading.sc-duet-card{padding:26px 48px 27px !important;margin:-48px -48px 36px}}@media (min-width: 48em){/*!@.x-large .duet-card-heading*/.x-large.sc-duet-card .duet-card-heading.sc-duet-card{padding:39px 72px 40px !important;margin:-72px -72px 48px}}/*!@.none .duet-card-heading*/.none.sc-duet-card .duet-card-heading.sc-duet-card{padding:0;margin:0}/*!@.duet-card-footer*/.duet-card-footer.sc-duet-card{padding:20px;margin:20px -20px -20px;font-size:0.875rem;line-height:1.25;background:rgb(245, 248, 250);border-bottom-right-radius:4px;border-bottom-left-radius:4px}/*!@.duet-theme-turva .duet-card-footer*/.duet-theme-turva.sc-duet-card .duet-card-footer.sc-duet-card{background:rgb(245, 245, 247)}@media (min-width: 36em){/*!@.duet-card-footer*/.duet-card-footer.sc-duet-card{padding:15px 28px 16px !important;margin:20px -28px -28px}}@media (min-width: 48em){/*!@.duet-card-footer*/.duet-card-footer.sc-duet-card{padding:15px 28px 16px !important;margin:20px -28px -28px}}@media (min-width: 36em){/*!@.xx-small .duet-card-footer*/.xx-small.sc-duet-card .duet-card-footer.sc-duet-card{padding:10px 20px 11px !important;padding-left:12px !important;margin:12px -12px -12px}}@media (min-width: 36em){/*!@.x-small .duet-card-footer*/.x-small.sc-duet-card .duet-card-footer.sc-duet-card{padding:15px 28px 16px !important;padding-left:20px !important;margin:20px -20px -20px}}@media (min-width: 36em){/*!@.medium .duet-card-footer*/.medium.sc-duet-card .duet-card-footer.sc-duet-card{padding:15px 28px 16px !important;margin:20px -28px -28px}}@media (min-width: 48em){/*!@.medium .duet-card-footer*/.medium.sc-duet-card .duet-card-footer.sc-duet-card{padding:19px 36px 20px !important;margin:28px -36px -36px}}@media (min-width: 36em){/*!@.large .duet-card-footer*/.large.sc-duet-card .duet-card-footer.sc-duet-card{padding:19px 36px 20px !important;margin:28px -36px -36px}}@media (min-width: 48em){/*!@.large .duet-card-footer*/.large.sc-duet-card .duet-card-footer.sc-duet-card{padding:26px 48px 27px !important;margin:36px -48px -48px}}@media (min-width: 36em){/*!@.x-large .duet-card-footer*/.x-large.sc-duet-card .duet-card-footer.sc-duet-card{padding:26px 48px 27px !important;margin:36px -48px -48px}}@media (min-width: 48em){/*!@.x-large .duet-card-footer*/.x-large.sc-duet-card .duet-card-footer.sc-duet-card{padding:39px 72px 40px !important;margin:48px -72px -72px}}/*!@.none .duet-card-footer*/.none.sc-duet-card .duet-card-footer.sc-duet-card{padding:0;margin:0}/*!@.duet-card-content*/.duet-card-content.sc-duet-card{flex:1 1 auto;width:100%}/*!@.duet-card-collapsed .duet-card-content*/.duet-card-collapsed.sc-duet-card .duet-card-content.sc-duet-card{display:none}/*!@.duet-card-caret*/.duet-card-caret.sc-duet-card{position:relative;top:6px;align-self:flex-start;transition:300ms ease}/*!@[aria-expanded=false] .duet-card-caret*/[aria-expanded=false].sc-duet-card .duet-card-caret.sc-duet-card{transform:rotate(-180deg)}/*!@.duet-card-image-mask*/.duet-card-image-mask.sc-duet-card{position:relative;width:calc(100% + 40px);margin:-20px 0 20px -20px;overflow:hidden;border-top-left-radius:4px;border-top-right-radius:4px}@media (min-width: 36em){/*!@.small .duet-card-image-mask*/.small.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 56px);margin:-28px 0 28px -28px}}@media (min-width: 36em){/*!@.medium .duet-card-image-mask*/.medium.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 56px);margin:-28px 0 28px -28px}}@media (min-width: 48em){/*!@.medium .duet-card-image-mask*/.medium.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 72px);margin:-36px 0 28px -36px}}@media (min-width: 36em){/*!@.large .duet-card-image-mask*/.large.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 72px);margin:-36px 0 36px -36px}}@media (min-width: 48em){/*!@.large .duet-card-image-mask*/.large.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 96px);margin:-48px 0 36px -48px}}@media (min-width: 36em){/*!@.x-large .duet-card-image-mask*/.x-large.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 96px);margin:-48px 0 36px -48px}}@media (min-width: 48em){/*!@.x-large .duet-card-image-mask*/.x-large.sc-duet-card .duet-card-image-mask.sc-duet-card{width:calc(100% + 144px);margin:-72px 0 36px -72px}}/*!@.none .duet-card-image-mask*/.none.sc-duet-card .duet-card-image-mask.sc-duet-card{width:100%;padding:0;margin:0}/*!@.duet-card-image*/.duet-card-image.sc-duet-card{display:block;width:102%;min-width:1px;max-width:102%;height:auto;min-height:1px;margin-left:-1%;transition:transform 300ms ease;transform:scale(1.0001)}/*!@a.duet-card*/a.duet-card.sc-duet-card{transition:box-shadow 300ms ease, background-position 300ms ease}/*!@a.duet-card:hover*/a.duet-card.sc-duet-card:hover{box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07), 0 2px 10px 0 rgba(0, 41, 77, 0.1)}/*!@a.duet-card:hover .duet-card-image*/a.duet-card.sc-duet-card:hover .duet-card-image.sc-duet-card{transform:scale(1.024)}/*!@.duet-theme-turva a.duet-card:hover*/.duet-theme-turva.sc-duet-card a.duet-card.sc-duet-card:hover{box-shadow:0 2px 6px 0 rgba(117, 117, 117, 0.13), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07), 0 2px 10px 0 rgba(117, 117, 117, 0.15)}/*!@a.duet-card:active*/a.duet-card.sc-duet-card:active{transition:none;transform:translateY(1px)}";

/**
 * @slot unnamed default slot - The component’s primary content. All child nodes that do not have a slot attribute defined are inserted into this primary slot.
 * @slot heading - This is a slot for heading content inside the card component.
 * @slot below-heading - Below heading content.
 * @slot footer - Footer content.
 */
class DuetCard {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetToggle = createEvent$2(this, "duetToggle", 7);
        this.cardId = createID("DuetCard");
        /**
         * Local methods.
         */
        this.togglePanel = (e) => {
            e.preventDefault();
            this.open = !this.open;
            this.duetToggle.emit({
                component: "duet-card",
                originalEvent: e,
            });
        };
        this.handleKeyDown = (e) => {
            if (isKeyboardClick(e)) {
                this.togglePanel(e);
            }
        };
        this.accessibleLabel = undefined;
        this.heading = "";
        this.secondaryHeading = "";
        this.variation = "default";
        this.collapsible = false;
        this.open = true;
        this.headingLevel = "h2";
        this.headingBackground = undefined;
        this.icon = undefined;
        this.image = undefined;
        this.background = "gray-lightest";
        this.padding = "small";
        this.margin = "auto";
        this.theme = "";
        this.url = undefined;
        this.shadowBreakpoint = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasHeadingSlot = Array.from(this.element.children).filter(el => el.matches("[slot='heading']")).length > 0
            ;
        this.hasFooter = !!this.element.querySelector("[slot='footer']");
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    renderHeading() {
        const safeHeadingLevel = sanitizeString$1(this.headingLevel);
        const HeadingTag = [...duetHeadingLevels, duetBlock].some(tag => tag === safeHeadingLevel) ? safeHeadingLevel : "h2";
        const headingStyles = {
            backgroundColor: getColorByName(this.headingBackground),
        };
        const headingContent = (hAsync(Fragment, null, hAsync("div", { class: "duet-card-heading-grid" }, this.icon && (hAsync(Fragment, null, hAsync("duet-icon", { class: "duet-card-icon", name: this.icon, size: "medium", margin: "none", color: "currentColor" }), hAsync("duet-spacer", { direction: "horizontal", size: "small" }))), hAsync("div", { class: "duet-card-heading-text" }, this.heading ? this.heading : hAsync("slot", { name: "heading" })), this.secondaryHeading && (hAsync(Fragment, null, hAsync("duet-spacer", { direction: "horizontal", size: "small" }), hAsync("div", { class: "duet-card-secondary-heading duet-card-secondary-heading--inline" }, this.secondaryHeading))), this.collapsible && (hAsync(Fragment, null, hAsync("duet-spacer", { direction: "horizontal", size: "small" }), hAsync("duet-icon", { class: "duet-card-caret", icon: actionArrowUp.svg, size: "small", margin: "none", color: "currentColor" })))), this.secondaryHeading && (hAsync("div", { class: "duet-card-secondary-heading duet-card-secondary-heading--new-line" }, this.secondaryHeading)), hAsync("slot", { name: "below-heading" })));
        if (this.collapsible) {
            return (hAsync(HeadingTag, { style: headingStyles, class: "duet-card-heading duet-card-heading--collapsible", onClick: this.togglePanel, onKeyDown: this.handleKeyDown }, hAsync("button", { "aria-controls": this.cardId, "aria-expanded": this.open ? "true" : "false" }, headingContent)));
        }
        else {
            return (hAsync(HeadingTag, { style: headingStyles, class: "duet-card-heading" }, headingContent));
        }
    }
    /**
     * Sets focus on the specified `duet-card`. Use this method instead of the global
     * `card.focus()`.
     */
    async setFocus(options) {
        if (this.nativeCard) {
            this.nativeCard.focus(options);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const TagName = this.url ? "a" : "div";
        const styles = {
            backgroundColor: getColorByName(this.background),
        };
        return (hAsync(Host, { class: {
                "duet-m-0": this.margin === "none",
                "duet-card-info": this.variation === "info",
            } }, hAsync(TagName, { href: this.url, style: styles, ref: card => (this.nativeCard = card), "aria-label": this.accessibleLabel, class: {
                "duet-card": true,
                [this.padding]: true,
                [this.variation]: true,
                [`shadow-${this.shadowBreakpoint}`]: !!this.shadowBreakpoint,
                "duet-p-0": this.padding === "none",
                "duet-theme-turva": this.theme === "turva",
                "duet-card-has-bg": this.background !== "gray-lightest",
                "duet-card-has-icon": !!this.icon,
                "duet-card-collapsed": this.collapsible && !this.open,
            } }, this.image && (hAsync("div", { class: "duet-card-image-mask" }, hAsync("img", { src: this.image, class: "duet-card-image", loading: "lazy", alt: "", "aria-hidden": "true" }))), (this.heading || this.hasHeadingSlot) && this.renderHeading(), hAsync("div", { class: "duet-card-content", id: this.cardId }, hAsync("slot", null), this.hasFooter && (hAsync("div", { class: "duet-card-footer" }, hAsync("slot", { name: "footer" })))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetCardCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-card",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "heading": [1],
            "secondaryHeading": [1, "secondary-heading"],
            "variation": [1],
            "collapsible": [4],
            "open": [1540],
            "headingLevel": [1, "heading-level"],
            "headingBackground": [1, "heading-background"],
            "icon": [1],
            "image": [1],
            "background": [1],
            "padding": [1],
            "margin": [1],
            "theme": [1025],
            "url": [1],
            "shadowBreakpoint": [1, "shadow-breakpoint"],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"]]
    }; }
}

const duetCheckboxCss = "*.sc-duet-checkbox,*.sc-duet-checkbox::after,*.sc-duet-checkbox::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-checkbox-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:8px !important;margin-bottom:12px !important;display:inline-flex;width:100%;vertical-align:bottom;-webkit-tap-highlight-color:transparent}.sc-duet-checkbox-h:last-child,.sc-duet-checkbox-h:last-of-type{margin-right:0 !important}.sc-duet-checkbox-h:last-child:not(:only-child){margin-bottom:0 !important}.duet-m-0.sc-duet-checkbox-h{margin:0 !important}.duet-label.sc-duet-checkbox{position:relative;z-index:100;display:inline;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);vertical-align:top;cursor:pointer;background:transparent;transition:300ms ease}.duet-theme-turva.sc-duet-checkbox .duet-label.sc-duet-checkbox{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-label.sc-duet-checkbox span.sc-duet-checkbox{display:inline-block;width:calc(100% - 32px);font-size:1rem;font-weight:400;vertical-align:top}.duet-checkbox-container.sc-duet-checkbox{position:relative;width:100%;height:100%}.duet-checkbox.sc-duet-checkbox{padding:14px !important;position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;cursor:pointer;opacity:0}.duet-checkbox.sc-duet-checkbox+label.sc-duet-checkbox::before{z-index:100;display:inline-block;width:20px;height:20px;margin:2px 10px 1px 1px;vertical-align:top;content:\"\";background:rgb(255, 255, 255);border:1px solid rgb(0, 41, 77);border-radius:4px}.duet-theme-turva.sc-duet-checkbox .duet-checkbox.sc-duet-checkbox+label.sc-duet-checkbox::before{border-color:rgb(23, 28, 58)}.duet-checkbox.sc-duet-checkbox:checked+label.sc-duet-checkbox::before{background:rgb(0, 41, 77);border:1px solid rgb(0, 41, 77)}.duet-theme-turva.sc-duet-checkbox .duet-checkbox.sc-duet-checkbox:checked+label.sc-duet-checkbox::before{background:rgb(23, 28, 58);border-color:rgb(23, 28, 58)}.duet-checkbox.sc-duet-checkbox:focus+label.sc-duet-checkbox::before{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.duet-theme-turva.sc-duet-checkbox .duet-checkbox.sc-duet-checkbox:focus+label.sc-duet-checkbox::before{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-checkbox.sc-duet-checkbox+label.sc-duet-checkbox{position:static}.duet-checkbox.sc-duet-checkbox:checked+label.sc-duet-checkbox::after{position:absolute;top:6px;left:5px;z-index:200;width:12px;height:12px;pointer-events:none;content:\"\";background:transparent url(\"data:image/svg+xml,%3Csvg%20fill%3D%27white%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20width%3D%2724%27%20height%3D%2724%27%20viewBox%3D%270%200%2024%2024%27%3E%3Cpath%20d%3D%27M23.374.287a1.5%2C1.5%2C0%2C0%2C0-2.093.345L7.246%2C20.2%2C2.561%2C15.511A1.5%2C1.5%2C0%2C1%2C0%2C.439%2C17.632l5.935%2C5.934a1.525%2C1.525%2C0%2C0%2C0%2C2.279-.186l15.066-21A1.5%2C1.5%2C0%2C0%2C0%2C23.374.287Z%27%20%2F%3E%3C%2Fsvg%3E\") no-repeat 0 0;background-size:100% auto}.duet-checkbox[disabled].sc-duet-checkbox{cursor:default}.duet-checkbox[disabled].sc-duet-checkbox+label.sc-duet-checkbox{color:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-checkbox .duet-checkbox[disabled].sc-duet-checkbox+label.sc-duet-checkbox{color:rgb(116, 116, 117)}.duet-checkbox[disabled].sc-duet-checkbox+label.sc-duet-checkbox::before{border-color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-checkbox .duet-checkbox[disabled].sc-duet-checkbox+label.sc-duet-checkbox::before{border-color:rgb(207, 207, 209)}.duet-checkbox[disabled].sc-duet-checkbox:checked+label.sc-duet-checkbox::before{background:rgb(101, 119, 135);border:1px solid rgb(101, 119, 135)}.duet-theme-turva.sc-duet-checkbox .duet-checkbox[disabled].sc-duet-checkbox:checked+label.sc-duet-checkbox::before{background:rgb(116, 116, 117);border-color:rgb(116, 116, 117)}.duet-label-hidden.sc-duet-checkbox .duet-label.sc-duet-checkbox span.sc-duet-checkbox{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}";

class DuetCheckbox {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Own Properties.
         */
        this.checkboxId = createID("DuetCheckbox");
        /**
         * Component event handling.
         */
        this.onChange = (ev) => {
            this.checked = !this.checked;
            this.duetChange.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-checkbox",
            });
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-checkbox",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-checkbox",
            });
        };
        this.accessibleActiveDescendant = undefined;
        this.margin = "auto";
        this.accessibleControls = undefined;
        this.accessibleIndex = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleSelected = undefined;
        this.required = false;
        this.theme = "";
        this.disabled = false;
        this.identifier = undefined;
        this.label = "label";
        this.labelHidden = false;
        this.name = undefined;
        this.role = undefined;
        this.checked = false;
        this.value = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        if (this.value === undefined) {
            this.value = this.identifier;
        }
    }
    /**
     * Sets focus on the specified `duet-checkbox`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetCheckboxCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-checkbox",
        "$members$": {
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "margin": [1],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleIndex": [1, "accessible-index"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleSelected": [1, "accessible-selected"],
            "required": [4],
            "theme": [1025],
            "disabled": [516],
            "identifier": [1],
            "label": [1],
            "labelHidden": [4, "label-hidden"],
            "name": [1],
            "role": [1],
            "checked": [1540],
            "value": [1537],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"], ["checked", "checked"], ["value", "value"]]
    }; }
}

const duetCheckmarkCss = ".duet-checkmark-container{position:relative;width:20px;height:20px;margin-left:auto;border:1px solid rgb(144, 149, 153);border-radius:4px;transition:border 300ms ease}.duet-checkmark-container.center{margin-right:auto}.duet-theme-turva .duet-checkmark-container{border-color:rgb(116, 116, 117)}.checked .duet-checkmark-container{background:rgb(0, 119, 179);border-color:rgb(0, 119, 179);transition:none}.duet-theme-turva .checked .duet-checkmark-container{background:rgb(23, 28, 58);border-color:rgb(23, 28, 58) !important}.duet-checkmark-container.duet-checkmark-radio{border-radius:50%}[disabled]+label .duet-checkmark-container{border-color:rgb(207, 210, 212) !important}.duet-theme-turva [disabled]+label .duet-checkmark-container{border-color:rgb(207, 207, 209) !important}.checked [disabled]+label .duet-checkmark-container{background:rgb(207, 210, 212) !important}.duet-theme-turva .checked [disabled]+label .duet-checkmark-container{background:rgb(207, 207, 209) !important}.duet-checkmark{position:absolute;top:10px;left:3px;width:5.3333333333px;height:11.8518518519px;border-top:2px solid rgb(255, 255, 255);border-right:2px solid rgb(255, 255, 255);opacity:1;transform:scaleX(-1) rotate(135deg) translateZ(0);transform-origin:left top;animation-name:duet-checkmark;animation-duration:600ms;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes duet-checkmark{0%{width:0;height:0;opacity:1}20%{width:5.3333333333px;height:0;opacity:1}40%,100%{width:5.3333333333px;height:11.8518518519px;opacity:1}}";

class DuetCheckmark {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.checked = false;
        this.presentationOnly = false;
        this.center = false;
        this.type = "checkbox";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    render() {
        return (hAsync(Host, { class: { "duet-theme-turva": this.theme === "turva" } }, hAsync("div", { role: this.presentationOnly ? "presentation" : null, class: { checked: this.checked } }, hAsync("div", { class: {
                "duet-checkmark-container": true,
                center: this.center,
                "duet-checkmark-radio": this.type === "radio",
            } }, this.checked && hAsync("div", { class: "duet-checkmark" })))));
    }
    static get style() { return duetCheckmarkCss; }
    static get cmpMeta() { return {
        "$flags$": 0,
        "$tagName$": "duet-checkmark",
        "$members$": {
            "theme": [1025],
            "checked": [1028],
            "presentationOnly": [4, "presentation-only"],
            "center": [4],
            "type": [513]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["type", "type"]]
    }; }
}

const duetChipCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-chip,*.sc-duet-chip::after,*.sc-duet-chip::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-chip-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:8px !important;margin-bottom:12px !important;position:relative;display:inline-block;width:auto;max-width:100%;vertical-align:bottom;-webkit-tap-highlight-color:transparent}/*!@:host:last-child, :host:last-of-type*/.sc-duet-chip-h:last-child,.sc-duet-chip-h:last-of-type{margin-right:0 !important}/*!@.duet-chip-container*/.duet-chip-container.sc-duet-chip{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:block;width:100%;padding:1px;hyphens:none;line-height:1.1;color:rgb(0, 41, 77) !important;text-align:center;cursor:pointer;background:rgb(255, 255, 255);border-color:rgb(144, 149, 153);border-style:solid;border-width:1px;border-radius:8px;transition:background-color 300ms ease, color 300ms ease, border-color 300ms ease}/*!@.duet-chip-container.duet-p-0*/.duet-chip-container.duet-p-0.sc-duet-chip{padding:0 !important}/*!@.duet-chip-container.duet-m-0*/.duet-chip-container.duet-m-0.sc-duet-chip{margin:0 !important}/*!@.duet-chip-container.duet-theme-turva*/.duet-chip-container.duet-theme-turva.sc-duet-chip{color:rgb(23, 28, 58) !important;background:rgb(255, 255, 255);border-color:rgb(23, 28, 58)}/*!@.duet-chip-container.duet-theme-turva:hover*/.duet-chip-container.duet-theme-turva.sc-duet-chip:hover{border-color:rgb(198, 12, 48)}/*!@.duet-chip-container:hover*/.duet-chip-container.sc-duet-chip:hover{padding:0 !important;border-color:rgb(0, 119, 179);border-width:2px}/*!@.duet-chip-container.duet-chip-disabled*/.duet-chip-container.duet-chip-disabled.sc-duet-chip{color:rgb(101, 119, 135) !important;cursor:default;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important}/*!@.duet-chip-container.duet-chip-disabled.duet-theme-turva*/.duet-chip-container.duet-chip-disabled.duet-theme-turva.sc-duet-chip{color:rgb(116, 116, 117) !important;background:rgb(245, 245, 247);border-color:rgb(245, 245, 247)}/*!@.duet-chip-container.duet-chip-disabled:hover*/.duet-chip-container.duet-chip-disabled.sc-duet-chip:hover{background:rgb(245, 248, 250);border-color:rgb(245, 248, 250)}/*!@.duet-chip-container.duet-chip-disabled:hover.duet-theme-turva*/.duet-chip-container.duet-chip-disabled.sc-duet-chip:hover.duet-theme-turva{background:rgb(245, 245, 247);border-color:rgb(245, 245, 247)}/*!@.duet-chip-container.duet-chip-disabled button,\n.duet-chip-container.duet-chip-disabled label*/.duet-chip-container.duet-chip-disabled.sc-duet-chip button.sc-duet-chip,.duet-chip-container.duet-chip-disabled.sc-duet-chip label.sc-duet-chip{cursor:default}/*!@.duet-chip-container button,\n.duet-chip-container label*/.duet-chip-container.sc-duet-chip button.sc-duet-chip,.duet-chip-container.sc-duet-chip label.sc-duet-chip{display:flex;align-items:center;width:100%;height:100%;padding:7px 16px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:600;color:rgb(0, 41, 77) !important;cursor:pointer}/*!@.duet-chip-container button:focus,\n.duet-chip-container label:focus*/.duet-chip-container.sc-duet-chip button.sc-duet-chip:focus,.duet-chip-container.sc-duet-chip label.sc-duet-chip:focus{outline:none}/*!@.duet-chip-container .duet-chip-icon-container*/.duet-chip-container.sc-duet-chip .duet-chip-icon-container.sc-duet-chip{display:flex;align-items:center;height:16px;padding:0;transition:padding 300ms ease}/*!@.duet-chip-container.duet-chip-has-icon .duet-chip-icon-container*/.duet-chip-container.duet-chip-has-icon.sc-duet-chip .duet-chip-icon-container.sc-duet-chip{width:24px;height:16px;padding-right:10px}/*!@.duet-chip-container.duet-chip-has-icon.duet-chip-filter-checked .duet-chip-icon-container, .duet-chip-container.duet-chip-has-icon.duet-chip-radio-checked .duet-chip-icon-container*/.duet-chip-container.duet-chip-has-icon.duet-chip-filter-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip,.duet-chip-container.duet-chip-has-icon.duet-chip-radio-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip{padding-right:11px;padding-left:3px}/*!@.duet-chip-container.duet-chip-has-icon button,\n.duet-chip-container.duet-chip-has-icon label*/.duet-chip-container.duet-chip-has-icon.sc-duet-chip button.sc-duet-chip,.duet-chip-container.duet-chip-has-icon.sc-duet-chip label.sc-duet-chip{padding-left:10px}/*!@.duet-chip-container.duet-chip-has-popup button,\n.duet-chip-container.duet-chip-has-popup label*/.duet-chip-container.duet-chip-has-popup.sc-duet-chip button.sc-duet-chip,.duet-chip-container.duet-chip-has-popup.sc-duet-chip label.sc-duet-chip{padding-right:8px}/*!@.duet-chip-container duet-icon:not(.check-mark)*/.duet-chip-container.sc-duet-chip duet-icon.sc-duet-chip:not(.check-mark){width:auto;transition:width 300ms ease, transform 300ms ease;transform:scaleX(1)}/*!@.duet-chip-container duet-icon.check-mark*/.duet-chip-container.sc-duet-chip duet-icon.check-mark.sc-duet-chip{width:0;overflow:hidden;transition:width 300ms ease, transform 300ms ease;transform:scaleX(0)}/*!@.duet-chip-container.duet-chip-filter-checked, .duet-chip-container.duet-chip-radio-checked*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip{background:rgb(230, 242, 248);border-color:rgb(230, 242, 248)}/*!@.duet-chip-container.duet-chip-filter-checked:hover, .duet-chip-container.duet-chip-radio-checked:hover*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip:hover,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip:hover{background:rgb(205, 229, 241);border-color:rgb(205, 229, 241)}/*!@.duet-chip-container.duet-chip-filter-checked button,\n.duet-chip-container.duet-chip-filter-checked label, .duet-chip-container.duet-chip-radio-checked button,\n.duet-chip-container.duet-chip-radio-checked label*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip button.sc-duet-chip,.duet-chip-container.duet-chip-filter-checked.sc-duet-chip label.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip button.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip label.sc-duet-chip{padding-left:10px}/*!@.duet-chip-container.duet-chip-filter-checked .duet-chip-icon-container, .duet-chip-container.duet-chip-radio-checked .duet-chip-icon-container*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip{padding-right:10px}/*!@.duet-chip-container.duet-chip-filter-checked .duet-chip-icon-container duet-icon:not(.check-mark), .duet-chip-container.duet-chip-radio-checked .duet-chip-icon-container duet-icon:not(.check-mark)*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip duet-icon.sc-duet-chip:not(.check-mark),.duet-chip-container.duet-chip-radio-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip duet-icon.sc-duet-chip:not(.check-mark){width:0;overflow:hidden;transition:width 300ms ease, transform 300ms ease;transform:scaleX(0)}/*!@.duet-chip-container.duet-chip-filter-checked .duet-chip-icon-container duet-icon.check-mark, .duet-chip-container.duet-chip-radio-checked .duet-chip-icon-container duet-icon.check-mark*/.duet-chip-container.duet-chip-filter-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip duet-icon.check-mark.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.sc-duet-chip .duet-chip-icon-container.sc-duet-chip duet-icon.check-mark.sc-duet-chip{width:auto;transition:width 300ms ease, transform 300ms ease;transform:scaleX(1)}/*!@.duet-chip-container.duet-chip-filter-checked.duet-theme-turva, .duet-chip-container.duet-chip-radio-checked.duet-theme-turva*/.duet-chip-container.duet-chip-filter-checked.duet-theme-turva.sc-duet-chip,.duet-chip-container.duet-chip-radio-checked.duet-theme-turva.sc-duet-chip{background:rgb(245, 245, 247);border-color:rgb(245, 245, 247)}/*!@.duet-chip-container.duet-chip-filter-checked.duet-theme-turva:hover, .duet-chip-container.duet-chip-radio-checked.duet-theme-turva:hover*/.duet-chip-container.duet-chip-filter-checked.duet-theme-turva.sc-duet-chip:hover,.duet-chip-container.duet-chip-radio-checked.duet-theme-turva.sc-duet-chip:hover{background:rgb(228, 228, 230);border-color:rgb(228, 228, 230)}/*!@.duet-chip-container div.duet-chip-popup-disclosure*/.duet-chip-container.sc-duet-chip div.duet-chip-popup-disclosure.sc-duet-chip{padding-right:4.5px;padding-left:12.5px}/*!@.duet-chip-container div.duet-chip-popup-disclosure duet-icon*/.duet-chip-container.sc-duet-chip div.duet-chip-popup-disclosure.sc-duet-chip duet-icon.sc-duet-chip{transition:transform 300ms ease}/*!@.duet-chip-container.duet-chip-filter-popup-open*/.duet-chip-container.duet-chip-filter-popup-open.sc-duet-chip{background:rgb(243, 249, 252);border-color:rgb(243, 249, 252)}/*!@.duet-chip-container.duet-chip-filter-popup-open.duet-theme-turva*/.duet-chip-container.duet-chip-filter-popup-open.duet-theme-turva.sc-duet-chip{background:rgb(245, 245, 247);border-color:rgb(245, 245, 247)}/*!@.duet-chip-container.duet-chip-filter-popup-open .duet-chip-popup-disclosure duet-icon*/.duet-chip-container.duet-chip-filter-popup-open.sc-duet-chip .duet-chip-popup-disclosure.sc-duet-chip duet-icon.sc-duet-chip{transform:rotate(180deg)}/*!@.duet-chip-container.duet-chip-input*/.duet-chip-container.duet-chip-input.sc-duet-chip{display:flex;align-items:center;padding-right:0 !important}/*!@.duet-chip-container.duet-chip-input .duet-chip-input-button*/.duet-chip-container.duet-chip-input.sc-duet-chip .duet-chip-input-button.sc-duet-chip{flex-grow:1}/*!@.duet-chip-container.duet-chip-input .duet-chip-remove-button*/.duet-chip-container.duet-chip-input.sc-duet-chip .duet-chip-remove-button.sc-duet-chip{width:26px;padding:8px 16px 8px 0;margin:-8px 0}/*!@:host(.user-is-tabbing) .duet-chip-focus*/.user-is-tabbing.sc-duet-chip-h .duet-chip-focus.sc-duet-chip{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-chip-focus.duet-theme-turva*/.user-is-tabbing.sc-duet-chip-h .duet-chip-focus.duet-theme-turva.sc-duet-chip{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-chip-container input*/.duet-chip-container.sc-duet-chip input.sc-duet-chip{position:absolute !important;top:0;left:0;z-index:-1;width:100%;height:100%;cursor:pointer;opacity:0}";

class DuetChip {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Own Properties.
         */
        this.chipId = createID("DuetChip");
        this.popupSetUp = () => {
            const popup = document.querySelector(`duet-popup-menu#${this.popup}`);
            if (popup) {
                this.popupElement = popup;
                popup.controller = this.element;
                const originalText = this.element.textContent;
                const originalValue = this.value;
                if (!popup.id) {
                    popup.id = "popup-menu";
                }
                popup.addEventListener("duetToggle", (evt) => {
                    this.popupOpen = evt.detail.open;
                });
                const clearActive = () => {
                    popup.querySelectorAll("duet-popup-menu-item").forEach(item => {
                        item.active = false;
                    });
                };
                popup.querySelectorAll("duet-popup-menu-item").forEach(item => {
                    item.addEventListener("click", evt => {
                        var _a;
                        const value = (_a = item.value) !== null && _a !== void 0 ? _a : item.innerText;
                        if (!item.active) {
                            clearActive();
                            item.active = true;
                            this.element.textContent = item.innerText;
                            this.value = value;
                            this.checked = true;
                        }
                        else {
                            clearActive();
                            this.element.textContent = originalText;
                            this.value = originalValue;
                            this.checked = false;
                        }
                        this.emitChange(evt);
                        // A workaround to the difference of event handling between the browers.
                        // Chrome will emit a separate click event on the chip after the popup is closed, resulting popup.toggle() to
                        // open the popup again. Firefox does not have this behavior.
                        setTimeout(() => {
                            if (this.popupElement.isOpen()) {
                                this.popupElement.hide();
                            }
                        });
                    });
                });
            }
        };
        /**
         * Component event handling.
         */
        this.onFocus = (ev) => {
            this.focus = true;
            this.duetFocus.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-chip",
            });
        };
        this.onBlur = (ev) => {
            this.focus = false;
            this.duetBlur.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-chip",
            });
        };
        this.emitChange = originalEvent => {
            this.duetChange.emit({
                originalEvent,
                checked: this.checked,
                value: this.value,
                component: "duet-chip",
            });
        };
        /**
         * Change checked state and emit duetChange event.
         */
        this.onFilterChange = (evt) => {
            this.checked = !this.checked;
            this.emitChange(evt);
        };
        /**
         * Change checked state and emit duetChange event.
         */
        this.onRadioChange = (evt) => {
            const input = this.focusableElement;
            const inputChecked = input.checked;
            this.checked = inputChecked;
            this.emitChange(evt);
        };
        /**
         * Stop propagation and prevent default if popup is present, as the popup controls value and checked state.
         */
        this.onFilterClick = (evt) => {
            if (this.disabled) {
                evt.stopPropagation();
                evt.preventDefault();
                return;
            }
            if (this.popupElement) {
                evt.stopPropagation();
                evt.preventDefault();
                this.popupElement.toggle();
            }
        };
        /**
         * Remove input chip
         */
        this.onRemoveClick = (evt) => {
            evt.stopPropagation();
            evt.preventDefault();
            this.element.remove();
        };
        this.focus = false;
        this.popupElement = undefined;
        this.popupOpen = undefined;
        this.accessibleLabel = undefined;
        this.variation = "button";
        this.popup = undefined;
        this.icon = "";
        this.theme = "";
        this.identifier = undefined;
        this.value = undefined;
        this.name = undefined;
        this.checked = false;
        this.disabled = false;
    }
    clearOtherRadioButtons() {
        if (this.variation === "radio" && this.checked) {
            const chips = document.querySelectorAll(`duet-chip[variation="radio"][name="${this.name}"]`);
            chips.forEach(chip => {
                if (chip !== this.element) {
                    chip.checked = false;
                }
            });
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.popupSetUp();
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        setTimeout(() => this.focusableElement.focus(options), 200);
    }
    render() {
        var _a;
        const identifier = this.identifier || this.chipId;
        const classes = {
            "duet-chip-container": true,
            [`duet-chip-${this.variation}`]: true,
            "duet-chip-focus": this.focus,
            "duet-chip-has-icon": !!this.icon,
            "duet-chip-has-popup": this.variation === "filter" && !!this.popupElement,
            "duet-theme-turva": this.theme === "turva",
            "duet-chip-filter-checked": this.variation === "filter" && this.checked,
            "duet-chip-radio-checked": this.variation === "radio" && this.checked,
            "duet-chip-filter-popup-open": this.popupOpen,
            "duet-chip-disabled": this.disabled,
        };
        const focusHandlers = {
            onFocus: this.onFocus,
            onBlur: this.onBlur,
            ref: el => (this.focusableElement = el),
        };
        return (hAsync(Host, null, this.variation === "button" && (hAsync("div", { class: classes }, hAsync("button", Object.assign({ id: identifier, "aria-label": this.accessibleLabel, "aria-disabled": this.disabled ? "true" : undefined, name: this.name, value: this.value, onClick: this.disabled ? evt => evt.stopPropagation() : undefined }, focusHandlers), hAsync("div", { class: "duet-chip-icon-container" }, this.icon && (hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none", color: "currentColor" }))), hAsync("slot", null)))), this.variation === "input" && (hAsync("div", { class: classes }, hAsync("button", Object.assign({ id: identifier, class: "duet-chip-input-button", "aria-label": this.accessibleLabel }, focusHandlers), hAsync("div", { class: "duet-chip-icon-container" }, this.icon && (hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none", color: "currentColor" }))), hAsync("slot", null)), hAsync("button", { class: "duet-chip-remove-button", onClick: this.onRemoveClick }, hAsync("duet-icon", { name: "activity-close", size: "xx-small", margin: "none", color: "currentColor" })))), this.variation === "filter" && (hAsync("div", { class: classes }, hAsync("input", Object.assign({ "aria-haspopup": this.popupElement && "menu", "aria-controls": (_a = this.popupElement) === null || _a === void 0 ? void 0 : _a.id, "aria-expanded": this.popupElement ? (this.popupOpen ? "true" : "false") : undefined, "aria-disabled": this.disabled ? "true" : undefined, id: identifier, type: "checkbox", name: this.name, value: this.value, checked: this.checked, onClick: this.onFilterClick, onChange: this.onFilterChange }, focusHandlers)), hAsync("label", { htmlFor: identifier }, hAsync("div", { class: "duet-chip-icon-container" }, this.icon && (hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none", color: "currentColor" })), hAsync("duet-icon", { name: "messaging-checked-small", size: "xx-small", margin: "none", color: "currentColor", class: "check-mark" })), hAsync("slot", null), this.popupElement && (hAsync("div", { class: "duet-chip-popup-disclosure" }, hAsync("duet-icon", { name: "action-arrow-down-small", size: "xxx-small", margin: "none", color: "currentColor" })))))), this.variation === "radio" && (hAsync("div", { class: classes }, hAsync("input", Object.assign({ "aria-disabled": this.disabled ? "true" : undefined, id: identifier, type: "radio", name: this.name, value: this.value, checked: this.checked, onChange: this.onRadioChange, onClick: this.disabled ? evt => evt.preventDefault() : undefined }, focusHandlers)), hAsync("label", { htmlFor: identifier }, hAsync("div", { class: "duet-chip-icon-container" }, this.icon && (hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none", color: "currentColor" })), hAsync("duet-icon", { name: "messaging-checked-small", size: "xx-small", margin: "none", color: "currentColor", class: "check-mark" })), hAsync("slot", null))))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "checked": ["clearOtherRadioButtons"]
    }; }
    static get style() { return duetChipCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-chip",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "variation": [1],
            "popup": [1],
            "icon": [1],
            "theme": [1025],
            "identifier": [1],
            "value": [1025],
            "name": [1],
            "checked": [1540],
            "disabled": [4],
            "focus": [32],
            "popupElement": [32],
            "popupOpen": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["checked", "checked"]]
    }; }
}

const focusElement = (element) => {
    if ("setFocus" in element) {
        element.setFocus();
    }
    else {
        element.focus();
    }
};
const FocusGuard = ({ moveFocusTo }) => {
    return hAsync("div", { class: "duet-focus-guard", "aria-hidden": "true", tabIndex: 0, onFocus: () => focusElement(moveFocusTo) });
};

const duetChoiceCss = "*.sc-duet-choice,*.sc-duet-choice::after,*.sc-duet-choice::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-choice-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;flex-direction:column;width:auto;max-width:100%;vertical-align:bottom;-webkit-tap-highlight-color:transparent}.sc-duet-choice-h:last-child,.sc-duet-choice-h:last-of-type{margin-right:0 !important}@media (max-width: 35.9375em){.sc-duet-choice-h{width:100%}}.duet-expand.sc-duet-choice-h{width:100% !important}.duet-m-0.sc-duet-choice-h{margin:0 !important}.duet-fixed.sc-duet-choice-h{width:auto !important}.vertical.sc-duet-choice-h{margin-right:0 !important}@media (min-width: 48em){.horizontal.sc-duet-choice-h{margin-bottom:0 !important}}@media (min-width: 48em){.horizontal-responsive.sc-duet-choice-h{margin-bottom:0 !important;margin-right:16px !important}.horizontal-responsive.sc-duet-choice-h:last-child,.horizontal-responsive.sc-duet-choice-h:last-of-type{margin-right:0 !important}}.sc-duet-choice-h:last-child:not(:only-child){margin-right:0 !important}.duet-choice-card.sc-duet-choice{position:relative;display:block;width:100%;min-width:8rem;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;-webkit-hyphens:auto;hyphens:auto;line-height:1.1;color:rgb(0, 41, 77) !important;text-align:left;background:rgb(255, 255, 255);border-width:2px}.duet-choice-card.duet-p-0.sc-duet-choice{padding:0 !important}.duet-choice-card.duet-m-0.sc-duet-choice{margin:0 !important}.duet-theme-turva.sc-duet-choice .duet-choice-card.sc-duet-choice{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58) !important}.duet-choice-card-flextainer.sc-duet-choice{display:flex}.duet-choice-label.sc-duet-choice{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:flex;gap:1rem;align-items:center;justify-content:flex-start;width:100%;height:100%;min-height:3.875rem;padding:1rem;font-size:1rem;font-weight:600;text-decoration:none;word-break:break-word;cursor:pointer;border:2px solid rgb(225, 227, 230);border-radius:4px;transition:background-color 150ms ease}.duet-choice-label.has-before-text.sc-duet-choice .duet-choice-card-icon.sc-duet-choice,.duet-choice-label.has-before-text.sc-duet-choice .duet-choice-card-text.sc-duet-choice{align-self:flex-start;margin-top:0.25rem}.duet-choice-label.sc-duet-choice>div.sc-duet-choice:last-child{flex:1;align-self:flex-start;justify-self:flex-end;margin-top:0.25rem}.has-info.sc-duet-choice .duet-choice-label.sc-duet-choice{border-top-right-radius:0;border-bottom-right-radius:0}.info.sc-duet-choice .duet-choice-label.sc-duet-choice{border-bottom-right-radius:0;border-bottom-left-radius:0}.duet-theme-turva.sc-duet-choice .duet-choice-label.sc-duet-choice{border-color:rgb(228, 228, 230)}.duet-theme-turva.sc-duet-choice .info.sc-duet-choice .duet-choice-label.sc-duet-choice{border-color:rgb(228, 228, 230)}.duet-choice-label.sc-duet-choice:active{opacity:0.75;transition:none !important}.checked.sc-duet-choice>.duet-choice-label.sc-duet-choice{color:rgb(0, 119, 179) !important;background:rgb(243, 249, 252);border-color:rgb(0, 119, 179) !important}.checked.sc-duet-choice>.duet-choice-label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{border-color:rgb(0, 119, 179)}.duet-theme-turva.sc-duet-choice .checked.sc-duet-choice>.duet-choice-label.sc-duet-choice{color:rgb(23, 28, 58) !important;background:rgb(245, 245, 247);border-color:rgb(23, 28, 58) !important}.duet-theme-turva.sc-duet-choice .checked.sc-duet-choice>.duet-choice-label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{border-color:rgb(198, 12, 48)}.checked.collapsible.sc-duet-choice>.duet-choice-label.sc-duet-choice,.collapsible-force-expanded.collapsible.sc-duet-choice>.duet-choice-label.sc-duet-choice{padding-bottom:calc(1rem + 2px);border-bottom:0 !important;border-bottom-right-radius:0;border-bottom-left-radius:0}.sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice:not(.checked){border-color:rgb(144, 149, 153)}.sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice:not(.checked) .duet-checkmark-container.sc-duet-choice{border-color:rgb(144, 149, 153)}.duet-theme-turva .sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice:not(.checked){border-color:rgb(116, 116, 117)}.duet-theme-turva .sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice:not(.checked) .duet-checkmark-container.sc-duet-choice{border-color:rgb(116, 116, 117)}.duet-theme-turva .info .sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice:not(.checked){border-color:rgb(116, 116, 117)}input.sc-duet-choice:focus{outline:0}.user-is-tabbing.sc-duet-choice-h input.sc-duet-choice:checked:focus+.duet-choice-label.sc-duet-choice{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3)}.user-is-tabbing.sc-duet-choice-h input.sc-duet-choice:not(:checked):focus+.duet-choice-label.sc-duet-choice{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.user-is-tabbing.duet-theme-turva.sc-duet-choice-h input.sc-duet-choice:checked:focus+.duet-choice-label.sc-duet-choice{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2)}.user-is-tabbing.duet-theme-turva.sc-duet-choice-h input.sc-duet-choice:not(:checked):focus+.duet-choice-label.sc-duet-choice{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice{color:rgb(101, 119, 135) !important;cursor:default !important;background:rgb(245, 248, 250) !important;border-color:rgb(225, 227, 230) !important}input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice .duet-checkmark.sc-duet-choice{border-color:rgb(101, 119, 135) !important}input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice:hover,input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice:active,input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice:focus{box-shadow:none !important;opacity:1 !important;transition:none !important}.duet-theme-turva.sc-duet-choice input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice{color:rgb(116, 116, 117) !important;background:rgb(245, 245, 247) !important;border-color:rgb(228, 228, 230) !important}.duet-theme-turva.sc-duet-choice input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice .duet-checkmark.sc-duet-choice{border-color:rgb(116, 116, 117) !important}.checked.sc-duet-choice>input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice{background:rgb(225, 227, 230) !important;border-color:rgb(225, 227, 230) !important}.duet-theme-turva.sc-duet-choice .checked.sc-duet-choice>input[disabled].sc-duet-choice+.duet-choice-label.sc-duet-choice{background:rgb(228, 228, 230) !important;border-color:rgb(228, 228, 230) !important}.duet-checkmark-container.sc-duet-choice{position:relative;width:20px;height:20px;margin-left:auto;border:1px solid rgb(144, 149, 153);border-radius:4px;transition:border 300ms ease}.duet-theme-turva.sc-duet-choice .duet-checkmark-container.sc-duet-choice{border-color:rgb(116, 116, 117)}.checked.sc-duet-choice>.duet-choice-label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{background:rgb(0, 119, 179);border-color:rgb(0, 119, 179);transition:none}.duet-theme-turva.sc-duet-choice .checked.sc-duet-choice>.duet-choice-label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{background:rgb(23, 28, 58);border-color:rgb(23, 28, 58) !important}.duet-checkmark-container.duet-checkmark-radio.sc-duet-choice{border-radius:50%}[disabled].sc-duet-choice+label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{border-color:rgb(207, 210, 212) !important}.duet-theme-turva.sc-duet-choice [disabled].sc-duet-choice+label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{border-color:rgb(207, 207, 209) !important}.checked.sc-duet-choice>[disabled].sc-duet-choice+label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{background:rgb(207, 210, 212) !important}.duet-theme-turva.sc-duet-choice .checked.sc-duet-choice>[disabled].sc-duet-choice+label.sc-duet-choice .duet-checkmark-container.sc-duet-choice{background:rgb(207, 207, 209) !important}.duet-checkmark.sc-duet-choice{position:absolute;top:10px;left:3px;width:5.3333333333px;height:11.8518518519px;border-top:2px solid rgb(255, 255, 255);border-right:2px solid rgb(255, 255, 255);opacity:1;transform:scaleX(-1) rotate(135deg) translateZ(0);transform-origin:left top;animation-name:duet-checkmark;animation-duration:600ms;animation-timing-function:ease-out;animation-fill-mode:forwards}@keyframes duet-checkmark{0%{width:0;height:0;opacity:1}20%{width:5.3333333333px;height:0;opacity:1}40%,100%{width:5.3333333333px;height:11.8518518519px;opacity:1}}.duet-choice-card-icon.sc-duet-choice{position:relative}.duet-choice-card-icon.sc-duet-choice duet-icon.sc-duet-choice{display:block}.duet-choice-section-hidden.sc-duet-choice{display:none}.duet-choice-card-info.duet-choice-card-collapsed.sc-duet-choice,.duet-choice-card-collapsed.duet-choice-card-collapsible.sc-duet-choice{position:relative;width:auto;padding:0 !important;background:unset !important;border:0;border-radius:0}.duet-choice-card-info.sc-duet-choice,.duet-choice-card-collapsible.sc-duet-choice{padding:20px !important;position:relative;width:100%;font-weight:400;color:rgb(0, 41, 77);border:2px solid rgb(225, 227, 230);border-top:0;border-radius:0 0 4px 4px}@media (min-width: 36em){.duet-choice-card-info.sc-duet-choice,.duet-choice-card-collapsible.sc-duet-choice{padding:28px !important}}.duet-theme-turva.sc-duet-choice .duet-choice-card-info.sc-duet-choice,.duet-theme-turva.sc-duet-choice .duet-choice-card-collapsible.sc-duet-choice{color:rgb(23, 28, 58);border-color:rgb(23, 28, 58)}.checked.sc-duet-choice>.duet-choice-card-info.sc-duet-choice,.checked.sc-duet-choice>.duet-choice-card-collapsible.sc-duet-choice{display:block}.duet-choice-card-info-expanded.sc-duet-choice,.duet-choice-card-collapsible-expanded.sc-duet-choice{display:block}.duet-choice-card-collapsible.sc-duet-choice{background:rgb(255, 255, 255);border:2px solid rgb(225, 227, 230);border-top:0}.duet-choice-card-collapsible.duet-theme-turva.sc-duet-choice{background:rgb(255, 255, 255);border-color:rgb(228, 228, 230)}.duet-choice-card-collapsible.checked.sc-duet-choice{border-color:rgb(0, 119, 179)}.duet-choice-card-collapsible.checked.duet-theme-turva.sc-duet-choice{border-color:rgb(23, 28, 58)}.duet-choice-card-collapsible-disabled.sc-duet-choice{background:rgb(245, 248, 250);border-color:rgb(225, 227, 230)}.duet-choice-card-collapsible-disabled.checked.sc-duet-choice{border-color:rgb(225, 227, 230)}.duet-choice-card-collapsible-disabled.duet-theme-turva.sc-duet-choice{background:rgb(245, 245, 247);border-color:rgb(228, 228, 230)}.duet-choice-card-collapsible-disabled.duet-theme-turva.checked.sc-duet-choice{border-color:rgb(228, 228, 230)}.duet-choice-card-info.sc-duet-choice{font-size:0.875rem;line-height:1.5;background:rgb(245, 248, 250);transition:150ms ease-out}.duet-choice-card-info.duet-theme-turva.sc-duet-choice{background:rgb(245, 245, 247);border-color:rgb(228, 228, 230)}.duet-choice-card-info.sc-duet-choice .duet-choice-info-container.sc-duet-choice:focus{outline:none}.duet-choice-card-info.duet-choice-card-collapsed .duet-choice-info-container.sc-duet-choice-s>*,.duet-choice-card-info.duet-choice-card-collapsed .duet-choice-info-container .sc-duet-choice-s>*{display:none}.sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-collapsible.sc-duet-choice:not(.checked){border-color:rgb(144, 149, 153)}.duet-theme-turva .sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-collapsible.sc-duet-choice:not(.checked){border-color:rgb(116, 116, 117)}.duet-choice-info-toggle.sc-duet-choice{display:flex;flex-shrink:0;align-items:flex-start;justify-content:center;width:57.6px;padding-top:1.25rem;cursor:pointer;background:rgb(255, 255, 255);border:2px solid rgb(225, 227, 230);border-left:0 none;border-top-right-radius:4px;border-bottom-right-radius:4px;-webkit-appearance:none;appearance:none}.duet-choice-info-toggle[aria-expanded=true].sc-duet-choice{background:rgb(245, 248, 250);border-bottom-color:transparent;border-bottom-right-radius:0}.duet-theme-turva.sc-duet-choice .duet-choice-info-toggle[aria-expanded=true].sc-duet-choice{background:rgb(245, 245, 247)}.duet-choice-info-toggle[disabled].sc-duet-choice{pointer-events:none;background:rgb(245, 248, 250) !important;border-color:rgb(225, 227, 230) !important}.duet-choice-info-toggle[disabled].sc-duet-choice .duet-choice-info-icon.sc-duet-choice{color:rgb(144, 149, 153) !important}.duet-choice-info-toggle[disabled].duet-theme-turva.sc-duet-choice{background:rgb(245, 245, 247) !important;border-color:rgb(228, 228, 230) !important}.duet-choice-info-toggle[disabled].duet-theme-turva.sc-duet-choice .duet-choice-info-icon.sc-duet-choice{color:rgb(116, 116, 117) !important}.duet-choice-info-toggle.sc-duet-choice:focus{outline:none}.user-is-tabbing.sc-duet-choice-h .duet-choice-info-toggle.sc-duet-choice:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.user-is-tabbing.sc-duet-choice-h .duet-theme-turva.sc-duet-choice .duet-choice-info-toggle.sc-duet-choice:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.checked.sc-duet-choice+.duet-choice-info-toggle.sc-duet-choice{border-left-color:rgb(0, 119, 179) !important}.duet-choice-info-toggle.sc-duet-choice duet-icon.sc-duet-choice{display:block}.duet-choice-info-toggle.sc-duet-choice .duet-choice-info-icon.sc-duet-choice{color:rgb(0, 119, 179)}.duet-theme-turva.sc-duet-choice .duet-choice-info-toggle.sc-duet-choice .duet-choice-info-icon.sc-duet-choice{color:rgb(198, 12, 48)}.sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice .duet-choice-info-toggle.sc-duet-choice{border-left-color:rgb(144, 149, 153)}.duet-theme-turva .sc-duet-choice-h:not(.no-hover):not(.disabled):hover>.duet-choice-card-flextainer.sc-duet-choice .duet-choice-label.sc-duet-choice .duet-choice-info-toggle.sc-duet-choice{border-left-color:rgb(116, 116, 117)}.duet-choice-input.sc-duet-choice{position:absolute !important;width:100%;height:100%;opacity:0}";

/**
 * @slot unnamed default slot - The component’s primary content. All child nodes that do not have a slot attribute defined are inserted into this primary slot.
 * @slot label - Label content.
 * @slot before-text - Content before text can be for example icons or images.
 * @slot info - Info content. Anything inserted into this slot is displayed in a collapsible info box.
 * @slot collapsible_header - header that is only added to collapsible element, this header should be used when the components collapsible area contains additional interactive elements (such as form items) and should be user for a short description of the content below it, it is mandatory for good accessibility to use this - and aria-decribe-by will point to it. If you use the collapsible area with simple text - describe-by will point to this area
 * @slot additional - Additional content. Anything inserted into this slot is displayed as additional content under the label and caption
 */
class DuetChoice {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChoiceReady = createEvent$2(this, "duetChoiceReady", 7);
        this.duetChoiceRemove = createEvent$2(this, "duetChoiceRemove", 7);
        this.duetChange = createEvent$2(this, "duetChange", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.hasHeader = false;
        this.choiceId = createID("DuetChoice");
        this.expandId = createID("DuetChoiceExpand");
        this.headerId = createID("DuetChoiceHeader");
        this.infoButtonId = createID("DuetChoiceInfoButton");
        this.onMouseEnter = () => {
            this.isHovering = true;
        };
        this.onMouseLeave = () => {
            this.isHovering = false;
        };
        this.onClick = (ev) => {
            this.toggleChecked(ev);
        };
        this.handleKeyDown = (ev) => {
            if (isKeyboardClick(ev)) {
                this.toggleChecked(ev);
            }
            if (isQuestionKey(ev) && this.hasInfo) {
                this.toggleInfo();
            }
        };
        this.onChange = () => {
            this.checked = this.nativeInput.checked || false;
            this.duetChange.emit({
                checked: this.checked,
                value: this.value,
                component: "duet-choice",
            });
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-choice",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-choice",
            });
        };
        /**
         * Local methods
         */
        this.toggleChecked = ev => {
            ev.preventDefault();
            ev.stopPropagation();
            if (this.getDisabled()) {
                return;
            }
            this.isInfoOpen = false;
            // if it's a radio button, and it's already checked
            // we shouldn't fire an event, so exit early
            if (this.type === "radio" && this.checked) {
                return;
            }
            this.checked = !this.checked;
            this.duetChange.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-choice",
            });
        };
        this.toggleInfo = () => {
            this.isInfoOpen = !this.isInfoOpen;
            if (this.isInfoOpen) {
                setTimeout(() => {
                    var _a;
                    (_a = this.infoContainer) === null || _a === void 0 ? void 0 : _a.focus();
                });
            }
        };
        this.isHovering = false;
        this.isInfoOpen = false;
        this.isBlurred = false;
        this.theme = "";
        this.label = "label";
        this.accessibleLabelInfoButtonDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelInfoButton = getLocaleString(this.accessibleLabelInfoButtonDefaults);
        this.accessibleActiveDescendant = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.caption = "";
        this.value = undefined;
        this.type = "checkbox";
        this.name = undefined;
        this.checked = false;
        this.collapsible = false;
        this.collapsibleForceExpanded = false;
        this.margin = "auto";
        this.icon = "";
        this.expand = false;
        this.padding = "auto";
        this.identifier = undefined;
        this.groupDirection = undefined;
        this.groupDisabled = undefined;
        this.groupResponsive = undefined;
        this.disabled = false;
        this.required = false;
        this.infoLabelDefaults = {
            fi: "Lisätietoja vaihtoehdosta",
            en: "More information about",
            sv: "Mera information om",
        };
        this.infoLabel = getLocaleString(this.infoLabelDefaults, getLanguage());
        this.collapsibleNotificationDefaults = {
            fi: "Tämä valinta sisältää lisätietoja, jotka avautuivat alle",
            en: "This choice has additional information opened below",
            sv: "Det här val har mer information som öppnades nedan",
        };
        this.collapsibleNotification = getLocaleString(this.collapsibleNotificationDefaults, getLanguage());
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasInfo = hasSlot(this.element, "info");
        this.hasHeader = hasSlot(this.element, "header");
        this.hasAdditional = hasSlot(this.element, "additional");
        this.hasLabel = hasSlot(this.element, "label");
        this.hasBeforeText = hasSlot(this.element, "before-text");
        this.duetChoiceReady.emit();
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, [
            { prop: "accessibleLabelInfoButton", defaults: "accessibleLabelInfoButtonDefaults" },
            { prop: "infoLabel", defaults: "infoLabelDefaults" },
            { prop: "collapsibleNotification", defaults: "collapsibleNotificationDefaults" },
        ]);
        subscribeTabbingChange(this);
        this.duetChoiceReady.emit();
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
        this.duetChoiceRemove.emit();
    }
    /**
     * Component event handling.
     */
    handleHostBlur(ev) {
        /**
         * When moving away from a choice, collapse the info bar to assist visually impared people on focusing
         */
        if (this.hasInfo && this.isInfoOpen && this.isKeyDown) {
            // @ts-ignore
            const isTargetContainedInHost = this.element.contains(ev === null || ev === void 0 ? void 0 : ev.relatedTarget) || false;
            if (!isTargetContainedInHost) {
                this.toggleInfo();
            }
        }
    }
    handleHostKeyDown() {
        this.isKeyDown = true;
    }
    handleHostKeyUp(ev) {
        this.isKeyDown = false;
        if (isEscapeKey(ev) && this.isInfoOpen) {
            this.toggleInfo();
        }
    }
    /**
     * Sets focus on the specified `duet-choice`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * This method toggles the info section.
     */
    async toggleInfoMethod() {
        this.isInfoOpen = !this.isInfoOpen;
    }
    /**
     * Should the collapsible content be announced by screen readers
     */
    isCollapsibleAnnounceable() {
        if (!this.collapsible || !this.getExpanded()) {
            return false;
        }
        const children = Array.from(this.element.querySelectorAll(`#${this.choiceId}-collapsible-content > *`) || []);
        const announceableElements = ["duet-paragraph", "duet-heading", "duet-fieldset"];
        return children.every(child => announceableElements.includes(child.tagName.toLowerCase()));
    }
    getAriaDescribedby() {
        if (this.accessibleDescribedBy) {
            return this.accessibleDescribedBy;
        }
        if (this.collapsible || this.hasInfo) {
            if (this.hasHeader) {
                return this.headerId;
            }
            else if (this.isCollapsibleAnnounceable()) {
                return this.expandId;
            }
            else {
                return `${this.choiceId}-collapsible-notification`;
            }
        }
        return null;
    }
    getDisabled() {
        return this.disabled || this.groupDisabled;
    }
    getExpanded() {
        return this.checked || this.collapsibleForceExpanded;
    }
    getClassNames() {
        if (this.hasInfo && !this.collapsible) {
            return {
                checked: this.checked,
                "duet-choice-card-info": true,
                "duet-choice-card-info-expanded": this.isInfoOpen,
                "duet-choice-card-collapsed": !this.isInfoOpen,
                "duet-theme-turva": this.theme === "turva",
            };
        }
        if (!this.hasInfo && this.collapsible) {
            return {
                checked: this.checked,
                "duet-choice-card-collapsible": true,
                "duet-choice-card-collapsible-expanded": this.getExpanded(),
                "duet-choice-card-collapsed": !this.getExpanded(),
                "duet-choice-card-collapsible-disabled": this.getDisabled(),
                "duet-theme-turva": this.theme === "turva",
            };
        }
        return {
            checked: this.checked,
            "duet-choice-default-slot": true,
        };
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetChoiceCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-choice",
        "$members$": {
            "theme": [1025],
            "label": [1],
            "accessibleLabelInfoButtonDefaults": [1, "accessible-label-info-default"],
            "accessibleLabelInfoButton": [1025, "accessible-label-info-button"],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "caption": [1],
            "value": [1537],
            "type": [513],
            "name": [1],
            "checked": [1540],
            "collapsible": [4],
            "collapsibleForceExpanded": [4, "collapsible-force-expanded"],
            "margin": [1],
            "icon": [1],
            "expand": [4],
            "padding": [1],
            "identifier": [1],
            "groupDirection": [1, "group-direction"],
            "groupDisabled": [4, "group-disabled"],
            "groupResponsive": [4, "group-responsive"],
            "disabled": [516],
            "required": [4],
            "infoLabelDefaults": [1, "accessible-label-info-default"],
            "infoLabel": [1025, "info-label"],
            "collapsibleNotificationDefaults": [1, "accessible-collapsible-notification-default"],
            "collapsibleNotification": [1025, "collapsible-notification"],
            "isHovering": [32],
            "isInfoOpen": [32],
            "isBlurred": [32],
            "setFocus": [64],
            "toggleInfoMethod": [64]
        },
        "$listeners$": [[2, "blur", "handleHostBlur"], [2, "keydown", "handleHostKeyDown"], [2, "keyup", "handleHostKeyUp"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["value", "value"], ["type", "type"], ["checked", "checked"], ["disabled", "disabled"]]
    }; }
}

const duetChoiceGroupCss = "*.sc-duet-choice-group,*.sc-duet-choice-group::after,*.sc-duet-choice-group::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-choice-group-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.horizontal.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group{display:block;margin-bottom:-12px}.horizontal.sc-duet-choice-group-h .duet-choice-group.duet-no-stacking.sc-duet-choice-group{display:flex}@media (min-width: 48em){.horizontal.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group{margin-bottom:0}}@media (max-width: 35.9375em){.horizontal.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group{display:flex}}.horizontal.duet-choice-group-breakpoint-x-small.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:flex}@media (max-width: 22.5em){.horizontal.duet-choice-group-breakpoint-x-small.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:block}}.horizontal.duet-choice-group-breakpoint-small.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:block}@media (min-width: 36em){.horizontal.duet-choice-group-breakpoint-small.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:flex}}.horizontal.duet-choice-group-breakpoint-medium.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:block}@media (min-width: 48em){.horizontal.duet-choice-group-breakpoint-medium.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:flex}}.horizontal.duet-choice-group-breakpoint-large.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:block}@media (min-width: 62em){.horizontal.duet-choice-group-breakpoint-large.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:flex}}.horizontal.duet-choice-group-breakpoint-x-large.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:block}@media (min-width: 64.0625em){.horizontal.duet-choice-group-breakpoint-x-large.sc-duet-choice-group-h .duet-choice-group.sc-duet-choice-group:not(.duet-no-stacking){display:flex}}.duet-choice-group.sc-duet-choice-group{position:relative;width:100%;margin-bottom:-12px}";

class DuetChoiceGroup {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.choiceGroupName = "duet-choice-group";
        this.choices = new Set();
        /**
         * Component event handling.
         */
        this.onSelect = (ev) => {
            if (ev.detail.component !== "duet-choice") {
                return;
            }
            const selectedChoice = ev.target;
            if (selectedChoice && this.choices.has(selectedChoice)) {
                this.value = selectedChoice.value;
            }
        };
        this.onChoiceReady = (ev) => {
            const choice = ev.target;
            if (choice.closest("duet-choice-group") === this.element && !this.choices.has(choice)) {
                this.choices.add(choice);
                this.updateChoices();
            }
        };
        this.onChoiceRemove = (ev) => {
            const choice = ev.target;
            this.choices.delete(choice);
            this.updateChoices();
        };
        this.direction = "vertical";
        this.margin = "auto";
        this.theme = "";
        this.error = "";
        this.name = undefined;
        this.label = "Label";
        this.labelHidden = false;
        this.caption = undefined;
        this.tooltip = undefined;
        this.tooltipDirection = "auto";
        this.responsive = false;
        this.breakpoint = "small";
        this.value = undefined;
        this.disabled = undefined;
        this.required = false;
        this.accessibleLiveError = "polite";
    }
    /**
     * Component lifecycle events.
     */
    async connectedCallback() {
        {
            return;
        }
    }
    disconnectedCallback() {
        {
            return;
        }
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * Local methods
     */
    async updateChoices() {
        var _a;
        const value = (_a = this.value) !== null && _a !== void 0 ? _a : this.initialValue;
        let hasChecked = false;
        // Walk the DOM in reverse order, since the last selected one wins
        for (const choice of Array.from(this.choices)) {
            choice.name = this.name;
            choice.required = this.required;
            choice.groupDisabled = this.disabled;
            choice.groupDirection = this.direction;
            choice.groupResponsive = this.responsive;
            if (!hasChecked && choice.value === value) {
                // Correct value for this choice, but this choice isn't checked yet
                // and we haven't found a checked yet
                hasChecked = true;
                choice.checked = true;
                if (typeof this.value === "undefined") {
                    this.value = value;
                }
            }
            else {
                // This choice doesn't have the correct value or the choice group has been already checked
                choice.checked = false;
            }
        }
        // Reset value if
        if (!hasChecked) {
            this.value = undefined;
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "value": ["updateChoices"],
        "disabled": ["updateChoices"],
        "name": ["updateChoices"],
        "direction": ["updateChoices"],
        "responsive": ["updateChoices"]
    }; }
    static get style() { return duetChoiceGroupCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-choice-group",
        "$members$": {
            "direction": [1],
            "margin": [1],
            "theme": [1025],
            "error": [1],
            "name": [1],
            "label": [1],
            "labelHidden": [4, "label-hidden"],
            "caption": [1],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "responsive": [4],
            "breakpoint": [1],
            "value": [1537],
            "disabled": [4],
            "required": [4],
            "accessibleLiveError": [1, "accessible-live-error"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["value", "value"]]
    }; }
}

var actionArrowDownSmall={"title":"action-arrow-down-small","tags":"action arrow down small caret","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M12 19.5a2.3 2.3 0 0 1-1.729-.78L.46 7.568a1.847 1.847 0 0 1 2.773-2.439l8.579 9.752a.25.25 0 0 0 .376 0l8.579-9.752a1.847 1.847 0 1 1 2.773 2.439l-9.808 11.148A2.31 2.31 0 0 1 12 19.5z\"/></svg>"};

const color_warning = "rgb(247, 178, 40)";
const color_gray_darker = "rgb(101, 119, 135)";
const color_gray_lighter = "rgb(245, 248, 250)";
const color_category_home = "rgb(211, 36, 131)";
const color_primary = "rgb(0, 119, 179)";
const color_category_vehicle = "rgb(54, 74, 129)";
const color_success = "rgb(0, 135, 90)";
const color_category_family = "rgb(11, 114, 136)";
const color_primary_lightest = "rgb(243, 249, 252)";
const color_primary_lighter = "rgb(230, 242, 248)";
const color_brand_blue = "rgb(0, 161, 212)";
const color_primary_dark = "rgb(0, 77, 128)";
const color_gray_lightest = "rgb(255, 255, 255)";
const color_category_finance = "rgb(122, 1, 196)";
const color_gray_dark = "rgb(144, 149, 153)";
const color_gray_light = "rgb(225, 227, 230)";
const color_secondary = "rgb(0, 41, 77)";
const color_category_pet = "rgb(168, 1, 78)";
const color_primary_light = "rgb(205, 229, 241)";
const color_category_travel = "rgb(213, 66, 3)";
const color_gray = "rgb(207, 210, 212)";
const color_danger = "rgb(222, 35, 98)";
const color_gray_darker_turva = "rgb(68, 68, 69)";
const color_gray_lighter_turva = "rgb(245, 245, 247)";
const color_category_home_turva = "rgb(161, 10, 78)";
const color_primary_turva = "rgb(198, 12, 48)";
const color_category_vehicle_turva = "rgb(23, 28, 58)";
const color_success_turva = "rgb(8, 135, 78)";
const color_primary_lightest_turva = "rgb(252, 243, 244)";
const color_category_family_turva = "rgb(199, 12, 112)";
const color_category_union_turva = "rgb(169, 69, 124)";
const color_primary_lighter_turva = "rgb(249, 230, 234)";
const color_primary_dark_turva = "rgb(148, 9, 37)";
const color_gray_lightest_turva = "rgb(255, 255, 255)";
const color_gray_dark_turva = "rgb(116, 116, 117)";
const color_gray_light_turva = "rgb(228, 228, 230)";
const color_brand_gray_turva = "rgb(178, 180, 179)";
const color_secondary_turva = "rgb(23, 28, 58)";
const color_primary_light_turva = "rgb(244, 207, 214)";
const color_category_travel_turva = "rgb(9, 129, 148)";
const color_gray_turva = "rgb(207, 207, 209)";
const color_danger_turva = "rgb(224, 42, 13)";
const color_warning_turva = "rgb(250, 164, 15)";
const color_data_07 = "rgb(192, 101, 247)";
const color_data_08 = "rgb(0, 105, 191)";
const color_data_09 = "rgb(19, 120, 53)";
const color_data_10 = "rgb(179, 60, 24)";
const color_data_11 = "rgb(13, 163, 166)";
const color_data_01 = "rgb(122, 1, 196)";
const color_data_12 = "rgb(11, 114, 136)";
const color_data_02 = "rgb(0, 155, 204)";
const color_data_13 = "rgb(179, 137, 24)";
const color_data_03 = "rgb(27, 171, 75)";
const color_data_14 = "rgb(128, 98, 17)";
const color_data_04 = "rgb(255, 86, 34)";
const color_data_15 = "rgb(0, 41, 77)";
const color_data_05 = "rgb(245, 76, 154)";
const color_data_06 = "rgb(194, 21, 101)";
const font_weight_extra_bold = "800";
const letter_spacing_heading = "-0.01rem";
const font_family_heading_turva = "'turva-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const font_family_text_turva = "'turva-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const font_family_heading = "'localtapiola-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const font_family_text = "'localtapiola-sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol'";
const font_weight_bold = "700";
const font_weight_normal = "400";
const font_weight_semi_bold = "600";
const font_size_xxxx_large = "4.5rem";
const font_size_xxx_large = "3rem";
const font_size_xx_large = "2.25rem";
const font_size_x_large = "1.5rem";
const font_size_large = "1.25rem";
const font_size_medium = "1rem";
const font_size_small = "0.875rem";
const font_size_x_small = "0.75rem";
const radius_sharp = "0";
const radius_default = "4px";
const radius_medium = "8px";
const radius_large = "20px";
const radius_circle = "50%";
const radius_pill = "20rem";
const shadow_tooltip_turva = "0 2px 10px 0 rgba(117, 117, 117, 0.13)";
const shadow_focus_input_turva = "0 0 0 1px #171c3a";
const shadow_default = "0 2px 6px 0 rgba(0, 41, 77, 0.07)";
const shadow_focus_input = "0 0 0 1px #0077b3";
const shadow_tooltip = "0 2px 10px 0 rgba(0, 41, 77, 0.07)";
const shadow_hover_input_turva = "0 0 0 1px #747475";
const shadow_error_turva = "0 0 0 1px #e55039";
const shadow_hover_input = "0 0 0 1px #909599";
const shadow_error = "0 0 0 1px #de2362";
const shadow_card_turva = "0 2px 6px 0 rgba(117, 117, 117, 0.13), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)";
const shadow_modal = "0 2px 20px 0 rgba(0, 0, 0, 0.2)";
const shadow_card = "0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)";
const shadow_focus_turva = "0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a";
const shadow_focus = "0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3";
const shadow_hover_turva = "0 2px 10px 0 rgba(117, 117, 117, 0.15)";
const shadow_hover = "0 2px 10px 0 rgba(0, 41, 77, 0.1)";
const shadow_default_turva = "0 2px 6px 0 rgba(117, 117, 117, 0.13)";
const space_xx_small = "4px";
const space_large = "20px";
const space_x_small = "8px";
const space_xxx_small = "2px";
const space_small = "12px";
const space_medium = "16px";
const space_xx_large = "36px";
const space_xxxx_large = "72px";
const space_xxxxx_large = "94px";
const space_xxx_large = "48px";
const space_x_large = "28px";
const size_icon_xx_large = "48px";
const size_form_border = "1px";
const size_step_medium = "40px";
const size_button_min_width = "8rem";
const size_header = "4rem";
const size_icon_xxx_large = "72px";
const size_icon_x_large = "36px";
const size_icon_xx_small = "10px";
const size_step_small = "30px";
const size_navigation = "3rem";
const size_icon_large = "30px";
const size_layout_max_width = "1110px";
const size_tappable_square = "48px";
const size_icon_x_small = "16px";
const size_medium_border = "2px";
const size_icon_xxx_small = "7px";
const size_button_border = "1px";
const size_button_tiny_border = "1px";
const size_icon_medium = "24px";
const size_icon_small = "20px";
const opacity_85 = "0.85";
const opacity_75 = "0.75";
const opacity_50 = "0.50";
const opacity_30 = "0.30";
const z_index_mask_buttons = "250";
const z_index_dropdown = "600";
const z_index_spinner = "800";
const z_index_default = "1";
const z_index_toast = "500";
const z_index_popup = "950";
const z_index_modal = "900";
const z_index_sticky = "300";
const z_index_masked = "100";
const z_index_deep = "-999999";
const z_index_overlay = "700";
const z_index_mask = "200";
const z_index_header = "400";
const line_height_medium = "1.5";
const line_height_small = "1.25";
const line_height_x_small = "1.1";
const transition_quickly = "300ms ease";
const transition_slowly = "600ms ease";
const media_query_xxx_large = "'(min-width: 106.25em)'";
const media_query_x_large = "'(min-width: 64.0625em)'";
const media_query_medium = "'(min-width: 48em)'";
const media_query_large = "'(min-width: 62em)'";
const media_query_xx_large = "'(min-width: 76.25em)'";
const media_query_x_small = "'(max-width: 35.9375em)'";
const media_query_xxx_small = "'(max-width: 20.5em)'";
const media_query_small = "'(min-width: 36em)'";
const media_query_xx_small = "'(max-width: 22.5em)'";
var tokens = {
	color_warning: color_warning,
	color_gray_darker: color_gray_darker,
	color_gray_lighter: color_gray_lighter,
	color_category_home: color_category_home,
	color_primary: color_primary,
	color_category_vehicle: color_category_vehicle,
	color_success: color_success,
	color_category_family: color_category_family,
	color_primary_lightest: color_primary_lightest,
	color_primary_lighter: color_primary_lighter,
	color_brand_blue: color_brand_blue,
	color_primary_dark: color_primary_dark,
	color_gray_lightest: color_gray_lightest,
	color_category_finance: color_category_finance,
	color_gray_dark: color_gray_dark,
	color_gray_light: color_gray_light,
	color_secondary: color_secondary,
	color_category_pet: color_category_pet,
	color_primary_light: color_primary_light,
	color_category_travel: color_category_travel,
	color_gray: color_gray,
	color_danger: color_danger,
	color_gray_darker_turva: color_gray_darker_turva,
	color_gray_lighter_turva: color_gray_lighter_turva,
	color_category_home_turva: color_category_home_turva,
	color_primary_turva: color_primary_turva,
	color_category_vehicle_turva: color_category_vehicle_turva,
	color_success_turva: color_success_turva,
	color_primary_lightest_turva: color_primary_lightest_turva,
	color_category_family_turva: color_category_family_turva,
	color_category_union_turva: color_category_union_turva,
	color_primary_lighter_turva: color_primary_lighter_turva,
	color_primary_dark_turva: color_primary_dark_turva,
	color_gray_lightest_turva: color_gray_lightest_turva,
	color_gray_dark_turva: color_gray_dark_turva,
	color_gray_light_turva: color_gray_light_turva,
	color_brand_gray_turva: color_brand_gray_turva,
	color_secondary_turva: color_secondary_turva,
	color_primary_light_turva: color_primary_light_turva,
	color_category_travel_turva: color_category_travel_turva,
	color_gray_turva: color_gray_turva,
	color_danger_turva: color_danger_turva,
	color_warning_turva: color_warning_turva,
	color_data_07: color_data_07,
	color_data_08: color_data_08,
	color_data_09: color_data_09,
	color_data_10: color_data_10,
	color_data_11: color_data_11,
	color_data_01: color_data_01,
	color_data_12: color_data_12,
	color_data_02: color_data_02,
	color_data_13: color_data_13,
	color_data_03: color_data_03,
	color_data_14: color_data_14,
	color_data_04: color_data_04,
	color_data_15: color_data_15,
	color_data_05: color_data_05,
	color_data_06: color_data_06,
	font_weight_extra_bold: font_weight_extra_bold,
	letter_spacing_heading: letter_spacing_heading,
	font_family_heading_turva: font_family_heading_turva,
	font_family_text_turva: font_family_text_turva,
	font_family_heading: font_family_heading,
	font_family_text: font_family_text,
	font_weight_bold: font_weight_bold,
	font_weight_normal: font_weight_normal,
	font_weight_semi_bold: font_weight_semi_bold,
	font_size_xxxx_large: font_size_xxxx_large,
	font_size_xxx_large: font_size_xxx_large,
	font_size_xx_large: font_size_xx_large,
	font_size_x_large: font_size_x_large,
	font_size_large: font_size_large,
	font_size_medium: font_size_medium,
	font_size_small: font_size_small,
	font_size_x_small: font_size_x_small,
	radius_sharp: radius_sharp,
	radius_default: radius_default,
	radius_medium: radius_medium,
	radius_large: radius_large,
	radius_circle: radius_circle,
	radius_pill: radius_pill,
	shadow_tooltip_turva: shadow_tooltip_turva,
	shadow_focus_input_turva: shadow_focus_input_turva,
	shadow_default: shadow_default,
	shadow_focus_input: shadow_focus_input,
	shadow_tooltip: shadow_tooltip,
	shadow_hover_input_turva: shadow_hover_input_turva,
	shadow_error_turva: shadow_error_turva,
	shadow_hover_input: shadow_hover_input,
	shadow_error: shadow_error,
	shadow_card_turva: shadow_card_turva,
	shadow_modal: shadow_modal,
	shadow_card: shadow_card,
	shadow_focus_turva: shadow_focus_turva,
	shadow_focus: shadow_focus,
	shadow_hover_turva: shadow_hover_turva,
	shadow_hover: shadow_hover,
	shadow_default_turva: shadow_default_turva,
	space_xx_small: space_xx_small,
	space_large: space_large,
	space_x_small: space_x_small,
	space_xxx_small: space_xxx_small,
	space_small: space_small,
	space_medium: space_medium,
	space_xx_large: space_xx_large,
	space_xxxx_large: space_xxxx_large,
	space_xxxxx_large: space_xxxxx_large,
	space_xxx_large: space_xxx_large,
	space_x_large: space_x_large,
	size_icon_xx_large: size_icon_xx_large,
	size_form_border: size_form_border,
	size_step_medium: size_step_medium,
	size_button_min_width: size_button_min_width,
	size_header: size_header,
	size_icon_xxx_large: size_icon_xxx_large,
	size_icon_x_large: size_icon_x_large,
	size_icon_xx_small: size_icon_xx_small,
	size_step_small: size_step_small,
	size_navigation: size_navigation,
	size_icon_large: size_icon_large,
	size_layout_max_width: size_layout_max_width,
	size_tappable_square: size_tappable_square,
	size_icon_x_small: size_icon_x_small,
	size_medium_border: size_medium_border,
	size_icon_xxx_small: size_icon_xxx_small,
	size_button_border: size_button_border,
	size_button_tiny_border: size_button_tiny_border,
	size_icon_medium: size_icon_medium,
	size_icon_small: size_icon_small,
	opacity_85: opacity_85,
	opacity_75: opacity_75,
	opacity_50: opacity_50,
	opacity_30: opacity_30,
	z_index_mask_buttons: z_index_mask_buttons,
	z_index_dropdown: z_index_dropdown,
	z_index_spinner: z_index_spinner,
	z_index_default: z_index_default,
	z_index_toast: z_index_toast,
	z_index_popup: z_index_popup,
	z_index_modal: z_index_modal,
	z_index_sticky: z_index_sticky,
	z_index_masked: z_index_masked,
	z_index_deep: z_index_deep,
	z_index_overlay: z_index_overlay,
	z_index_mask: z_index_mask,
	z_index_header: z_index_header,
	line_height_medium: line_height_medium,
	line_height_small: line_height_small,
	line_height_x_small: line_height_x_small,
	transition_quickly: transition_quickly,
	transition_slowly: transition_slowly,
	media_query_xxx_large: media_query_xxx_large,
	media_query_x_large: media_query_x_large,
	media_query_medium: media_query_medium,
	media_query_large: media_query_large,
	media_query_xx_large: media_query_xx_large,
	media_query_x_small: media_query_x_small,
	media_query_xxx_small: media_query_xxx_small,
	media_query_small: media_query_small,
	media_query_xx_small: media_query_xx_small
};

var tokens$1 = /*#__PURE__*/Object.freeze({
    __proto__: null,
    color_warning: color_warning,
    color_gray_darker: color_gray_darker,
    color_gray_lighter: color_gray_lighter,
    color_category_home: color_category_home,
    color_primary: color_primary,
    color_category_vehicle: color_category_vehicle,
    color_success: color_success,
    color_category_family: color_category_family,
    color_primary_lightest: color_primary_lightest,
    color_primary_lighter: color_primary_lighter,
    color_brand_blue: color_brand_blue,
    color_primary_dark: color_primary_dark,
    color_gray_lightest: color_gray_lightest,
    color_category_finance: color_category_finance,
    color_gray_dark: color_gray_dark,
    color_gray_light: color_gray_light,
    color_secondary: color_secondary,
    color_category_pet: color_category_pet,
    color_primary_light: color_primary_light,
    color_category_travel: color_category_travel,
    color_gray: color_gray,
    color_danger: color_danger,
    color_gray_darker_turva: color_gray_darker_turva,
    color_gray_lighter_turva: color_gray_lighter_turva,
    color_category_home_turva: color_category_home_turva,
    color_primary_turva: color_primary_turva,
    color_category_vehicle_turva: color_category_vehicle_turva,
    color_success_turva: color_success_turva,
    color_primary_lightest_turva: color_primary_lightest_turva,
    color_category_family_turva: color_category_family_turva,
    color_category_union_turva: color_category_union_turva,
    color_primary_lighter_turva: color_primary_lighter_turva,
    color_primary_dark_turva: color_primary_dark_turva,
    color_gray_lightest_turva: color_gray_lightest_turva,
    color_gray_dark_turva: color_gray_dark_turva,
    color_gray_light_turva: color_gray_light_turva,
    color_brand_gray_turva: color_brand_gray_turva,
    color_secondary_turva: color_secondary_turva,
    color_primary_light_turva: color_primary_light_turva,
    color_category_travel_turva: color_category_travel_turva,
    color_gray_turva: color_gray_turva,
    color_danger_turva: color_danger_turva,
    color_warning_turva: color_warning_turva,
    color_data_07: color_data_07,
    color_data_08: color_data_08,
    color_data_09: color_data_09,
    color_data_10: color_data_10,
    color_data_11: color_data_11,
    color_data_01: color_data_01,
    color_data_12: color_data_12,
    color_data_02: color_data_02,
    color_data_13: color_data_13,
    color_data_03: color_data_03,
    color_data_14: color_data_14,
    color_data_04: color_data_04,
    color_data_15: color_data_15,
    color_data_05: color_data_05,
    color_data_06: color_data_06,
    font_weight_extra_bold: font_weight_extra_bold,
    letter_spacing_heading: letter_spacing_heading,
    font_family_heading_turva: font_family_heading_turva,
    font_family_text_turva: font_family_text_turva,
    font_family_heading: font_family_heading,
    font_family_text: font_family_text,
    font_weight_bold: font_weight_bold,
    font_weight_normal: font_weight_normal,
    font_weight_semi_bold: font_weight_semi_bold,
    font_size_xxxx_large: font_size_xxxx_large,
    font_size_xxx_large: font_size_xxx_large,
    font_size_xx_large: font_size_xx_large,
    font_size_x_large: font_size_x_large,
    font_size_large: font_size_large,
    font_size_medium: font_size_medium,
    font_size_small: font_size_small,
    font_size_x_small: font_size_x_small,
    radius_sharp: radius_sharp,
    radius_default: radius_default,
    radius_medium: radius_medium,
    radius_large: radius_large,
    radius_circle: radius_circle,
    radius_pill: radius_pill,
    shadow_tooltip_turva: shadow_tooltip_turva,
    shadow_focus_input_turva: shadow_focus_input_turva,
    shadow_default: shadow_default,
    shadow_focus_input: shadow_focus_input,
    shadow_tooltip: shadow_tooltip,
    shadow_hover_input_turva: shadow_hover_input_turva,
    shadow_error_turva: shadow_error_turva,
    shadow_hover_input: shadow_hover_input,
    shadow_error: shadow_error,
    shadow_card_turva: shadow_card_turva,
    shadow_modal: shadow_modal,
    shadow_card: shadow_card,
    shadow_focus_turva: shadow_focus_turva,
    shadow_focus: shadow_focus,
    shadow_hover_turva: shadow_hover_turva,
    shadow_hover: shadow_hover,
    shadow_default_turva: shadow_default_turva,
    space_xx_small: space_xx_small,
    space_large: space_large,
    space_x_small: space_x_small,
    space_xxx_small: space_xxx_small,
    space_small: space_small,
    space_medium: space_medium,
    space_xx_large: space_xx_large,
    space_xxxx_large: space_xxxx_large,
    space_xxxxx_large: space_xxxxx_large,
    space_xxx_large: space_xxx_large,
    space_x_large: space_x_large,
    size_icon_xx_large: size_icon_xx_large,
    size_form_border: size_form_border,
    size_step_medium: size_step_medium,
    size_button_min_width: size_button_min_width,
    size_header: size_header,
    size_icon_xxx_large: size_icon_xxx_large,
    size_icon_x_large: size_icon_x_large,
    size_icon_xx_small: size_icon_xx_small,
    size_step_small: size_step_small,
    size_navigation: size_navigation,
    size_icon_large: size_icon_large,
    size_layout_max_width: size_layout_max_width,
    size_tappable_square: size_tappable_square,
    size_icon_x_small: size_icon_x_small,
    size_medium_border: size_medium_border,
    size_icon_xxx_small: size_icon_xxx_small,
    size_button_border: size_button_border,
    size_button_tiny_border: size_button_tiny_border,
    size_icon_medium: size_icon_medium,
    size_icon_small: size_icon_small,
    opacity_85: opacity_85,
    opacity_75: opacity_75,
    opacity_50: opacity_50,
    opacity_30: opacity_30,
    z_index_mask_buttons: z_index_mask_buttons,
    z_index_dropdown: z_index_dropdown,
    z_index_spinner: z_index_spinner,
    z_index_default: z_index_default,
    z_index_toast: z_index_toast,
    z_index_popup: z_index_popup,
    z_index_modal: z_index_modal,
    z_index_sticky: z_index_sticky,
    z_index_masked: z_index_masked,
    z_index_deep: z_index_deep,
    z_index_overlay: z_index_overlay,
    z_index_mask: z_index_mask,
    z_index_header: z_index_header,
    line_height_medium: line_height_medium,
    line_height_small: line_height_small,
    line_height_x_small: line_height_x_small,
    transition_quickly: transition_quickly,
    transition_slowly: transition_slowly,
    media_query_xxx_large: media_query_xxx_large,
    media_query_x_large: media_query_x_large,
    media_query_medium: media_query_medium,
    media_query_large: media_query_large,
    media_query_xx_large: media_query_xx_large,
    media_query_x_small: media_query_x_small,
    media_query_xxx_small: media_query_xxx_small,
    media_query_small: media_query_small,
    media_query_xx_small: media_query_xx_small,
    'default': tokens
});

const duetCollapsibleCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-collapsible,*.sc-duet-collapsible::after,*.sc-duet-collapsible::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@::slotted([slot=after-heading])*/.sc-duet-collapsible-s>[slot=after-heading]{display:inline-block}/*!@:host*/.sc-duet-collapsible-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:16px !important;display:block;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77)}/*!@:host(.duet-theme-turva)*/.duet-theme-turva.sc-duet-collapsible-h{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-collapsible-h{margin:0 !important}/*!@.duet-collapsible-content*/.duet-collapsible-content.sc-duet-collapsible{display:none;padding-left:18px;margin-top:8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;-webkit-hyphens:auto;hyphens:auto;line-height:1.5;color:rgb(0, 41, 77)}@media (max-width: 35.9375em){/*!@.duet-collapsible-content*/.duet-collapsible-content.sc-duet-collapsible{font-size:0.875rem}}/*!@.duet-collapsible-content.duet-theme-turva*/.duet-collapsible-content.duet-theme-turva.sc-duet-collapsible{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@:host([open]) > .duet-collapsible-content*/[open].sc-duet-collapsible-h>.duet-collapsible-content.sc-duet-collapsible{display:block}/*!@.duet-collapsible-heading*/.duet-collapsible-heading.sc-duet-collapsible{-webkit-user-select:none;user-select:none;display:flex;align-items:center;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77);text-align:left;cursor:pointer;border-radius:4px}/*!@.duet-collapsible-heading.full-width*/.duet-collapsible-heading.full-width.sc-duet-collapsible{width:100%}/*!@.duet-collapsible-heading.duet-collapsible-heading-centered*/.duet-collapsible-heading.duet-collapsible-heading-centered.sc-duet-collapsible{margin:auto}/*!@.duet-collapsible-heading.duet-collapsible-normal-weight*/.duet-collapsible-heading.duet-collapsible-normal-weight.sc-duet-collapsible{font-weight:400}/*!@.duet-collapsible-heading.duet-theme-turva*/.duet-collapsible-heading.duet-theme-turva.sc-duet-collapsible{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-collapsible-heading .duet-collapsible-heading-content*/.duet-collapsible-heading.sc-duet-collapsible .duet-collapsible-heading-content.sc-duet-collapsible{min-width:0}/*!@.duet-collapsible-heading.has-after-heading .duet-collapsible-heading-content + div*/.duet-collapsible-heading.has-after-heading.sc-duet-collapsible .duet-collapsible-heading-content.sc-duet-collapsible+div.sc-duet-collapsible{margin-left:16px}/*!@.duet-collapsible-heading.has-after-heading .duet-collapsible-heading-content + div.float-right*/.duet-collapsible-heading.has-after-heading.sc-duet-collapsible .duet-collapsible-heading-content.sc-duet-collapsible+div.float-right.sc-duet-collapsible{margin-left:auto}/*!@.duet-collapsible-heading:focus*/.duet-collapsible-heading.sc-duet-collapsible:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-collapsible-heading:focus*/.user-is-tabbing.sc-duet-collapsible-h .duet-collapsible-heading.sc-duet-collapsible:focus{border-radius:4px;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-collapsible-heading.duet-theme-turva:focus*/.user-is-tabbing.sc-duet-collapsible-h .duet-collapsible-heading.duet-theme-turva.sc-duet-collapsible:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-collapsible-heading-icon*/.duet-collapsible-heading-icon.sc-duet-collapsible{margin-right:8px !important;display:flex;align-items:center;justify-content:center;color:rgb(0, 41, 77);transition:transform 300ms ease}/*!@.duet-collapsible-heading-icon:last-child, .duet-collapsible-heading-icon:last-of-type*/.duet-collapsible-heading-icon.sc-duet-collapsible:last-child,.duet-collapsible-heading-icon.sc-duet-collapsible:last-of-type{margin-right:0 !important}/*!@[aria-expanded=true] .duet-collapsible-heading-icon*/[aria-expanded=true].sc-duet-collapsible .duet-collapsible-heading-icon.sc-duet-collapsible{transform:rotate(180deg)}";

/**
 * @part duet-collapsible-heading-content - piercing selector for styling the heading content
 * @part duet-collapsible-after-heading - piercing selector for styling the after heading
 * @part duet-collapsible-content - piercing selector for styling the content
 * @slot after-heading - Content after the heading can be for example badges.
 */
class DuetCollapsible {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetToggle = createEvent$2(this, "duetToggle", 7);
        this.id = createID("DuetCollapsible");
        this.handleKeyDown = (e) => {
            if (isKeyboardClick(e)) {
                this.handleClick(e);
            }
        };
        this.getFontSizeFromTokens = (fontSize = this.headingSize) => {
            if (!fontSize) {
                return font_size_medium;
            }
            else {
                const searchRegExp = /-/g;
                const fontSizeReplaced = fontSize.replace(searchRegExp, "_");
                return tokens$1[`font_size_${fontSizeReplaced}`];
            }
        };
        this.getEquivalentIconSize = (fontSize = this.headingSize) => {
            switch (fontSize) {
                case "x-small":
                    return "xx-small";
                case "small":
                    return "xx-small";
                case "medium":
                    return "xx-small";
                case "large":
                    return "x-small";
                case "x-large":
                    return "small";
                case "xx-large":
                    return "medium";
                case "xxx-large":
                    return "x-large";
                case "xxxx-large":
                    return "xxx-large";
                default:
                    // default size
                    return "xx-small";
            }
        };
        this.handleClick = (e) => {
            e.preventDefault();
            this.open = !this.open;
            this.duetToggle.emit({
                component: "duet-collapsible",
                originalEvent: e,
            });
        };
        this.theme = "";
        this.accessibleLabel = undefined;
        this.heading = "";
        this.headingFullWidth = false;
        this.centerHeading = false;
        this.headingWeight = "semibold";
        this.headingSize = undefined;
        this.headingLevel = undefined;
        this.margin = "auto";
        this.open = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasAfterHeading = hasSlot(this.element, "after-heading");
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * Sets focus on the specified `duet-collapsible`. Use this method instead of the global
     * `collapsible.focus()`.
     */
    async setFocus(options) {
        if (this.nativeButton) {
            this.element.classList.add("user-is-tabbing");
            this.nativeButton.focus(options);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const HeadingTagName = this.headingLevel ? sanitizeString$1(this.headingLevel) : "div";
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync(HeadingTagName, null, hAsync("button", { class: {
                "duet-collapsible-heading": true,
                "duet-collapsible-heading-centered": this.centerHeading,
                "duet-theme-turva": this.theme === "turva",
                "duet-collapsible-normal-weight": this.headingWeight === "normal",
                "has-after-heading": this.hasAfterHeading,
                "full-width": this.headingFullWidth,
            }, style: { "font-size": this.getFontSizeFromTokens() }, role: "button", ref: button => (this.nativeButton = button), "aria-label": this.accessibleLabel, "aria-expanded": this.open ? "true" : "false", "aria-controls": this.id, onClick: this.handleClick, onKeyDown: this.handleKeyDown }, hAsync("div", { class: "duet-collapsible-heading-icon" }, hAsync("duet-icon", { margin: "none", color: this.theme === "turva" ? "secondary-turva" : "secondary", size: this.getEquivalentIconSize(), icon: actionArrowDownSmall.svg })), hAsync("div", { class: "duet-collapsible-heading-content", part: "duet-collapsible-heading-content" }, this.heading), this.hasAfterHeading && (hAsync("div", { part: "duet-collapsible-after-heading" }, hAsync("slot", { name: "after-heading" }))))), hAsync("div", { id: this.id, class: { "duet-collapsible-content": true, "duet-theme-turva": this.theme === "turva" }, part: "duet-collapsible-content" }, hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetCollapsibleCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-collapsible",
        "$members$": {
            "theme": [1025],
            "accessibleLabel": [1, "accessible-label"],
            "heading": [1],
            "headingFullWidth": [4, "heading-full-width"],
            "centerHeading": [4, "center-heading"],
            "headingWeight": [1, "heading-weight"],
            "headingSize": [1, "heading-size"],
            "headingLevel": [1, "heading-level"],
            "margin": [1],
            "open": [1540],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"]]
    }; }
}

const duetComboboxCss = ".sc-duet-combobox-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;display:inline-block;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(0, 41, 77)}.sc-duet-combobox-h a.sc-duet-combobox{color:rgb(0, 41, 77);transition:none}.duet-theme-turva.sc-duet-combobox-h{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-theme-turva.sc-duet-combobox-h a.sc-duet-combobox{color:rgb(23, 28, 58)}.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.option.sc-duet-combobox .option-tags.sc-duet-combobox{color:rgb(116, 116, 117)}.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.option.selected.sc-duet-combobox{background:rgb(244, 207, 214)}.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover{color:rgb(255, 255, 255);background:rgb(198, 12, 48)}.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox .option-tags.sc-duet-combobox,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus .option-tags.sc-duet-combobox,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover .option-tags.sc-duet-combobox{color:rgb(255, 255, 255)}.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox a.sc-duet-combobox,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus a.sc-duet-combobox,.duet-theme-turva.sc-duet-combobox-h .duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover a.sc-duet-combobox{color:rgb(255, 255, 255)}.duet-combobox-list.sc-duet-combobox{position:absolute;top:calc(100% - 12px);height:0;overflow:hidden;background:rgb(255, 255, 255);border-radius:0 4px;box-shadow:0 2px 10px 0 rgba(0, 41, 77, 0.1);opacity:0}.duet-combobox-list.open.sc-duet-combobox{z-index:700;display:block;height:auto;opacity:1}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox{max-height:200px;padding:0.75rem 0;margin:0;overflow-y:scroll;font-weight:600;list-style:none;cursor:pointer;scroll-behavior:smooth}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox{padding:4px 0}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:not(.selected){padding-left:16px}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:not(.selected) .highlight.sc-duet-combobox{text-decoration:underline}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.option.sc-duet-combobox .option-link.sc-duet-combobox{display:block;width:100%}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.option.sc-duet-combobox .option-tags.sc-duet-combobox{float:right;padding-right:0.875rem;font-weight:400;color:rgb(144, 149, 153)}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.option-link.sc-duet-combobox{display:block;width:100%}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.selected.sc-duet-combobox{padding-left:0;background:rgb(205, 229, 241)}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.selected.option.sc-duet-combobox .option-icon.sc-duet-combobox{padding:0 8px 0 8px}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.selected.option.sc-duet-combobox .option-tags.sc-duet-combobox{color:rgb(144, 149, 153)}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover{color:rgb(255, 255, 255);background:rgb(0, 119, 179)}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox .option-tags.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus .option-tags.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover .option-tags.sc-duet-combobox{color:rgb(255, 255, 255)}.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.active.sc-duet-combobox a.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:focus a.sc-duet-combobox,.duet-combobox-list.sc-duet-combobox .duet-combobox-listbox.sc-duet-combobox .list-item.sc-duet-combobox:hover a.sc-duet-combobox{color:rgb(255, 255, 255)}";

class DuetCombobox {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.resizeObserver = new ResizeObserver(debounce(entries => {
            var _a, _b;
            // otherwise, something is wrong, expecting 1 element only
            if ((entries === null || entries === void 0 ? void 0 : entries.length) === 1) {
                const currentWidth = (_b = (_a = entries[0]) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect().width;
                this.listContainer.style.width = `${currentWidth + 1}px`;
                // this.listElement.style.width = `${currentWidth + 1}px`
            }
        }, 100));
        this.processedItems = null;
        this.inputWidth = 0;
        this.inputValue = "";
        this.selectionMsg = "";
        this.listOpen = false;
        this.selectedItems = new Set();
        this.activeItem = undefined;
        this.accessibleLabelDefaults = {
            en: {
                heading: "Select:",
                item: "{name}, ({current} of {total})",
                itemFiltered: "{name}, ({current} of {total}, {hiddenItems} filtered)",
            },
            fi: {
                heading: "Valitse:",
                item: "{name}, ({current}/{total})",
                itemFiltered: "{name}, ({current}/{total}, {hiddenItems} suodatettu)",
            },
            sv: {
                heading: "Välj:",
                item: "{name}, ({current} av {total})",
                itemFiltered: "{name}, ({current} av {total}, {hiddenItems} filtrerade)",
            },
        };
        this.accessibleLabels = getLocaleString(this.accessibleLabelDefaults, getLanguage());
        this.theme = "";
        this.force = false;
        this.items = undefined;
        this.formatter = (item) => item && item.name ? item.name : "";
        this.value = undefined;
        this.minCharacters = 1;
        this.openListOnClick = false;
        this.filterType = "startsWith";
    }
    activeItemHandler(state) {
        this.input.accessibleActiveDescendant = this.listOpen && (state || state === 0) ? `active_item` : "";
    }
    handleDocumentClick(e) {
        //we want to remove all user text if they have NOT selected from the dropdown
        const path = e.composedPath();
        const isClickOutside = path.every(el => el !== this.element);
        if (isClickOutside) {
            this.updateInputText(true, true);
            this.listOpen = false;
        }
    }
    /**
     * Exposes a formatter function to format the item value displayed after a user selects an item
     * @param item: DuetComboboxItem
     */
    async formatItem(item) {
        return this.formatter(item);
    }
    async processItems() {
        this.items = this.processedItems = parsePossibleJSON(this.items);
        await this.updateInputText();
    }
    async processValue() {
        if (this.value) {
            const selectedItem = this.items.find(item => item.value === this.value);
            this.updateSelectedItems(selectedItem.id);
        }
    }
    async processListOpenChange() {
        if (this.openListOnClick) {
            this.input.icon = this.listOpen ? "action-arrow-up" : "action-arrow-down";
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        {
            return;
        }
    }
    disconnectedCallback() {
        {
            return;
        }
    }
    componentDidLoad() {
        // observe resize events to dynamically adjust size of dropdown area
        this.resizeObserver.observe(this.input);
        this.listElement.addEventListener("click", e => {
            e.stopPropagation();
        });
        this.processValue();
    }
    /**
     * Updates the input text based on the selected/clicked items.
     * @param event - event
     *'param item: DuetComboboxItem - the item that was selected
     */
    onListClick(e, item) {
        e.preventDefault();
        // update selected item with id
        this.updateSelectedItems(item.id, true);
        this.listOpen = false;
        return this.listOpen;
    }
    /**
     * Helper function that checks inputs in the field, compares it with the item list and returns true when inputvalue matches selectedItem id
     * TODO: this should be disabled in multiple mode
     */
    shouldListBeFiltered() {
        if (this.selectedItems.size && this.input.value === this.inputValue) {
            const item = this.items.filter(item => this.selectedItems.has(item.id));
            return !(this.formatter(item).toLowerCase() === this.input.value.toLowerCase());
        }
        return true;
    }
    /**
     * Helper function that return correct collection depending on filter status returend by shouldListBeFiltered
     */
    returnFilteredOrNonFiltered() {
        return this.processedItems
            ? this.shouldListBeFiltered()
                ? this.getFilteredItems()
                : this.sortFilteredItems(this.processedItems)
            : [];
    }
    /**
     * Updates the selected items based on the item id.
     * @param id
     * @private
     */
    async updateSelectedItems(id, emitEvent) {
        // for a multiple scenario wrap this in an if/else and just don't clear here
        this.selectedItems.clear();
        if (this.selectedItems) {
            if (this.selectedItems.has(id)) {
                this.selectedItems.delete(id);
            }
            else {
                this.selectedItems.add(id);
            }
        }
        if (emitEvent) {
            const item = this.selectedItems.size === 0 ? [] : this.items.filter(item => this.selectedItems.has(item.id));
            this.duetChange.emit({
                value: item[0].value,
                item: item[0],
                component: "duet-combobox",
            });
        }
        await this.updateInputText();
    }
    /**
     * Updates the input text based on the selected/clicked items.
     * @param bool -override to clear if invoked by "click outside"
     */
    async updateInputText(isBlurred = false, isClickOutside = false) {
        const item = this.selectedItems.size === 0 ? [] : this.items.filter(item => this.selectedItems.has(item.id));
        //if items changed and given id no longer exists
        if (item.length === 0 && this.selectedItems.size > 0) {
            this.selectedItems.clear();
            this.input.value = "";
            this.value = undefined;
            this.activeItem = undefined;
        }
        if (!isClickOutside && this.selectedItems.size === 1) {
            this.input.value = ""; // set value to empty so that cursor position follows accordingly
            this.input.value = await this.formatItem(item[0]);
            this.input.scrollLeft = this.input.scrollWidth;
            this.activeItem = undefined;
            this.value = item[0].value;
        }
        if (isBlurred && this.selectedItems.size === 0) {
            //if nothing is selected and a user clicks outside, we want the input field to clearly illustrate that nothing was selected
            if (this.force) {
                this.inputValue = "";
                this.input.value = "";
            }
            this.activeItem = undefined;
        }
        this.listOpen = false;
    }
    updateInputValue(e) {
        var _a;
        this.inputValue = e.detail.value;
        this.listOpen = String(this.inputValue).length >= this.minCharacters && ((_a = this.getFilteredItems()) === null || _a === void 0 ? void 0 : _a.length) > 0;
    }
    handleInputKeyDownEvent(e) {
        //if selection is made, close the list and update internal and external values
        // this should be set to undefined on everything BUT up/down arrow according to the aria 1.1 specs
        // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox
        this.input.accessibleActiveDescendant = undefined;
        if (isEnterKey(e)) {
            e.preventDefault();
            this.selectActiveItem();
            this.updateInputText(false);
            this.listOpen = false;
            return;
        }
        //tabbing out or escaping, restore initial state
        if (isEscapeKey(e) || isTabKey(e)) {
            this.updateInputText(true);
            this.listOpen = false;
            return;
        }
        //handle arrow up/down navigation
        let nextActiveItem = this.activeItem;
        if (isArrowUpKey(e)) {
            e.preventDefault();
            nextActiveItem = this.activeItem - 1;
        }
        else if (isArrowDownKey(e)) {
            e.preventDefault();
            nextActiveItem = this.listOpen ? this.activeItem + 1 : this.activeItem;
            this.listOpen = true;
        }
        if (isArrowDownKey(e) || isArrowUpKey(e)) {
            const listItems = this.shouldListBeFiltered() ? this.getFilteredItems() : this.processedItems;
            if (nextActiveItem < 0 || !nextActiveItem) {
                nextActiveItem = 0;
            }
            if (nextActiveItem >= listItems.length) {
                nextActiveItem = listItems.length - 1;
            }
            // this should be set to undefined on everything BUT up/down arrow according to the aria 1.1 specs
            // https://www.w3.org/TR/wai-aria-practices-1.1/#combobox
            this.input.accessibleActiveDescendant = "active_item";
            this.activeItem = nextActiveItem;
            this.scrollToActive();
        }
        this.announceActive();
        return;
    }
    selectActiveItem() {
        if (this.activeItem === undefined) {
            return;
        }
        const filteredItem = this.returnFilteredOrNonFiltered();
        const item = filteredItem[this.activeItem];
        this.updateSelectedItems(item.id, true);
    }
    announceActive(items) {
        if (!items) {
            items = this.returnFilteredOrNonFiltered();
        }
        if (this.activeItem === undefined || this.activeItem === -1) {
            return;
        }
        const item = items[this.activeItem];
        this.selectionMsg = structuredClone(this.formatLabel(item, items.length, this.items.length));
    }
    //function that scrolls to the li element with the class "active"
    scrollToActive() {
        const activeElement = this.listElement.querySelector(".active");
        if (activeElement) {
            activeElement.scrollIntoView({
                behavior: "smooth",
                block: "center",
            });
        }
    }
    formatLabel(item, length, itemsLength) {
        if (!item || itemsLength === undefined) {
            return "";
        }
        const labelString = length === itemsLength ? this.accessibleLabels.item : this.accessibleLabels.itemFiltered;
        return labelString
            .replace("{name}", String(item.name))
            .replace("{current}", String(this.activeItem + 1))
            .replace("{total}", String(length))
            .replace("{hiddenItems}", String(itemsLength - length));
    }
    /**
     * Filter the items based on the input value
     */
    getFilteredItems() {
        // filter items based on user inputs
        const filteredItems = this.processedItems.filter(item => {
            var _a, _b, _c, _d;
            // filter by name and value
            // if value contains inputvalue
            return ((_a = String(item.value)) === null || _a === void 0 ? void 0 : _a.toLowerCase()[this.filterType]((_b = this.inputValue) === null || _b === void 0 ? void 0 : _b.toLowerCase())) ||
                (
                // if name contains input value
                (_c = String(item.name)) === null || _c === void 0 ? void 0 : _c.toLowerCase()[this.filterType]((_d = this.inputValue) === null || _d === void 0 ? void 0 : _d.toLowerCase())) ||
                // if the item is selected
                this.selectedItems.has(item.id);
        });
        return this.sortFilteredItems(filteredItems);
    }
    /**
     * Sort the return from getFilteredItems so that any item with and item.id that matches this.selectedItems is placed first
     */
    sortFilteredItems(items) {
        if (items.length > 0) {
            items
                .filter(item => this.selectedItems.has(item.id))
                .forEach(item => {
                const index = items.indexOf(item);
                items.splice(index, 1);
                items.unshift(item);
            });
        }
        return items;
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "activeItem": ["activeItemHandler"],
        "items": ["processItems"],
        "value": ["processValue"],
        "listOpen": ["processListOpenChange"]
    }; }
    static get style() { return duetComboboxCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-combobox",
        "$members$": {
            "accessibleLabelDefaults": [1, "accessible-label-defaults"],
            "accessibleLabels": [1040],
            "theme": [1025],
            "force": [4],
            "items": [1032],
            "formatter": [16],
            "value": [1537],
            "minCharacters": [2, "min-characters"],
            "openListOnClick": [4, "open-list-on-click"],
            "filterType": [1, "filter-type"],
            "processedItems": [32],
            "inputWidth": [32],
            "inputValue": [32],
            "selectionMsg": [32],
            "listOpen": [32],
            "selectedItems": [32],
            "activeItem": [32],
            "formatItem": [64]
        },
        "$listeners$": [[4, "click", "handleDocumentClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["value", "value"]]
    }; }
}

const duetContactCardCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-contact-card,*.sc-duet-contact-card::after,*.sc-duet-contact-card::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-contact-card-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:12px !important;display:block}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-contact-card-h{margin:0 !important}/*!@::slotted(*)*/.sc-duet-contact-card-s>*{padding-top:1.5rem}@media (min-width: 48em){/*!@::slotted(*)*/.sc-duet-contact-card-s>*{grid-column:2/span 2;padding-top:0}}/*!@.duet-contact-card*/.duet-contact-card.sc-duet-contact-card{display:grid;grid-template-columns:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77)}/*!@.duet-contact-card.duet-theme-turva*/.duet-contact-card.duet-theme-turva.sc-duet-contact-card{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}@media (min-width: 48em){/*!@.duet-contact-card*/.duet-contact-card.sc-duet-contact-card{grid-template-columns:min-content minmax(0, 1fr) auto;gap:20px}}/*!@.duet-contact-card .image*/.duet-contact-card.sc-duet-contact-card .image.sc-duet-contact-card{width:4rem;height:4rem;margin-bottom:8px;border-radius:4px}@media (min-width: 48em){/*!@.duet-contact-card .image*/.duet-contact-card.sc-duet-contact-card .image.sc-duet-contact-card{width:6rem;height:6rem;padding-bottom:0}}/*!@.duet-contact-card .description*/.duet-contact-card.sc-duet-contact-card .description.sc-duet-contact-card{padding-bottom:8px}/*!@.duet-contact-card .email,\n.duet-contact-card .phone*/.duet-contact-card.sc-duet-contact-card .email.sc-duet-contact-card,.duet-contact-card.sc-duet-contact-card .phone.sc-duet-contact-card{display:grid;grid-template-columns:min-content auto;gap:8px;align-items:center;justify-content:flex-start;padding-bottom:8px;overflow-wrap:break-word}";

class DuetContactCard {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.phoneLabel = {
            en: "Phone",
            fi: "Puhelin",
            sv: "Telefon",
        };
        this.language = getLanguage();
        this.theme = "";
        this.margin = "auto";
        this.image = undefined;
        this.name = undefined;
        this.description = undefined;
        this.email = undefined;
        this.phone = undefined;
        this.buttonText = undefined;
        this.buttonIcon = "form-date";
        this.buttonUrl = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const isTurva = this.theme === "turva";
        const theme = isTurva ? "turva" : "default";
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("div", { class: {
                "duet-contact-card": true,
                "duet-theme-turva": this.theme === "turva",
            }, role: "group", "aria-label": this.name }, this.image ? hAsync("img", { class: "image", src: this.image, alt: this.name }) : hAsync("div", null), hAsync("div", null, this.name && (hAsync("duet-heading", { class: "name", level: "h3", margin: "none", theme: theme }, this.name)), this.description && (hAsync("duet-paragraph", { class: "description", margin: "none", theme: theme }, this.description)), this.email && (hAsync("div", { class: "email" }, hAsync("duet-icon", { name: "navigation-message", size: "x-small", color: "primary-dark", margin: "none", theme: theme }), hAsync("duet-link", { url: `mailto:${this.email}`, accessibleLabel: `Email: ${this.email}`, theme: theme }, this.email))), this.phone && (hAsync("div", { class: "phone" }, hAsync("duet-icon", { name: "form-tel", size: "x-small", color: "primary-dark", margin: "none", theme: theme }), hAsync("duet-link", { url: `tel:${this.phone}`, accessibleLabel: `${this.phoneLabel[this.language]}: ${this.phone}`, theme: theme }, this.phone)))), this.buttonUrl && this.buttonText && (hAsync("div", { class: "call-to-action" }, hAsync("duet-button", { variation: "default", icon: this.buttonIcon, fixed: true, margin: "none", url: this.buttonUrl, theme: theme }, this.buttonText))), hAsync("div", null), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetContactCardCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-contact-card",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "image": [1025],
            "name": [1025],
            "description": [1025],
            "email": [1025],
            "phone": [1025],
            "buttonText": [1025, "button-text"],
            "buttonIcon": [1025, "button-icon"],
            "buttonUrl": [1025, "button-url"],
            "language": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetCookieConsentCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-cookie-consent,*.sc-duet-cookie-consent::after,*.sc-duet-cookie-consent::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-cookie-consent-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:fixed;right:0;bottom:0;left:0;z-index:950;display:block;width:100%;box-shadow:0 2px 20px 0 rgba(0, 0, 0, 0.2)}@media (min-width: 48em){/*!@:host*/.sc-duet-cookie-consent-h{right:28px;bottom:28px;left:auto;width:25rem}}/*!@:host(:focus)*/.sc-duet-cookie-consent-h:focus{outline:0}/*!@:host(.user-is-tabbing:not(.descendant-focused):focus)*/.user-is-tabbing.sc-duet-cookie-consent-h:not(.descendant-focused):focus{border-radius:4px;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing:not(.descendant-focused).duet-theme-turva:focus)*/.user-is-tabbing.sc-duet-cookie-consent-h:not(.descendant-focused).duet-theme-turva:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-cookie-consent*/.duet-cookie-consent.sc-duet-cookie-consent{padding:20px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;color:rgb(255, 255, 255) !important;background-color:rgba(0, 21, 39, 0.9)}@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none){/*!@.duet-cookie-consent*/.duet-cookie-consent.sc-duet-cookie-consent{background:rgba(0, 21, 39, 0.8);-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}}/*!@.duet-cookie-consent.duet-theme-turva*/.duet-cookie-consent.duet-theme-turva.sc-duet-cookie-consent{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";background-color:rgba(12, 14, 29, 0.9)}@supports (-webkit-backdrop-filter: none) or (backdrop-filter: none){/*!@.duet-cookie-consent.duet-theme-turva*/.duet-cookie-consent.duet-theme-turva.sc-duet-cookie-consent{background:rgba(12, 14, 29, 0.8)}}@media (min-width: 48em){/*!@.duet-cookie-consent*/.duet-cookie-consent.sc-duet-cookie-consent{padding:20px;border-radius:4px}}/*!@.duet-cookie-consent-content*/.duet-cookie-consent-content.sc-duet-cookie-consent{display:flex;align-items:center;max-width:1110px;margin:0 auto}/*!@.duet-cookie-consent-content .expand*/.duet-cookie-consent-content.sc-duet-cookie-consent .expand.sc-duet-cookie-consent{flex:1}/*!@::slotted(a)*/.sc-duet-cookie-consent-s>a{font-weight:600;color:rgb(255, 255, 255) !important;text-decoration:underline;white-space:nowrap}/*!@::slotted(a[target=_blank])*/.sc-duet-cookie-consent-s>a[target=_blank]{padding-right:16px;background:url(\"data:image/svg+xml;base64,PHN2ZyBmaWxsPSIjZmZmIiB2aWV3Qm94PSIwIDAgMjQgMjQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEwLjUgMmExLjUgMS41IDAgMDEuMTQgM0gzLjc1Yy0uMzggMC0uNy4yOC0uNzQuNjVsLS4wMS4xdjE0LjVjMCAuMzguMjguNy42NS43NGwuMS4wMWgxNC41Yy4zOCAwIC43LS4yOC43NC0uNjVsLjAxLS4xdi02Ljg5YTEuNSAxLjUgMCAwMTMgMHY2Ljg5QTMuNzUgMy43NSAwIDAxMTguMjUgMjRIMy43NUEzLjc1IDMuNzUgMCAwMTAgMjAuMjVWNS43NUEzLjc1IDMuNzUgMCAwMTMuNzUgMnptMTItMmMuNzggMCAxLjQyLjYgMS41IDEuMzZWNy41YTEuNSAxLjUgMCAwMS0zIC4xNFY1LjEybC01LjQ0IDUuNDRhMS41IDEuNSAwIDAxLTIuMjItMmwuMS0uMTJMMTguODggM0gxNi41QTEuNSAxLjUgMCAwMTE1IDEuNjRWMS41YzAtLjc4LjYtMS40MiAxLjM2LTEuNWguMTR6Ii8+PC9zdmc+\") no-repeat right 50%;background-size:12px 10px}/*!@::slotted(a:focus)*/.sc-duet-cookie-consent-s>a:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva ::slotted(a:focus)*/.duet-theme-turva .sc-duet-cookie-consent-s>a:focus{outline:0;box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}";

class DuetCookieConsent {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetCookieConsent = createEvent$2(this, "duetCookieConsent", 7);
        this.handleClick = e => {
            e.preventDefault();
            this.duetCookieConsent.emit({ component: "duet-cookie-consent" });
        };
        this.accessibleLabel = "Hyväksyn evästeiden käytön";
        this.theme = "";
    }
    handleFocusIn(event) {
        const eventPath = event.composedPath();
        const actualEventTarget = eventPath[0];
        if (actualEventTarget !== this.element) {
            this.element.classList.add("descendant-focused");
        }
    }
    handleFocusOut() {
        this.element.classList.remove("descendant-focused");
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { tabindex: "0", class: { "duet-theme-turva": this.theme === "turva" } }, hAsync("div", { class: { "duet-cookie-consent": true, "duet-theme-turva": this.theme === "turva" } }, hAsync("div", { class: "duet-cookie-consent-content" }, hAsync("div", { class: "expand" }, hAsync("slot", null)), hAsync("duet-spacer", { size: "large", direction: "horizontal" }), hAsync("div", null, hAsync("duet-button", { variation: "negative", size: "small", onClick: this.handleClick, margin: "none", "aria-label": this.accessibleLabel, theme: this.theme }, "OK"))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetCookieConsentCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-cookie-consent",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025]
        },
        "$listeners$": [[0, "focusin", "handleFocusIn"], [0, "focusout", "handleFocusOut"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const DATE_FORMAT = /^(\d{1,2})[\.\-\/](\d{1,2})[\.\-\/](\d{4})$/;
const ISO_DATE_FORMAT = /^(\d{4})-(\d{2})-(\d{2})$/;
const DATE_OUTPUT_FORMAT = "dd.mm.yyyy";
const DATE_ISO_OUTPUT_FORMAT = "YYYY-MM-DD";
function createDate(year, month, day) {
    var dayInt = parseInt(day, 10);
    var monthInt = parseInt(month, 10);
    var yearInt = parseInt(year, 10);
    const isValid = Number.isInteger(yearInt) && // all parts should be integers
        Number.isInteger(monthInt) &&
        Number.isInteger(dayInt) &&
        monthInt > 0 && // month must be 1-12
        monthInt <= 12 &&
        dayInt > 0 && // day must be 1-31
        dayInt <= 31 &&
        yearInt > 0;
    if (isValid) {
        return new Date(yearInt, monthInt - 1, dayInt);
    }
}
/**
 * @param value date string in format dd.mm.yyyy
 */
function parseDate(value) {
    if (!value) {
        return;
    }
    const matches = value.match(DATE_FORMAT);
    if (matches) {
        return createDate(matches[3], matches[2], matches[1]);
    }
}
/**
 * @param value date string in ISO format YYYY-MM-DD
 */
function parseISODate(value) {
    if (!value) {
        return;
    }
    const matches = value.match(ISO_DATE_FORMAT);
    if (matches) {
        return createDate(matches[1], matches[2], matches[3]);
    }
}
/**
 * @param date the date to format as a Date
 * @param format the format string eg. "dd.mm.yyyy", "YYYY-MM-DD"
 */
function formatDate(date, format) {
    if (!date) {
        return "";
    }
    var d = date.getDate().toString(10);
    var m = (date.getMonth() + 1).toString(10);
    var y = date.getFullYear().toString(10);
    // days are not zero-indexed, so pad if less than 10
    if (date.getDate() < 10) {
        d = `0${d}`;
    }
    // months *are* zero-indexed, pad if less than 9!
    if (date.getMonth() < 9) {
        m = `0${m}`;
    }
    return format.replace(/MM/i, m).replace(/YYYY/i, y).replace(/DD/i, d);
}
/**
 * print date in format dd.mm.yyyy
 * @param date
 */
function printDate(date) {
    return formatDate(date, DATE_OUTPUT_FORMAT);
}
/**
 * print date in format YYYY-MM-DD
 * @param date
 */
function printISODate(date) {
    return formatDate(date, DATE_ISO_OUTPUT_FORMAT);
}
/**
 * Compare if two dates are equal in terms of day, month, and year
 */
function isEqual(a, b) {
    if (a == null || b == null) {
        return false;
    }
    return a.getFullYear() === b.getFullYear() && a.getMonth() === b.getMonth() && a.getDate() === b.getDate();
}
function addDays(date, days) {
    var d = new Date(date);
    d.setDate(d.getDate() + days);
    return d;
}
function startOfWeek(date, firstDayOfWeek = 1) {
    var d = new Date(date);
    var day = d.getDay();
    var diff = (day < firstDayOfWeek ? 7 : 0) + day - firstDayOfWeek;
    d.setDate(d.getDate() - diff);
    return d;
}
function endOfWeek(date, firstDayOfWeek = 1) {
    var d = new Date(date);
    var day = d.getDay();
    var diff = (day < firstDayOfWeek ? -7 : 0) + 6 - (day - firstDayOfWeek);
    d.setDate(d.getDate() + diff);
    return d;
}
function startOfMonth(date) {
    return new Date(date.getFullYear(), date.getMonth(), 1);
}
function endOfMonth(date) {
    return new Date(date.getFullYear(), date.getMonth() + 1, 0);
}
function setMonth(date, month) {
    const d = new Date(date);
    d.setMonth(month);
    return d;
}
function setYear(date, year) {
    const d = new Date(date);
    d.setFullYear(year);
    return d;
}
/**
 * Check if date is within a min and max
 */
function inRange(date, min, max) {
    return clamp$2(date, min, max) === date;
}
/**
 * Ensures date is within range, returns min or max if out of bounds
 */
function clamp$2(date, min, max) {
    const time = date.getTime();
    if (min && min instanceof Date && time < min.getTime()) {
        return min;
    }
    if (max && max instanceof Date && time > max.getTime()) {
        return max;
    }
    return date;
}

/**
 * Creates an array representing an inclusive numeric range.
 * `from` must be less than `to`
 * @param from
 * @param to
 */
function parseShortcut(str) {
    var _a;
    const press = str.trim().split("+");
    const key = press.pop();
    return [((_a = press[0]) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === "shift", key];
}
/**
 * Creates a keyboard event handler for handling keyboard shortcuts.
 * It currently only handles shift key as a modifier.
 * @param shortcuts a hash where keys are keyboard shortcuts, and values are handlers for those shortcuts
 * @example
 * element.addEventListener("keydown", createShortcuts({
 *  "PageDown": () => this.addMonths(1)
 *  "Shift+PageDown": () => this.addYears(1)
 * }))
 */
function createShortcuts(shortcuts) {
    const keyBindings = Object.keys(shortcuts).map(key => [parseShortcut(key), shortcuts[key]]);
    return function handleShortcuts(event) {
        if (!(event instanceof KeyboardEvent)) {
            return;
        }
        // we need to check both event.code and event.key
        // for browser support back to IE11
        const shortcut = keyBindings.find(([[shift, key]]) => {
            return (key.toUpperCase() === event.key.toUpperCase() || key === event.code) && shift === event.shiftKey;
        });
        if (shortcut) {
            shortcut[1](event);
            event.preventDefault();
        }
    };
}

const duetDatePickerCss = "*.sc-duet-date-picker,*.sc-duet-date-picker::after,*.sc-duet-date-picker::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-date-picker-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;position:relative;display:inline-flex;width:100%;min-width:calc(33.333% - 8px);max-width:100%;text-align:left;vertical-align:top}.sc-duet-date-picker-h:last-child,.sc-duet-date-picker-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-date-picker-h{width:calc(50% - 16px - 3px)}}.duet-expand.sc-duet-date-picker-h{width:100% !important}.duet-m-0.sc-duet-date-picker-h{margin:0 !important}.duet-date.sc-duet-date-picker{position:relative;width:100%}.duet-date.sc-duet-date-picker button.sc-duet-date-picker,.duet-date-dialog.sc-duet-date-picker button.sc-duet-date-picker{max-width:initial !important;min-height:initial !important;padding:0 !important;margin:0 !important;transition:initial}.duet-date-button.sc-duet-date-picker{-webkit-user-select:none;user-select:none;position:absolute;top:1px;right:1px;z-index:200;display:flex;align-items:center;justify-content:center;width:48px;height:calc(100% - 2px);color:rgb(0, 41, 77);cursor:pointer;background:transparent !important;border-left:1px solid rgb(207, 210, 212) !important;border-radius:0 4px 4px 0 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker{color:rgb(23, 28, 58);border-color:rgb(207, 207, 209)}.duet-date-button.sc-duet-date-picker::before{position:absolute;top:0;left:-6px;width:6px;height:100%;content:\"\";background:linear-gradient(to left, rgba(207, 210, 212, 0.2) 0%, rgba(207, 210, 212, 0.2) 1px, rgba(207, 210, 212, 0.1) 1px, rgba(207, 210, 212, 0) 100%)}.duet-date-button.sc-duet-date-picker:disabled{pointer-events:none;cursor:not-allowed;background:rgb(245, 248, 250) !important;border:0 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker:disabled{background:rgb(245, 245, 247) !important}.duet-date-button.sc-duet-date-picker:disabled::before{display:none}.duet-date-button.sc-duet-date-picker:disabled duet-icon.sc-duet-date-picker{opacity:0.4}.duet-date-button.sc-duet-date-picker duet-icon.sc-duet-date-picker{transform:translateY(-1px)}.duet-date-button.sc-duet-date-picker:active duet-icon.sc-duet-date-picker{transform:translateY(0)}.duet-date-button.sc-duet-date-picker:focus{color:rgb(0, 119, 179);border-color:transparent;outline:0;box-shadow:0 0 0 2px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker:focus{color:rgb(23, 28, 58);box-shadow:0 0 0 2px #171c3a !important}.duet-date-dialog.sc-duet-date-picker{position:absolute;top:100%;left:0;z-index:900;display:flex;width:100%;visibility:hidden;opacity:0;transition:transform 300ms ease, opacity 300ms ease, visibility 300ms ease;transform:scale(0.96) translateZ(0) translateY(-20px);transform-origin:top right}@media (min-width: 36em){.duet-date-dialog.left.sc-duet-date-picker{right:0;left:auto;width:auto}}@media (max-width: 35.9375em){.duet-date-dialog.sc-duet-date-picker{position:fixed;top:0;right:0;bottom:0;background:rgba(0, 41, 77, 0.75);transition:opacity 400ms ease, visibility 400ms ease;transform:translateZ(0);transform-origin:bottom center}.duet-date-dialog.duet-theme-turva.sc-duet-date-picker{background:rgba(23, 28, 58, 0.75)}}.duet-date-dialog.active.sc-duet-date-picker{visibility:visible;opacity:1;transition-property:transform, opacity;transform:scale(1.0001) translateZ(0) translateY(0)}@media (min-width: 36em){.duet-date-dialog.error.sc-duet-date-picker{top:calc(100% - 28px);margin-top:4px}}.duet-date-dialog-wrapper.sc-duet-date-picker{position:relative;z-index:600;width:100%;min-width:290px;max-width:310px;padding:16px 16px 20px;margin-top:8px;margin-left:auto;background:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;box-shadow:0 4px 10px 0 rgba(0, 41, 77, 0.15);transform:none}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-wrapper.sc-duet-date-picker{border-color:rgb(228, 228, 230)}@media (max-width: 35.9375em){.duet-date-dialog-wrapper.sc-duet-date-picker{position:absolute;bottom:0;left:0;z-index:900;max-width:none;min-height:25em;padding:0 8% 20px;margin:0;visibility:hidden;border:0;border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px;opacity:0;transition:transform 400ms ease, opacity 400ms ease, visibility 400ms ease;transform:translateZ(0) translateY(100%)}.active.sc-duet-date-picker .duet-date-dialog-wrapper.sc-duet-date-picker{visibility:visible;opacity:1;transition-property:transform, opacity;transform:translateZ(0) translateY(0)}}.duet-date-table.sc-duet-date-picker{width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);text-align:center;border-spacing:0;border-collapse:collapse}.duet-date-table.duet-theme-turva.sc-duet-date-picker{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-date-table.sc-duet-date-picker th.sc-duet-date-picker{padding-bottom:8px;font-size:0.75rem;font-weight:600;line-height:1.25;text-decoration:none;text-transform:uppercase;letter-spacing:1px}.duet-date-table.sc-duet-date-picker .duet-date-table-cell.sc-duet-date-picker{text-align:center}.duet-date-table-button.sc-duet-date-picker{position:relative;z-index:100;display:inline-block !important;width:36.9230769231px !important;height:36.9230769231px !important;min-height:initial !important;padding:0 !important;margin:0 !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25 !important;color:rgb(0, 41, 77) !important;text-align:center;vertical-align:initial !important;cursor:pointer;background:transparent !important;border-radius:50% !important;transition:initial !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\" !important;color:rgb(23, 28, 58) !important}.duet-date-table-button.sc-duet-date-picker:hover{background:rgb(230, 242, 248) !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:hover{background:rgb(249, 230, 234) !important}.duet-date-table-button.today.sc-duet-date-picker{z-index:200;color:rgb(0, 77, 128) !important;background:rgb(243, 249, 252) !important;box-shadow:0 0 0 1px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.today.sc-duet-date-picker{color:rgb(148, 9, 37) !important;background:rgb(252, 243, 244) !important;box-shadow:0 0 0 1px #171c3a !important}.duet-date-table-button[aria-pressed=true].sc-duet-date-picker,.duet-date-table-button.sc-duet-date-picker:focus{color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179) !important;outline:0}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button[aria-pressed=true].sc-duet-date-picker,.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:focus{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48) !important}.duet-date-table-button.sc-duet-date-picker:active{z-index:200;color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179) !important;box-shadow:0 0 5px 0 #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:active{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48) !important;box-shadow:0 0 5px 0 #171c3a !important}.duet-date-table-button.sc-duet-date-picker:focus{z-index:200;box-shadow:0 0 5px 0 #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:focus{box-shadow:0 0 5px 0 #171c3a !important}.duet-date-table-button.disabled.sc-duet-date-picker{color:rgb(144, 149, 153) !important;cursor:default;background:transparent !important;box-shadow:none !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.disabled.sc-duet-date-picker{color:rgb(116, 116, 117) !important;background:transparent !important;box-shadow:none !important}.duet-date-table-button.outside.sc-duet-date-picker{color:rgb(144, 149, 153) !important;pointer-events:none;cursor:default;background:rgb(245, 248, 250) !important;box-shadow:none;opacity:0.75}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.outside.sc-duet-date-picker{color:rgb(116, 116, 117);background:rgb(245, 245, 247);box-shadow:none}.duet-date-dialog-header.sc-duet-date-picker{margin-bottom:16px !important;display:flex;align-items:center;justify-content:space-between;width:100%}.duet-date-dialog-buttons.sc-duet-date-picker{white-space:nowrap}.duet-date-dialog-buttons.sc-duet-date-picker .sc-duet-date-picker::part(button){border:0}.duet-date-dialog-select.sc-duet-date-picker{position:relative;display:inline-flex;margin-top:4px}.duet-date-dialog-select.sc-duet-date-picker .duet-date-dialog-select-label.sc-duet-date-picker{position:relative;z-index:1;display:flex;align-items:center;width:100%;padding:0 8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1.25rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);pointer-events:none;border-radius:4px}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-select.sc-duet-date-picker .duet-date-dialog-select-label.sc-duet-date-picker{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-date-dialog-select.sc-duet-date-picker span.sc-duet-date-picker{margin-right:4px}.duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;font-size:1rem;cursor:pointer;opacity:0}.duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker:focus+.duet-date-dialog-select-label.sc-duet-date-picker{box-shadow:0 0 0 2px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker:focus+.duet-date-dialog-select-label.sc-duet-date-picker{box-shadow:0 0 0 2px #171c3a !important}.duet-date-dialog-mobile-header.sc-duet-date-picker{position:relative;display:flex;align-items:center;justify-content:space-between;width:120%;padding:12px 20px;margin-bottom:20px;margin-left:-10%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid rgb(207, 210, 212)}@media (min-width: 36em){.duet-date-dialog-mobile-header.sc-duet-date-picker{position:absolute;top:-8px;right:-8px;width:auto;padding:0;margin:0;overflow:visible;border:0}}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-mobile-header.sc-duet-date-picker{border-color:rgb(207, 207, 209)}.duet-date-dialog-mobile-header.sc-duet-date-picker duet-label.sc-duet-date-picker{display:inline-block;max-width:84%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 36em){.duet-date-dialog-mobile-header.sc-duet-date-picker duet-label.sc-duet-date-picker{display:none}}.duet-date-picker-close.sc-duet-date-picker{display:flex;align-items:center;justify-content:center;width:24px;height:24px !important;padding:0 !important;color:rgb(0, 41, 77) !important;cursor:pointer;background:rgb(245, 248, 250) !important;border-radius:50%;-webkit-appearance:none;appearance:none}@media (min-width: 36em){.duet-date-picker-close.sc-duet-date-picker{opacity:0}}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker{background:rgb(245, 245, 247) !important}.duet-date-picker-close.sc-duet-date-picker:hover{background:rgb(245, 248, 250) !important}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker:hover{background:rgb(245, 245, 247) !important}.duet-date-picker-close.sc-duet-date-picker:focus{outline:none;box-shadow:0 0 0 2px #0077b3 !important}@media (min-width: 36em){.duet-date-picker-close.sc-duet-date-picker:focus{opacity:1}}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker:focus{box-shadow:0 0 0 2px #171c3a !important}";

class DuetDatePicker {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.monthSelectId = createID("DuetDatePicker");
        this.yearSelectId = createID("DuetDatePicker");
        this.dialogLabelId = createID("DuetDatePicker");
        this.initialTouchX = null;
        this.initialTouchY = null;
        this.focusTarget = null;
        this.enableActiveFocus = () => {
            this.focusTarget = "day-button";
        };
        this.disableActiveFocus = () => {
            this.focusTarget = null;
        };
        this.toggleOpen = (e) => {
            e.preventDefault();
            this.open ? this.hide(false) : this.show();
        };
        this.handleBlur = (event) => {
            event.stopPropagation();
            this.duetBlur.emit({
                component: "duet-date-picker",
            });
        };
        this.handleFocus = (event) => {
            event.stopPropagation();
            this.duetFocus.emit({
                component: "duet-date-picker",
            });
        };
        this.handleTouchStart = (event) => {
            const touch = event.changedTouches[0];
            this.initialTouchX = touch.pageX;
            this.initialTouchY = touch.pageY;
        };
        this.handleTouchMove = (event) => {
            event.preventDefault();
        };
        this.handleTouchEnd = (event) => {
            const touch = event.changedTouches[0];
            const distX = touch.pageX - this.initialTouchX; // get horizontal dist traveled
            const distY = touch.pageY - this.initialTouchY; // get vertical dist traveled
            const threshold = 70;
            const isHorizontalSwipe = Math.abs(distX) >= threshold && Math.abs(distY) <= threshold;
            const isDownwardsSwipe = Math.abs(distY) >= threshold && Math.abs(distX) <= threshold && distY > 0;
            if (isHorizontalSwipe) {
                this.addMonths(distX < 0 ? 1 : -1);
            }
            else if (isDownwardsSwipe) {
                this.hide();
                event.preventDefault();
            }
            this.initialTouchY = null;
            this.initialTouchX = null;
        };
        this.handleNextMonthClick = (event) => {
            event.preventDefault();
            this.addMonths(1);
        };
        this.handlePreviousMonthClick = (event) => {
            event.preventDefault();
            this.addMonths(-1);
        };
        this.handleEscKey = createShortcuts({
            Escape: () => this.hide(),
            Esc: () => this.hide(), // IE-specific
        });
        this.handleKeyboardNavigation = createShortcuts({
            ArrowRight: () => this.addDays(1),
            Right: () => this.addDays(1), // IE does not have "Arrow" prefix
            ArrowLeft: () => this.addDays(-1),
            Left: () => this.addDays(-1),
            ArrowDown: () => this.addDays(7),
            Down: () => this.addDays(7),
            ArrowUp: () => this.addDays(-7),
            Up: () => this.addDays(-7),
            Home: () => this.startOfWeek(),
            End: () => this.endOfWeek(),
            PageUp: () => this.addMonths(-1),
            PageDown: () => this.addMonths(1),
            "Shift+PageUp": () => this.addYears(-1),
            "Shift+PageDown": () => this.addYears(1),
        });
        this.handleDaySelect = (_event, day) => {
            const min = parseISODate(this.min);
            const max = parseISODate(this.max);
            this.determineValidity(day);
            if (inRange(day, min, max)) {
                this.setValue(day);
                this.hide();
            }
        };
        this.handleMonthSelect = e => {
            this.setMonth(parseInt(e.target.value, 10));
        };
        this.handleYearSelect = e => {
            this.setYear(parseInt(e.target.value, 10));
        };
        this.handleInputChange = (e) => {
            this.inputValue = e.detail.value;
            const parsed = parseDate(this.inputValue);
            this.determineValidity(parsed);
            if (parsed || this.inputValue === "") {
                this.setValue(parsed);
            }
        };
        this.open = false;
        this.focusedDay = new Date();
        this.inputValue = "";
        this.theme = "";
        this.expand = false;
        this.name = "";
        this.identifier = "";
        this.label = "";
        this.caption = undefined;
        this.margin = "auto";
        this.language = getLanguage();
        this.placeholderDefaults = {
            fi: "pp.kk.vvvv",
            en: "dd.mm.yyyy",
            sv: "dd.mm.åååå",
        };
        this.placeholder = getLocaleString(this.placeholderDefaults, this.language);
        this.echoPlaceholder = false;
        this.disabled = false;
        this.error = "";
        this.labelHidden = false;
        this.role = undefined;
        this.accessibleActiveDescendant = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.required = false;
        this.direction = "right";
        this.tooltip = "";
        this.tooltipDirection = "auto";
        this.value = "";
        this.min = "";
        this.max = "";
        this.incrementYears = 10;
        this.validity = undefined;
    }
    updateValidity() {
        this.determineValidity(parseISODate(this.value));
    }
    updateInternalValue() {
        const parsedValue = parseISODate(this.value);
        const parsedInputValue = parseDate(this.inputValue);
        // an invalid or empty value should clear the input
        if (!parsedValue) {
            this.inputValue = "";
        }
        // but otherwise only update user's input if the new value is different to user's input
        else if (!isEqual(parsedValue, parsedInputValue)) {
            this.inputValue = printDate(parsedValue);
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.determineValidity(parseISODate(this.value));
        this.updateInternalValue();
    }
    componentDidUpdate() {
        // we want to run this code _after_ render
        // to ensure all elements are visible (and thus focusable)
        // hence using componentDidUpdate
        switch (this.focusTarget) {
            case "toggle-button":
                this.datePickerButton.focus();
                this.focusTarget = null;
                break;
            case "day-button":
                // we don't clear focusTarget here since this is cleared
                // already when focus is moved out of calendar table
                this.focusedDayNode.focus();
                break;
            case "month-select":
                this.monthSelectNode.focus();
                this.focusTarget = null;
                break;
        }
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "placeholder", defaults: "placeholderDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus on the date picker's input. Use this method instead of the global `focus()`.
     */
    async setFocus(options) {
        this.datePickerInput.setFocus(options);
    }
    /**
     * Show the calendar modal, moving focus to the calendar inside.
     */
    async show() {
        this.open = true;
        this.focusTarget = "month-select";
        this.setFocusedDay(parseISODate(this.value) || new Date());
    }
    /**
     * Hide the calendar modal. Set `moveFocusToButton` to false to prevent focus
     * returning to the date picker's button. Default is true.
     */
    async hide(moveFocusToButton = true) {
        this.open = false;
        if (moveFocusToButton) {
            this.focusTarget = "toggle-button";
        }
    }
    addDays(days) {
        this.setFocusedDay(addDays(this.focusedDay, days));
    }
    addMonths(months) {
        this.setMonth(this.focusedDay.getMonth() + months);
    }
    addYears(years) {
        this.setYear(this.focusedDay.getFullYear() + years);
    }
    startOfWeek() {
        this.setFocusedDay(startOfWeek(this.focusedDay));
    }
    endOfWeek() {
        this.setFocusedDay(endOfWeek(this.focusedDay));
    }
    setMonth(month) {
        const min = setMonth(startOfMonth(this.focusedDay), month);
        const max = endOfMonth(min);
        const date = setMonth(this.focusedDay, month);
        this.setFocusedDay(clamp$2(date, min, max));
    }
    setYear(year) {
        const min = setYear(startOfMonth(this.focusedDay), year);
        const max = endOfMonth(min);
        const date = setYear(this.focusedDay, year);
        this.setFocusedDay(clamp$2(date, min, max));
    }
    setFocusedDay(day) {
        this.focusedDay = clamp$2(day, parseISODate(this.min), parseISODate(this.max));
    }
    determineValidity(date) {
        var _a, _b;
        const inputValue = (_b = (_a = this.datePickerInput) === null || _a === void 0 ? void 0 : _a.value) !== null && _b !== void 0 ? _b : "";
        const badInput = inputValue !== "" && date == null;
        const valueMissing = this.required && date == null;
        const rangeOverflow = date ? !inRange(date, null, parseISODate(this.max)) : false;
        const rangeUnderflow = date ? !inRange(date, parseISODate(this.min)) : false;
        this.validity = {
            patternMismatch: false,
            customError: false,
            stepMismatch: false,
            tooLong: false,
            tooShort: false,
            typeMismatch: false,
            valueMissing,
            badInput,
            rangeUnderflow,
            rangeOverflow,
            valid: !(valueMissing || badInput || rangeUnderflow || rangeOverflow),
        };
    }
    setValue(date) {
        const newValue = printISODate(date);
        if (newValue === this.value) {
            return;
        }
        this.value = newValue;
        this.duetChange.emit({
            component: "duet-date-picker",
            value: this.value,
            valueAsDate: date,
        });
    }
    handleDocumentClick(e) {
        if (!this.open) {
            return;
        }
        // the dialog and the button aren't considered clicks outside.
        // dialog for obvious reasons, but the button needs to be skipped
        // so that two things are possible:
        //
        // a) clicking again on the button when dialog is open should close the modal.
        //    without skipping the button here, we would see a click outside
        //    _and_ a click on the button, so the `open` state goes
        //    open -> close (click outside) -> open (click button)
        //
        // b) clicking another date picker's button should close the current calendar
        //    and open the new one. this means we can't stopPropagation() on the button itself
        const isClickOutside = e
            .composedPath()
            .every(node => node !== this.dialogWrapperNode && node !== this.datePickerButton);
        if (isClickOutside) {
            this.hide(false);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "min": ["updateValidity"],
        "max": ["updateValidity"],
        "value": ["updateValidity", "updateInternalValue"],
        "required": ["updateValidity"]
    }; }
    static get style() { return duetDatePickerCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-date-picker",
        "$members$": {
            "theme": [1025],
            "expand": [4],
            "name": [1],
            "identifier": [1],
            "label": [1],
            "caption": [1],
            "margin": [1],
            "language": [1537],
            "placeholderDefaults": [1, "placeholder-default"],
            "placeholder": [1025],
            "echoPlaceholder": [1540, "echo-placeholder"],
            "disabled": [516],
            "error": [1],
            "labelHidden": [4, "label-hidden"],
            "role": [1],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "required": [4],
            "direction": [1],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "value": [1537],
            "min": [1],
            "max": [1],
            "incrementYears": [2, "increment"],
            "validity": [1040],
            "open": [32],
            "focusedDay": [32],
            "inputValue": [32],
            "setFocus": [64],
            "show": [64],
            "hide": [64]
        },
        "$listeners$": [[4, "click", "handleDocumentClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"], ["echoPlaceholder", "echo-placeholder"], ["disabled", "disabled"], ["value", "value"]]
    }; }
}

const duetDividerCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-divider,*.sc-duet-divider::after,*.sc-duet-divider::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-divider-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-divider*/.duet-divider.sc-duet-divider{-webkit-user-select:none;user-select:none;display:block;width:100%;height:1px;margin-top:36px !important;margin-bottom:28px;background:rgb(225, 227, 230)}/*!@.duet-divider.duet-p-0*/.duet-divider.duet-p-0.sc-duet-divider{padding:0 !important}/*!@.duet-divider.duet-m-0*/.duet-divider.duet-m-0.sc-duet-divider{margin:0 !important}/*!@.duet-divider.duet-m-s*/.duet-divider.duet-m-s.sc-duet-divider{margin-bottom:16px !important;margin-top:0 !important}/*!@.duet-divider.duet-theme-turva*/.duet-divider.duet-theme-turva.sc-duet-divider{background:rgb(228, 228, 230)}";

class DuetDivider {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.color = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const background = getColorByName(this.color);
        return (hAsync("div", { class: {
                "duet-m-0": this.margin === "none",
                "duet-m-s": this.margin === "small",
                "duet-divider": true,
                "duet-theme-turva": this.theme === "turva",
            }, style: { background } }));
    }
    get element() { return getElement(this); }
    static get style() { return duetDividerCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-divider",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "color": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

//simple functional component that renders the data in the table
const TableData = ({ data, groupId, alignment }, _children) => {
    const classNames = `duet-editable-table duet-editable-table-content-${groupId}`;
    if (typeof data === "string") {
        return hAsync("td", { innerHTML: data, class: classNames, part: `${groupId}content`, style: { verticalAlign: alignment } });
    }
    else {
        return (hAsync("td", { class: classNames, part: `${groupId}content`, style: { verticalAlign: alignment } }, data));
    }
};

const duetEditableTableCss = ".sc-duet-editable-table-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-editable-table-actions-menu.sc-duet-editable-table{position:relative;padding:0 !important;margin:0}.duet-editable-table-actions-menu-button.sc-duet-editable-table{position:relative;right:-16px;float:right;padding:0}.duet-editable-table-actions-menu-icon.sc-duet-editable-table .duet-icon.sc-duet-editable-table{max-width:16px;max-height:16px}.duet-editable-table-row.duet-table-action-row.sc-duet-editable-table .duet-text-right.sc-duet-editable-table{text-align:right}.duet-editable-table-header.sc-duet-editable-table tr.sc-duet-editable-table .duet-editable-table-header-hidden.sc-duet-editable-table{padding:0 !important;font-size:0;border-bottom:0}";

class DuetEditableTable {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetTableToggle = createEvent$2(this, "duetTableToggle", 7);
        this.duetMenuClick = createEvent$2(this, "duetMenuClick", 7);
        this.hasHeadSlotFirst = false;
        this.hasHeadSlotLast = false;
        this.hasFootSlot = false;
        this.sortableDefaultLabel = {
            fi: "Järjestä",
            en: "Click to sort",
            sv: "Klicka för att sortera",
        };
        this.actionColumnLabel = {
            en: "Actions for rows",
            fi: "Toiminnot rivillä",
            sv: "Åtgärder för rader",
        };
        /**
         * Private methods.
         */
        this.toggleColumn = (column, e) => {
            e.preventDefault();
            const { sort_order, direction, index, key } = column;
            this.duetTableToggle.emit({
                sort_order,
                index,
                direction,
                key,
                component: "duet-editable-table",
                originalEvent: e,
            });
        };
        this.handleKeyDown = (column, e) => {
            if (isKeyboardClick(e)) {
                this.toggleColumn(column, e);
            }
        };
        this.language = getLanguage();
        this.margin = "auto";
        this.variation = "striped";
        this.sticky = false;
        this.stickyDistance = "with-links";
        this.breakpoint = "small";
        this.actions = undefined;
        this.columns = undefined;
        this.rows = undefined;
        this.sortable = false;
        this.groupId = "";
        this.theme = "";
        this.accessibleRole = undefined;
        this.hideHeadVisually = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasHeadSlotFirst = !!this.element.querySelector("[slot='thead-first']");
        this.hasHeadSlotLast = !!this.element.querySelector("[slot='thead-last']");
        this.hasFootSlot = !!this.element.querySelector("[slot='tfoot']");
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    createLabel(column) {
        const { sort_order, direction, index, label } = column;
        const i18nLabel = getLocaleString(label);
        if (!this.sortable) {
            return i18nLabel;
        }
        const getButtonIcon = () => {
            // "action-subtract-small" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-subtract-small.svg
            // "action-arrow-down-small" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-arrow-down-small.svg
            // "action-arrow-up-small" https://cdn.duetds.com/api/icons/2.2.12/lib/assets/action-arrow-up-small.svg
            if (!!sort_order && direction === 1) {
                return "action-arrow-down-small";
            }
            else if (!!sort_order && direction === -1) {
                return "action-arrow-up-small";
            }
            return "action-subtract-small";
        };
        return (hAsync("span", { class: "duet-table-label", "data-index": index }, hAsync("duet-button", { size: "small", icon: getButtonIcon(), "icon-size": "medium-small", "accessible-label": this.sortableDefaultLabel[this.language], variation: "plain", margin: "none", "icon-right": true, onClick: event => this.toggleColumn(column, event), onKeyDown: event => this.handleKeyDown(column, event) }, i18nLabel)));
    }
    getSortedColumns() {
        //create a new array from sort instead of mutating original
        return [...this.columns].sort(fieldSorter(["index"]));
    }
    getRowSortOrder() {
        //create a new array from sort instead of mutating original
        const fields = [...this.columns].sort(fieldSorter(["sort_order"]));
        //return only key from objects that have sort_order
        return fields
            .filter(column => column.sort_order)
            .map(column => {
            // add - in-front of descending direction (required by field-sorter)
            return column.direction === -1 ? `-${column.key}` : column.key;
        });
    }
    renderTableHeader() {
        if (!this.columns) {
            return;
        }
        const sortedColumns = this.getSortedColumns();
        return (hAsync("tr", { class: {
                "duet-table-action-header": !!this.actions,
            } }, sortedColumns.map(column => {
            if (column.display !== false) {
                const label = this.createLabel(column);
                return label !== "" ? hAsync("th", { scope: "col" }, label) : hAsync("td", null);
            }
        }), this.actions && (hAsync("th", { scope: "col", class: "duet-table-action-header-heading" }, this.actions && hAsync("duet-visually-hidden", null, this.actionColumnLabel[this.language])))));
    }
    renderActions(rowItem, index) {
        // escape early
        if (!this.actions) {
            return;
        }
        // iterate through actions and add them in the sidebar
        return (hAsync("td", { class: "duet-text-right" }, this.actions.map(actionItem => {
            return (hAsync("duet-action-button", { actionMeta: Object.assign({}, (rowItem === null || rowItem === void 0 ? void 0 : rowItem.meta) || {}, { index }), actionId: (rowItem === null || rowItem === void 0 ? void 0 : rowItem.uid) || (rowItem === null || rowItem === void 0 ? void 0 : rowItem.id) || null, actionName: actionItem.name, theme: this.theme, iconName: actionItem.icon, iconColor: actionItem.color, iconSize: actionItem.size, background: actionItem.background, "accessible-label": `${rowItem.actionDescription || ""} ${getLocaleString(actionItem.label)} ` }));
        })));
    }
    renderTableBody() {
        const columns = this.getSortedColumns();
        const rowSortOrder = this.getRowSortOrder();
        const sortedRows = [...this.rows].sort(fieldSorter(rowSortOrder));
        // return a tbody with rows for each item in sortedRows
        return sortedRows.map((row, index) => (hAsync("tr", { class: {
                "duet-table-action-row": !!this.actions,
                "duet-editable-table-row": true,
                [`duet-editable-table-row-${this.groupId}`]: true,
            }, "data-meta": JSON.stringify(row.meta) }, columns.map(column => {
            //if we don't have any data for this column, try getting an item instead (for backwards compatibility
            const value = row[column.key] ? row[column.key] : row.item;
            if (column.display !== false) {
                return hAsync(TableData, { data: value, groupId: this.groupId });
            }
        }), this.actions && this.renderActions(row, index))));
    }
    /**
     * Render Methods
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetEditableTableCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-editable-table",
        "$members$": {
            "margin": [1],
            "variation": [1],
            "sticky": [4],
            "stickyDistance": [1, "sticky-distance"],
            "breakpoint": [1],
            "actions": [1040],
            "columns": [1040],
            "rows": [1040],
            "sortable": [4],
            "groupId": [1, "group-id"],
            "theme": [1025],
            "accessibleRole": [1, "accessible-role"],
            "hideHeadVisually": [4, "hide-head-visually"],
            "language": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetEmptyStateCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-empty-state,*.sc-duet-empty-state::after,*.sc-duet-empty-state::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-empty-state-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%;height:100%}/*!@.duet-empty-state*/.duet-empty-state.sc-duet-empty-state{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%;padding:48px;color:rgb(0, 41, 77);text-align:center;background:rgb(245, 248, 250);border-radius:4px}/*!@.duet-empty-state.duet-theme-turva*/.duet-empty-state.duet-theme-turva.sc-duet-empty-state{color:rgb(23, 28, 58);background:rgb(245, 245, 247)}";

class DuetEmptyState {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.icon = "messaging-question";
        this.size = "medium";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-empty-state": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-is-small": this.size === "small",
            } }, hAsync("duet-icon", { color: "currentColor", name: this.icon, size: this.size === "small" ? "large" : "x-large" }), hAsync("div", null, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetEmptyStateCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-empty-state",
        "$members$": {
            "theme": [1025],
            "icon": [1],
            "size": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetFieldsetCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-fieldset,*.sc-duet-fieldset::after,*.sc-duet-fieldset::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-fieldset-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:12px !important;display:block;width:100%}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-fieldset-h{margin:0 !important}/*!@fieldset*/fieldset.sc-duet-fieldset{position:relative;width:100%;min-width:0;border:0}/*!@fieldset legend*/fieldset.sc-duet-fieldset legend.sc-duet-fieldset{position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}/*!@.duet-legend-wrapper*/.duet-legend-wrapper.sc-duet-fieldset{position:relative;display:block;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77);text-align:left;background:transparent}/*!@.duet-legend-wrapper.duet-legend-compact:not(.duet-legend-has-caption)*/.duet-legend-wrapper.duet-legend-compact.sc-duet-fieldset:not(.duet-legend-has-caption){line-height:1.25}/*!@.duet-theme-turva .duet-legend-wrapper*/.duet-theme-turva.sc-duet-fieldset .duet-legend-wrapper.sc-duet-fieldset{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-fieldset-label*/.duet-fieldset-label.sc-duet-fieldset{margin-bottom:12px !important;margin-top:8px}/*!@.duet-legend-has-caption .duet-fieldset-label*/.duet-legend-has-caption.sc-duet-fieldset .duet-fieldset-label.sc-duet-fieldset{margin-bottom:6px !important}/*!@.duet-legend-has-tooltip .duet-fieldset-label*/.duet-legend-has-tooltip.sc-duet-fieldset .duet-fieldset-label.sc-duet-fieldset{padding-right:36px}@media (min-width: 48em){/*!@.duet-legend-has-tooltip .duet-fieldset-label*/.duet-legend-has-tooltip.sc-duet-fieldset .duet-fieldset-label.sc-duet-fieldset{margin-bottom:3px !important;padding-right:0}}@media (min-width: 48em){/*!@.duet-legend-has-tooltip.duet-legend-has-caption .duet-fieldset-label*/.duet-legend-has-tooltip.duet-legend-has-caption.sc-duet-fieldset .duet-fieldset-label.sc-duet-fieldset{margin-bottom:-3px !important}}/*!@.duet-fieldset-caption*/.duet-fieldset-caption.sc-duet-fieldset{margin-bottom:12px !important}/*!@.duet-fieldset-help*/.duet-fieldset-help.sc-duet-fieldset{display:block;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(222, 35, 98);border-radius:4px}/*!@.duet-fieldset-help span*/.duet-fieldset-help.sc-duet-fieldset span.sc-duet-fieldset{display:block;margin-top:12px}/*!@.duet-theme-turva .duet-fieldset-help*/.duet-theme-turva.sc-duet-fieldset .duet-fieldset-help.sc-duet-fieldset{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(224, 42, 13)}/*!@::slotted(duet-tooltip)*/.sc-duet-fieldset-s>duet-tooltip{position:absolute;top:4px;right:0}@media (min-width: 48em){/*!@::slotted(duet-tooltip)*/.sc-duet-fieldset-s>duet-tooltip{position:relative;right:auto}}/*!@.duet-legend-hidden*/.duet-legend-hidden.sc-duet-fieldset{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}";

/**
 * @slot unnamed default slot - The component’s primary content. All child nodes that do not have a slot attribute defined are inserted into this primary slot.
 * @slot tooltip - Use to place a tooltip alongside the fieldset label.
 */
class DuetFieldset {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.errorId = createID("DuetError");
        this.labelId = createID("DuetLabel");
        this.checkHasTooltip = () => {
            this.hasTooltip = hasSlot(this.element, "tooltip");
        };
        this.hasTooltip = false;
        this.theme = "";
        this.margin = "auto";
        this.caption = undefined;
        this.label = undefined;
        this.compactLabel = false;
        this.error = undefined;
        this.accessibleLiveError = "polite";
        this.labelHeadingLevel = "h3";
        this.labelHidden = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.checkHasTooltip();
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("fieldset", { "aria-labelledby": this.labelId, "aria-describedby": this.error ? this.errorId : null,
            // NVDA and VoiceOver do not yet support aria-errormessage
            // once they do, we can remove errors from the aria-describedby
            // aria-errormessage={this.error ? this.errorId : null}
            class: {
                "duet-fieldset": true,
                "duet-theme-turva": this.theme === "turva",
            } }, hAsync("legend", { id: this.labelId }, hAsync(this.labelHeadingLevel, null, this.label), this.caption && hAsync("span", null, this.caption)), hAsync("div", { class: {
                "duet-legend-wrapper": true,
                "duet-legend-has-caption": !!this.caption,
                "duet-legend-has-tooltip": this.hasTooltip,
                "duet-legend-hidden": this.labelHidden,
                "duet-legend-compact": this.compactLabel,
            } }, hAsync("div", { class: "duet-fieldset-label" }, hAsync("span", { "aria-hidden": "true" }, this.label), hAsync("slot", { onSlotchange: this.checkHasTooltip, name: "tooltip" })), this.caption && (hAsync("div", { class: "duet-fieldset-caption", "aria-hidden": "true" }, hAsync("duet-caption", { margin: "none" }, this.caption)))), hAsync("slot", null), hAsync("span", { class: "duet-fieldset-help", id: this.errorId, "aria-atomic": "true", "aria-live": this.accessibleLiveError, "aria-relevant": "additions removals" }, this.error && hAsync("span", null, this.error)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetFieldsetCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-fieldset",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "caption": [1],
            "label": [1],
            "compactLabel": [4, "compact-label"],
            "error": [1],
            "accessibleLiveError": [1, "accessible-live-error"],
            "labelHeadingLevel": [1, "label-heading-level"],
            "labelHidden": [4, "label-hidden"],
            "hasTooltip": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

var actionArrowRight={"title":"action-arrow-right","tags":"action arrow right caret","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M5.499 24a.752.752 0 0 1-.53-1.281L15.689 12 4.969 1.28c-.142-.141-.22-.33-.22-.53s.078-.389.22-.53c.141-.142.33-.22.53-.22s.389.078.53.22l10.72 10.72a1.5 1.5 0 0 1 .001 2.119L6.029 23.78a.743.743 0 0 1-.53.22z\"/></svg>"};

var actionNewWindow={"title":"action-new-window","tags":"arrow open new window tab external link square box rectangle action","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M10.25 2a.75.75 0 1 1 0 1.5h-6.5A2.252 2.252 0 0 0 1.5 5.75v14.5a2.252 2.252 0 0 0 2.25 2.25h14.5a2.252 2.252 0 0 0 2.25-2.25v-6.5a.75.75 0 0 1 1.5 0v6.5A3.754 3.754 0 0 1 18.25 24H3.75A3.754 3.754 0 0 1 0 20.25V5.75A3.754 3.754 0 0 1 3.75 2zm12.985-2c.1 0 .198.02.29.058l.025.011a.726.726 0 0 1 .15.091l.066.059a.755.755 0 0 1 .109.138l.051.1c.04.092.06.192.06.293l-.001 6.363c0 .2-.078.389-.22.53a.743.743 0 0 1-.53.22.743.743 0 0 1-.53-.22.743.743 0 0 1-.22-.53V2.559L15.28 9.764a.75.75 0 0 1-1.06-1.06l7.204-7.205h-4.553a.744.744 0 0 1-.75-.75c0-.2.078-.388.22-.53A.743.743 0 0 1 16.87 0z\"/></svg>"};

var actionNewWindowSmall={"title":"action-new-window-small","tags":"arrow open new window tab external linksquare box rectangle action small","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M10.5 2a1.5 1.5 0 0 1 .14 3H3.75c-.38 0-.7.28-.74.65l-.01.1v14.5c0 .38.28.7.65.74l.1.01h14.5c.38 0 .7-.28.74-.65l.01-.1v-6.89a1.5 1.5 0 0 1 3 0v6.89A3.75 3.75 0 0 1 18.25 24H3.75A3.75 3.75 0 0 1 0 20.25V5.75A3.75 3.75 0 0 1 3.75 2zm12-2c.78 0 1.42.6 1.5 1.36V7.5a1.5 1.5 0 0 1-3 .14V5.12l-5.44 5.44a1.5 1.5 0 0 1-2.22-2l.1-.12L18.88 3H16.5A1.5 1.5 0 0 1 15 1.64V1.5c0-.78.6-1.42 1.36-1.5h.14z\"/></svg>"};

const duetFooterCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-footer,*.sc-duet-footer::after,*.sc-duet-footer::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-footer-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;flex-shrink:0;width:100%}/*!@::slotted([slot=info])*/.sc-duet-footer-s>[slot=info]{padding:0 28px;margin-top:36px}@media (min-width: 62em){/*!@::slotted([slot=info])*/.sc-duet-footer-s>[slot=info]{padding:0;margin:0}}/*!@.duet-footer*/.duet-footer.sc-duet-footer{display:block;width:100%;padding-top:20px;padding-bottom:16px;margin-top:48px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(255, 255, 255);text-align:left;background:rgb(0, 41, 77)}/*!@.duet-footer.duet-p-0*/.duet-footer.duet-p-0.sc-duet-footer{padding:0 !important}/*!@.duet-footer.duet-m-0*/.duet-footer.duet-m-0.sc-duet-footer{margin:0 !important}@media (min-width: 36em){/*!@.duet-footer*/.duet-footer.sc-duet-footer{padding-top:36px}}@media (min-width: 62em){/*!@.duet-footer*/.duet-footer.sc-duet-footer{padding-top:48px;padding-bottom:36px}}/*!@.duet-footer.duet-theme-turva*/.duet-footer.duet-theme-turva.sc-duet-footer{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";background:rgb(198, 12, 48)}/*!@.duet-footer a*/.duet-footer.sc-duet-footer a.sc-duet-footer{color:rgb(255, 255, 255);text-decoration:none}@media (min-width: 62em){/*!@.duet-footer a*/.duet-footer.sc-duet-footer a.sc-duet-footer{border-radius:4px}}/*!@.duet-footer a:focus*/.duet-footer.sc-duet-footer a.sc-duet-footer:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-footer a:focus*/.user-is-tabbing.sc-duet-footer-h .duet-footer.sc-duet-footer a.sc-duet-footer:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva a:focus*/.user-is-tabbing.sc-duet-footer-h .duet-theme-turva.sc-duet-footer a.sc-duet-footer:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-footer-wrapper*/.duet-footer-wrapper.sc-duet-footer{position:relative;margin:0 auto}@media (min-width: 62em){/*!@.duet-footer-wrapper*/.duet-footer-wrapper.sc-duet-footer{padding:0 72px 0 48px}}@media (min-width: 76.25em){/*!@.duet-footer-wrapper*/.duet-footer-wrapper.sc-duet-footer{max-width:1110px;padding:0 20px 0 0}}/*!@.duet-footer-top*/.duet-footer-top.sc-duet-footer{width:100%}@media (min-width: 62em){/*!@.duet-footer-top*/.duet-footer-top.sc-duet-footer{display:flex;flex-direction:row;align-items:center;justify-content:space-between}}/*!@.duet-footer-top .footer-top-logo*/.duet-footer-top.sc-duet-footer .footer-top-logo.sc-duet-footer{flex-grow:1}/*!@.duet-footer-top .footer-top-right-container*/.duet-footer-top.sc-duet-footer .footer-top-right-container.sc-duet-footer{flex-grow:1.5}/*!@.duet-footer-top .footer-top-items*/.duet-footer-top.sc-duet-footer .footer-top-items.sc-duet-footer{display:flex;flex-direction:column;justify-content:space-between}@media (min-width: 62em){/*!@.duet-footer-top .footer-top-items*/.duet-footer-top.sc-duet-footer .footer-top-items.sc-duet-footer{flex-direction:row}}/*!@duet-logo*/duet-logo.sc-duet-footer{margin-left:16px !important}@media (min-width: 36em){/*!@duet-logo*/duet-logo.sc-duet-footer{margin-left:28px !important}}@media (min-width: 62em){/*!@duet-logo*/duet-logo.sc-duet-footer{margin-left:0 !important}}/*!@.duet-footer-link*/.duet-footer-link.sc-duet-footer{padding:16px !important;display:flex;flex-direction:row;align-items:center;width:100%;font-weight:600;border-bottom:1px solid rgba(255, 255, 255, 0.2);transition:background-color 300ms ease}@media (min-width: 36em){/*!@.duet-footer-link*/.duet-footer-link.sc-duet-footer{padding-right:20px !important;padding-left:28px !important}}@media (min-width: 62em){/*!@.duet-footer-link*/.duet-footer-link.sc-duet-footer{width:auto;min-width:0;padding-right:0 !important;padding-left:0 !important;border:0}}/*!@.duet-footer-link:first-of-type*/.duet-footer-link.sc-duet-footer:first-of-type{margin-top:20px;border-top:1px solid rgba(255, 255, 255, 0.2)}@media (min-width: 62em){/*!@.duet-footer-link:first-of-type*/.duet-footer-link.sc-duet-footer:first-of-type{margin:0;border:0}}/*!@.duet-footer-link span*/.duet-footer-link.sc-duet-footer span.sc-duet-footer{display:inline-block;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}/*!@.duet-footer-link:hover*/.duet-footer-link.sc-duet-footer:hover{background:rgba(0, 0, 0, 0.1)}@media (min-width: 62em){/*!@.duet-footer-link:hover*/.duet-footer-link.sc-duet-footer:hover{background:transparent}}/*!@.duet-footer-icon*/.duet-footer-icon.sc-duet-footer{display:flex;align-items:center;justify-content:center;padding:12px;margin-right:16px;background:rgb(0, 119, 179);border-radius:50%;transition:300ms ease}/*!@.duet-theme-turva .duet-footer-icon*/.duet-theme-turva.sc-duet-footer .duet-footer-icon.sc-duet-footer{background:transparent;box-shadow:0 0 0 1px #fff}/*!@a:hover .duet-footer-icon*/a.sc-duet-footer:hover .duet-footer-icon.sc-duet-footer{background:#006ba1}/*!@.duet-theme-turva a:hover .duet-footer-icon*/.duet-theme-turva.sc-duet-footer a.sc-duet-footer:hover .duet-footer-icon.sc-duet-footer{background:transparent}/*!@.duet-footer-arrow*/.duet-footer-arrow.sc-duet-footer{display:flex;align-items:center;justify-content:center;width:20px;min-width:20px;max-width:20px;height:20px;max-height:20px;margin-left:auto;color:rgb(255, 255, 255);transition:transform 300ms ease}@media (min-width: 62em){/*!@.duet-footer-arrow*/.duet-footer-arrow.sc-duet-footer{width:10px;min-width:10px;margin-top:3px;margin-left:8px}}@media (min-width: 62em){/*!@.duet-footer-arrow*/.duet-footer-arrow.sc-duet-footer{margin-right:0}}/*!@a:hover .duet-footer-arrow*/a.sc-duet-footer:hover .duet-footer-arrow.sc-duet-footer{transform:translateX(4px)}/*!@.duet-footer-arrow duet-icon*/.duet-footer-arrow.sc-duet-footer duet-icon.sc-duet-footer{width:20px;height:20px}@media (min-width: 62em){/*!@.duet-footer-arrow duet-icon*/.duet-footer-arrow.sc-duet-footer duet-icon.sc-duet-footer{width:10px;height:10px}}/*!@.duet-footer-menu*/.duet-footer-menu.sc-duet-footer{padding:20px !important;display:flex;gap:2rem;font-size:0.875rem}@media (min-width: 36em){/*!@.duet-footer-menu*/.duet-footer-menu.sc-duet-footer{padding:28px !important}}@media (min-width: 62em){/*!@.duet-footer-menu*/.duet-footer-menu.sc-duet-footer{padding-left:8px !important}}/*!@.duet-footer-menu a*/.duet-footer-menu.sc-duet-footer a.sc-duet-footer{display:inline-block;text-decoration:none;overflow-wrap:break-word}/*!@.duet-footer-menu a:hover, .duet-footer-menu a:focus*/.duet-footer-menu.sc-duet-footer a.sc-duet-footer:hover,.duet-footer-menu.sc-duet-footer a.sc-duet-footer:focus{text-decoration:underline}/*!@.duet-footer-menu a:hover .duet-footer-divider, .duet-footer-menu a:focus .duet-footer-divider*/.duet-footer-menu.sc-duet-footer a.sc-duet-footer:hover .duet-footer-divider.sc-duet-footer,.duet-footer-menu.sc-duet-footer a.sc-duet-footer:focus .duet-footer-divider.sc-duet-footer{text-decoration:none}/*!@.duet-footer-menu .duet-footer-divider*/.duet-footer-menu.sc-duet-footer .duet-footer-divider.sc-duet-footer{display:inline-block;margin:0 8px}/*!@.duet-footer-menu .duet-footer-divider-copyright*/.duet-footer-menu.sc-duet-footer .duet-footer-divider-copyright.sc-duet-footer{display:none}/*!@.duet-footer-menu .duet-footer-menu-links*/.duet-footer-menu.sc-duet-footer .duet-footer-menu-links.sc-duet-footer{flex:1}@media (min-width: 62em){/*!@.duet-footer-menu .duet-footer-menu-links*/.duet-footer-menu.sc-duet-footer .duet-footer-menu-links.sc-duet-footer{text-align:right}}/*!@.duet-footer-menu a:last-of-type .duet-footer-divider*/.duet-footer-menu.sc-duet-footer a.sc-duet-footer:last-of-type .duet-footer-divider.sc-duet-footer{display:none}/*!@.duet-footer-copyright*/.duet-footer-copyright.sc-duet-footer{display:none;font-size:0.875rem;color:rgb(255, 255, 255)}@media (min-width: 62em){/*!@.duet-footer-copyright*/.duet-footer-copyright.sc-duet-footer{display:inline}}/*!@.duet-footer-copyright.duet-footer-copyright-mobile*/.duet-footer-copyright.duet-footer-copyright-mobile.sc-duet-footer{display:block;padding-top:0.5rem;padding-bottom:1.25rem;padding-left:2rem;text-align:left}@media (min-width: 62em){/*!@.duet-footer-copyright.duet-footer-copyright-mobile*/.duet-footer-copyright.duet-footer-copyright-mobile.sc-duet-footer{display:none}}/*!@.duet-footer-simple*/.duet-footer-simple.sc-duet-footer{padding:0;margin:0;margin-top:16px;color:rgb(0, 41, 77);background:transparent !important;border-top:1px solid rgb(225, 227, 230)}/*!@.duet-footer-simple .duet-footer-wrapper*/.duet-footer-simple.sc-duet-footer .duet-footer-wrapper.sc-duet-footer{max-width:100%;padding:0 20px;margin:0}@media (min-width: 62em){/*!@.duet-footer-simple .duet-footer-wrapper*/.duet-footer-simple.sc-duet-footer .duet-footer-wrapper.sc-duet-footer{padding:0 36px}}@media (min-width: 106.25em){/*!@.duet-footer-simple .duet-footer-wrapper*/.duet-footer-simple.sc-duet-footer .duet-footer-wrapper.sc-duet-footer{padding:0 48px}}/*!@.duet-footer-simple .duet-footer-copyright,\n.duet-footer-simple .duet-footer-menu a*/.duet-footer-simple.sc-duet-footer .duet-footer-copyright.sc-duet-footer,.duet-footer-simple.sc-duet-footer .duet-footer-menu.sc-duet-footer a.sc-duet-footer{color:rgb(0, 41, 77)}/*!@.duet-footer-simple .duet-footer-menu*/.duet-footer-simple.sc-duet-footer .duet-footer-menu.sc-duet-footer{padding:20px 0 !important}/*!@.duet-footer-simple .duet-footer-copyright-mobile*/.duet-footer-simple.sc-duet-footer .duet-footer-copyright-mobile.sc-duet-footer{padding-left:0}/*!@.duet-footer-simple.duet-theme-turva*/.duet-footer-simple.duet-theme-turva.sc-duet-footer{color:rgb(23, 28, 58);border-color:rgb(228, 228, 230)}/*!@.duet-footer-simple.duet-theme-turva .duet-footer-copyright,\n.duet-footer-simple.duet-theme-turva .duet-footer-menu a*/.duet-footer-simple.duet-theme-turva.sc-duet-footer .duet-footer-copyright.sc-duet-footer,.duet-footer-simple.duet-theme-turva.sc-duet-footer .duet-footer-menu.sc-duet-footer a.sc-duet-footer{color:rgb(23, 28, 58)}/*!@.duet-footer-external*/.duet-footer-external.sc-duet-footer{display:inline-block;margin-left:4px;color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-footer-external*/.duet-theme-turva.sc-duet-footer .duet-footer-external.sc-duet-footer{color:rgb(255, 255, 255)}/*!@.duet-footer-simple.duet-theme-turva .duet-footer-external*/.duet-footer-simple.duet-theme-turva.sc-duet-footer .duet-footer-external.sc-duet-footer{color:rgb(198, 12, 48)}";

const i18n$1 = {
    fi: { lahi: "© LähiTapiola", turva: "© Turva" },
    sv: { lahi: "© LokalTapiola", turva: "© Turva" },
    en: { lahi: "© LocalTapiola", turva: "© Turva" },
};
const createEvent$1 = (ev, data) => ({
    component: "duet-footer",
    data,
    originalEvent: ev,
});
/**
 * @slot extra - A slot for extra links.
 * @slot info - A slot for additional info above footer items.
 * @part top - piercing selector for styling the top part of the footer
 * @part menu - piercing selector for styling the menu section of the footer
 */
class DuetFooter {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetLogoClick = createEvent$2(this, "duetLogoClick", 7);
        this.duetMenuClick = createEvent$2(this, "duetMenuClick", 7);
        this.duetItemClick = createEvent$2(this, "duetItemClick", 7);
        this.duetAnalytics = createEvent$2(this, "duetAnalytics", 7);
        this.duetEvent = createEvent$2(this, "duetEvent", 7);
        /**
         * Component event handling.
         */
        this.handleClick = (event) => {
            if (event.data.analyticsId) {
                this.duetAnalytics.emit({
                    component: "duet-footer",
                    analyticsId: event.data.analyticsId,
                });
            }
            this.duetChange.emit(event);
        };
        this.handleLogoClick = (ev) => {
            const e = createEvent$1(ev, { href: this.logoHref, label: "logo" });
            this.duetLogoClick.emit(e);
            this.handleClick(e);
        };
        this.handleMenuClick = (ev, data) => {
            const e = createEvent$1(ev, data);
            this.handleClick(e);
            this.duetMenuClick.emit(e);
        };
        this.handleItemClick = (ev, data) => {
            const e = createEvent$1(ev, data);
            this.handleClick(e);
            this.duetItemClick.emit(e);
        };
        this.emitDuetEvent = (ev, data) => {
            this.duetEvent.emit({
                component: "duet-footer",
                data,
                originalEvent: ev,
            });
        };
        this.processedMainItem = null;
        this.processedItems = null;
        this.processedMenu = null;
        this.theme = "";
        this.variation = "default";
        this.margin = "auto";
        this.logoHref = "/";
        this.language = getLanguage();
        this.items = undefined;
        this.accessibleLabel = undefined;
        this.accessibleLabelExternalDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelExternal = getLocaleString(this.accessibleLabelExternalDefaults);
        this.menu = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.refresh();
        this.hasInfoSlot = Array.from(this.element.children).filter(el => el.matches("[slot='info']")).length > 0
            ;
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, {
            prop: "accessibleLabelExternal",
            defaults: "accessibleLabelExternalDefaults",
        });
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Local methods
     */
    async refresh() {
        this.processedItems = parsePossibleJSON(this.items);
        this.processedMenu = parsePossibleJSON(this.menu);
    }
    renderFooterTop() {
        const logo = (hAsync("div", { class: {
                "footer-top-logo": this.hasInfoSlot,
            } }, this.variation !== "simple" && (hAsync("duet-logo", { href: this.logoHref, onClick: this.handleLogoClick, size: "large", inverse: true, language: this.language, theme: this.theme }))));
        const footerItems = this.processedItems &&
            this.variation !== "simple" &&
            this.processedItems.map(item => (hAsync("a", { class: "duet-footer-link", href: item.href, id: item.id, target: item.external ? "_blank" : "_self", onClick: event => this.handleItemClick(event, item), onMouseEnter: event => this.emitDuetEvent(event, item), onTouchStart: event => this.emitDuetEvent(event, item) }, hAsync("div", { class: "duet-footer-icon" }, hAsync("duet-icon", { size: "medium", margin: "none", name: item.icon, color: "currentColor" })), hAsync("span", null, item.label), !item.hideArrow && (hAsync(Fragment, null, item.external && hAsync("duet-visually-hidden", null, ", ", this.accessibleLabelExternal), hAsync("div", { class: "duet-footer-arrow" }, item.external ? (hAsync("duet-icon", { icon: actionNewWindow.svg, size: "xx-small", margin: "none", color: "currentColor" })) : (hAsync("duet-icon", { icon: actionArrowRight.svg, size: "auto", margin: "none", color: "currentColor" }))))))));
        if (this.hasInfoSlot) {
            return (hAsync(Fragment, null, logo, hAsync("div", { class: "footer-top-right-container" }, hAsync("slot", { name: "info" }), hAsync("div", { class: "footer-top-items" }, footerItems))));
        }
        return (hAsync(Fragment, null, logo, footerItems));
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const text = getLocaleString(i18n$1);
        const copyrightLabel = this.theme === "turva" ? text.turva : text.lahi;
        return (hAsync("footer", { class: {
                "duet-footer": true,
                "duet-m-0": this.margin === "none",
                "duet-theme-turva": this.theme === "turva",
                "duet-footer-simple": this.variation === "simple",
            }, "aria-label": this.accessibleLabel }, hAsync("div", { class: "duet-footer-wrapper" }, hAsync("div", { class: "duet-footer-top", part: "top" }, this.renderFooterTop()), hAsync("slot", { name: "extra" }), hAsync("p", { class: "duet-footer-menu", part: "menu" }, hAsync("span", { class: "duet-footer-copyright" }, `${copyrightLabel} ${new Date().getFullYear()}`), hAsync("div", { class: "duet-footer-menu-links" }, this.processedMenu && (hAsync(Fragment, null, this.processedMenu.map(item => (hAsync("a", { href: item.href, id: item.id, target: item.external ? "_blank" : "_self", onClick: event => this.handleMenuClick(event, item), onMouseEnter: event => this.emitDuetEvent(event, item), onTouchStart: event => this.emitDuetEvent(event, item) }, item.label, item.external && (hAsync(Fragment, null, hAsync("duet-visually-hidden", null, ", ", this.accessibleLabelExternal), hAsync("div", { class: "duet-footer-external" }, hAsync("duet-icon", { icon: actionNewWindowSmall.svg, size: "xx-small", margin: "none", color: "currentColor" })))), hAsync("span", { class: "duet-footer-divider", role: "presentation", "aria-hidden": "true" }, "/")))))))), hAsync("p", { class: "duet-footer-copyright duet-footer-copyright-mobile" }, `${copyrightLabel} ${new Date().getFullYear()}`))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "menu": ["refresh"],
        "items": ["refresh"]
    }; }
    static get style() { return duetFooterCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-footer",
        "$members$": {
            "theme": [1025],
            "variation": [1],
            "margin": [1],
            "logoHref": [1, "logo-href"],
            "language": [1537],
            "items": [8],
            "accessibleLabel": [1, "accessible-label"],
            "accessibleLabelExternalDefaults": [1, "accessible-label-external-default"],
            "accessibleLabelExternal": [1025, "accessible-label-external"],
            "menu": [8],
            "processedMainItem": [32],
            "processedItems": [32],
            "processedMenu": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"]]
    }; }
}

const watchFor = (containerEl, tagName, onChange, changeHandler, options = {
    childList: true,
    subtree: true,
}) => {
    let mutation;
    if (typeof MutationObserver !== "undefined") {
        mutation = new MutationObserver(mutationList => {
            onChange(changeHandler(mutationList, tagName));
        });
        mutation.observe(containerEl, options);
    }
    return mutation;
};
const watchForOptions = (containerEl, tagName, onChange) => {
    return watchFor(containerEl, tagName, onChange, getSelectedOption);
};
const watchForElement = (containerEl, tagName, onChange) => {
    return watchFor(containerEl, tagName, onChange, getElementItem, {
        childList: true,
        subtree: true,
    });
};
const getElementItem = (mutationList) => {
    let addedNode = false;
    let removedNode = false;
    mutationList.forEach(mut => {
        if (mut.addedNodes.length) {
            addedNode = true;
        }
        if (mut.removedNodes.length) {
            removedNode = true;
        }
    });
    return { addedNode, removedNode, mutationList };
};
const getSelectedOption = (mutationList, tagName) => {
    let newOption;
    mutationList.forEach(mut => {
        // tslint:disable-next-line: prefer-for-of
        for (let i = 0; i < mut.addedNodes.length; i++) {
            newOption = findCheckedOption(mut.addedNodes[i], tagName) || newOption;
        }
    });
    return newOption;
};
const findCheckedOption = (el, tagName) => {
    if (el.nodeType !== 1) {
        return undefined;
    }
    const options = el.tagName === tagName.toUpperCase() ? [el] : Array.from(el.querySelectorAll(tagName));
    return options.find((o) => o.checked === true);
};

const duetGridCss = ".sc-duet-grid-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-grid-variation-flex.sc-duet-grid-h{display:flex !important;flex-direction:column !important;align-items:flex-start !important;justify-content:flex-start !important;width:100%;max-width:100%;height:auto}.duet-grid-variation-flex.duet-grid-breakpoint-x-small.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-grid-breakpoint-x-small.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}@media (max-width: 22.5em){.duet-grid-variation-flex.duet-grid-breakpoint-x-small.sc-duet-grid-h{flex-direction:column !important}}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-grid-breakpoint-small.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-grid-breakpoint-medium.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-breakpoint-large.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-grid-breakpoint-large.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-grid-breakpoint-x-large.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}}.duet-grid-variation-flex.duet-grid-wrap.sc-duet-grid-h{flex-wrap:wrap !important}.duet-grid-variation-flex.duet-no-stacking.sc-duet-grid-h{flex-direction:row !important}.duet-grid-variation-flex.duet-no-stacking.duet-grid-row-reverse.sc-duet-grid-h{flex-direction:row-reverse !important}.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-x-small.sc-duet-grid-h{flex-direction:column !important}@media (max-width: 35.9375em){.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-x-small.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-small.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-medium.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-large.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-large.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:column !important}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-direction-vertical.duet-grid-breakpoint-x-large.sc-duet-grid-h{flex-direction:column !important}}.duet-grid-variation-flex.duet-grid-align-top.duet-no-stacking.sc-duet-grid-h{align-items:flex-start !important}.duet-grid-variation-flex.duet-grid-align-bottom.duet-no-stacking.sc-duet-grid-h{align-items:flex-end !important}.duet-grid-variation-flex.duet-grid-align-center.duet-no-stacking.sc-duet-grid-h{align-items:center !important}.duet-grid-variation-flex.duet-grid-align-stretch.duet-no-stacking.sc-duet-grid-h{align-items:stretch !important}.duet-grid-variation-flex.duet-grid-align-baseline.duet-no-stacking.sc-duet-grid-h{align-items:baseline !important}.duet-grid-variation-flex.duet-grid-align-top.duet-grid-breakpoint-x-small.sc-duet-grid-h{align-items:flex-start !important}.duet-grid-variation-flex.duet-grid-align-bottom.duet-grid-breakpoint-x-small.sc-duet-grid-h{align-items:flex-end !important}.duet-grid-variation-flex.duet-grid-align-center.duet-grid-breakpoint-x-small.sc-duet-grid-h{align-items:center !important}.duet-grid-variation-flex.duet-grid-align-stretch.duet-grid-breakpoint-x-small.sc-duet-grid-h{align-items:stretch !important}.duet-grid-variation-flex.duet-grid-align-baseline.duet-grid-breakpoint-x-small.sc-duet-grid-h{align-items:baseline !important}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-align-top.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-align-bottom.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-align-center.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:center !important}}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-align-stretch.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 36em){.duet-grid-variation-flex.duet-grid-align-baseline.duet-grid-breakpoint-small.sc-duet-grid-h{align-items:baseline !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-align-top.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-align-bottom.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-align-center.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:center !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-align-stretch.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 48em){.duet-grid-variation-flex.duet-grid-align-baseline.duet-grid-breakpoint-medium.sc-duet-grid-h{align-items:baseline !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-align-top.duet-grid-breakpoint-large.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-align-bottom.duet-grid-breakpoint-large.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-align-center.duet-grid-breakpoint-large.sc-duet-grid-h{align-items:center !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-align-stretch.duet-grid-breakpoint-large.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 62em){.duet-grid-variation-flex.duet-grid-align-baseline.duet-grid-breakpoint-large.sc-duet-grid-h{align-items:baseline !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-align-top.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:flex-start !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-align-bottom.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:flex-end !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-align-center.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:center !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-align-stretch.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:stretch !important}}@media (min-width: 64.0625em){.duet-grid-variation-flex.duet-grid-align-baseline.duet-grid-breakpoint-x-large.sc-duet-grid-h{align-items:baseline !important}}.duet-grid-variation-flex.duet-grid-distribution-left.sc-duet-grid-h{justify-content:flex-start !important}.duet-grid-variation-flex.duet-grid-distribution-right.sc-duet-grid-h{justify-content:flex-end !important}.duet-grid-variation-flex.duet-grid-distribution-center.sc-duet-grid-h{justify-content:center !important}.duet-grid-variation-flex.duet-grid-distribution-between.sc-duet-grid-h{justify-content:space-between !important}.duet-grid-variation-flex.duet-grid-distribution-around.sc-duet-grid-h{justify-content:space-around !important}.duet-grid-variation-flex.duet-grid-distribution-evenly.sc-duet-grid-h{justify-content:space-evenly !important}@media (max-width: 35.9375em){.duet-grid-variation-flex.duet-grid-mobile-left.sc-duet-grid-h{align-items:flex-start !important;justify-content:flex-start !important;text-align:left !important}}@media (max-width: 35.9375em){.duet-grid-variation-flex.duet-grid-mobile-center.sc-duet-grid-h{align-items:center !important;justify-content:center !important;text-align:center !important}.duet-grid-variation-flex.duet-grid-mobile-center.sc-duet-grid-h *.sc-duet-grid{text-align:center !important}}@media (max-width: 35.9375em){.duet-grid-variation-flex.duet-grid-mobile-right.sc-duet-grid-h{align-items:flex-end !important;justify-content:flex-end !important;text-align:right !important}.duet-grid-variation-flex.duet-grid-mobile-right.sc-duet-grid-h *.sc-duet-grid{text-align:right !important}}.duet-grid-variation-grid.sc-duet-grid-h{display:grid;grid-template-rows:repeat(1, 1fr);grid-template-columns:repeat(4, minmax(0, 1fr));gap:16px;align-items:flex-start;justify-content:center;margin:0 20px}@media (min-width: 36em){.duet-grid-variation-grid.sc-duet-grid-h{gap:24px;margin:0 40px}}@media (min-width: 48em){.duet-grid-variation-grid.sc-duet-grid-h{grid-template-columns:repeat(8, 55px);gap:24px 32px;margin:0 auto}}@media (min-width: 62em){.duet-grid-variation-grid.sc-duet-grid-h{grid-template-columns:repeat(12, minmax(0, 1fr));margin:0 64px}}@media (min-width: 76.25em){.duet-grid-variation-grid.sc-duet-grid-h{grid-template-columns:repeat(12, 55px);gap:40px;margin:0 auto}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-small.sc-duet-grid-s>*{grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-small.sc-duet-grid-s>*{grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-small.sc-duet-grid-s>*{grid-column:3/span 8}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-medium.sc-duet-grid-s>*{grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-medium.sc-duet-grid-s>*{grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-medium.sc-duet-grid-s>*{grid-column:2/span 10}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-large.sc-duet-grid-s>*{grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-large.sc-duet-grid-s>*{grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-large.sc-duet-grid-s>*{grid-column:1/span 12}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(1){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(1){grid-column:1/span 8}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(2){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(2){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-right.sc-duet-grid-s>:nth-child(2){grid-column:9/span 4}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(1){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(2){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(2){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-sidebar-left.sc-duet-grid-s>:nth-child(2){grid-column:5/span 8}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 6}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(2){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(2){grid-column:5/span 4}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-two-columns.sc-duet-grid-s>:nth-child(2){grid-column:7/span 6}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(1){grid-column:1/span 4}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(2){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(2){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(2){grid-column:5/span 4}}.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(3){grid-column:1/span 4}@media (min-width: 48em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(3){grid-column:1/span 8}}@media (min-width: 62em){.sc-duet-grid-h.duet-grid-variation-grid.duet-grid-template-three-columns.sc-duet-grid-s>:nth-child(3){grid-column:9/span 4}}";

function isGridItem(element) {
    return element.tagName.toLowerCase() === "duet-grid-item";
}
class DuetGrid {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.mql = [
            window.matchMedia(media_query_large.replace(/'/g, "")),
            window.matchMedia(media_query_medium.replace(/'/g, "")),
            window.matchMedia(media_query_small.replace(/'/g, "")),
        ];
        this.distributeFormElement = false;
        this.responsive = false;
        this.breakpoint = "small";
        this.direction = "horizontal";
        this.rowReverse = false;
        this.alignment = "top";
        this.distribution = "default";
        this.mobile = "";
        this.gridTemplate = null;
    }
    /**
     * Private functions
     */
    /**
     * Returns the element height including margins
     * @param element - element
     * @returns {number}
     */
    outerHeight(element) {
        const height = element.offsetHeight, style = window.getComputedStyle(element);
        return ["top", "bottom"]
            .map(side => parseInt(style[`margin-${side}`]))
            .reduce((total, side) => total + side, height);
    }
    /**
     * Component lifecycle events.
     */
    async connectedCallback() {
        const el = this.element;
        this.distributeFormElement = this.alignment === "form_distribute";
        this.mutationO = watchForOptions(el, "duet-grid-item", () => {
            this.updateGridItems();
        });
        // the next two functions are used to watch for changes in the grid items, and are process intensive - so only run when needed
        if (this.distributeFormElement) {
            this.mutation1 = watchForElement(el, "duet-input", () => {
                this.updateGridItemsWithInputFields();
            });
            // listen for potential mediaquery changes and reset layout
            for (let i = 0; i < this.mql.length; i++) {
                // addEventListener is not available in Stencil hydrate
                if (this.mql[i].addEventListener) {
                    this.mql[i].addEventListener("change", this.updateGridItemsWithInputFields.bind(this));
                }
            }
        }
        this.updateGridItems();
    }
    disconnectedCallback() {
        if (this.mutationO) {
            this.mutationO.disconnect();
            this.mutationO = undefined;
        }
        if (this.mutation1) {
            this.mutation1.disconnect();
            this.mutation1 = undefined;
        }
        // listen for potential mediaquery changes and reset layout
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.updateGridItemsWithInputFields.bind(this));
            }
        }
    }
    /**
     * Local methods
     */
    async updateGridItems() {
        const items = Array.from(this.element.children).filter(isGridItem);
        items.forEach(item => {
            item.responsive = this.responsive;
            item.breakpoint = this.breakpoint;
            item.direction = this.direction;
        });
    }
    async updateGridItemsWithInputFields() {
        const items = Array.from(this.element.children).filter(isGridItem);
        // if layout changes to columns instead of row, remove all padding
        const hasColumnLayout = window ? window.getComputedStyle(this.element).flexDirection === "column" : false;
        let maxHeight = 0;
        const sizes = [];
        items.forEach(item => {
            const inputErrorDom = item.querySelector("span.duet-input-error");
            const height = inputErrorDom ? this.outerHeight(inputErrorDom) : 0;
            sizes.push(height);
        });
        maxHeight = Math.max(...sizes);
        items.forEach(item => {
            const inputErrorDom = item.querySelector("span.duet-input-error");
            const height = inputErrorDom ? this.outerHeight(inputErrorDom) : 0;
            if (height < maxHeight && !hasColumnLayout) {
                item.setAttribute("style", `padding-bottom: ${maxHeight - height}px;`);
            }
            else if (height === maxHeight || hasColumnLayout) {
                item.setAttribute("style", `padding-bottom: 0px;`);
            }
        });
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "responsive": ["updateGridItems"],
        "breakpoint": ["updateGridItems"],
        "direction": ["updateGridItems"]
    }; }
    static get style() { return duetGridCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-grid",
        "$members$": {
            "responsive": [4],
            "breakpoint": [1],
            "direction": [1],
            "rowReverse": [4, "row-reverse"],
            "alignment": [1],
            "distribution": [1],
            "mobile": [1],
            "gridTemplate": [1, "grid-template"],
            "distributeFormElement": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetGridItemCss = ".sc-duet-grid-item-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:16px !important;min-width:0;max-width:100%;flex:0 0 auto;padding-right:8px;padding-left:8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-style:normal;font-weight:400;line-height:1.5;color:rgb(0, 41, 77)}.duet-grid-direction-horizontal.sc-duet-grid-item-h:first-child,.duet-grid-direction-horizontal.sc-duet-grid-item-h:first-of-type{padding-left:0}.duet-grid-direction-horizontal.sc-duet-grid-item-h:last-child,.duet-grid-direction-horizontal.sc-duet-grid-item-h:last-of-type{padding-right:0}@media (max-width: 35.9375em){.duet-grid-item-responsive.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important;padding-right:0;padding-left:0}}@media screen and (max-width: 47.9375em){.duet-grid-item-br-medium.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important}}@media screen and (max-width: 47.9375em){.duet-grid-item-responsive.duet-grid-item-br-medium.sc-duet-grid-item-h{padding-right:0;padding-left:0}}@media screen and (max-width: 64em){.duet-grid-item-br-x-large.sc-duet-grid-item-h{width:100% !important;min-width:0 !important;max-width:100% !important}}@media screen and (max-width: 64em){.duet-grid-item-responsive.duet-grid-item-br-x-large.sc-duet-grid-item-h{padding-right:0;padding-left:0}}.duet-grid-item-fill.sc-duet-grid-item-h{flex:1 1 auto;width:100%}.duet-theme-turva.sc-duet-grid-item-h{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-m-0.sc-duet-grid-item-h{padding:0 !important;margin:0 !important}";

class DuetGridItem {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.fill = false;
        this.maxWidth = undefined;
        this.minWidth = undefined;
        this.theme = "";
        this.margin = "auto";
        this.responsive = false;
        this.direction = "horizontal";
        this.breakpoint = "small";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    static get style() { return duetGridItemCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-grid-item",
        "$members$": {
            "fill": [4],
            "maxWidth": [1, "max-width"],
            "minWidth": [1, "min-width"],
            "theme": [1025],
            "margin": [1],
            "responsive": [4],
            "direction": [1],
            "breakpoint": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

var formSearch={"title":"form-search","tags":"form search magnifying glass","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M23.245 23.996a.743.743 0 0 1-.53-.22L16.2 17.26a9.824 9.824 0 0 1-2.553 1.579 9.766 9.766 0 0 1-7.51.069 9.745 9.745 0 0 1-5.359-5.262c-1.025-2.412-1.05-5.08-.069-7.51S3.558 1.802 5.97.777a9.744 9.744 0 0 1 7.51-.069c2.431.981 4.334 2.849 5.359 5.262s1.05 5.08.069 7.51a9.807 9.807 0 0 1-1.649 2.718l6.517 6.518a.75.75 0 0 1-.531 1.28zM9.807 1.49a8.259 8.259 0 0 0-3.25.667c-2.044.869-3.627 2.481-4.458 4.54s-.81 4.318.058 6.362a8.26 8.26 0 0 0 4.54 4.458 8.259 8.259 0 0 0 6.362-.059 8.285 8.285 0 0 0 2.594-1.736.365.365 0 0 1 .077-.076 8.245 8.245 0 0 0 1.786-2.728 8.255 8.255 0 0 0-.059-6.362 8.257 8.257 0 0 0-4.54-4.458 8.28 8.28 0 0 0-3.11-.608z\"/></svg>"};

var navigationContactDropdown={"title":"navigation-contact-dropdown","tags":"navigation contact dropdown speech bubbles","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M20.247 24a.743.743 0 0 1-.53-.22l-4.28-4.28h-.439c-3.308 0-6-2.692-6-6s2.692-6 6-6h3c3.309.001 6 2.692 6 6a5.974 5.974 0 0 1-3 5.179v4.571a.75.75 0 0 1-.751.75zm-5.25-15c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5h.75c.198 0 .391.08.53.22l3.22 3.22v-3.213c0-.289.169-.555.429-.678a4.51 4.51 0 0 0 2.571-4.049 4.504 4.504 0 0 0-4.498-4.499h-3.002z\"/><path d=\"M3.747 16.5a.747.747 0 0 1-.75-.75v-4.57a5.967 5.967 0 0 1-2.65-3.171A5.948 5.948 0 0 1 .57 3.431 6.014 6.014 0 0 1 5.985 0h3.012a6.04 6.04 0 0 1 5.752 4.286.751.751 0 0 1-.718.964.755.755 0 0 1-.719-.536A4.531 4.531 0 0 0 8.997 1.5h-3a4.511 4.511 0 0 0-4.071 2.572c-.512 1.084-.571 2.302-.167 3.431s1.224 2.032 2.308 2.545c.261.123.43.39.43.678v3.214l1.72-1.72a.744.744 0 0 1 1.06 0 .752.752 0 0 1 0 1.061l-3 3a.744.744 0 0 1-.53.219z\"/></svg>"};

var navigationLanguage={"title":"navigation-language","tags":"navigation language earth world map","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M11.996 24c-2.732 0-5.309-.901-7.453-2.605l-.017-.012-.031-.025a12.68 12.68 0 0 1-.238-.196c-.071-.06-.142-.122-.213-.184l-.143-.126c-.13-.118-.257-.24-.381-.363l-.018-.018a11.904 11.904 0 0 1-3.445-9.695l.001-.007c.018-.174.041-.348.067-.523l.019-.125c.028-.174.058-.348.093-.521l.003-.013C1.379 4.031 6.321 0 11.996 0c6.617 0 12 5.383 12 12 0 1.083-.148 2.164-.44 3.214l-.009.032a12.172 12.172 0 0 1-.671 1.809s-.072.155-.1.212a11.896 11.896 0 0 1-.189.368A11.987 11.987 0 0 1 11.996 24zm-6.181-3.519a10.388 10.388 0 0 0 6.181 2.019c3.471 0 6.642-1.669 8.611-4.497h-.59a2.244 2.244 0 0 1-2.22-1.879L17.111 12h-.944a2.252 2.252 0 0 1-2.182-2.796l.75-3A2.245 2.245 0 0 1 16.917 4.5h2.416A10.49 10.49 0 0 0 1.934 9h4.391c1.034 0 1.932.701 2.183 1.704l.75 3a2.235 2.235 0 0 1-.592 2.137c-.425.425-.99.659-1.591.659h-.464zm-4.248-9.687-.015.116a9.092 9.092 0 0 0-.053.96l-.002.17c.001.145.005.29.011.435l.006.127c.009.154.02.308.035.461l.005.041c.071.68.209 1.354.411 2.003l.009.028a10.457 10.457 0 0 0 2.537 4.222l.75-3.751A.75.75 0 0 1 5.996 15h1.079a.75.75 0 0 0 .728-.932l-.75-3a.751.751 0 0 0-.729-.568H1.606l-.039.294zM16.917 6a.75.75 0 0 0-.728.568l-.75 3a.752.752 0 0 0 .728.932h1.579c.368 0 .679.264.74.627l.791 4.75a.748.748 0 0 0 .74.626h1.461c.171-.358.321-.727.449-1.1l.021-.062A10.486 10.486 0 0 0 20.598 6z\"/></svg>"};

var navigationLogin={"title":"navigation-login","tags":"navigation login sign in lock locked key","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M5.25 24A2.252 2.252 0 0 1 3 21.75v-10.5A2.252 2.252 0 0 1 5.25 9H6V6c0-3.308 2.692-6 6-6s6 2.692 6 6v3h.75A2.252 2.252 0 0 1 21 11.25v10.5A2.252 2.252 0 0 1 18.75 24zm0-13.5a.75.75 0 0 0-.75.75v10.5c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75v-10.5a.75.75 0 0 0-.75-.75zM16.5 9V6c0-2.481-2.019-4.5-4.5-4.5S7.5 3.519 7.5 6v3z\"/><path d=\"M12 17.25c-.62 0-1.125-.505-1.125-1.125a1.127 1.127 0 0 1 1.923-.794A1.126 1.126 0 0 1 12 17.25z\"/></svg>"};

var navigationLogout={"title":"navigation-logout","tags":"navigation logout sign out lock unlocked key","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M8.25 24A2.252 2.252 0 0 1 6 21.75v-10.5A2.252 2.252 0 0 1 8.25 9h2.25V6c0-2.481-2.019-4.5-4.5-4.5S1.5 3.519 1.5 6v3.75a.75.75 0 0 1-1.5 0V6c0-3.308 2.692-6 6-6s6 2.692 6 6v3h9.75A2.252 2.252 0 0 1 24 11.25v10.5A2.252 2.252 0 0 1 21.75 24zm0-13.5a.75.75 0 0 0-.75.75v10.5c0 .414.336.75.75.75h13.5a.75.75 0 0 0 .75-.75v-10.5a.75.75 0 0 0-.75-.75z\"/><path d=\"M15 17.25c-.62 0-1.125-.505-1.125-1.125a1.127 1.127 0 0 1 1.923-.794A1.126 1.126 0 0 1 15 17.25z\"/></svg>"};

var navigationUser={"title":"navigation-user","tags":"navigation user human person head circle","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M12 15.75c-3.308 0-6-2.692-6-6s2.692-6 6-6 6 2.692 6 6-2.692 6-6 6zm0-10.5c-2.481 0-4.5 2.019-4.5 4.5s2.019 4.5 4.5 4.5 4.5-2.019 4.5-4.5-2.019-4.5-4.5-4.5z\"/><path d=\"M12 24c-2.677 0-5.211-.868-7.332-2.51a.507.507 0 0 1-.126-.099C1.655 19.094 0 15.674 0 12 0 5.383 5.383 0 12 0s12 5.383 12 12c0 3.674-1.655 7.094-4.543 9.391l-.015.016c-.043.043-.087.069-.112.084A11.868 11.868 0 0 1 12 24zm-5.716-3.199A10.408 10.408 0 0 0 12 22.5a10.41 10.41 0 0 0 5.717-1.699 8.966 8.966 0 0 0-5.716-2.045 8.965 8.965 0 0 0-5.717 2.045zM12 1.5C6.21 1.5 1.5 6.21 1.5 12c0 3.023 1.294 5.875 3.562 7.874A10.449 10.449 0 0 1 12 17.257c2.573 0 5.023.927 6.938 2.616 2.268-2 3.562-4.851 3.562-7.874C22.5 6.21 17.79 1.5 12 1.5z\"/></svg>"};

// Older browsers don't support event options, feature detect it.

// Adopted and modified solution from Bohdan Didukh (2017)
// https://stackoverflow.com/questions/41594997/ios-10-safari-prevent-scrolling-behind-a-fixed-overlay-and-maintain-scroll-posi

let hasPassiveEvents = false;
if (typeof window !== 'undefined') {
  const passiveTestOptions = {
    get passive() {
      hasPassiveEvents = true;
      return undefined;
    }
  };
  window.addEventListener('testPassive', null, passiveTestOptions);
  window.removeEventListener('testPassive', null, passiveTestOptions);
}

const isIosDevice = typeof window !== 'undefined' && window.navigator && window.navigator.platform && (/iP(ad|hone|od)/.test(window.navigator.platform) || window.navigator.platform === 'MacIntel' && window.navigator.maxTouchPoints > 1);


let locks = [];
let documentListenerAdded = false;
let initialClientY = -1;
let previousBodyOverflowSetting;
let previousBodyPaddingRight;

// returns true if `el` should be allowed to receive touchmove events.
const allowTouchMove = el => locks.some(lock => {
  if (lock.options.allowTouchMove && lock.options.allowTouchMove(el)) {
    return true;
  }

  return false;
});

const preventDefault = rawEvent => {
  const e = rawEvent || window.event;

  // For the case whereby consumers adds a touchmove event listener to document.
  // Recall that we do document.addEventListener('touchmove', preventDefault, { passive: false })
  // in disableBodyScroll - so if we provide this opportunity to allowTouchMove, then
  // the touchmove event on document will break.
  if (allowTouchMove(e.target)) {
    return true;
  }

  // Do not prevent if the event has more than one touch (usually meaning this is a multi touch gesture like pinch to zoom).
  if (e.touches.length > 1) return true;

  if (e.preventDefault) e.preventDefault();

  return false;
};

const setOverflowHidden = options => {
  // If previousBodyPaddingRight is already set, don't set it again.
  if (previousBodyPaddingRight === undefined) {
    const reserveScrollBarGap = !!options && options.reserveScrollBarGap === true;
    const scrollBarGap = window.innerWidth - document.documentElement.clientWidth;

    if (reserveScrollBarGap && scrollBarGap > 0) {
      previousBodyPaddingRight = document.body.style.paddingRight;
      document.body.style.paddingRight = `${scrollBarGap}px`;
    }
  }

  // If previousBodyOverflowSetting is already set, don't set it again.
  if (previousBodyOverflowSetting === undefined) {
    previousBodyOverflowSetting = document.body.style.overflow;
    document.body.style.overflow = 'hidden';
  }
};

const restoreOverflowSetting = () => {
  if (previousBodyPaddingRight !== undefined) {
    document.body.style.paddingRight = previousBodyPaddingRight;

    // Restore previousBodyPaddingRight to undefined so setOverflowHidden knows it
    // can be set again.
    previousBodyPaddingRight = undefined;
  }

  if (previousBodyOverflowSetting !== undefined) {
    document.body.style.overflow = previousBodyOverflowSetting;

    // Restore previousBodyOverflowSetting to undefined
    // so setOverflowHidden knows it can be set again.
    previousBodyOverflowSetting = undefined;
  }
};

// https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollHeight#Problems_and_solutions
const isTargetElementTotallyScrolled = targetElement => targetElement ? targetElement.scrollHeight - targetElement.scrollTop <= targetElement.clientHeight : false;

const handleScroll = (event, targetElement) => {
  const clientY = event.targetTouches[0].clientY - initialClientY;

  if (allowTouchMove(event.target)) {
    return false;
  }

  if (targetElement && targetElement.scrollTop === 0 && clientY > 0) {
    // element is at the top of its scroll.
    return preventDefault(event);
  }

  if (isTargetElementTotallyScrolled(targetElement) && clientY < 0) {
    // element is at the bottom of its scroll.
    return preventDefault(event);
  }

  event.stopPropagation();
  return true;
};

const disableBodyScroll = (targetElement, options) => {
  // targetElement must be provided
  if (!targetElement) {
    // eslint-disable-next-line no-console
    console.error('disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.');
    return;
  }

  // disableBodyScroll must not have been called on this targetElement before
  if (locks.some(lock => lock.targetElement === targetElement)) {
    return;
  }

  const lock = {
    targetElement,
    options: options || {}
  };

  locks = [...locks, lock];

  if (isIosDevice) {
    targetElement.ontouchstart = event => {
      if (event.targetTouches.length === 1) {
        // detect single touch.
        initialClientY = event.targetTouches[0].clientY;
      }
    };
    targetElement.ontouchmove = event => {
      if (event.targetTouches.length === 1) {
        // detect single touch.
        handleScroll(event, targetElement);
      }
    };

    if (!documentListenerAdded) {
      document.addEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);
      documentListenerAdded = true;
    }
  } else {
    setOverflowHidden(options);
  }
};

const enableBodyScroll = targetElement => {
  if (!targetElement) {
    // eslint-disable-next-line no-console
    console.error('enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.');
    return;
  }

  locks = locks.filter(lock => lock.targetElement !== targetElement);

  if (isIosDevice) {
    targetElement.ontouchstart = null;
    targetElement.ontouchmove = null;

    if (documentListenerAdded && locks.length === 0) {
      document.removeEventListener('touchmove', preventDefault, hasPassiveEvents ? { passive: false } : undefined);
      documentListenerAdded = false;
    }
  } else if (!locks.length) {
    restoreOverflowSetting();
  }
};

const DuetHeaderIcon = (props, _children) => {
    const iconSize = props.iconSize ? props.iconSize : "x-small";
    return (hAsync("span", { class: `duet-header-icon ${props.class ? props.class : ""}` },
        hAsync("duet-icon", { margin: "none", size: iconSize, icon: props.icon, color: "currentColor" })));
};

const DuetHeaderDropdown = (props, _children) => {
    const accessibleLabel = props.accessibleText ? props.accessibleText : props.label;
    return (hAsync("div", { class: { ["duet-header-dropdown"]: true, [props.className]: !!props.className } },
        hAsync("button", { ref: props.toggleRef, "aria-haspopup": "listbox", "aria-controls": props.id, "aria-expanded": props.isOpen ? "true" : "false", "aria-labelledby": `${props.id}-accessible-label`, id: `${props.id}-button`, type: "button", class: {
                [props.id]: true,
                "duet-header-dropdown-toggle": true,
                "duet-header-button": true,
                active: props.active,
                open: props.isOpen,
            }, onClick: props.onToggle },
            props.icon && hAsync(DuetHeaderIcon, { icon: props.icon }),
            hAsync("span", { "aria-hidden": "true", id: `${props.id}-label`, class: "duet-header-dropdown-label" }, props.label),
            props.badge && hAsync("div", { class: "duet-header-badge" }),
            hAsync("div", { class: "duet-header-caret", "aria-hidden": "true" },
                hAsync("duet-icon", { margin: "none", size: "auto", icon: actionArrowDownSmall.svg, color: "currentColor" })),
            hAsync("duet-visually-hidden", { id: `${props.id}-accessible-label` }, accessibleLabel)),
        hAsync("div", { ref: props.itemsRef, tabindex: "-1", role: "menu", id: props.id, "aria-labelledby": `${props.id}-button`, class: {
                "duet-header-dropdown-content": true,
                [`${props.id}-items`]: true,
                active: props.isOpen,
            } }, _children)));
};

const DuetHeaderHamburger = () => (hAsync("div", { class: "duet-header-hamburger" },
    hAsync("span", { class: "duet-header-bar" }),
    hAsync("span", { class: "duet-header-bar" }),
    hAsync("span", { class: "duet-header-bar" }),
    hAsync("span", { class: "duet-header-bar" })));

const duetHeaderCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-header,*.sc-duet-header::after,*.sc-duet-header::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-header-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}@supports (position: -webkit-sticky){/*!@:host*/.sc-duet-header-h{position:-webkit-sticky;top:-4rem;z-index:400}}@supports (position: sticky){/*!@:host*/.sc-duet-header-h{position:sticky;top:-4rem;z-index:400}}@supports (position: -webkit-sticky){/*!@:host(.duet-header-multi-level-variation)*/.duet-header-multi-level-variation.sc-duet-header-h{top:0}}@supports (position: sticky){/*!@:host(.duet-header-multi-level-variation)*/.duet-header-multi-level-variation.sc-duet-header-h{top:0}}/*!@.duet-header-reserved-space*/.duet-header-reserved-space.sc-duet-header{height:4rem}@media (min-width: 62em){/*!@.duet-header-reserved-space.duet-with-links*/.duet-header-reserved-space.duet-with-links.sc-duet-header{height:7rem}}/*!@.duet-header*/.duet-header.sc-duet-header{-webkit-user-select:none;user-select:none;position:fixed;top:0;left:0;z-index:400;display:block;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:left}/*!@.duet-header.duet-theme-turva*/.duet-header.duet-theme-turva.sc-duet-header{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}@media (min-width: 62em){/*!@.duet-header.duet-theme-turva*/.duet-header.duet-theme-turva.sc-duet-header{box-shadow:0 2px 6px 0 rgba(117, 117, 117, 0.13)}}@media (min-width: 62em){/*!@.duet-header*/.duet-header.sc-duet-header{position:absolute;box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07)}/*!@.duet-header.duet-header-inactive*/.duet-header.duet-header-inactive.sc-duet-header{position:fixed}}/*!@.duet-header **/.duet-header.sc-duet-header *.sc-duet-header{-webkit-tap-highlight-color:rgba(0, 0, 0, 0)}/*!@.duet-header-top*/.duet-header-top.sc-duet-header{position:relative;z-index:200;display:flex;flex-direction:row;align-items:center;width:100%;height:4rem;padding:0 16px;background:rgb(255, 255, 255);border-bottom:1px solid rgb(225, 227, 230);box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07)}@media (min-width: 62em){/*!@.duet-header-top*/.duet-header-top.sc-duet-header{z-index:100;padding:0 28px;box-shadow:none}/*!@.duet-header-top duet-logo*/.duet-header-top.sc-duet-header duet-logo.sc-duet-header{padding-right:4px}}@media (min-width: 106.25em){/*!@.duet-header-top*/.duet-header-top.sc-duet-header{padding:0 48px}}/*!@.duet-theme-turva .duet-header-top*/.duet-theme-turva.sc-duet-header .duet-header-top.sc-duet-header{border-color:rgb(228, 228, 230);box-shadow:0 2px 6px 0 rgba(117, 117, 117, 0.13)}@media (min-width: 62em){/*!@.duet-theme-turva .duet-header-top*/.duet-theme-turva.sc-duet-header .duet-header-top.sc-duet-header{box-shadow:none}}/*!@.duet-theme-turva .duet-header-top duet-logo*/.duet-theme-turva.sc-duet-header .duet-header-top.sc-duet-header duet-logo.sc-duet-header{left:-80px !important;margin-top:-8px !important}/*!@.duet-header-top .duet-header-region*/.duet-header-top.sc-duet-header .duet-header-region.sc-duet-header{max-width:200px;padding-left:16px;margin-top:1px;margin-right:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-left:1px solid rgb(207, 210, 212)}/*!@.duet-theme-turva .duet-header-top .duet-header-region*/.duet-theme-turva.sc-duet-header .duet-header-top.sc-duet-header .duet-header-region.sc-duet-header{border-color:rgb(207, 207, 209)}@media (max-width: 35.9375em){/*!@.duet-header-top .duet-header-region*/.duet-header-top.sc-duet-header .duet-header-region.sc-duet-header{display:none}}@media (min-width: 62em){/*!@.duet-header-top .duet-header-region*/.duet-header-top.sc-duet-header .duet-header-region.sc-duet-header{padding-left:19px}}/*!@.duet-header-bottom*/.duet-header-bottom.sc-duet-header{position:fixed;top:4rem;bottom:0;left:0;z-index:100;display:flex;flex-direction:column;width:100%;overflow-y:auto;visibility:hidden;background:rgb(243, 249, 252);opacity:0;-webkit-overflow-scrolling:touch}/*!@.duet-theme-turva .duet-header-bottom*/.duet-theme-turva.sc-duet-header .duet-header-bottom.sc-duet-header{background:rgb(245, 245, 247)}@media (min-width: 62em){/*!@.duet-header-bottom*/.duet-header-bottom.sc-duet-header{position:relative;top:auto;bottom:auto;z-index:200;flex-direction:row;overflow:visible;visibility:visible;background:rgb(255, 255, 255);opacity:1}/*!@.duet-header-bottom.duet-header-inactive*/.duet-header-bottom.duet-header-inactive.sc-duet-header{position:relative}}/*!@.duet-header-bottom.active*/.duet-header-bottom.active.sc-duet-header{visibility:visible;opacity:1;transition:opacity 300ms ease, visibility 300ms ease}@media (min-width: 62em){/*!@.duet-header-bottom*/.duet-header-bottom.sc-duet-header{position:relative;transition:none !important}}/*!@.duet-header-items,\n.duet-header-bottom-utils,\n.duet-header-utils*/.duet-header-items.sc-duet-header,.duet-header-bottom-utils.sc-duet-header,.duet-header-utils.sc-duet-header{opacity:0;transition:transform 600ms ease, opacity 600ms ease;transform:translateY(-28px)}@media (min-width: 62em){/*!@.duet-header-items,\n  .duet-header-bottom-utils,\n  .duet-header-utils*/.duet-header-items.sc-duet-header,.duet-header-bottom-utils.sc-duet-header,.duet-header-utils.sc-duet-header{opacity:1;transition:none !important;transform:none}}/*!@.active .duet-header-items,\n.active .duet-header-bottom-utils,\n.active .duet-header-utils*/.active.sc-duet-header .duet-header-items.sc-duet-header,.active.sc-duet-header .duet-header-bottom-utils.sc-duet-header,.active.sc-duet-header .duet-header-utils.sc-duet-header{opacity:1;transform:translateY(0)}/*!@.duet-header-items*/.duet-header-items.sc-duet-header{position:relative;z-index:300;display:block;width:100%;font-size:1rem;font-weight:400;line-height:1.5;background:rgb(255, 255, 255)}@media (min-width: 62em){/*!@.duet-header-items*/.duet-header-items.sc-duet-header{z-index:100;display:flex;flex-direction:row;padding:0 21.5384615385px}}@media (min-width: 106.25em){/*!@.duet-header-items*/.duet-header-items.sc-duet-header{padding-left:43.6363636364px}}/*!@.duet-header-items .duet-header-item-container*/.duet-header-items.sc-duet-header .duet-header-item-container.sc-duet-header{border-bottom:1px solid rgb(225, 227, 230);border-radius:0}@media (min-width: 62em){/*!@.duet-header-items .duet-header-item-container*/.duet-header-items.sc-duet-header .duet-header-item-container.sc-duet-header{border:0}}/*!@.duet-header-items .duet-header-second-level .duet-header-item*/.duet-header-items.sc-duet-header .duet-header-second-level.sc-duet-header .duet-header-item.sc-duet-header{padding:0 40px;border:0}/*!@.duet-header-items .duet-header-second-level .duet-header-button*/.duet-header-items.sc-duet-header .duet-header-second-level.sc-duet-header .duet-header-button.sc-duet-header{border:0}/*!@.duet-header-items .duet-header-second-level .duet-header-dropdown-content*/.duet-header-items.sc-duet-header .duet-header-second-level.sc-duet-header .duet-header-dropdown-content.sc-duet-header{padding:0;border:0}/*!@.duet-header-items .duet-header-third-level .duet-header-item*/.duet-header-items.sc-duet-header .duet-header-third-level.sc-duet-header .duet-header-item.sc-duet-header{padding:0 75px}/*!@.duet-header-items .duet-header-item*/.duet-header-items.sc-duet-header .duet-header-item.sc-duet-header{position:relative;display:flex;align-items:center;width:100%;padding:0 20px;overflow:hidden;font-size:1rem;line-height:48px;color:rgb(0, 41, 77);text-decoration:none;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 62em){/*!@.duet-header-items .duet-header-item*/.duet-header-items.sc-duet-header .duet-header-item.sc-duet-header{font-weight:600;border-radius:4px}}/*!@.duet-theme-turva .duet-header-items .duet-header-item*/.duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.sc-duet-header{color:rgb(23, 28, 58);border-color:rgb(225, 227, 230)}/*!@.duet-header-items .duet-header-item:hover*/.duet-header-items.sc-duet-header .duet-header-item.sc-duet-header:hover{color:rgb(0, 77, 128)}/*!@.duet-theme-turva .duet-header-items .duet-header-item:hover*/.duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.sc-duet-header:hover{color:rgb(68, 68, 69)}/*!@.duet-header-items .duet-header-item:focus*/.duet-header-items.sc-duet-header .duet-header-item.sc-duet-header:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-header-items .duet-header-item:focus*/.user-is-tabbing.sc-duet-header-h .duet-header-items.sc-duet-header .duet-header-item.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-header-items .duet-header-item:focus*/.user-is-tabbing.sc-duet-header-h .duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}@media (min-width: 62em){/*!@.duet-header-items .duet-header-item*/.duet-header-items.sc-duet-header .duet-header-item.sc-duet-header{width:auto;max-width:300px;padding:0 12px;overflow:hidden;font-size:0.875rem;text-overflow:ellipsis;border:0}}/*!@.duet-header-items .duet-header-item.active*/.duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header{color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-items .duet-header-item.active*/.duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header{color:rgb(198, 12, 48)}/*!@.duet-header-items .duet-header-item.active:hover*/.duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header:hover{color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-items .duet-header-item.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header:hover{color:rgb(198, 12, 48)}/*!@.duet-header-items .duet-header-item.active::after*/.duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header::after{position:absolute;top:0;bottom:0;left:0;width:4px;content:\"\";background:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-items .duet-header-item.active::after*/.duet-theme-turva.sc-duet-header .duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header::after{background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-header-items .duet-header-item.active::after*/.duet-header-items.sc-duet-header .duet-header-item.active.sc-duet-header::after{top:auto;left:12px;width:calc(100% - 24px);height:3px}}/*!@.duet-header-toggle*/.duet-header-toggle.sc-duet-header{display:flex;align-items:center;justify-content:center;width:48px;height:48px;margin-right:-8px;margin-left:auto;cursor:pointer;border-radius:4px;-webkit-appearance:none;appearance:none}/*!@.duet-header-toggle:focus*/.duet-header-toggle.sc-duet-header:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-header-toggle:focus*/.user-is-tabbing.sc-duet-header-h .duet-header-toggle.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-header-toggle:focus*/.user-is-tabbing.sc-duet-header-h .duet-theme-turva.sc-duet-header .duet-header-toggle.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}@media (min-width: 62em){/*!@.duet-header-toggle*/.duet-header-toggle.sc-duet-header{display:none}}/*!@.duet-header-hamburger*/.duet-header-hamburger.sc-duet-header{position:relative;width:24px;height:24px;margin-top:5px !important;pointer-events:none;transition:0.4s ease-in-out;backface-visibility:hidden}/*!@.duet-header-hamburger .duet-header-bar*/.duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header{position:absolute;left:0;display:block;width:100%;height:2px;background:rgb(0, 41, 77);border-radius:20rem;opacity:1;transition:0.25s ease-in-out;transform:rotate(0deg) scale(0.98)}/*!@.duet-theme-turva .duet-header-hamburger .duet-header-bar*/.duet-theme-turva.sc-duet-header .duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header{background:rgb(23, 28, 58)}/*!@.duet-header-hamburger .duet-header-bar:nth-child(1)*/.duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(1){top:0}/*!@.duet-header-hamburger .duet-header-bar:nth-child(2), .duet-header-hamburger .duet-header-bar:nth-child(3)*/.duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(2),.duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(3){top:7px}/*!@.duet-header-hamburger .duet-header-bar:nth-child(4)*/.duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(4){top:14px}/*!@button.active .duet-header-hamburger .duet-header-bar:nth-child(1)*/button.active.sc-duet-header .duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(1){top:7px;left:50%;width:0%}/*!@button.active .duet-header-hamburger .duet-header-bar:nth-child(2)*/button.active.sc-duet-header .duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(2){transform:rotate(45deg)}/*!@button.active .duet-header-hamburger .duet-header-bar:nth-child(3)*/button.active.sc-duet-header .duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(3){transform:rotate(-45deg)}/*!@button.active .duet-header-hamburger .duet-header-bar:nth-child(4)*/button.active.sc-duet-header .duet-header-hamburger.sc-duet-header .duet-header-bar.sc-duet-header:nth-child(4){top:7px;left:50%;width:0%}/*!@.duet-header-utils*/.duet-header-utils.sc-duet-header{display:flex;flex-direction:column;width:100%}@media (min-width: 62em){/*!@.duet-header-utils*/.duet-header-utils.sc-duet-header{position:absolute;top:-4rem;right:0;z-index:999999999;flex-direction:row;align-items:center;justify-content:space-between;width:auto;margin-right:20px}}@media (min-width: 106.25em){/*!@.duet-header-utils*/.duet-header-utils.sc-duet-header{margin-right:36px}}@media (min-width: 62em){/*!@.duet-header-bottom-utils*/.duet-header-bottom-utils.sc-duet-header{position:absolute;top:0;right:0;z-index:999999999;margin-right:20px}}@media (min-width: 106.25em){/*!@.duet-header-bottom-utils*/.duet-header-bottom-utils.sc-duet-header{margin-right:36px}}/*!@button*/button.sc-duet-header{font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-theme-turva button*/.duet-theme-turva.sc-duet-header button.sc-duet-header{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-header-button*/.duet-header-button.sc-duet-header{position:relative;display:flex;align-items:center;width:100%;height:48px;padding:0 20px;overflow:hidden;font-size:1rem;font-weight:400;line-height:48px;color:rgb(0, 41, 77);text-align:left;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;border-bottom:1px solid rgb(225, 227, 230);border-radius:4px;-webkit-appearance:none;appearance:none}/*!@.duet-theme-turva .duet-header-button*/.duet-theme-turva.sc-duet-header .duet-header-button.sc-duet-header{color:rgb(23, 28, 58);border-color:rgb(228, 228, 230)}/*!@.duet-header-button:hover*/.duet-header-button.sc-duet-header:hover{color:rgb(0, 77, 128)}/*!@.duet-theme-turva .duet-header-button:hover*/.duet-theme-turva.sc-duet-header .duet-header-button.sc-duet-header:hover{color:rgb(148, 9, 37)}/*!@.duet-header-button:focus*/.duet-header-button.sc-duet-header:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-header-button:focus*/.user-is-tabbing.sc-duet-header-h .duet-header-button.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-header-button:focus*/.user-is-tabbing.sc-duet-header-h .duet-theme-turva.sc-duet-header .duet-header-button.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-header-button:active*/.duet-header-button.sc-duet-header:active{opacity:0.75}@media (min-width: 62em){/*!@.duet-header-button*/.duet-header-button.sc-duet-header{width:auto;max-width:200px;height:4rem;padding:0 16px;font-size:0.875rem;line-height:4rem;border:0}/*!@.duet-header-button::before*/.duet-header-button.sc-duet-header::before{position:absolute;top:50%;right:0;width:1px;height:20px;content:\"\";background:rgb(207, 210, 212);transform:translateY(-50%)}/*!@.duet-theme-turva .duet-header-button::before*/.duet-theme-turva.sc-duet-header .duet-header-button.sc-duet-header::before{background:rgb(207, 207, 209)}}/*!@.duet-header-button.active*/.duet-header-button.active.sc-duet-header{color:rgb(0, 119, 179);border-radius:0}/*!@.duet-theme-turva .duet-header-button.active*/.duet-theme-turva.sc-duet-header .duet-header-button.active.sc-duet-header{color:rgb(198, 12, 48)}/*!@.duet-header-button.active:hover*/.duet-header-button.active.sc-duet-header:hover{color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-button.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-button.active.sc-duet-header:hover{color:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-header-button.active::after*/.duet-header-button.active.sc-duet-header::after{position:absolute;top:0;bottom:0;left:0;width:3px;content:\"\";background:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-button.active::after*/.duet-theme-turva.sc-duet-header .duet-header-button.active.sc-duet-header::after{color:rgb(198, 12, 48)}}/*!@.duet-header-button.duet-header-logout .duet-header-icon.mobile*/.duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.mobile.sc-duet-header{display:block}/*!@.duet-header-button.duet-header-logout .duet-header-icon.desktop*/.duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.desktop.sc-duet-header{display:none}@media (min-width: 62em){/*!@.duet-header-button.duet-header-logout .duet-header-icon.mobile*/.duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.mobile.sc-duet-header{display:none}/*!@.duet-header-button.duet-header-logout .duet-header-icon.desktop*/.duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.desktop.sc-duet-header{display:block}}/*!@.duet-header-utils .duet-header-button.duet-header-logout*/.duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header{align-self:center;justify-content:center;width:auto;height:2.5rem;margin:2.25rem 0;font-weight:600;border:2px solid rgb(0, 41, 77);border-radius:20rem}/*!@.duet-theme-turva .duet-header-utils .duet-header-button.duet-header-logout*/.duet-theme-turva.sc-duet-header .duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header{border-color:rgb(23, 28, 58)}/*!@.duet-header-utils .duet-header-button.duet-header-logout .duet-header-icon*/.duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.sc-duet-header{margin-right:0.5rem}/*!@.duet-header-utils .duet-header-button.duet-header-logout .duet-header-button-label*/.duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header .duet-header-button-label.sc-duet-header{font-size:0.875rem}@media (min-width: 62em){/*!@.duet-header-utils .duet-header-button.duet-header-logout*/.duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header{height:4rem;margin:0;font-weight:400;border:0}/*!@.duet-header-utils .duet-header-button.duet-header-logout .duet-header-icon*/.duet-header-utils.sc-duet-header .duet-header-button.duet-header-logout.sc-duet-header .duet-header-icon.sc-duet-header{margin-right:0.75rem}}/*!@.duet-header-no-action*/.duet-header-no-action.sc-duet-header{pointer-events:none}/*!@.duet-header-user-label*/.duet-header-user-label.sc-duet-header{min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 62em){/*!@.duet-header-utils > *:last-child::before,\n  .duet-header-utils > *:last-child button::before*/.duet-header-utils.sc-duet-header>*.sc-duet-header:last-child::before,.duet-header-utils.sc-duet-header>*.sc-duet-header:last-child button.sc-duet-header::before{display:none}}@media (min-width: 62em){/*!@.duet-header-utils > *:last-child .duet-header-dropdown-content*/.duet-header-utils.sc-duet-header>*.sc-duet-header:last-child .duet-header-dropdown-content.sc-duet-header{right:0;left:auto}}/*!@.duet-header-language*/.duet-header-language.sc-duet-header{text-transform:uppercase}/*!@.duet-header-language.active, .duet-header-language.active:hover,\n.duet-header-contact.active,\n.duet-header-contact.active:hover*/.duet-header-language.active.sc-duet-header,.duet-header-language.active.sc-duet-header:hover,.duet-header-contact.active.sc-duet-header,.duet-header-contact.active.sc-duet-header:hover{color:inherit}/*!@.duet-theme-turva .duet-header-language.active, .duet-theme-turva .duet-header-language.active:hover,\n.duet-theme-turva .duet-header-contact.active,\n.duet-theme-turva .duet-header-contact.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-language.active.sc-duet-header,.duet-theme-turva.sc-duet-header .duet-header-language.active.sc-duet-header:hover,.duet-theme-turva.sc-duet-header .duet-header-contact.active.sc-duet-header,.duet-theme-turva.sc-duet-header .duet-header-contact.active.sc-duet-header:hover{color:inherit}/*!@.duet-header-dropdown .duet-header-language.duet-header-dropdown-toggle.active::after, .duet-header-dropdown .duet-header-language.duet-header-dropdown-toggle.active:hover::after,\n.duet-header-dropdown .duet-header-contact.duet-header-dropdown-toggle.active::after,\n.duet-header-dropdown .duet-header-contact.duet-header-dropdown-toggle.active:hover::after*/.duet-header-dropdown.sc-duet-header .duet-header-language.duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-language.duet-header-dropdown-toggle.active.sc-duet-header:hover::after,.duet-header-dropdown.sc-duet-header .duet-header-contact.duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-contact.duet-header-dropdown-toggle.active.sc-duet-header:hover::after{width:0}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-language.duet-header-dropdown-toggle.active::after, .duet-header-dropdown .duet-header-language.duet-header-dropdown-toggle.active:hover::after,\n  .duet-header-dropdown .duet-header-contact.duet-header-dropdown-toggle.active::after,\n  .duet-header-dropdown .duet-header-contact.duet-header-dropdown-toggle.active:hover::after*/.duet-header-dropdown.sc-duet-header .duet-header-language.duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-language.duet-header-dropdown-toggle.active.sc-duet-header:hover::after,.duet-header-dropdown.sc-duet-header .duet-header-contact.duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-contact.duet-header-dropdown-toggle.active.sc-duet-header:hover::after{width:100%}}/*!@.duet-header-icon*/.duet-header-icon.sc-duet-header{display:inline-flex;min-width:12px;margin-right:12px;font-size:0;line-height:normal;vertical-align:baseline}@media (min-width: 62em){/*!@.duet-header-icon*/.duet-header-icon.sc-duet-header{margin-right:8px}}/*!@.duet-header-caret*/.duet-header-caret.sc-duet-header{position:absolute;top:50%;right:20px;display:flex;width:10px;height:10px;margin-left:8px;line-height:normal;pointer-events:none;transition:300ms ease;transform:translateY(-50%);transform-origin:50% 50%}@media (min-width: 62em){/*!@.duet-header-caret*/.duet-header-caret.sc-duet-header{width:7px;height:7px}}/*!@.duet-header-caret duet-icon*/.duet-header-caret.sc-duet-header duet-icon.sc-duet-header{width:10px}/*!@.duet-header-dropdown-toggle.active .duet-header-caret*/.duet-header-dropdown-toggle.active.sc-duet-header .duet-header-caret.sc-duet-header{transform:translateY(-50%) rotate(180deg)}/*!@.duet-header-dropdown-toggle:focus*/.duet-header-dropdown-toggle.sc-duet-header:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-header-dropdown-toggle:focus*/.user-is-tabbing.sc-duet-header-h .duet-header-dropdown-toggle.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-header-dropdown-toggle:focus*/.user-is-tabbing.sc-duet-header-h .duet-theme-turva.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-header-dropdown-toggle:active*/.duet-header-dropdown-toggle.sc-duet-header:active{outline:none}/*!@.duet-header-badge*/.duet-header-badge.sc-duet-header{display:inline-block;width:6px;height:6px;margin-top:-1rem;margin-left:5px;vertical-align:top;background:rgb(247, 178, 40);border-radius:50%;box-shadow:0 0 0 1px #c18b1f}/*!@.duet-theme-turva .duet-header-badge*/.duet-theme-turva.sc-duet-header .duet-header-badge.sc-duet-header{background:rgb(250, 164, 15)}/*!@.active-bar*/.active-bar.sc-duet-header{color:rgb(0, 119, 179)}/*!@.active-bar::after*/.active-bar.sc-duet-header::after{position:absolute;top:0;bottom:0;left:0;width:4px;content:\"\";background:rgb(0, 119, 179)}/*!@.duet-theme-turva .active-bar::after*/.duet-theme-turva.sc-duet-header .active-bar.sc-duet-header::after{background:rgb(198, 12, 48)}/*!@.duet-header-dropdown*/.duet-header-dropdown.sc-duet-header{position:relative}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-toggle*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header{z-index:200;padding-right:36px;overflow:hidden;transition:border 300ms ease}}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-toggle::after*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header::after{position:absolute;top:auto;bottom:0;left:0;display:block !important;width:100%;height:3px !important;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(3px)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle::after*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header::after{background:rgb(198, 12, 48)}}/*!@.duet-header-dropdown .duet-header-dropdown-toggle.active, .duet-header-dropdown .duet-header-dropdown-toggle.active:hover*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header,.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover{border-bottom:1px solid rgb(245, 248, 250)}/*!@.duet-header-dropdown .duet-header-dropdown-toggle.active::after, .duet-header-dropdown .duet-header-dropdown-toggle.active:hover::after*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover::after{position:absolute;top:0;bottom:0;left:0;width:4px;content:\"\";background:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active::after, .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active:hover::after*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover::after{background:rgb(198, 12, 48)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active, .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header,.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover{border-color:rgb(245, 245, 247)}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-toggle.active, .duet-header-dropdown .duet-header-dropdown-toggle.active:hover*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header,.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover{color:rgb(0, 77, 128);border:0}/*!@.duet-header-dropdown .duet-header-dropdown-toggle.active::after, .duet-header-dropdown .duet-header-dropdown-toggle.active:hover::after*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header::after,.duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover::after{position:absolute;top:auto;bottom:0;left:0;width:100%;height:3px;transform:translateY(0)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active, .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header,.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:hover{color:rgb(148, 9, 37)}}@media (min-width: 62em){/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.duet-header-session*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.duet-header-session.sc-duet-header{color:rgb(255, 255, 255);background:rgb(198, 12, 48);border-radius:0}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.duet-header-session:hover, .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.duet-header-session.active, .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-toggle.duet-header-session.active:hover*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.duet-header-session.sc-duet-header:hover,.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.duet-header-session.active.sc-duet-header,.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.duet-header-session.active.sc-duet-header:hover{color:rgb(255, 255, 255);background:rgb(148, 9, 37)}}/*!@.duet-header-dropdown .duet-header-dropdown-content*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{display:none;padding-bottom:16px;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(245, 245, 247);border-color:rgb(225, 227, 230)}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-content*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{position:absolute;top:100%;left:0;z-index:600;display:block;min-width:150px;padding-top:16px;padding-left:0;visibility:hidden;border:0;border-radius:4px;border-top-left-radius:0;border-top-right-radius:0;box-shadow:0 4px 10px 0 rgba(0, 41, 77, 0.15);opacity:0;transition:300ms ease;transform:scale(0.85) translateZ(0) translateY(-20px)}/*!@.duet-header-dropdown .duet-header-dropdown-content.duet-header-session-items*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.duet-header-session-items.sc-duet-header{right:0%;left:auto;min-width:225px}/*!@.duet-header-dropdown .duet-header-dropdown-content.duet-header-session-items .duet-header-session-label*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.duet-header-session-items.sc-duet-header .duet-header-session-label.sc-duet-header{padding:0 20px;font-weight:600}}@media (min-width: 64.0625em){/*!@.duet-header-dropdown .duet-header-dropdown-content*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{min-width:170px}/*!@.duet-header-dropdown .duet-header-dropdown-content.duet-header-session-items*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.duet-header-session-items.sc-duet-header{min-width:225px}}/*!@.duet-header-dropdown .duet-header-dropdown-content.active*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.active.sc-duet-header{display:block}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-content.active*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.active.sc-duet-header{visibility:visible;opacity:1;transform:translateZ(0) translateY(0)}}/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item)*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item){padding:3px 8px 4px !important;position:relative;display:block;width:100%;padding-right:16px;padding-left:48px !important;overflow:hidden;font-size:0.875rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:left;text-decoration:none;white-space:nowrap;cursor:pointer;transition:300ms ease}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item)*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item){color:rgb(23, 28, 58)}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item)*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item){padding-right:20px !important;padding-left:20px !important}}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item):hover*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item):hover{background:rgb(230, 242, 248)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item):hover*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item):hover{background:rgb(228, 228, 230)}}/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item):focus*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item):focus{outline:0}/*!@:host(.user-is-tabbing) .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item):focus*/.user-is-tabbing.sc-duet-header-h .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item):focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item):focus*/.user-is-tabbing.sc-duet-header-h .duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item):focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item).active*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item).active{padding-right:36px;font-weight:600;vertical-align:baseline}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item).active*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item).active{font-weight:700}@media (min-width: 62em){/*!@.duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item).active*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item).active{color:rgb(255, 255, 255);background:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-header-dropdown .duet-header-dropdown-content a:not(.duet-header-item).active*/.duet-theme-turva.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header:not(.duet-header-item).active{background:rgb(198, 12, 48)}}/*!@.duet-header-dropdown .duet-header-dropdown-content .duet-header-link-external*/.duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header .duet-header-link-external.sc-duet-header{margin-left:4px}/*!@.duet-header-back .duet-header-top*/.duet-header-back.sc-duet-header .duet-header-top.sc-duet-header{flex-direction:row;align-items:center;justify-content:center}/*!@.duet-header-back duet-button*/.duet-header-back.sc-duet-header duet-button.sc-duet-header{position:absolute;top:50%;left:36px;transform:translateY(-50%)}@media (max-width: 35.9375em){/*!@.duet-header-back duet-button*/.duet-header-back.sc-duet-header duet-button.sc-duet-header{left:20px;max-width:40px;padding:0 12px;overflow:hidden}}/*!@.duet-header-back .duet-header-toggle*/.duet-header-back.sc-duet-header .duet-header-toggle.sc-duet-header{display:none !important}/*!@.duet-header-skip*/.duet-header-skip.sc-duet-header{padding:15px 28px 16px !important;position:absolute;top:-100%;left:-100%;z-index:200;width:1px;min-width:190px;height:1px;overflow:hidden;font-weight:600;color:rgb(0, 119, 179);text-align:center;text-decoration:none;background:rgb(255, 255, 255);border-radius:4px;opacity:0}/*!@.duet-header-skip:focus*/.duet-header-skip.sc-duet-header:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-header-skip:focus, .duet-header-skip:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-header .duet-header-skip.sc-duet-header:focus,.duet-header-skip.sc-duet-header:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-theme-turva .duet-header-skip*/.duet-theme-turva.sc-duet-header .duet-header-skip.sc-duet-header{min-width:120px;color:rgb(23, 28, 58)}@media (min-width: 106.25em){/*!@.duet-header-skip*/.duet-header-skip.sc-duet-header{margin-left:20px}}/*!@.duet-header-skip:focus*/.duet-header-skip.sc-duet-header:focus{top:12px;left:20px;width:auto;height:auto;outline:0;opacity:1}@media (min-width: 62em){/*!@.duet-header-items-have-sub-items*/.duet-header-items-have-sub-items.sc-duet-header{display:none}}/*!@.duet-header-multi-level*/.duet-header-multi-level.sc-duet-header{display:none;height:6rem}@media (min-width: 62em){/*!@.duet-header-multi-level*/.duet-header-multi-level.sc-duet-header{display:block}}/*!@.duet-header-multi-level .duet-header-top*/.duet-header-multi-level.sc-duet-header .duet-header-top.sc-duet-header{justify-content:space-between;height:6rem}/*!@.duet-header-multi-level .duet-header-button*/.duet-header-multi-level.sc-duet-header .duet-header-button.sc-duet-header{height:6rem}/*!@.duet-header-multi-level .logo-and-segment*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header{display:flex;flex-basis:0;flex-direction:column;flex-grow:1;padding-top:1rem}/*!@.duet-header-multi-level .logo-and-segment .duet-header-dropdown*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-dropdown.sc-duet-header{z-index:400;margin-left:2rem}/*!@.duet-header-multi-level .logo-and-segment .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(243, 249, 252)}/*!@.duet-header-multi-level .logo-and-segment button*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header button.sc-duet-header{align-items:flex-start;height:2rem;font-weight:600;line-height:1rem}/*!@.duet-header-multi-level .logo-and-segment button::before*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header button.sc-duet-header::before{display:none}/*!@.duet-header-multi-level .logo-and-segment .duet-header-caret*/.duet-header-multi-level.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-caret.sc-duet-header{top:25%}/*!@.duet-header-multi-level-nav*/.duet-header-multi-level-nav.sc-duet-header{display:flex}/*!@.duet-header-multi-level-nav .duet-header-dropdown*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header{position:static}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-toggle*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header{z-index:400;padding-right:1rem;font-size:1rem;font-weight:600}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-toggle.active*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header{color:rgb(0, 119, 179)}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-toggle.active:not(.open) .duet-header-caret*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header:not(.open) .duet-header-caret.sc-duet-header{transform:translateY(-50%) rotate(0deg)}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{z-index:399;display:flex;justify-content:center;width:100%;height:4.5rem;padding:0;background:rgb(243, 249, 252);border-top:1px solid rgb(225, 227, 230);border-bottom:1px solid rgb(225, 227, 230);box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07);transition:none}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header{position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;width:auto;min-width:6rem;height:100%;padding:0 1rem !important;font-weight:600}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a::after*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header::after{position:absolute;top:auto;bottom:0;left:0;display:block !important;width:100%;height:3px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(3px)}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a.active*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.active.sc-duet-header{font-weight:600;color:rgb(0, 119, 179);background:none}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a.active::after*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.active.sc-duet-header::after{transform:translateY(0)}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a .duet-header-icon*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header .duet-header-icon.sc-duet-header{margin:0}/*!@.duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content .duet-header-badge*/.duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header .duet-header-badge.sc-duet-header{position:absolute;margin-top:-2rem;margin-right:-2.25rem}/*!@.duet-header-multi-level-nav button::before*/.duet-header-multi-level-nav.sc-duet-header button.sc-duet-header::before{display:none}/*!@.duet-header-multi-level-nav .duet-header-caret*/.duet-header-multi-level-nav.sc-duet-header .duet-header-caret.sc-duet-header{right:1%}/*!@.duet-header-multi-level-utils*/.duet-header-multi-level-utils.sc-duet-header{display:flex;flex-basis:0;flex-grow:1;justify-content:flex-end}/*!@.duet-header-multi-level-utils > :last-child::before*/.duet-header-multi-level-utils.sc-duet-header>.sc-duet-header:last-child::before{display:none}/*!@.duet-header-multi-level-utils > :last-child.duet-header-dropdown .duet-header-button::before*/.duet-header-multi-level-utils.sc-duet-header>.sc-duet-header:last-child.duet-header-dropdown .duet-header-button.sc-duet-header::before{display:none}/*!@.duet-header-multi-level-utils .duet-header-dropdown*/.duet-header-multi-level-utils.sc-duet-header .duet-header-dropdown.sc-duet-header{z-index:400}/*!@.duet-header-multi-level-utils .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level-utils.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(243, 249, 252)}/*!@.duet-header-multi-level-utils .duet-header-button-label,\n.duet-header-multi-level-utils .duet-header-dropdown-label*/.duet-header-multi-level-utils.sc-duet-header .duet-header-button-label.sc-duet-header,.duet-header-multi-level-utils.sc-duet-header .duet-header-dropdown-label.sc-duet-header{display:none}@media (min-width: 64.0625em){/*!@.duet-header-multi-level-utils .duet-header-button-label,\n  .duet-header-multi-level-utils .duet-header-dropdown-label*/.duet-header-multi-level-utils.sc-duet-header .duet-header-button-label.sc-duet-header,.duet-header-multi-level-utils.sc-duet-header .duet-header-dropdown-label.sc-duet-header{display:initial}}/*!@.duet-header-multi-level .duet-theme-turva .logo-and-segment .duet-header-dropdown*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-dropdown.sc-duet-header{margin-left:0}/*!@.duet-header-multi-level .duet-theme-turva .logo-and-segment .duet-header-dropdown-toggle*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-dropdown-toggle.sc-duet-header{padding-left:0.5rem}/*!@.duet-header-multi-level .duet-theme-turva .logo-and-segment .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .logo-and-segment.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(245, 245, 247)}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-utils > :nth-last-child(2).duet-header-dropdown .duet-header-button::before*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-utils.sc-duet-header>.sc-duet-header:nth-last-child(2).duet-header-dropdown .duet-header-button.sc-duet-header::before{display:none}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-toggle.active*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-toggle.active.sc-duet-header{color:rgb(198, 12, 48)}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(245, 245, 247);border-color:rgb(228, 228, 230)}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a::after*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.sc-duet-header::after{background:rgb(198, 12, 48)}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-nav .duet-header-dropdown .duet-header-dropdown-content a.active*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-nav.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header a.active.sc-duet-header{color:rgb(198, 12, 48);background:none}/*!@.duet-header-multi-level .duet-theme-turva .duet-header-multi-level-utils .duet-header-dropdown .duet-header-dropdown-content*/.duet-header-multi-level.sc-duet-header .duet-theme-turva.sc-duet-header .duet-header-multi-level-utils.sc-duet-header .duet-header-dropdown.sc-duet-header .duet-header-dropdown-content.sc-duet-header{background:rgb(245, 245, 247)}";

const createEvent = (ev, data) => ({
    component: "duet-header",
    data,
    originalEvent: ev,
});
/**
 * @slot utility - A slot for utilities, such as a notification drawer or shopping basket.
 * @slot logo-utility - A slot to place elements alongside the logo. This takes precedence over the **region** prop. Note: not available in multilevel header.
 * @part header - piercing selector for styling the header element.
 */
class DuetHeader {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetSessionClick = createEvent$2(this, "duetSessionClick", 7);
        this.duetSearchClick = createEvent$2(this, "duetSearchClick", 7);
        this.duetUserClick = createEvent$2(this, "duetUserClick", 7);
        this.duetLanguageSelect = createEvent$2(this, "duetLanguageSelect", 7);
        this.duetLogoClick = createEvent$2(this, "duetLogoClick", 7);
        this.duetBackClick = createEvent$2(this, "duetBackClick", 7);
        this.duetContactClick = createEvent$2(this, "duetContactClick", 7);
        this.duetItemClick = createEvent$2(this, "duetItemClick", 7);
        this.duetSkipClick = createEvent$2(this, "duetSkipClick", 7);
        this.duetAnalytics = createEvent$2(this, "duetAnalytics", 7);
        this.duetMobileNavToggle = createEvent$2(this, "duetMobileNavToggle", 7);
        this.duetEvent = createEvent$2(this, "duetEvent", 7);
        /**
         * Own Properties
         */
        this.subMenuItemRefs = {};
        this.subMenuButtonRefs = {};
        this.hasLanguageChanged = false;
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.handleClick = (event, moveFocusToButton = false) => {
            if (event.data.analyticsId) {
                this.duetAnalytics.emit({
                    component: "duet-header",
                    analyticsId: event.data.analyticsId,
                });
            }
            this.duetChange.emit(event);
            this.closeMenus(moveFocusToButton);
            this.closeMobileNavigation(moveFocusToButton);
        };
        this.handleSessionClick = (ev) => {
            const e = createEvent(ev, this.processedSession);
            this.handleClick(e);
            this.duetSessionClick.emit(e);
        };
        this.handleSessionItemClick = (ev, item) => {
            const e = createEvent(ev, item);
            this.handleClick(e);
            this.duetSessionClick.emit(e);
        };
        this.handleSearchClick = (ev) => {
            const e = createEvent(ev, this.processedSearch);
            this.handleClick(e);
            this.duetSearchClick.emit(e);
        };
        this.handleUserClick = (ev) => {
            const e = createEvent(ev, this.processedUser);
            this.handleClick(e);
            this.duetUserClick.emit(e);
        };
        this.handleBackClick = (ev) => {
            const e = createEvent(ev, this.processedBack);
            this.handleClick(e);
            this.duetBackClick.emit(e);
        };
        this.handleSkipClick = (ev) => {
            const { skipLabel } = this.accessibleI18nLabels;
            const e = createEvent(ev, { href: this.skipToId, label: skipLabel });
            this.handleClick(e);
            this.duetSkipClick.emit(e);
        };
        this.handleLogoClick = (ev) => {
            const e = createEvent(ev, { href: this.logoHref, label: "logo" });
            this.handleClick(e);
            this.duetLogoClick.emit(e);
        };
        this.handleArrowKeys = ev => {
            let button;
            if (isArrowLeftKey(ev) || isArrowUpKey(ev)) {
                button = ev.target.previousElementSibling;
            }
            else if (isArrowRightKey(ev) || isArrowDownKey(ev)) {
                button = ev.target.nextElementSibling;
            }
            if (button) {
                ev.preventDefault();
                button.focus();
            }
        };
        this.toggleMenu = (ev, type, id, active) => {
            let el;
            ev.preventDefault();
            ev.stopPropagation();
            if (active === true && !this.openMenu) {
                const closedActives = this.closedActives ? [...this.closedActives] : [];
                const index = closedActives.findIndex(i => i === id);
                if (index > -1) {
                    closedActives.splice(index, 1);
                    this.closedActives = [...closedActives];
                }
                else {
                    this.closedActives = [...closedActives, id];
                }
            }
            else {
                this.openMenu = this.openMenu === id ? null : id;
            }
            // For language menu
            if (type === "language") {
                this.isContactOpen = false;
                this.isLanguageOpen = !this.isLanguageOpen;
                this.isSegmentOpen = false;
                this.isSessionOpen = false;
                el = this.languageItemsEl;
            }
            // For session menu
            if (type === "session") {
                this.isContactOpen = false;
                this.isLanguageOpen = false;
                this.isSegmentOpen = false;
                this.isSessionOpen = !this.isSessionOpen;
                el = this.sessionItemsEl;
            }
            // For contact menu
            else if (type === "contact") {
                this.isLanguageOpen = false;
                this.isContactOpen = !this.isContactOpen;
                this.isSegmentOpen = false;
                this.isSessionOpen = false;
                el = this.contactItemsEl;
            }
            // For mobile menu
            else if (type === "mobile") {
                this.isContactOpen = false;
                this.isLanguageOpen = false;
                this.isSegmentOpen = false;
                this.isSessionOpen = false;
                el = this.navigationEl;
                const toggle = !this.isSlideOutOpen;
                this.isSlideOutOpen = toggle;
                this.duetMobileNavToggle.emit({ originalEvent: ev, open: toggle });
                if (this.isSlideOutOpen) {
                    disableBodyScroll(this.navigationEl, { reserveScrollBarGap: true });
                }
                else {
                    enableBodyScroll(this.navigationEl);
                }
            }
            else if (type === "sub") {
                this.isContactOpen = false;
                this.isLanguageOpen = false;
                this.isSegmentOpen = false;
                this.isSessionOpen = false;
                el = this.subMenuItemRefs[id];
            }
            else if (type === "segment") {
                this.isContactOpen = false;
                this.isLanguageOpen = false;
                this.isSessionOpen = false;
                this.isSegmentOpen = !this.isSegmentOpen;
                el = this.segmentItemsEl;
            }
            if (this.isSlideOutOpen ||
                this.isLanguageOpen ||
                this.isContactOpen ||
                this.isSegmentOpen ||
                this.isSessionOpen ||
                this.openMenu) {
                const drawer = this.element.querySelector("duet-notification-drawer");
                if (drawer) {
                    drawer.close(false);
                }
                // Focus in the new menu when opened to make them more accessible
                setTimeout(() => {
                    el.querySelector("a").focus();
                }, 300);
            }
        };
        this.emitDuetEvent = (ev, data) => {
            this.duetEvent.emit({
                component: "duet-header",
                data,
                originalEvent: ev,
            });
        };
        this.isContactOpen = false;
        this.isLanguageOpen = false;
        this.isSessionOpen = false;
        this.isSlideOutOpen = false;
        this.isSegmentOpen = false;
        this.openMenu = null;
        this.closedActives = null;
        this.processedItems = null;
        this.processedLanguageItems = null;
        this.processedContactItems = null;
        this.processedSession = null;
        this.processedSearch = null;
        this.processedUser = null;
        this.processedBack = null;
        this.renderDesktopNav = true ;
        this.theme = "";
        this.language = getLanguage();
        this.accessibleI18nLabelsDefaults = {
            fi: {
                skipLabel: "Siirry pääsisältöön",
                changeLanguage: "Vaihda kieltä",
                activeLanguage: "Suomi valittuna",
            },
            sv: {
                skipLabel: "Gå till huvudinnehåll",
                changeLanguage: "Ändra Språk",
                activeLanguage: "Svenska valt",
            },
            en: {
                skipLabel: "Skip to main content",
                changeLanguage: "Change language",
                activeLanguage: "English selected",
            },
        };
        this.accessibleI18nLabels = getLocaleString(this.accessibleI18nLabelsDefaults);
        this.accessibleLabelExternalDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelExternal = getLocaleString(this.accessibleLabelExternalDefaults);
        this.accessibleLabelDefaults = {
            fi: "Valikko",
            sv: "Meny",
            en: "Menu",
        };
        this.accessibleLabel = getLocaleString(this.accessibleLabelDefaults);
        this.user = undefined;
        this.logoHref = "/";
        this.currentHref = "/";
        this.skipToId = "";
        this.items = undefined;
        this.region = "";
        this.session = undefined;
        this.search = undefined;
        this.back = undefined;
        this.contact = "";
        this.contactItems = undefined;
        this.languageItems = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.refresh();
    }
    connectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.refresh.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
        connectLanguageChangeObserver(this, [
            { prop: "accessibleLabel", defaults: "accessibleLabelDefaults" },
            { prop: "accessibleI18nLabels", defaults: "accessibleI18nLabelsDefaults" },
            { prop: "accessibleLabelExternal", defaults: "accessibleLabelExternalDefaults" },
        ]);
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        if (this.navigationEl) {
            enableBodyScroll(this.navigationEl);
        }
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Component event handling.
     */
    handleKeyUp(ev) {
        // When Esc is pressed
        if (isEscapeKey(ev)) {
            this.closeMenus(true);
            this.closeMobileNavigation(true);
        }
    }
    handleKeyDown(ev) {
        if (this.isContactOpen || this.isLanguageOpen || this.isSegmentOpen) {
            const activeElement = this.element.shadowRoot.activeElement;
            // When Space is pressed
            if (isSpaceKey(ev) && activeElement) {
                ev.preventDefault();
                ev.stopPropagation();
                if (this.isContactOpen) {
                    this.closeMenus();
                }
                else if (this.isLanguageOpen) {
                    this.closeMenus(true);
                }
                else if (this.isSegmentOpen) {
                    this.closeMenus();
                }
                else if (this.openMenu) {
                    this.closeMenus();
                }
                activeElement.click();
            }
        }
    }
    handleDocumentClick() {
        this.closeMenus();
        this.closeMobileNavigation();
    }
    handleLanguageClick(ev, data) {
        this.language = data.country;
        this.hasLanguageChanged = true;
        const e = createEvent(ev, data);
        this.handleClick(e, true);
        this.duetLanguageSelect.emit(e);
    }
    handleContactClick(ev, data) {
        const e = createEvent(ev, data);
        this.handleClick(e);
        this.duetContactClick.emit(e);
    }
    handleItemClick(ev, data) {
        const e = createEvent(ev, data);
        this.handleClick(e);
        this.duetItemClick.emit(e);
    }
    /**
     * Local methods.
     */
    async refresh() {
        var _a;
        if (this.renderDesktopNav !== Build.isServer ? true : (_a = this.mql[0]) === null || _a === void 0 ? void 0 : _a.matches) {
            this.renderDesktopNav = true ;
            this.openMenu = null;
            if (this.isSlideOutOpen) {
                this.toggleMenu(document.createEvent("UIEvents"), "mobile");
            }
        }
        this.processedItems = parsePossibleJSON(this.items);
        this.processedLanguageItems = parsePossibleJSON(this.languageItems);
        this.processedContactItems = parsePossibleJSON(this.contactItems);
        this.processedSession = parsePossibleJSON(this.session);
        this.processedSearch = parsePossibleJSON(this.search);
        this.processedUser = parsePossibleJSON(this.user);
        this.processedBack = parsePossibleJSON(this.back);
    }
    /**
     * Closes mobile menu in header when called.
     */
    async closeMobileNavigation(moveFocusToButton = false) {
        if (this.isSlideOutOpen) {
            this.isSlideOutOpen = false;
            enableBodyScroll(this.navigationEl);
            if (moveFocusToButton) {
                this.navigationElButton.focus({
                    preventScroll: true,
                });
            }
        }
    }
    /**
     * Closes all dropdown menus in header when called.
     */
    async closeMenus(moveFocusToButton = false) {
        if (this.isContactOpen || this.isLanguageOpen || this.isSegmentOpen || this.isSessionOpen || this.openMenu) {
            if (this.isContactOpen && moveFocusToButton) {
                this.contactItemsButtonEl.focus({
                    preventScroll: true,
                });
            }
            if (this.isLanguageOpen && moveFocusToButton) {
                this.languageItemsButtonEl.focus({
                    preventScroll: true,
                });
            }
            if (this.isSegmentOpen && moveFocusToButton) {
                this.segmentItemsButtonEl.focus({
                    preventScroll: true,
                });
            }
            if (this.isSessionOpen && moveFocusToButton) {
                this.sessionItemsButtonEl.focus({
                    preventScroll: true,
                });
            }
            if (this.openMenu && moveFocusToButton) {
                this.subMenuButtonRefs[this.openMenu].focus({
                    preventScroll: true,
                });
            }
            this.isContactOpen = false;
            this.isLanguageOpen = false;
            this.isSegmentOpen = false;
            this.isSessionOpen = false;
            this.openMenu = null;
        }
    }
    /**
     * Sets focus on the specified `duet-header`. Use this method instead of the global
     * `header.focus()`.
     */
    async setFocus(options) {
        this.logoEl.setFocus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const { skipLabel, changeLanguage, activeLanguage } = this.accessibleI18nLabels;
        const skipToLabel = () => this.skipToId ? (hAsync("a", { href: this.skipToId, class: "duet-header-skip", onClick: this.handleSkipClick }, skipLabel)) : null;
        const logo = () => (hAsync("duet-logo", { href: this.logoHref, size: "medium", ref: el => (this.logoEl = el), language: this.language, theme: this.theme, onClick: this.handleLogoClick }));
        const largeLogo = () => (hAsync("duet-logo", { href: this.logoHref, size: "large", ref: el => (this.logoEl = el), language: this.language, theme: this.theme, onClick: this.handleLogoClick }));
        const contactDropdown = () => this.contact && this.processedContactItems ? (hAsync(DuetHeaderDropdown, { id: "duet-header-contact", label: this.contact, icon: navigationContactDropdown.svg, active: this.isContactOpen, isOpen: this.isContactOpen, badge: false, toggleRef: el => (this.contactItemsButtonEl = el), itemsRef: el => (this.contactItemsEl = el), onToggle: event => this.toggleMenu(event, "contact") }, this.processedContactItems.map(item => (hAsync("a", { role: "menuitem", href: item.href || "#", id: item.id, onClick: event => this.handleContactClick(event, item), onKeyDown: ev => this.handleArrowKeys(ev), target: item.external ? "_blank" : "_self" }, item.label, Build.isBrowser  ))))) : null;
        const languageDropdown = () => this.language && this.processedLanguageItems ? (hAsync(DuetHeaderDropdown, { id: "duet-header-language", label: this.language, icon: navigationLanguage.svg, accessibleText: `${changeLanguage}${this.hasLanguageChanged ? `, ${activeLanguage}` : ""}`, active: this.isLanguageOpen, isOpen: this.isLanguageOpen, badge: false, toggleRef: el => (this.languageItemsButtonEl = el), itemsRef: el => (this.languageItemsEl = el), onToggle: event => this.toggleMenu(event, "language") }, this.processedLanguageItems.map(item => (hAsync("a", { class: { active: this.language === item.country }, "aria-selected": this.language === item.country, role: "menuitem", id: item.id, lang: item.country, href: item.href || "#", onClick: event => this.handleLanguageClick(event, item), onKeyDown: this.handleArrowKeys }, item.label))))) : null;
        const processedUserWithLink = () => this.processedUser && this.processedUser.href ? (hAsync("a", { href: this.processedUser.href || "#", id: this.processedUser.id, class: "duet-header-user duet-header-button", onClick: this.handleUserClick }, hAsync(DuetHeaderIcon, { icon: navigationUser.svg }), hAsync("span", { class: "duet-header-user-label" }, this.processedUser.label))) : null;
        const processedUserWithoutLink = () => this.processedUser && !this.processedUser.href ? (hAsync("span", { id: this.processedUser.id, class: "duet-header-user duet-header-button duet-header-no-action" }, hAsync(DuetHeaderIcon, { icon: navigationUser.svg }), hAsync("span", { class: "duet-header-user-label" }, this.processedUser.label))) : null;
        const processedSession = () => this.processedSession ? (hAsync("a", { href: this.processedSession.href || "#", id: this.processedSession.id, class: "duet-header-logout duet-header-button", onClick: this.handleSessionClick }, hAsync(DuetHeaderIcon, { class: "desktop", icon: this.processedSession.type === "logout" ? navigationLogout.svg : navigationLogin.svg, iconSize: "x-small" }), hAsync(DuetHeaderIcon, { class: "mobile", icon: this.processedSession.type === "logout" ? navigationLogout.svg : navigationLogin.svg, iconSize: "small" }), hAsync("span", { class: "duet-header-button-label" }, this.processedSession.label))) : null;
        const processedSessionDropdown = () => this.processedSession && this.processedSession.sessionItems ? (hAsync(DuetHeaderDropdown, { className: "duet-header-session", id: "duet-header-session", label: this.processedSession.label, icon: this.processedSession.type === "logout" ? navigationLogout.svg : navigationLogin.svg, active: this.isSessionOpen, isOpen: this.isSessionOpen, badge: false, toggleRef: el => (this.sessionItemsButtonEl = el), itemsRef: el => (this.sessionItemsEl = el), onToggle: event => this.toggleMenu(event, "session") }, this.processedSession.sessionItems.map((sessionItem, index) => (hAsync(Fragment, null, sessionItem.label && hAsync("span", { class: "duet-header-session-label" }, sessionItem.label), hAsync("duet-spacer", { size: "small", "aria-hidden": "true" }), sessionItem.items.map(item => (hAsync("a", { role: "menuitem", "aria-label": sessionItem.label ? `${sessionItem.label} ${item.label}` : item.label, id: item.id, href: item.href || "#", onClick: event => this.handleSessionItemClick(event, item), onKeyDown: this.handleArrowKeys }, item.label))), index !== this.processedSession.sessionItems.length - 1 && (hAsync(Fragment, null, hAsync("duet-spacer", { size: "x-small", "aria-hidden": "true" }), hAsync("duet-divider", { margin: "none", "aria-hidden": "true" })))))))) : null;
        const processedSearch = () => this.processedSearch ? (hAsync("a", { href: this.processedSearch.href || "#", id: this.processedSearch.id, class: "duet-header-search duet-header-button", onClick: this.handleSearchClick }, hAsync(DuetHeaderIcon, { icon: formSearch.svg }), hAsync("span", { class: "duet-header-button-label" }, this.processedSearch.label))) : null;
        // Back variation
        if (this.processedBack) {
            return (hAsync(Host, { class: "duet-header-back-variation" }, hAsync("div", { class: "duet-header-reserved-space" }, hAsync("header", { class: {
                    "duet-header": true,
                    "duet-theme-turva": this.theme === "turva",
                    "duet-header-back": true,
                    "duet-header-inactive": true,
                }, part: "header" }, hAsync("div", { class: "duet-header-top" }, skipToLabel(), hAsync("duet-button", { url: this.processedBack.href, id: this.processedBack.id, theme: this.theme, variation: "plain", color: this.theme === "turva" ? "secondary-turva" : "secondary", icon: "navigation-arrow-left", iconSize: "large", onClick: this.handleBackClick }, this.processedBack.label), logo(), hAsync("slot", { name: "logo-utility" }))))));
        }
        const itemsHaveSubItems = this.processedItems && this.processedItems.some(item => item.items && item.items.length > 0);
        const isSecondLevelActive = this.processedItems &&
            this.processedItems.some(item => item.items && item.items.some(secondLevelItem => secondLevelItem.active === true));
        const isThirdLevelActive = this.processedItems &&
            this.processedItems.some(item => item.items &&
                item.items.some(secondLevelItem => secondLevelItem.items && secondLevelItem.items.some(thirdLevelItem => thirdLevelItem.active === true)));
        const defaultVariationContent = (hAsync("div", { class: {
                "duet-header-reserved-space": true,
                "duet-with-links": !!this.processedItems,
                "duet-header-second-level-active": isSecondLevelActive,
                "duet-header-third-level-active": isThirdLevelActive,
                "duet-header-items-have-sub-items": itemsHaveSubItems,
            } }, hAsync("header", { class: {
                "duet-header": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-header-inactive": !this.processedItems,
            }, part: "header" }, hAsync("div", { class: "duet-header-top" }, skipToLabel(), logo(), hAsync("slot", { name: "logo-utility" }, this.region && hAsync("div", { class: "duet-header-region" }, this.region)), (this.processedItems ||
            languageDropdown() ||
            contactDropdown() ||
            this.processedSession ||
            this.processedUser) && (hAsync("button", { ref: el => (this.navigationElButton = el), class: { "duet-header-toggle": true, active: this.isSlideOutOpen }, onClick: event => this.toggleMenu(event, "mobile"), type: "button", "aria-controls": "duet-header-bottom", "aria-expanded": this.isSlideOutOpen ? "true" : "false" }, hAsync("duet-visually-hidden", null, this.accessibleLabel), hAsync(DuetHeaderHamburger, null)))), hAsync("div", { ref: el => (this.navigationEl = el), id: "duet-header-bottom", class: {
                "duet-header-bottom": true,
                active: this.isSlideOutOpen,
                inactive: !this.processedItems,
            } }, hAsync("nav", { class: "duet-header-items", role: "navigation" }, this.processedItems &&
            this.processedItems.map((item, itemIndex) => (hAsync("div", { class: "duet-header-item-container" }, hAsync("a", { class: {
                    "duet-header-first-level": true,
                    "duet-header-item": true,
                    active: (!itemsHaveSubItems && this.currentHref === item.href) ||
                        (item.active === true &&
                            !this.openMenu &&
                            this.closedActives &&
                            this.closedActives.length === 1) ||
                        (item.active === true &&
                            !this.openMenu &&
                            item.items &&
                            !item.items.some(s => s.active === true)),
                }, href: item.href || "#", id: item.id || `header-item-${itemIndex}`, onClick: event => this.handleItemClick(event, item), onMouseEnter: event => this.emitDuetEvent(event, item), onTouchStart: event => this.emitDuetEvent(event, item) }, item.label, item.badge && hAsync("div", { class: "duet-header-badge" })), item.items &&
                item.items
                    .filter(secondLevelitem => secondLevelitem.items && secondLevelitem.items.length > 0)
                    .map((secondLevelItem, secondLevelItemIndex) => {
                    const id = secondLevelItem.id || `header-item-${itemIndex}-${secondLevelItemIndex}`;
                    const active = (!this.openMenu &&
                        secondLevelItem.active === true &&
                        !(this.closedActives && !!this.closedActives.find(i => i === id))) ||
                        this.openMenu === id;
                    const activeBar = active && !(secondLevelItem.items && secondLevelItem.items.some(s => s.active === true));
                    return (hAsync(DuetHeaderDropdown, { id: id, className: "duet-header-second-level", label: secondLevelItem.label, icon: `${secondLevelItem.icon}.svg`, active: activeBar, isOpen: active, badge: secondLevelItem.badge, toggleRef: el => (this.subMenuButtonRefs[id] = el), itemsRef: el => (this.subMenuItemRefs[id] = el), onToggle: event => this.toggleMenu(event, "sub", id, secondLevelItem.active === true) }, hAsync("div", { class: "duet-header-third-level" }, secondLevelItem.items &&
                        secondLevelItem.items.map(thirdLevelItem => (hAsync("a", { class: {
                                "duet-header-item": true,
                                active: thirdLevelItem.active === true,
                            }, role: "menuitem", href: thirdLevelItem.href || "#", id: thirdLevelItem.id, onClick: event => this.handleItemClick(event, thirdLevelItem), onKeyDown: ev => this.handleArrowKeys(ev), onMouseEnter: event => this.emitDuetEvent(event, thirdLevelItem), onTouchStart: event => this.emitDuetEvent(event, thirdLevelItem), target: thirdLevelItem.external ? "_blank" : "_self" }, thirdLevelItem.icon && (hAsync("div", { class: "duet-header-icon" }, hAsync("duet-icon", { margin: "none", size: "medium", name: thirdLevelItem.icon, color: "currentColor" }))), hAsync("span", null, thirdLevelItem.label), thirdLevelItem.badge && hAsync("div", { class: "duet-header-badge" })))))));
                }))))), hAsync("div", { class: "duet-header-bottom-utils" }, hAsync("slot", { name: "utility" })), hAsync("div", { class: "duet-header-utils" }, !itemsHaveSubItems && contactDropdown(), languageDropdown(), !itemsHaveSubItems && (hAsync(Fragment, null, processedUserWithLink(), processedUserWithoutLink())), processedSearch(), processedSession())))));
        // multi level variation
        if (itemsHaveSubItems) {
            const activeSegment = this.processedItems.find(item => item.active);
            const isThirdLevelActive = this.processedItems &&
                this.processedItems.some(item => item.items &&
                    item.items.some(secondLevelItem => secondLevelItem.items && secondLevelItem.items.some(thirdLevelItem => thirdLevelItem.active === true)));
            const segmentId = "duet-header-segment";
            return (hAsync(Host, { class: "duet-header-multi-level-variation" }, hAsync("div", { class: {
                    "duet-header-multi-level": true,
                    "duet-header-multi-level-third-level-is-open": isThirdLevelActive,
                } }, hAsync("header", { class: {
                    "duet-header": true,
                    "duet-theme-turva": this.theme === "turva",
                    "duet-header-inactive": !this.processedItems,
                }, part: "header" }, hAsync("div", { class: "duet-header-top" }, skipToLabel(), hAsync("div", { class: "logo-and-segment" }, hAsync("div", null, largeLogo()), this.processedItems && (hAsync(DuetHeaderDropdown, { id: segmentId, label: activeSegment.label, active: this.isSegmentOpen, isOpen: this.isSegmentOpen, badge: false, toggleRef: el => (this.segmentItemsButtonEl = el), itemsRef: el => (this.segmentItemsEl = el), onToggle: event => this.toggleMenu(event, "segment") }, this.processedItems.map(item => (hAsync("a", { class: { active: activeSegment === item }, role: "menuitem", href: item.href || "#", id: item.id, onClick: event => this.handleItemClick(event, item), onKeyDown: ev => this.handleArrowKeys(ev), onMouseEnter: event => this.emitDuetEvent(event, item), onTouchStart: event => this.emitDuetEvent(event, item), target: item.external ? "_blank" : "_self" }, item.icon && (hAsync("div", { class: "duet-header-icon" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: item.icon, color: "currentColor" }))), hAsync("span", null, item.label), item.badge && hAsync("div", { class: "duet-header-badge" }))))))), hAsync("nav", { class: "duet-header-multi-level-nav" }, activeSegment.items &&
                activeSegment.items
                    .filter(secondLevelItem => secondLevelItem.items && secondLevelItem.items.length > 0)
                    .map((secondLevelItem, secondLevelItemIndex) => {
                    const id = secondLevelItem.id || `segment-item-${secondLevelItemIndex}`;
                    return (hAsync(DuetHeaderDropdown, { id: id, label: secondLevelItem.label, active: (!this.openMenu && secondLevelItem.active === true) || this.openMenu === id, isOpen: this.openMenu === id, badge: secondLevelItem.badge, toggleRef: el => (this.subMenuButtonRefs[id] = el), itemsRef: el => (this.subMenuItemRefs[id] = el), onToggle: event => this.toggleMenu(event, "sub", id) }, secondLevelItem.items &&
                        secondLevelItem.items.map(thirdLevelItem => (hAsync("a", { class: { active: thirdLevelItem.active }, role: "menuitem", href: thirdLevelItem.href || "#", id: thirdLevelItem.id, onClick: event => this.handleItemClick(event, thirdLevelItem), onKeyDown: ev => this.handleArrowKeys(ev), onMouseEnter: event => this.emitDuetEvent(event, thirdLevelItem), onTouchStart: event => this.emitDuetEvent(event, thirdLevelItem), target: thirdLevelItem.external ? "_blank" : "_self" }, thirdLevelItem.icon && (hAsync("div", { class: "duet-header-icon" }, hAsync("duet-icon", { margin: "none", size: "medium", name: thirdLevelItem.icon, color: "currentColor" }))), hAsync("span", null, thirdLevelItem.label), thirdLevelItem.badge && hAsync("div", { class: "duet-header-badge" }))))));
                })), hAsync("div", { class: "duet-header-multi-level-utils" }, processedSearch(), languageDropdown(), processedSessionDropdown() != null ? processedSessionDropdown() : processedSession()), hAsync("slot", { name: "utility" })))), defaultVariationContent));
        }
        // Default variation
        return (hAsync(Host, { class: {
                "duet-header-default-variation": true,
            } }, defaultVariationContent));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "user": ["refresh"],
        "items": ["refresh"],
        "session": ["refresh"],
        "back": ["refresh"],
        "contactItems": ["refresh"],
        "languageItems": ["refresh"]
    }; }
    static get style() { return duetHeaderCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-header",
        "$members$": {
            "theme": [1025],
            "language": [1025],
            "accessibleI18nLabelsDefaults": [1, "accessible-labels-default"],
            "accessibleI18nLabels": [1040],
            "accessibleLabelExternalDefaults": [1, "accessible-label-external-default"],
            "accessibleLabelExternal": [1025, "accessible-label-external"],
            "accessibleLabelDefaults": [1, "accessible-label-default"],
            "accessibleLabel": [1025, "accessible-label"],
            "user": [8],
            "logoHref": [1, "logo-href"],
            "currentHref": [1025, "current-href"],
            "skipToId": [1, "skip-to-id"],
            "items": [8],
            "region": [1],
            "session": [8],
            "search": [8],
            "back": [8],
            "contact": [1],
            "contactItems": [8, "contact-items"],
            "languageItems": [8, "language-items"],
            "isContactOpen": [32],
            "isLanguageOpen": [32],
            "isSessionOpen": [32],
            "isSlideOutOpen": [32],
            "isSegmentOpen": [32],
            "openMenu": [32],
            "closedActives": [32],
            "processedItems": [32],
            "processedLanguageItems": [32],
            "processedContactItems": [32],
            "processedSession": [32],
            "processedSearch": [32],
            "processedUser": [32],
            "processedBack": [32],
            "renderDesktopNav": [32],
            "closeMenus": [64],
            "setFocus": [64]
        },
        "$listeners$": [[8, "keyup", "handleKeyUp"], [8, "keydown", "handleKeyDown"], [4, "focus", "handleDocumentClick"], [4, "click", "handleDocumentClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetHeadingCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-heading,*.sc-duet-heading::after,*.sc-duet-heading::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-heading-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;display:block;width:100%}/*!@.duet-heading*/.duet-heading.sc-duet-heading{margin-bottom:16px !important;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:normal;font-weight:800;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);text-decoration:none;letter-spacing:-0.01rem;word-break:break-word}@media (min-width: 36em){/*!@.duet-heading*/.duet-heading.sc-duet-heading{margin-bottom:20px !important}}/*!@.duet-heading.duet-theme-turva*/.duet-heading.duet-theme-turva.sc-duet-heading{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:italic;font-weight:700;color:rgb(23, 28, 58)}/*!@.duet-heading.duet-heading-border*/.duet-heading.duet-heading-border.sc-duet-heading{padding-bottom:20px;border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-heading.duet-heading-border.duet-heading-border-solid*/.duet-heading.duet-heading-border.duet-heading-border-solid.sc-duet-heading{border-bottom-color:rgb(101, 119, 135)}/*!@.duet-heading.duet-heading-hyphenate*/.duet-heading.duet-heading-hyphenate.sc-duet-heading{-webkit-hyphens:auto;hyphens:auto}/*!@.duet-heading.h0*/.duet-heading.h0.sc-duet-heading{font-size:9.4vw;line-height:1.1}/*!@.duet-heading.h0.duet-p-0*/.duet-heading.h0.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h0.duet-m-0*/.duet-heading.h0.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 31.914893617rem){/*!@.duet-heading.h0*/.duet-heading.h0.sc-duet-heading{font-size:3rem}}@media (min-width: 47.8723404255rem){/*!@.duet-heading.h0*/.duet-heading.h0.sc-duet-heading{font-size:4.5rem}}@media (max-width: 22.5em){/*!@.duet-heading.h0*/.duet-heading.h0.sc-duet-heading{font-size:2.25rem}}/*!@.duet-heading.h1*/.duet-heading.h1.sc-duet-heading{font-size:7vw;line-height:1.1}/*!@.duet-heading.h1.duet-p-0*/.duet-heading.h1.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h1.duet-m-0*/.duet-heading.h1.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 32.1428571429rem){/*!@.duet-heading.h1*/.duet-heading.h1.sc-duet-heading{font-size:2.25rem}}@media (min-width: 42.8571428571rem){/*!@.duet-heading.h1*/.duet-heading.h1.sc-duet-heading{font-size:3rem}}@media (max-width: 22.5em){/*!@.duet-heading.h1*/.duet-heading.h1.sc-duet-heading{font-size:1.5rem}}/*!@.duet-heading.h2*/.duet-heading.h2.sc-duet-heading{font-size:5.8vw;line-height:1.1}/*!@.duet-heading.h2.duet-p-0*/.duet-heading.h2.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h2.duet-m-0*/.duet-heading.h2.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 25.8620689655rem){/*!@.duet-heading.h2*/.duet-heading.h2.sc-duet-heading{font-size:1.5rem}}@media (min-width: 38.7931034483rem){/*!@.duet-heading.h2*/.duet-heading.h2.sc-duet-heading{font-size:2.25rem}}/*!@.duet-heading.h2.duet-theme-turva*/.duet-heading.h2.duet-theme-turva.sc-duet-heading{font-style:normal}@media (max-width: 22.5em){/*!@.duet-heading.h2*/.duet-heading.h2.sc-duet-heading{font-size:1.375rem}}/*!@.duet-heading.h3*/.duet-heading.h3.sc-duet-heading{margin-bottom:12px !important;font-size:4.2vw}/*!@.duet-heading.h3.duet-p-0*/.duet-heading.h3.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h3.duet-m-0*/.duet-heading.h3.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 29.7619047619rem){/*!@.duet-heading.h3*/.duet-heading.h3.sc-duet-heading{font-size:1.25rem}}@media (min-width: 35.7142857143rem){/*!@.duet-heading.h3*/.duet-heading.h3.sc-duet-heading{font-size:1.5rem}}/*!@.duet-heading.h3.duet-theme-turva*/.duet-heading.h3.duet-theme-turva.sc-duet-heading{font-style:normal}/*!@.duet-heading.h3.duet-heading-border*/.duet-heading.h3.duet-heading-border.sc-duet-heading{padding-bottom:20px}/*!@.duet-heading.h4*/.duet-heading.h4.sc-duet-heading{margin-bottom:8px !important;font-size:4vw;letter-spacing:0}/*!@.duet-heading.h4.duet-p-0*/.duet-heading.h4.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h4.duet-m-0*/.duet-heading.h4.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 27.5rem){/*!@.duet-heading.h4*/.duet-heading.h4.sc-duet-heading{font-size:1.1rem}}@media (min-width: 31.25rem){/*!@.duet-heading.h4*/.duet-heading.h4.sc-duet-heading{font-size:1.25rem}}/*!@.duet-heading.h4.duet-theme-turva*/.duet-heading.h4.duet-theme-turva.sc-duet-heading{font-style:normal;font-weight:700}/*!@.duet-heading.h4.duet-heading-border*/.duet-heading.h4.duet-heading-border.sc-duet-heading{padding-bottom:20px}/*!@.duet-heading.h5*/.duet-heading.h5.sc-duet-heading{margin-bottom:8px !important;font-size:4vw;font-weight:600;letter-spacing:0}/*!@.duet-heading.h5.duet-p-0*/.duet-heading.h5.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h5.duet-m-0*/.duet-heading.h5.duet-m-0.sc-duet-heading{margin:0 !important}@media (max-width: 27.5rem){/*!@.duet-heading.h5*/.duet-heading.h5.sc-duet-heading{font-size:1.1rem}}@media (min-width: 28.4090909091rem){/*!@.duet-heading.h5*/.duet-heading.h5.sc-duet-heading{font-size:1.1363636364rem}}/*!@.duet-heading.h5.duet-theme-turva*/.duet-heading.h5.duet-theme-turva.sc-duet-heading{font-style:normal;font-weight:700}/*!@.duet-heading.h5.duet-heading-border*/.duet-heading.h5.duet-heading-border.sc-duet-heading{padding-bottom:16px}/*!@.duet-heading.h6*/.duet-heading.h6.sc-duet-heading{margin-bottom:8px !important;font-size:1rem;font-weight:600;letter-spacing:0}/*!@.duet-heading.h6.duet-p-0*/.duet-heading.h6.duet-p-0.sc-duet-heading{padding:0 !important}/*!@.duet-heading.h6.duet-m-0*/.duet-heading.h6.duet-m-0.sc-duet-heading{margin:0 !important}/*!@.duet-heading.h6.duet-theme-turva*/.duet-heading.h6.duet-theme-turva.sc-duet-heading{font-style:normal;font-weight:700}/*!@.duet-heading.h6.duet-heading-border*/.duet-heading.h6.duet-heading-border.sc-duet-heading{padding-bottom:16px}/*!@.duet-heading.duet-normal, .duet-heading.duet-theme-turva.duet-normal*/.duet-heading.duet-normal.sc-duet-heading,.duet-heading.duet-theme-turva.duet-normal.sc-duet-heading{font-style:normal !important;font-weight:400 !important}/*!@.duet-heading.duet-semibold, .duet-heading.duet-theme-turva.duet-semibold*/.duet-heading.duet-semibold.sc-duet-heading,.duet-heading.duet-theme-turva.duet-semibold.sc-duet-heading{font-style:normal !important;font-weight:600 !important}";

/**
 * @part duet-heading - piercing selector for styling the heading element that should be used only in special circumstances
 */
class DuetHeading {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.level = "h2";
        this.margin = "auto";
        this.visualLevel = undefined;
        this.border = false;
        this.weight = "auto";
        this.color = "";
        this.theme = "";
        this.hyphenate = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const TagName = sanitizeString$1(this.level);
        const color = getColorByName(this.color);
        return (hAsync(TagName, { class: {
                "duet-heading": true,
                "duet-heading-border": this.border !== false,
                "duet-heading-border-solid": this.border === "solid",
                "duet-normal": this.weight === "normal",
                "duet-semibold": this.weight === "semibold",
                "duet-heading-hyphenate": this.hyphenate,
                "duet-m-0": this.margin === "none",
                [this.visualLevel ? this.visualLevel : this.level]: true,
                "duet-theme-turva": this.theme === "turva",
            }, style: { color }, part: "duet-heading" }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get style() { return duetHeadingCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-heading",
        "$members$": {
            "level": [513],
            "margin": [1],
            "visualLevel": [1, "visual-level"],
            "border": [8],
            "weight": [1],
            "color": [1],
            "theme": [1025],
            "hyphenate": [4]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["level", "level"]]
    }; }
}

const duetHeroCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-hero,*.sc-duet-hero::after,*.sc-duet-hero::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-hero-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-hero*/.duet-hero.sc-duet-hero{position:relative;display:block;width:100%;padding:48px 28px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-style:normal;font-weight:400;line-height:1.5;text-decoration:none;text-shadow:none;text-transform:none;background:rgb(0, 41, 77)}/*!@.duet-hero.duet-p-0*/.duet-hero.duet-p-0.sc-duet-hero{padding:0 !important}/*!@.duet-hero.duet-m-0*/.duet-hero.duet-m-0.sc-duet-hero{margin:0 !important}/*!@.duet-hero.duet-hero-text-center*/.duet-hero.duet-hero-text-center.sc-duet-hero{text-align:center !important}/*!@.duet-hero.duet-hero-light*/.duet-hero.duet-hero-light.sc-duet-hero{padding-bottom:0 !important}@media (min-width: 62em){/*!@.duet-hero.duet-hero-light*/.duet-hero.duet-hero-light.sc-duet-hero{padding-bottom:28px !important}}/*!@.duet-hero.duet-hero-with-image*/.duet-hero.duet-hero-with-image.sc-duet-hero{padding-bottom:20px !important;margin-bottom:-36px}@media (min-width: 48em){/*!@.duet-hero.duet-hero-with-image*/.duet-hero.duet-hero-with-image.sc-duet-hero{padding-bottom:28px !important}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-with-image*/.duet-hero.duet-hero-with-image.sc-duet-hero{padding-bottom:36px !important;margin-bottom:-20px}}/*!@.duet-hero.duet-hero-light, .duet-hero.duet-hero-with-image*/.duet-hero.duet-hero-light.sc-duet-hero,.duet-hero.duet-hero-with-image.sc-duet-hero{color:rgb(0, 41, 77);background-color:rgb(255, 255, 255);background-image:linear-gradient(rgb(243, 249, 252), #f9fcfe)}/*!@.duet-hero.duet-hero-light::before, .duet-hero.duet-hero-with-image::before*/.duet-hero.duet-hero-light.sc-duet-hero::before,.duet-hero.duet-hero-with-image.sc-duet-hero::before{position:absolute;top:100%;left:0;z-index:-1;width:100%;height:400px;content:\"\";background-image:linear-gradient(#f9fcfe, rgb(255, 255, 255))}/*!@.duet-hero.duet-hero-light.duet-theme-turva, .duet-hero.duet-hero-with-image.duet-theme-turva*/.duet-hero.duet-hero-light.duet-theme-turva.sc-duet-hero,.duet-hero.duet-hero-with-image.duet-theme-turva.sc-duet-hero{color:rgb(23, 28, 58);background-image:linear-gradient(rgb(245, 245, 247), #fafafb)}/*!@.duet-hero.duet-hero-light.duet-theme-turva::before, .duet-hero.duet-hero-with-image.duet-theme-turva::before*/.duet-hero.duet-hero-light.duet-theme-turva.sc-duet-hero::before,.duet-hero.duet-hero-with-image.duet-theme-turva.sc-duet-hero::before{background-image:linear-gradient(#fafafb, rgb(255, 255, 255))}/*!@.duet-hero.duet-hero-gray*/.duet-hero.duet-hero-gray.sc-duet-hero{color:rgb(0, 41, 77);background:rgb(245, 248, 250)}/*!@.duet-hero.duet-hero-gray.duet-theme-turva*/.duet-hero.duet-hero-gray.duet-theme-turva.sc-duet-hero{background:rgb(245, 245, 247)}@media (min-width: 62em){/*!@.duet-hero.duet-hero-gray .duet-hero-text*/.duet-hero.duet-hero-gray.sc-duet-hero .duet-hero-text.sc-duet-hero{display:inline-block;vertical-align:top}/*!@.duet-hero.duet-hero-gray .duet-hero-icon + .duet-hero-text*/.duet-hero.duet-hero-gray.sc-duet-hero .duet-hero-icon.sc-duet-hero+.duet-hero-text.sc-duet-hero{margin-left:28px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-gray-with-actions*/.duet-hero.duet-hero-gray-with-actions.sc-duet-hero{padding-bottom:65.4545454545px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-gray-with-back*/.duet-hero.duet-hero-gray-with-back.sc-duet-hero{padding-top:72px}}/*!@.duet-hero.duet-hero-campaign, .duet-hero.duet-hero-section*/.duet-hero.duet-hero-campaign.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero{padding:0 0 48px;margin:0;background:none}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign, .duet-hero.duet-hero-section*/.duet-hero.duet-hero-campaign.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero{min-height:490px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign, .duet-hero.duet-hero-section*/.duet-hero.duet-hero-campaign.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero{min-height:540px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign, .duet-hero.duet-hero-section*/.duet-hero.duet-hero-campaign.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero{min-height:620px}}/*!@.duet-hero.duet-hero-campaign .background-area, .duet-hero.duet-hero-section .background-area*/.duet-hero.duet-hero-campaign.sc-duet-hero .background-area.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background-area.sc-duet-hero{height:1px;margin-bottom:-1px}/*!@.duet-hero.duet-hero-campaign .background-container, .duet-hero.duet-hero-section .background-container*/.duet-hero.duet-hero-campaign.sc-duet-hero .background-container.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background-container.sc-duet-hero{position:absolute;right:0;left:0;display:grid;align-items:flex-start;justify-content:center;overflow:hidden}/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{display:flex;align-items:flex-start;justify-content:center;height:220px;margin:0 auto}/*!@.duet-hero.duet-hero-campaign .background img, .duet-hero.duet-hero-section .background img*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero img.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero img.sc-duet-hero{height:100%}/*!@.duet-hero.duet-hero-campaign .background img.cover, .duet-hero.duet-hero-section .background img.cover*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero img.cover.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero img.cover.sc-duet-hero{object-fit:cover}/*!@.duet-hero.duet-hero-campaign .background img.center, .duet-hero.duet-hero-section .background img.center*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero img.center.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero img.center.sc-duet-hero{object-position:center}@media (min-width: 1440px){/*!@.duet-hero.duet-hero-campaign .background img, .duet-hero.duet-hero-section .background img*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero img.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero img.sc-duet-hero{width:100%;height:auto}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{height:300px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{height:450px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{height:500px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{height:580px}}@media (min-width: 1600px){/*!@.duet-hero.duet-hero-campaign .background, .duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{width:1600px;overflow:hidden}}/*!@.duet-hero.duet-hero-campaign .background .brand-container, .duet-hero.duet-hero-section .background .brand-container*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero .brand-container.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero .brand-container.sc-duet-hero{position:relative;width:100%;height:100%;min-height:220px;overflow:hidden}/*!@.duet-hero.duet-hero-campaign .background .brand, .duet-hero.duet-hero-section .background .brand*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero{position:absolute;width:100%;height:220px;background-repeat:no-repeat;background-position:center center;background-size:cover}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .background .brand, .duet-hero.duet-hero-section .background .brand*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero{left:-200px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .background .brand, .duet-hero.duet-hero-section .background .brand*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero{left:auto;height:1100px;background-position:140% -200%}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .background .brand, .duet-hero.duet-hero-section .background .brand*/.duet-hero.duet-hero-campaign.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero .brand.sc-duet-hero{background-position:right -200%}}/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{position:absolute;top:143px;right:0;left:-30px;width:340px;height:340px;margin-right:auto;margin-left:auto;background:rgb(255, 255, 255);border-radius:20%;mix-blend-mode:normal;transform:rotate(8deg)}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:160px;width:450px;height:450px}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:215px;left:-50px;width:550px;height:550px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:250px;left:0;width:712.18px;height:712.18px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:240px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:280px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .brand-shape, .duet-hero.duet-hero-section .brand-shape*/.duet-hero.duet-hero-campaign.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .brand-shape.sc-duet-hero{top:310px}}/*!@.duet-hero.duet-hero-campaign .duet-hero-text, .duet-hero.duet-hero-section .duet-hero-text*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero{width:100%}/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-heading::part(duet-heading), .duet-hero.duet-hero-section .duet-hero-text .duet-hero-heading::part(duet-heading)*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading),.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading){font-size:36px}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-heading::part(duet-heading), .duet-hero.duet-hero-section .duet-hero-text .duet-hero-heading::part(duet-heading)*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading),.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading){font-size:48px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-heading::part(duet-heading), .duet-hero.duet-hero-section .duet-hero-text .duet-hero-heading::part(duet-heading)*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading),.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-heading.sc-duet-hero::part(duet-heading){font-size:64px}}/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n.duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n.duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{margin:0 auto}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:90%}}@media (min-width: 25em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:80%}}@media (min-width: 30em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:70%}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:70%}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:52%}}/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{display:flex;align-items:center;height:6rem;padding:0 1rem;margin:1rem 0 4.5rem}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:2rem 0 4rem}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:3rem 0 8rem}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:4rem 0 10rem}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:5rem 0 10rem}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:6rem 0 10rem}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign .duet-hero-heading, .duet-hero.duet-hero-section .duet-hero-heading*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:8rem 0 11rem}}/*!@.duet-hero.duet-hero-campaign .duet-hero-wrapper.fluid, .duet-hero.duet-hero-campaign .duet-hero-wrapper.narrow, .duet-hero.duet-hero-section .duet-hero-wrapper.fluid, .duet-hero.duet-hero-section .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero,.duet-hero.duet-hero-campaign.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero,.duet-hero.duet-hero-section.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 16px}/*!@.duet-hero.duet-hero-campaign.duet-theme-turva, .duet-hero.duet-hero-section.duet-theme-turva*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";background:none}/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:125px;left:-10px;width:350px;height:350px;background:rgb(255, 255, 255);transform:none;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:143px;left:-30px;width:450px;height:450px}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:180px;left:0;width:550px;height:550px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:220px;width:712.18px;height:712.18px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:230px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:260px}}@media (min-width: 106.25em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .brand-shape, .duet-hero.duet-hero-section.duet-theme-turva .brand-shape*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .brand-shape.sc-duet-hero{top:290px}}/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n.duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:98%}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:90%}}@media (min-width: 25em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:78%}}@media (min-width: 30em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:66%}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:65%}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:70%}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-text duet-paragraph, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text .duet-hero-subheading,\n  .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-text duet-paragraph*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-subheading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-text.sc-duet-hero duet-paragraph.sc-duet-hero{width:52%}}@media (min-width: 22.5em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:2rem 0 5rem}}@media (min-width: 36em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:3rem 0 8rem}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:4rem 0 10rem}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:5rem 0 10rem}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:6rem 0 12rem}}@media (min-width: 106.25em){/*!@.duet-hero.duet-hero-campaign.duet-theme-turva .duet-hero-heading, .duet-hero.duet-hero-section.duet-theme-turva .duet-hero-heading*/.duet-hero.duet-hero-campaign.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero,.duet-hero.duet-hero-section.duet-theme-turva.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin:8rem 0 13rem}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-section*/.duet-hero.duet-hero-section.sc-duet-hero{min-height:490px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-section*/.duet-hero.duet-hero-section.sc-duet-hero{min-height:auto}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-section*/.duet-hero.duet-hero-section.sc-duet-hero{min-height:560px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-section .background img*/.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero img.sc-duet-hero{width:100%;height:auto}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{width:1400px;height:436px;overflow:hidden}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{width:1536px;height:516px}}@media (min-width: 106.25em){/*!@.duet-hero.duet-hero-section .background*/.duet-hero.duet-hero-section.sc-duet-hero .background.sc-duet-hero{width:1536px}}/*!@.duet-hero.duet-hero-product*/.duet-hero.duet-hero-product.sc-duet-hero{position:relative;padding:0 0 48px;padding-top:236px;margin:0;background:rgb(255, 255, 255)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product*/.duet-hero.duet-hero-product.sc-duet-hero{padding-top:250px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product*/.duet-hero.duet-hero-product.sc-duet-hero{min-height:375px;padding-top:0}/*!@.duet-hero.duet-hero-product.duet-hero-narrow*/.duet-hero.duet-hero-product.duet-hero-narrow.sc-duet-hero{padding-top:200px}}/*!@.duet-hero.duet-hero-product .background-area*/.duet-hero.duet-hero-product.sc-duet-hero .background-area.sc-duet-hero{position:absolute;top:0;width:100%;height:600px;overflow:hidden}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background-area*/.duet-hero.duet-hero-product.sc-duet-hero .background-area.sc-duet-hero{top:-112px}/*!@.duet-hero.duet-hero-product .background-area.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .background-area.narrow.sc-duet-hero{top:0}}/*!@.duet-hero.duet-hero-product .background-container*/.duet-hero.duet-hero-product.sc-duet-hero .background-container.sc-duet-hero{position:absolute;top:-150px;width:100%;height:600px;overflow:hidden}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background-container*/.duet-hero.duet-hero-product.sc-duet-hero .background-container.sc-duet-hero{top:-48px}/*!@.duet-hero.duet-hero-product .background-container.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .background-container.narrow.sc-duet-hero{top:-160px}}/*!@.duet-hero.duet-hero-product .background*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero{position:absolute;top:145px;width:100%;overflow:visible}/*!@.duet-hero.duet-hero-product .background .background-mask*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .background-mask.sc-duet-hero{display:none}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .background*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero{top:130px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero{top:35px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .background.narrow.sc-duet-hero{top:140px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero:not(.narrow){position:absolute;right:0;left:0;max-width:1440px;height:100%;margin:0 auto}}/*!@.duet-hero.duet-hero-product .background .brand-shaped-image*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{position:absolute;top:-160px;right:-15%;z-index:0;width:375px;height:375px;overflow:hidden;border-radius:20%;transform:rotate(7deg)}@media (min-width: 36em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{right:15%}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-210px;width:485px;height:485px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero:not(.narrow){top:-353px;right:-128.15px;width:520px;height:736px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero:not(.narrow){width:736px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.narrow.sc-duet-hero{right:30%}}/*!@.duet-hero.duet-hero-product .background .brand-shaped-image .brand-shaped-image-wrapper*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-wrapper.sc-duet-hero{position:relative;width:100%;height:100%}/*!@.duet-hero.duet-hero-product .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{position:absolute;bottom:0;left:50%;z-index:1;width:600px;height:256px;background-repeat:no-repeat;background-size:100%;transform:rotate(-7deg) translate(-50%, 0)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:600px;height:320px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-image .brand-shaped-image-bg:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero:not(.narrow){width:800px;height:470px}}/*!@.duet-hero.duet-hero-product .background .brand-shape*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero{position:absolute;top:-20px;right:50%;width:240px;height:240px;background:rgb(230, 242, 248);border-radius:25%;mix-blend-mode:normal;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .background .brand-shape*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero{top:-60px;width:340px;height:340px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shape:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero:not(.narrow){top:auto;top:79px;right:200px;width:380px;height:380px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product .background .brand-shape:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero:not(.narrow){right:414px;width:400px;height:400px}}/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{position:absolute;top:160px;right:15%;display:flex;align-items:center;justify-content:center;width:85px;height:85px;background:rgba(0, 119, 179, 0.75);border-radius:25%;mix-blend-mode:normal;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{top:180px;width:120px;height:120px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero:not(.narrow){top:292px;right:220px;width:150px;height:150px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero:not(.narrow){top:292px;right:220px;width:186px;height:186px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.narrow.sc-duet-hero{right:35%}}/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon duet-icon*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero duet-icon.sc-duet-hero{width:80px;height:80px;transform:rotate(-7deg)}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .background .brand-shaped-icon duet-icon:not(.narrow)*/.duet-hero.duet-hero-product.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero duet-icon.sc-duet-hero:not(.narrow){width:120px;height:120px}}/*!@.duet-hero.duet-hero-product .duet-hero-wrapper*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero{max-width:100%;margin:0 auto}/*!@.duet-hero.duet-hero-product .duet-hero-wrapper .duet-hero-text*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero .duet-hero-text.sc-duet-hero{margin-top:0}/*!@.duet-hero.duet-hero-product .duet-hero-wrapper .duet-hero-heading*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin-top:1rem}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper .duet-hero-heading*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin-top:2rem}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper .duet-hero-heading*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin-top:7rem}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper .duet-hero-heading*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.sc-duet-hero .duet-hero-heading.sc-duet-hero{margin-top:7rem}}/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.fluid, .duet-hero.duet-hero-product .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero,.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 16px}@media (min-width: 36em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{padding:0 28px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{padding:0 56px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{max-width:1110px;padding:0}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.fluid .duet-hero-text*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero .duet-hero-text.sc-duet-hero{width:50%}}/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{max-width:888px}@media (min-width: 36em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 48px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 72px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product .duet-hero-wrapper.narrow .duet-hero-text*/.duet-hero.duet-hero-product.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero .duet-hero-text.sc-duet-hero{width:80%}}/*!@.duet-hero.duet-hero-product.duet-theme-turva*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero{background:rgb(255, 255, 255)}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva.duet-hero-narrow*/.duet-hero.duet-hero-product.duet-theme-turva.duet-hero-narrow.sc-duet-hero{padding-top:160px}}/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .background-mask*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .background-mask.sc-duet-hero{position:absolute;top:0;left:0;display:block;width:721px;height:256.85px;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIxIiBoZWlnaHQ9IjI1NyIgdmlld0JveD0iMCAwIDcyMSAyNTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yODIwXzY5OTkxKSI+CjxwYXRoIGQ9Ik04MC4xNzA1IDIzLjE4MTVDOTEuOTY5OSAxOC44NjU5IDEwMi44NyAxMS42NTU5IDExMi45MDkgMS41NjQ0OEMxMjMuNzcgLTguMzA1MjcgMTM0LjM4MiAtMTguMjAxMSAxNDQuODI2IC0yOC4xODgyQzE1NS4yNDMgLTM4LjE2MjIgMTY1LjkwOCAtNDguMDg0MSAxNzYuNzQzIC01Ny45Mjc4QzE3OC44MTYgLTU5LjA0OSAxODAuNDk4IC02MC4yODc3IDE4MS43ODggLTYxLjY1NjdDMTgzLjA2NiAtNjMuMDEyNiAxODUuNDY1IC02Mi4yODI1IDE4OS4wMTIgLTU5LjQ3OTNDMTg0LjczNSAtNTEuMTM1IDE4MC43NTkgLTQyLjk2MDIgMTc3LjAxNyAtMzQuOTAyN0MxNzMuMjg4IC0yNi44NDUyIDE2Ny42ODEgLTE5LjEyNjggMTYwLjIxMSAtMTEuNzYwM0MxNTIuNzUzIC00LjM4MDgzIDE0NC45NTYgMy4zMTE1MiAxMzYuODQ3IDExLjM2OUMxMjguNzI0IDE5LjQyNjUgMTIwLjk2NiAyNy4xNDUgMTEzLjQ4MyAzNC40OTg0Qzk3LjQ5OCA0OS44MTggNzkuNjYyIDU2LjAyNDEgNjAuMDAwOCA1My4xNjg4QzQwLjI4NzQgNTAuMzEzNSAyNS41NDE0IDM5LjA3NDcgMTUuNjk3NyAxOS40Nzg2QzMuOTI0NDUgLTIuMzcyOTkgLTEuMjI1NTUgLTI0LjQ3MjQgMC4yNDc3NDMgLTQ2Ljc4MDNDMS4yNTE2NyAtNjcuNDg0NiAzLjQwMjkzIC04Ny43OTc4IDYuODA1ODQgLTEwNy43NzJDMTAuMTk1NyAtMTI3LjczMyAxNS43MTA4IC0xNDcuNDg2IDIzLjMzOCAtMTY3LjA0M0MyNi4zMTA3IC0xNzQuMDMxIDI5LjAwOTUgLTE4MC44NSAzMS40NzM3IC0xODcuNTY0QzMzLjkxMTggLTE5NC4yMjcgMzYuNTMyNCAtMjAwLjY2OCAzOS4yNTc0IC0yMDYuODQ4QzQxLjgxMjggLTIwOS41NzIgNDMuNDY4NiAtMjEyLjEyOCA0NC4xODU3IC0yMTQuNTRDNTMuMDI1NSAtMjI5LjM3NyA2Mi44MyAtMjM3Ljk5NSA3My42Mzg1IC0yNDAuNDMzQzg0LjM5NDggLTI0Mi44NzEgOTguMTM2OSAtMjM5LjgyMSAxMTQuODEyIC0yMzEuMzJDMTI3Ljk0MiAtMjI1LjYwOSAxMzMuMzkyIC0yMTYuMTA1IDEzMS4xNDkgLTIwMi43OTNDMTMwLjE3MSAtMTkwLjgzNyAxMjcuOTk0IC0xNzkuMjU5IDEyNC42MTcgLTE2OC4wMkMxMjAuMDQxIC0xNTIuNzc5IDExNS40MzggLTEzNy41NTEgMTEwLjg0OSAtMTIyLjMyMkMxMDYuMjczIC0xMDcuMDgxIDEwMS4yNzkgLTkxLjk2OTkgOTUuODk0MyAtNzcuMDAyM0M4NS41OTQzIC00OC42MDU3IDc5LjQyNzQgLTE5LjQyNjcgNzcuNDA2NSAxMC41NjA2Qzc3LjcxOTQgMTIuNDEyIDc4LjA0NTMgMTQuMjYzNSA3OC4zNTgzIDE2LjA4ODhDNzguNjcxMiAxNy45NDAyIDc5LjI3MDkgMjAuMyA4MC4xNzA1IDIzLjE5NDRNMTEwLjkxNCAtMjk2Ljc1N0MxMDkuNTQ1IC0yOTguMDM1IDEwNy4zMTYgLTI5OS4zNTIgMTA0LjIzOSAtMzAwLjczNEMxMDEuMTYyIC0zMDIuMDkgOTguMjQxMiAtMzA0LjA1OSA5NS41NDIzIC0zMDYuNjI3QzkwLjA3OTQgLTMxMS43NzcgODYuOTc2MyAtMzE4LjE2NiA4Ni4yMzMyIC0zMjUuODE5Qzg1LjQ2NCAtMzMzLjQ3MiA4Ny4zODA1IC0zNDAuNTUyIDkxLjk2OTkgLTM0Ny4wNThDOTMuMjIxNSAtMzQ4LjQxNCA5NC4xNDcyIC0zNDkuMjM1IDk0LjY4MTggLTM0OS41MjJDOTUuMTkwMyAtMzQ5Ljc5NiA5Ni4xMDI5IC0zNTAuNjA0IDk3LjM5MzcgLTM1MS45OTlDMTA5LjY3NSAtMzU3LjkwNiAxMjIuNDE0IC0zNTYuNjkzIDEzNS42MzQgLTM0OC4zMzZDMTQ2Ljk1MSAtMzQyLjMyNSAxNTIuMDg4IC0zMzMuMzE2IDE1MS4xMzYgLTMyMS4zNkwxNDguMjI5IC0zMTEuNzM4QzE0NC42NjkgLTI5Ny4wNyAxMzUuNTY5IC0yOTEuNTAzIDEyMC45MTQgLTI5NS4wNjJDMTE5LjA1IC0yOTQuNzIzIDExNS43MzggLTI5NS4yOTcgMTEwLjkxNCAtMjk2Ljc0NCIgZmlsbD0iI0Y1RjVGNyIvPgo8cGF0aCBkPSJNMjQyLjc2NyAyMTUuNTE4QzI0NS4wODggMjEzLjU4OCAyNDcuMjc4IDIxMi4xMDIgMjQ5LjM3NyAyMTAuOTY4QzI1MS40NSAyMDkuODU5IDI1My41MzYgMjA4Ljc1MSAyNTUuNjIyIDIwNy42MDRDMjc0LjIyNyAxOTIuMjg0IDI5MC41NzcgMTc3LjE2IDMwNC43MjMgMTYyLjE5M0MzMTUuNjg4IDE0OC45NDYgMzI2LjYxNCAxMzUuODU2IDMzNy40ODggMTIyLjk4N0MzNDguMzYxIDExMC4xMTkgMzU4Ljg4MyA5Ni45Mzc1IDM2OS4wNjYgODMuNDE3MUMzNzYuNDQ1IDczLjQzMDEgMzg0LjU4MSA2My44NjAyIDM5My40NDcgNTQuNzQ2NkM0MDIuMyA0NS42NDYxIDQxMC44MjYgMzYuMjMyNyA0MTkuMDAxIDI2LjQ4MDNDNDIxLjgwNCAyMi45NzMxIDQyNC4yMjkgMjAuMDAwNCA0MjYuMjg5IDE3LjU0OTNDNDI4LjMyMyAxNS4xMjQzIDQzMC41MDEgMTIuOTMzOCA0MzIuODM1IDExLjAxNzNDNDM0LjkwOCA5LjkwOTA2IDQzNi43NDYgOS41ODMwMSA0MzguMzYzIDEwLjA2NTRDNDM5Ljk1MyAxMC41NDc5IDQ0MS43OTIgMTAuMjQ4IDQ0My45MDQgOS4xMTM3MUM0NDMuMTg3IDExLjUxMjcgNDQyLjgyMiAxMy4zOTAzIDQ0Mi44ODcgMTQuNjk0QzQ0Mi45MjYgMTYuMDIzOSA0NDIuMjg3IDE3LjM2NjggNDQxLjAwOSAxOC43MjI3QzQyNC42NDcgNDYuOTYzIDQwNy42ODQgNzIuODE3MyAzOTAuMTIyIDk2LjMxMTdDMzc2LjY0MSAxMTQuOTU2IDM2My4xNDcgMTMyLjkwOSAzNDkuNjM5IDE1MC4yMjRDMzM2LjEwNiAxNjcuNTI1IDMyMi4yMiAxODUuMzYxIDMwNy45NDQgMjAzLjc1OEMzMDEuNTI5IDIxMC41MzcgMjk1LjM4OCAyMTcuMiAyODkuNDk1IDIyMy43MTlDMjgzLjU4OSAyMzAuMjI1IDI3Ny40MzUgMjM2LjkgMjcxLjAyIDI0My42NjdDMjU4LjkyMSAyNTQuODggMjQ0LjQ4OCAyNTkuMjM0IDIyNy43MzQgMjU2Ljc5NkMxOTYuODYgMjUxLjg4MSAxNzYuMDI1IDIzNi44NzQgMTY1LjIxNyAyMTEuNzg5QzE1NC42OTUgMTg4LjU2OCAxNDkuNTMyIDE2Ni41MDggMTQ5LjcwMiAxNDUuNjA4QzE0Ny45NDIgMTEzLjY3OCAxNDguMzA3IDgxLjk0MzggMTUwLjgxIDUwLjQxOEMxNTMuMyAxOC44NzkyIDE1OC4zMiAtMTIuMzIwNyAxNjUuODY5IC00My4yMDc3QzE4MC4xNzIgLTEwNS4yMDMgMTk4LjU2OCAtMTY2LjQwMyAyMjEuMTExIC0yMjYuODA4QzIzMi4wODkgLTI1Ny41MjYgMjQ0LjQyMyAtMjg3LjYxOCAyNTguMSAtMzE3LjA5NkMyNzEuNzc2IC0zNDYuNTc1IDI4Ni4zNzkgLTM3NS41MDcgMzAxLjk3MiAtNDA0LjAwOEMzMTIuOTUgLTQyNS45OSAzMjQuNjMyIC00NDcuMzQ2IDMzNi45NzkgLTQ2OC4wNjNDMzQ5LjMxMyAtNDg4Ljc1NCAzNjIuNDk1IC01MDkuMjI0IDM3Ni40MzIgLTUyOS40NTlDNDAzLjg2NCAtNTY4LjI5OSA0MzQuMTkgLTYwMy42NzEgNDY3LjM5OCAtNjM1LjU3NUM0NzUuNjM4IC02NDIuNjgxIDQ4My45OTUgLTY0OS4zMTcgNDkyLjQwNSAtNjU1LjUxQzUwMC44MjggLTY2MS42NzcgNTEwLjM5NyAtNjY2LjY1OCA1MjEuMTU0IC02NzAuMzk5QzU0NS4yNzQgLTY3Ny45NjEgNTY3LjcxMiAtNjc2Ljg3OSA1ODguMzkxIC02NjcuMTY2QzYwNC43MjcgLTY2MC40NzggNjEzLjY3MSAtNjQ5LjUxMyA2MTUuMjEgLTYzNC4yMTlDNjE3LjU5NiAtNjI0Ljc1NCA2MTguMTk1IC02MTMuNjcxIDYxNi45ODMgLTYwMC45NTlDNjEwLjMyIC01NTguNDgxIDU5Ny44NTYgLTUxNS41MzQgNTc5LjU1MSAtNDcyLjE5NkM1NjUuNDMxIC00MzkuODIzIDU0OS4wODEgLTQwOC43NTMgNTMwLjUyOCAtMzc5LjAwMUM1MTEuOTM2IC0zNDkuMjYxIDQ5Mi42MTQgLTMxOS45NTIgNDcyLjYgLTI5MS4wOTlDNDY1LjQ1NiAtMjgxLjkyIDQ1Ny45NDYgLTI3MS41MDMgNDUwLjEyMyAtMjU5LjkxMkM0MzMuNTc4IC0yMzYuOTc4IDQxNS42MzcgLTIxNS4xMjYgMzk2LjI4OSAtMTk0LjM1N0MzNzYuOTAyIC0xNzMuNTYxIDM1NS44NDUgLTE1NC4zOTYgMzMzLjA2OCAtMTM2LjgyQzMyMC4zODIgLTEyNi42OSAzMTIuNTMzIC0xMTUuMDg2IDMwOS40ODIgLTEwMi4wNDhDMzA0LjE4OSAtODQuNDQ2OCAyOTguOTc0IC02Ny4wNDExIDI5My43OTggLTQ5Ljg0NEMyODguNjIxIC0zMi42NDY5IDI4My43NzEgLTE1LjExMDggMjc5LjI4NiAyLjcxMjFDMjc1LjI3MSAxOC45NzA1IDI3MS4zMDcgMzQuOTgxIDI2Ny40MjIgNTAuODM1MkMyNjMuNTIzIDY2LjY2MzMgMjU5Ljk2NCA4Mi44NDM0IDI1Ni43NyA5OS4zMzY1QzI1My41NDkgMTE1LjgwMyAyNTAuNjgxIDEzMi42MjIgMjQ4LjE1MiAxNDkuNzQxQzI0NS42MDkgMTY2Ljg2IDI0My4xMzIgMTgzLjc5NyAyNDAuNzQ2IDIwMC40OThDMjQxLjA0NiAyMDIuMzM3IDI0MS4zMDcgMjA0LjM5NiAyNDEuNTE1IDIwNi42MTNDMjQxLjY5OCAyMDguODY4IDI0Mi4xMjggMjExLjg0MSAyNDIuNzggMjE1LjUxOE01NjQuMzIyIC02MjIuMDgxQzU2MS43MjggLTYxOS4zNDMgNTU4LjExNiAtNjE2LjA4MyA1NTMuNDg4IC02MTIuMjM3QzU0Mi4yMzYgLTU5OC4xNjkgNTMwLjk1OCAtNTgzLjkwNiA1MTkuNjI4IC01NjkuNDU5QzUwOC4yNTkgLTU1NC45ODcgNDk4LjA1IC01MzkuOTQxIDQ4OS4wMTUgLTUyNC4zNzRDNDU5LjIzNiAtNDc0Ljg2OSA0MzIuNzY5IC00MjMuOTU2IDQwOS42MDEgLTM3MS42MDhDMzg2LjQxOSAtMzE5LjI0OCAzNjUuMTkzIC0yNjUuNDQgMzQ1LjkzNiAtMjEwLjE3MkMzNDUuNzAyIC0yMDkuMzc3IDM0NS43MDIgLTIwOC43MTIgMzQ2LjAxNSAtMjA4LjE5QzM0Ni4yNjIgLTIwNy42NTYgMzQ2LjE4NCAtMjA2LjU4NyAzNDUuNzE1IC0yMDUuMDA5QzM0OS4zNzggLTIwNS42MjIgMzUxLjM2IC0yMDYuMzM5IDM1MS42MDggLTIwNy4xNDdDMzU1LjQ2NyAtMjExLjIxNSAzNTkuNTA5IC0yMTUuMjMxIDM2My43NDYgLTIxOS4xOTRDMzY3Ljk5NyAtMjIzLjE0NSAzNzEuNzY1IC0yMjcuNjgyIDM3NS4wNzYgLTIzMi44MTlDNDAyLjg4NiAtMjY3LjE2MSA0MjguNzE0IC0zMDIuMTQyIDQ1Mi41MzUgLTMzNy43MzZDNDc2LjM2OCAtMzczLjMwMyA0OTguNTMzIC00MTAuNjk2IDUxOS4wNjggLTQ0OS44ODhDNTQzLjg1MyAtNDk3LjM3MiA1NTkuNTc3IC01NDYuNzM0IDU2Ni4yNTIgLTU5Ny45MzRDNTY2LjY0MyAtNjAyLjE4NSA1NjYuOTE3IC02MDYuMDE4IDU2Ny4xIC02MDkuNDZDNTY3LjI0MyAtNjEyLjkwMiA1NjYuMzE3IC02MTcuMSA1NjQuMzM2IC02MjIuMDgxIiBmaWxsPSIjRjVGNUY3Ii8+CjxwYXRoIGQ9Ik02OTYuNTE1IDE4OS4wNjRDNzA0LjYzOCAxODQuMzk2IDcxMi42ODIgMTc5LjYxMSA3MjAuNjg4IDE3NC43MzVWMTM0LjA1N0M2OTcuODE5IDE0OC41MDMgNjczLjgwMyAxNTkuNjM3IDY0OC42MDEgMTY3LjQyMUM2MjIuMDgyIDE3NS42MzUgNTk0LjU1OCAxODAuNjY3IDU2Ni4wMTggMTgyLjU1OEM1NTAuOTIgMTgzLjI2MiA1NDEuMjk4IDE4MS44OTMgNTM3LjEgMTc4LjQzOEM1MzIuODc2IDE3NS4wMDkgNTI5LjA5NSAxNjUuNzUyIDUyNS43NTcgMTUwLjc0NUw1MjMuOTU4IDEzMC41NDlDNTIzLjMzMiAxMTguMTI0IDUyNC43NjYgMTA2Ljc1NSA1MjguMzM5IDk2LjQyODlDNTMxLjg1OSA4Ni4xNTUgNTM2LjEyMiA3NS42MjAzIDU0MS4xMTYgNjQuODc3QzU0NS42MTQgNjQuNDg1OSA1NDkuNTY0IDY0LjM2ODUgNTUzLjAzMiA2NC41MzhDNTU2LjQ3NSA2NC42OTQ1IDU2MC40MzggNjQuNTc3MSA1NjQuOTQ5IDY0LjE3MjlDNTg1Ljg3NSA2NC4zNjg1IDYwNy42MzYgNjEuNzQ3OSA2MzAuMjY5IDU2LjI4NDlDNjUyLjA4MiA1MC42MjY1IDY3MC40IDQxLjI3ODIgNjg1LjI3NyAyOC4yNTMzQzY5NC45MzggMTkuNzc4NiA3MDQuMDI1IDEwLjM3ODMgNzEyLjU2NSAwLjA5MTMwODZINjM5LjUyNkM2MjAuMjU2IDE2Ljk4ODUgNTk2Ljk0NCAyNy40ODQxIDU2OS41MzkgMzEuNDYwN0M1NjcuNjYxIDMxLjc3MzYgNTY2LjM1NyAzMS44MTI3IDU2NS41NzUgMzEuNTY1QzU2NC43NTQgMzEuMzMwMyA1NjMuODI4IDMxLjUxMjggNTYyLjgxMSAzMi4wNDc0QzU2MS45OSAzMS44MTI3IDU2MS42NTEgMzEuNDk5OCA1NjEuNzgxIDMxLjA4MjZDNTYxLjg5OCAzMC42OTE1IDU2MS41NDYgMzAuMzY1NSA1NjAuNzUxIDMwLjEzMDhDNTYwLjk5OSAyOS4zMzU1IDU2MC45MDcgMjguODY2MSA1NjAuNTE2IDI4Ljc2MThDNTYwLjA5OSAyOC42MTg0IDU2MC4wMzQgMjguMTYyIDU2MC4yOTUgMjcuMzUzN0M1NjUuMzc5IDE4LjE3NDkgNTcwLjc3NyA5LjEwMDU1IDU3Ni40MzYgMC4wOTEzMDg2SDQzMC4xNzZDNDI0LjIwNCAxMi42NzMgNDE5LjA1NCAyNS45NDU2IDQxNC44MyAzOS45ODc1QzQwNi40NzMgNjEuOTU2NSA0MDQuMjgyIDgyLjI2OTcgNDA4LjI4NSAxMDAuOTY2QzQxMi4wMTQgMTIwLjQ1OCA0MTguODMzIDEzOC40NjMgNDI4LjcyOCAxNTQuOTgyQzQzOC42MTEgMTcxLjUyOCA0NTIuNDU4IDE4NS4wODcgNDcwLjI1NCAxOTUuN0M0OTAuNzM3IDIwOC44ODEgNTEyLjE0NSAyMTcuNzIxIDUzNC40MDEgMjIyLjI0NUM1NTYuNjQ0IDIyNi43NTcgNTc5Ljg2NSAyMjYuNTA5IDYwNC4xMTUgMjIxLjU2N0M2MDkuNjQzIDIyMC42MTYgNjE1LjI2MyAyMTkuNDY4IDYyMC45MjEgMjE4LjA5OUM2MjYuNTY3IDIxNi43NTYgNjMyLjI3NyAyMTUuMTkyIDYzOC4wNTMgMjEzLjQxOUM2NTkuMDU3IDIwNy41MjUgNjc4LjU2MiAxOTkuMzkgNjk2LjU0MSAxODkuMDc3IiBmaWxsPSIjRjVGNUY3Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjgyMF82OTk5MSI+CjxyZWN0IHdpZHRoPSI3MjEiIGhlaWdodD0iMjU2Ljg0OCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K\");background-repeat:no-repeat}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .background-mask*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .background-mask.sc-duet-hero{left:181px}}/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-185px;right:0;left:0;width:485px;height:485px;margin:0 auto;border-radius:0;transform:none;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}@media (min-width: 36em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{right:0}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-165px;right:0}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image.narrow*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.narrow.sc-duet-hero{right:40%;left:auto}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image:not(.narrow)*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero:not(.narrow){top:-230px;right:-180px;left:auto;width:675px;height:675px;margin:0}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image:not(.narrow)*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero:not(.narrow){right:-120px;width:736px}}/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:600px;height:320px;transform:translate(-50%, 0)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:600px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-image .brand-shaped-image-bg:not(.narrow)*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero:not(.narrow){width:800px;height:470px}}/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{top:175px;background:rgba(198, 12, 48, 0.9);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat;transform:rotate(0deg)}/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon duet-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero duet-icon.sc-duet-hero{position:relative;top:-10px;transform:rotate(0deg)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon duet-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero duet-icon.sc-duet-hero{top:-10px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon duet-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero duet-icon.sc-duet-hero{top:-15px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{top:180px;right:20%}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{top:292px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero{top:292px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon.narrow*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.narrow.sc-duet-hero{top:192px;right:35%}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon.narrow*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.narrow.sc-duet-hero{top:192px;right:40%}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-product.duet-theme-turva .background .brand-shaped-icon:not(.narrow)*/.duet-hero.duet-hero-product.duet-theme-turva.sc-duet-hero .background.sc-duet-hero .brand-shaped-icon.sc-duet-hero:not(.narrow){right:340px}}/*!@.duet-hero.duet-hero-content*/.duet-hero.duet-hero-content.sc-duet-hero{padding:0 0 48px;padding-top:236px;background:rgb(255, 255, 255)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content*/.duet-hero.duet-hero-content.sc-duet-hero{padding-top:384px}}/*!@.duet-hero.duet-hero-content:not(.duet-hero-has-image)*/.duet-hero.duet-hero-content.sc-duet-hero:not(.duet-hero-has-image){padding:72px 0 48px}/*!@.duet-hero.duet-hero-content .background-area*/.duet-hero.duet-hero-content.sc-duet-hero .background-area.sc-duet-hero{position:absolute;width:100%}/*!@.duet-hero.duet-hero-content .background*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero{position:absolute;top:-236px;width:100%;height:600px;overflow:hidden}/*!@.duet-hero.duet-hero-content .background .background-mask*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .background-mask.sc-duet-hero{display:none}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content .background*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero{top:-384px}}/*!@.duet-hero.duet-hero-content .background .brand-shaped-image*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{position:absolute;top:-165px;right:0;left:30px;z-index:0;width:375px;height:375px;margin:0 auto;overflow:hidden;border-radius:20%;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content .background .brand-shaped-image*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-325px;left:250px;width:687px;height:687px}}/*!@.duet-hero.duet-hero-content .background .brand-shaped-image .brand-shaped-image-wrapper*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-wrapper.sc-duet-hero{position:relative;width:100%;height:100%}/*!@.duet-hero.duet-hero-content .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{position:absolute;bottom:0;left:50%;z-index:1;width:600px;height:256px;background-repeat:no-repeat;background-size:100%;transform:rotate(-7deg) translate(-50%, 0)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content .background .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:733px;height:413px}}/*!@.duet-hero.duet-hero-content .background .brand-shape*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero{position:absolute;top:-25px;right:0;left:-300px;width:240px;height:240px;margin-right:auto;margin-left:auto;background:rgb(0, 119, 179);border-radius:20%;mix-blend-mode:normal;opacity:0.07;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content .background .brand-shape*/.duet-hero.duet-hero-content.sc-duet-hero .background.sc-duet-hero .brand-shape.sc-duet-hero{top:80px;left:-400px;width:373px;height:373px}}/*!@.duet-hero.duet-hero-content .duet-hero-wrapper*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.sc-duet-hero{max-width:100%;margin:0 auto}/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.fluid, .duet-hero.duet-hero-content .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero,.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 16px}@media (min-width: 36em){/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{padding:0 28px}}@media (min-width: 62em){/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{padding:0 56px}}@media (min-width: 76.25em){/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.fluid*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.fluid.sc-duet-hero{max-width:1110px;padding:0}}/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{max-width:888px}@media (min-width: 36em){/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 48px}}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content .duet-hero-wrapper.narrow*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-wrapper.narrow.sc-duet-hero{padding:0 72px}}/*!@.duet-hero.duet-hero-content .duet-hero-text*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-text.sc-duet-hero{max-width:100%}@media (min-width: 62em){/*!@.duet-hero.duet-hero-content .duet-hero-text*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-text.sc-duet-hero{width:80%}}/*!@.duet-hero.duet-hero-content .duet-hero-text .duet-hero-pre*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-pre.sc-duet-hero{margin-top:1rem;margin-bottom:0.5rem}@media (min-width: 62em){/*!@.duet-hero.duet-hero-content .duet-hero-text .duet-hero-pre*/.duet-hero.duet-hero-content.sc-duet-hero .duet-hero-text.sc-duet-hero .duet-hero-pre.sc-duet-hero{margin-top:1.5rem;margin-bottom:0}}/*!@.duet-hero.duet-hero-content.duet-theme-turva*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero{background:rgb(255, 255, 255)}/*!@.duet-hero.duet-hero-content.duet-theme-turva .background-mask*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .background-mask.sc-duet-hero{position:absolute;top:0;left:0;display:block;width:721px;height:256.85px;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIxIiBoZWlnaHQ9IjI1NyIgdmlld0JveD0iMCAwIDcyMSAyNTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yODIwXzY5OTkxKSI+CjxwYXRoIGQ9Ik04MC4xNzA1IDIzLjE4MTVDOTEuOTY5OSAxOC44NjU5IDEwMi44NyAxMS42NTU5IDExMi45MDkgMS41NjQ0OEMxMjMuNzcgLTguMzA1MjcgMTM0LjM4MiAtMTguMjAxMSAxNDQuODI2IC0yOC4xODgyQzE1NS4yNDMgLTM4LjE2MjIgMTY1LjkwOCAtNDguMDg0MSAxNzYuNzQzIC01Ny45Mjc4QzE3OC44MTYgLTU5LjA0OSAxODAuNDk4IC02MC4yODc3IDE4MS43ODggLTYxLjY1NjdDMTgzLjA2NiAtNjMuMDEyNiAxODUuNDY1IC02Mi4yODI1IDE4OS4wMTIgLTU5LjQ3OTNDMTg0LjczNSAtNTEuMTM1IDE4MC43NTkgLTQyLjk2MDIgMTc3LjAxNyAtMzQuOTAyN0MxNzMuMjg4IC0yNi44NDUyIDE2Ny42ODEgLTE5LjEyNjggMTYwLjIxMSAtMTEuNzYwM0MxNTIuNzUzIC00LjM4MDgzIDE0NC45NTYgMy4zMTE1MiAxMzYuODQ3IDExLjM2OUMxMjguNzI0IDE5LjQyNjUgMTIwLjk2NiAyNy4xNDUgMTEzLjQ4MyAzNC40OTg0Qzk3LjQ5OCA0OS44MTggNzkuNjYyIDU2LjAyNDEgNjAuMDAwOCA1My4xNjg4QzQwLjI4NzQgNTAuMzEzNSAyNS41NDE0IDM5LjA3NDcgMTUuNjk3NyAxOS40Nzg2QzMuOTI0NDUgLTIuMzcyOTkgLTEuMjI1NTUgLTI0LjQ3MjQgMC4yNDc3NDMgLTQ2Ljc4MDNDMS4yNTE2NyAtNjcuNDg0NiAzLjQwMjkzIC04Ny43OTc4IDYuODA1ODQgLTEwNy43NzJDMTAuMTk1NyAtMTI3LjczMyAxNS43MTA4IC0xNDcuNDg2IDIzLjMzOCAtMTY3LjA0M0MyNi4zMTA3IC0xNzQuMDMxIDI5LjAwOTUgLTE4MC44NSAzMS40NzM3IC0xODcuNTY0QzMzLjkxMTggLTE5NC4yMjcgMzYuNTMyNCAtMjAwLjY2OCAzOS4yNTc0IC0yMDYuODQ4QzQxLjgxMjggLTIwOS41NzIgNDMuNDY4NiAtMjEyLjEyOCA0NC4xODU3IC0yMTQuNTRDNTMuMDI1NSAtMjI5LjM3NyA2Mi44MyAtMjM3Ljk5NSA3My42Mzg1IC0yNDAuNDMzQzg0LjM5NDggLTI0Mi44NzEgOTguMTM2OSAtMjM5LjgyMSAxMTQuODEyIC0yMzEuMzJDMTI3Ljk0MiAtMjI1LjYwOSAxMzMuMzkyIC0yMTYuMTA1IDEzMS4xNDkgLTIwMi43OTNDMTMwLjE3MSAtMTkwLjgzNyAxMjcuOTk0IC0xNzkuMjU5IDEyNC42MTcgLTE2OC4wMkMxMjAuMDQxIC0xNTIuNzc5IDExNS40MzggLTEzNy41NTEgMTEwLjg0OSAtMTIyLjMyMkMxMDYuMjczIC0xMDcuMDgxIDEwMS4yNzkgLTkxLjk2OTkgOTUuODk0MyAtNzcuMDAyM0M4NS41OTQzIC00OC42MDU3IDc5LjQyNzQgLTE5LjQyNjcgNzcuNDA2NSAxMC41NjA2Qzc3LjcxOTQgMTIuNDEyIDc4LjA0NTMgMTQuMjYzNSA3OC4zNTgzIDE2LjA4ODhDNzguNjcxMiAxNy45NDAyIDc5LjI3MDkgMjAuMyA4MC4xNzA1IDIzLjE5NDRNMTEwLjkxNCAtMjk2Ljc1N0MxMDkuNTQ1IC0yOTguMDM1IDEwNy4zMTYgLTI5OS4zNTIgMTA0LjIzOSAtMzAwLjczNEMxMDEuMTYyIC0zMDIuMDkgOTguMjQxMiAtMzA0LjA1OSA5NS41NDIzIC0zMDYuNjI3QzkwLjA3OTQgLTMxMS43NzcgODYuOTc2MyAtMzE4LjE2NiA4Ni4yMzMyIC0zMjUuODE5Qzg1LjQ2NCAtMzMzLjQ3MiA4Ny4zODA1IC0zNDAuNTUyIDkxLjk2OTkgLTM0Ny4wNThDOTMuMjIxNSAtMzQ4LjQxNCA5NC4xNDcyIC0zNDkuMjM1IDk0LjY4MTggLTM0OS41MjJDOTUuMTkwMyAtMzQ5Ljc5NiA5Ni4xMDI5IC0zNTAuNjA0IDk3LjM5MzcgLTM1MS45OTlDMTA5LjY3NSAtMzU3LjkwNiAxMjIuNDE0IC0zNTYuNjkzIDEzNS42MzQgLTM0OC4zMzZDMTQ2Ljk1MSAtMzQyLjMyNSAxNTIuMDg4IC0zMzMuMzE2IDE1MS4xMzYgLTMyMS4zNkwxNDguMjI5IC0zMTEuNzM4QzE0NC42NjkgLTI5Ny4wNyAxMzUuNTY5IC0yOTEuNTAzIDEyMC45MTQgLTI5NS4wNjJDMTE5LjA1IC0yOTQuNzIzIDExNS43MzggLTI5NS4yOTcgMTEwLjkxNCAtMjk2Ljc0NCIgZmlsbD0iI0Y1RjVGNyIvPgo8cGF0aCBkPSJNMjQyLjc2NyAyMTUuNTE4QzI0NS4wODggMjEzLjU4OCAyNDcuMjc4IDIxMi4xMDIgMjQ5LjM3NyAyMTAuOTY4QzI1MS40NSAyMDkuODU5IDI1My41MzYgMjA4Ljc1MSAyNTUuNjIyIDIwNy42MDRDMjc0LjIyNyAxOTIuMjg0IDI5MC41NzcgMTc3LjE2IDMwNC43MjMgMTYyLjE5M0MzMTUuNjg4IDE0OC45NDYgMzI2LjYxNCAxMzUuODU2IDMzNy40ODggMTIyLjk4N0MzNDguMzYxIDExMC4xMTkgMzU4Ljg4MyA5Ni45Mzc1IDM2OS4wNjYgODMuNDE3MUMzNzYuNDQ1IDczLjQzMDEgMzg0LjU4MSA2My44NjAyIDM5My40NDcgNTQuNzQ2NkM0MDIuMyA0NS42NDYxIDQxMC44MjYgMzYuMjMyNyA0MTkuMDAxIDI2LjQ4MDNDNDIxLjgwNCAyMi45NzMxIDQyNC4yMjkgMjAuMDAwNCA0MjYuMjg5IDE3LjU0OTNDNDI4LjMyMyAxNS4xMjQzIDQzMC41MDEgMTIuOTMzOCA0MzIuODM1IDExLjAxNzNDNDM0LjkwOCA5LjkwOTA2IDQzNi43NDYgOS41ODMwMSA0MzguMzYzIDEwLjA2NTRDNDM5Ljk1MyAxMC41NDc5IDQ0MS43OTIgMTAuMjQ4IDQ0My45MDQgOS4xMTM3MUM0NDMuMTg3IDExLjUxMjcgNDQyLjgyMiAxMy4zOTAzIDQ0Mi44ODcgMTQuNjk0QzQ0Mi45MjYgMTYuMDIzOSA0NDIuMjg3IDE3LjM2NjggNDQxLjAwOSAxOC43MjI3QzQyNC42NDcgNDYuOTYzIDQwNy42ODQgNzIuODE3MyAzOTAuMTIyIDk2LjMxMTdDMzc2LjY0MSAxMTQuOTU2IDM2My4xNDcgMTMyLjkwOSAzNDkuNjM5IDE1MC4yMjRDMzM2LjEwNiAxNjcuNTI1IDMyMi4yMiAxODUuMzYxIDMwNy45NDQgMjAzLjc1OEMzMDEuNTI5IDIxMC41MzcgMjk1LjM4OCAyMTcuMiAyODkuNDk1IDIyMy43MTlDMjgzLjU4OSAyMzAuMjI1IDI3Ny40MzUgMjM2LjkgMjcxLjAyIDI0My42NjdDMjU4LjkyMSAyNTQuODggMjQ0LjQ4OCAyNTkuMjM0IDIyNy43MzQgMjU2Ljc5NkMxOTYuODYgMjUxLjg4MSAxNzYuMDI1IDIzNi44NzQgMTY1LjIxNyAyMTEuNzg5QzE1NC42OTUgMTg4LjU2OCAxNDkuNTMyIDE2Ni41MDggMTQ5LjcwMiAxNDUuNjA4QzE0Ny45NDIgMTEzLjY3OCAxNDguMzA3IDgxLjk0MzggMTUwLjgxIDUwLjQxOEMxNTMuMyAxOC44NzkyIDE1OC4zMiAtMTIuMzIwNyAxNjUuODY5IC00My4yMDc3QzE4MC4xNzIgLTEwNS4yMDMgMTk4LjU2OCAtMTY2LjQwMyAyMjEuMTExIC0yMjYuODA4QzIzMi4wODkgLTI1Ny41MjYgMjQ0LjQyMyAtMjg3LjYxOCAyNTguMSAtMzE3LjA5NkMyNzEuNzc2IC0zNDYuNTc1IDI4Ni4zNzkgLTM3NS41MDcgMzAxLjk3MiAtNDA0LjAwOEMzMTIuOTUgLTQyNS45OSAzMjQuNjMyIC00NDcuMzQ2IDMzNi45NzkgLTQ2OC4wNjNDMzQ5LjMxMyAtNDg4Ljc1NCAzNjIuNDk1IC01MDkuMjI0IDM3Ni40MzIgLTUyOS40NTlDNDAzLjg2NCAtNTY4LjI5OSA0MzQuMTkgLTYwMy42NzEgNDY3LjM5OCAtNjM1LjU3NUM0NzUuNjM4IC02NDIuNjgxIDQ4My45OTUgLTY0OS4zMTcgNDkyLjQwNSAtNjU1LjUxQzUwMC44MjggLTY2MS42NzcgNTEwLjM5NyAtNjY2LjY1OCA1MjEuMTU0IC02NzAuMzk5QzU0NS4yNzQgLTY3Ny45NjEgNTY3LjcxMiAtNjc2Ljg3OSA1ODguMzkxIC02NjcuMTY2QzYwNC43MjcgLTY2MC40NzggNjEzLjY3MSAtNjQ5LjUxMyA2MTUuMjEgLTYzNC4yMTlDNjE3LjU5NiAtNjI0Ljc1NCA2MTguMTk1IC02MTMuNjcxIDYxNi45ODMgLTYwMC45NTlDNjEwLjMyIC01NTguNDgxIDU5Ny44NTYgLTUxNS41MzQgNTc5LjU1MSAtNDcyLjE5NkM1NjUuNDMxIC00MzkuODIzIDU0OS4wODEgLTQwOC43NTMgNTMwLjUyOCAtMzc5LjAwMUM1MTEuOTM2IC0zNDkuMjYxIDQ5Mi42MTQgLTMxOS45NTIgNDcyLjYgLTI5MS4wOTlDNDY1LjQ1NiAtMjgxLjkyIDQ1Ny45NDYgLTI3MS41MDMgNDUwLjEyMyAtMjU5LjkxMkM0MzMuNTc4IC0yMzYuOTc4IDQxNS42MzcgLTIxNS4xMjYgMzk2LjI4OSAtMTk0LjM1N0MzNzYuOTAyIC0xNzMuNTYxIDM1NS44NDUgLTE1NC4zOTYgMzMzLjA2OCAtMTM2LjgyQzMyMC4zODIgLTEyNi42OSAzMTIuNTMzIC0xMTUuMDg2IDMwOS40ODIgLTEwMi4wNDhDMzA0LjE4OSAtODQuNDQ2OCAyOTguOTc0IC02Ny4wNDExIDI5My43OTggLTQ5Ljg0NEMyODguNjIxIC0zMi42NDY5IDI4My43NzEgLTE1LjExMDggMjc5LjI4NiAyLjcxMjFDMjc1LjI3MSAxOC45NzA1IDI3MS4zMDcgMzQuOTgxIDI2Ny40MjIgNTAuODM1MkMyNjMuNTIzIDY2LjY2MzMgMjU5Ljk2NCA4Mi44NDM0IDI1Ni43NyA5OS4zMzY1QzI1My41NDkgMTE1LjgwMyAyNTAuNjgxIDEzMi42MjIgMjQ4LjE1MiAxNDkuNzQxQzI0NS42MDkgMTY2Ljg2IDI0My4xMzIgMTgzLjc5NyAyNDAuNzQ2IDIwMC40OThDMjQxLjA0NiAyMDIuMzM3IDI0MS4zMDcgMjA0LjM5NiAyNDEuNTE1IDIwNi42MTNDMjQxLjY5OCAyMDguODY4IDI0Mi4xMjggMjExLjg0MSAyNDIuNzggMjE1LjUxOE01NjQuMzIyIC02MjIuMDgxQzU2MS43MjggLTYxOS4zNDMgNTU4LjExNiAtNjE2LjA4MyA1NTMuNDg4IC02MTIuMjM3QzU0Mi4yMzYgLTU5OC4xNjkgNTMwLjk1OCAtNTgzLjkwNiA1MTkuNjI4IC01NjkuNDU5QzUwOC4yNTkgLTU1NC45ODcgNDk4LjA1IC01MzkuOTQxIDQ4OS4wMTUgLTUyNC4zNzRDNDU5LjIzNiAtNDc0Ljg2OSA0MzIuNzY5IC00MjMuOTU2IDQwOS42MDEgLTM3MS42MDhDMzg2LjQxOSAtMzE5LjI0OCAzNjUuMTkzIC0yNjUuNDQgMzQ1LjkzNiAtMjEwLjE3MkMzNDUuNzAyIC0yMDkuMzc3IDM0NS43MDIgLTIwOC43MTIgMzQ2LjAxNSAtMjA4LjE5QzM0Ni4yNjIgLTIwNy42NTYgMzQ2LjE4NCAtMjA2LjU4NyAzNDUuNzE1IC0yMDUuMDA5QzM0OS4zNzggLTIwNS42MjIgMzUxLjM2IC0yMDYuMzM5IDM1MS42MDggLTIwNy4xNDdDMzU1LjQ2NyAtMjExLjIxNSAzNTkuNTA5IC0yMTUuMjMxIDM2My43NDYgLTIxOS4xOTRDMzY3Ljk5NyAtMjIzLjE0NSAzNzEuNzY1IC0yMjcuNjgyIDM3NS4wNzYgLTIzMi44MTlDNDAyLjg4NiAtMjY3LjE2MSA0MjguNzE0IC0zMDIuMTQyIDQ1Mi41MzUgLTMzNy43MzZDNDc2LjM2OCAtMzczLjMwMyA0OTguNTMzIC00MTAuNjk2IDUxOS4wNjggLTQ0OS44ODhDNTQzLjg1MyAtNDk3LjM3MiA1NTkuNTc3IC01NDYuNzM0IDU2Ni4yNTIgLTU5Ny45MzRDNTY2LjY0MyAtNjAyLjE4NSA1NjYuOTE3IC02MDYuMDE4IDU2Ny4xIC02MDkuNDZDNTY3LjI0MyAtNjEyLjkwMiA1NjYuMzE3IC02MTcuMSA1NjQuMzM2IC02MjIuMDgxIiBmaWxsPSIjRjVGNUY3Ii8+CjxwYXRoIGQ9Ik02OTYuNTE1IDE4OS4wNjRDNzA0LjYzOCAxODQuMzk2IDcxMi42ODIgMTc5LjYxMSA3MjAuNjg4IDE3NC43MzVWMTM0LjA1N0M2OTcuODE5IDE0OC41MDMgNjczLjgwMyAxNTkuNjM3IDY0OC42MDEgMTY3LjQyMUM2MjIuMDgyIDE3NS42MzUgNTk0LjU1OCAxODAuNjY3IDU2Ni4wMTggMTgyLjU1OEM1NTAuOTIgMTgzLjI2MiA1NDEuMjk4IDE4MS44OTMgNTM3LjEgMTc4LjQzOEM1MzIuODc2IDE3NS4wMDkgNTI5LjA5NSAxNjUuNzUyIDUyNS43NTcgMTUwLjc0NUw1MjMuOTU4IDEzMC41NDlDNTIzLjMzMiAxMTguMTI0IDUyNC43NjYgMTA2Ljc1NSA1MjguMzM5IDk2LjQyODlDNTMxLjg1OSA4Ni4xNTUgNTM2LjEyMiA3NS42MjAzIDU0MS4xMTYgNjQuODc3QzU0NS42MTQgNjQuNDg1OSA1NDkuNTY0IDY0LjM2ODUgNTUzLjAzMiA2NC41MzhDNTU2LjQ3NSA2NC42OTQ1IDU2MC40MzggNjQuNTc3MSA1NjQuOTQ5IDY0LjE3MjlDNTg1Ljg3NSA2NC4zNjg1IDYwNy42MzYgNjEuNzQ3OSA2MzAuMjY5IDU2LjI4NDlDNjUyLjA4MiA1MC42MjY1IDY3MC40IDQxLjI3ODIgNjg1LjI3NyAyOC4yNTMzQzY5NC45MzggMTkuNzc4NiA3MDQuMDI1IDEwLjM3ODMgNzEyLjU2NSAwLjA5MTMwODZINjM5LjUyNkM2MjAuMjU2IDE2Ljk4ODUgNTk2Ljk0NCAyNy40ODQxIDU2OS41MzkgMzEuNDYwN0M1NjcuNjYxIDMxLjc3MzYgNTY2LjM1NyAzMS44MTI3IDU2NS41NzUgMzEuNTY1QzU2NC43NTQgMzEuMzMwMyA1NjMuODI4IDMxLjUxMjggNTYyLjgxMSAzMi4wNDc0QzU2MS45OSAzMS44MTI3IDU2MS42NTEgMzEuNDk5OCA1NjEuNzgxIDMxLjA4MjZDNTYxLjg5OCAzMC42OTE1IDU2MS41NDYgMzAuMzY1NSA1NjAuNzUxIDMwLjEzMDhDNTYwLjk5OSAyOS4zMzU1IDU2MC45MDcgMjguODY2MSA1NjAuNTE2IDI4Ljc2MThDNTYwLjA5OSAyOC42MTg0IDU2MC4wMzQgMjguMTYyIDU2MC4yOTUgMjcuMzUzN0M1NjUuMzc5IDE4LjE3NDkgNTcwLjc3NyA5LjEwMDU1IDU3Ni40MzYgMC4wOTEzMDg2SDQzMC4xNzZDNDI0LjIwNCAxMi42NzMgNDE5LjA1NCAyNS45NDU2IDQxNC44MyAzOS45ODc1QzQwNi40NzMgNjEuOTU2NSA0MDQuMjgyIDgyLjI2OTcgNDA4LjI4NSAxMDAuOTY2QzQxMi4wMTQgMTIwLjQ1OCA0MTguODMzIDEzOC40NjMgNDI4LjcyOCAxNTQuOTgyQzQzOC42MTEgMTcxLjUyOCA0NTIuNDU4IDE4NS4wODcgNDcwLjI1NCAxOTUuN0M0OTAuNzM3IDIwOC44ODEgNTEyLjE0NSAyMTcuNzIxIDUzNC40MDEgMjIyLjI0NUM1NTYuNjQ0IDIyNi43NTcgNTc5Ljg2NSAyMjYuNTA5IDYwNC4xMTUgMjIxLjU2N0M2MDkuNjQzIDIyMC42MTYgNjE1LjI2MyAyMTkuNDY4IDYyMC45MjEgMjE4LjA5OUM2MjYuNTY3IDIxNi43NTYgNjMyLjI3NyAyMTUuMTkyIDYzOC4wNTMgMjEzLjQxOUM2NTkuMDU3IDIwNy41MjUgNjc4LjU2MiAxOTkuMzkgNjk2LjU0MSAxODkuMDc3IiBmaWxsPSIjRjVGNUY3Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjgyMF82OTk5MSI+CjxyZWN0IHdpZHRoPSI3MjEiIGhlaWdodD0iMjU2Ljg0OCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K\");background-repeat:no-repeat}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content.duet-theme-turva .background-mask*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .background-mask.sc-duet-hero{left:181px}}/*!@.duet-hero.duet-hero-content.duet-theme-turva .brand-shaped-image*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-155px;right:0;left:0;width:420px;height:420px;margin:0 auto;border-radius:0;transform:none;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content.duet-theme-turva .brand-shaped-image*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .brand-shaped-image.sc-duet-hero{top:-230px;width:687px;height:637px}}/*!@.duet-hero.duet-hero-content.duet-theme-turva .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:600px;height:280px;transform:translate(-50%, 0)}@media (min-width: 48em){/*!@.duet-hero.duet-hero-content.duet-theme-turva .brand-shaped-image .brand-shaped-image-bg*/.duet-hero.duet-hero-content.duet-theme-turva.sc-duet-hero .brand-shaped-image.sc-duet-hero .brand-shaped-image-bg.sc-duet-hero{width:733px;height:413px}}/*!@.duet-hero.duet-theme-turva*/.duet-hero.duet-theme-turva.sc-duet-hero{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-hero*/.duet-hero.sc-duet-hero{min-height:290px;padding:111.6px 56px;overflow:visible}}/*!@.duet-hero-icon*/.duet-hero-icon.sc-duet-hero{display:inline-block;vertical-align:top}@media (min-width: 62em){/*!@.duet-hero-icon*/.duet-hero-icon.sc-duet-hero{margin-top:-8px}}@media (min-width: 62em){/*!@.duet-hero-heading*/.duet-hero-heading.sc-duet-hero{margin-top:12px}}@media (min-width: 62em){/*!@.duet-hero-heading-has-pre*/.duet-hero-heading-has-pre.sc-duet-hero{margin-top:0}}/*!@.duet-hero-wrapper*/.duet-hero-wrapper.sc-duet-hero{position:relative;width:100%;max-width:1110px;margin:0 auto;text-align:center}/*!@.duet-hero-left-align .duet-hero-wrapper*/.duet-hero-left-align.sc-duet-hero .duet-hero-wrapper.sc-duet-hero{text-align:left}/*!@.duet-hero-with-image .duet-hero-wrapper*/.duet-hero-with-image.sc-duet-hero .duet-hero-wrapper.sc-duet-hero{position:static}@media (min-width: 62em){/*!@.duet-hero-wrapper*/.duet-hero-wrapper.sc-duet-hero{text-align:left}}/*!@.duet-hero-text*/.duet-hero-text.sc-duet-hero{max-width:50rem;margin:0 auto}/*!@.duet-hero-text-center .duet-hero-text*/.duet-hero-text-center.sc-duet-hero .duet-hero-text.sc-duet-hero{text-align:center !important}@media (min-width: 48em){/*!@.duet-hero-text*/.duet-hero-text.sc-duet-hero{width:80%}/*!@.duet-hero-left-align .duet-hero-text*/.duet-hero-left-align.sc-duet-hero .duet-hero-text.sc-duet-hero{margin:0}}@media (min-width: 62em){/*!@.duet-hero-text*/.duet-hero-text.sc-duet-hero{width:52%;max-width:none;margin-top:-10px;margin-left:0}/*!@.duet-hero-text-center .duet-hero-text*/.duet-hero-text-center.sc-duet-hero .duet-hero-text.sc-duet-hero{margin-left:auto}}/*!@.duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{width:100%;max-width:400px;height:0;padding-bottom:50%;margin:28px auto 0;background-repeat:no-repeat;background-position:50% 50%;background-size:contain}@media (min-width: 36em){/*!@.duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{padding-bottom:40%}}@media (min-width: 48em){/*!@.duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{max-width:420px;padding-bottom:34%}/*!@.duet-hero-light .duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero-light.sc-duet-hero .duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{max-width:540px}}@media (min-width: 62em){/*!@.duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{position:absolute;top:50%;right:0;padding-bottom:30%;margin:0;transform:translateY(-50%)}/*!@.duet-hero-light .duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero-light.sc-duet-hero .duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{right:-60px;padding-bottom:26%}/*!@.duet-hero-gray .duet-hero:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero-gray.sc-duet-hero .duet-hero.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{right:-34px;padding-bottom:20%}}@media (min-width: 62em){/*!@.duet-hero-gray:not(.duet-hero-with-image) .duet-hero-image*/.duet-hero-gray.sc-duet-hero:not(.duet-hero-with-image) .duet-hero-image.sc-duet-hero{right:-34px;padding-bottom:20%}}/*!@.duet-hero-image-wrapper*/.duet-hero-image-wrapper.sc-duet-hero{position:relative;width:80%;height:0;padding-bottom:80%;margin:-30px auto 36px;overflow:hidden;border-radius:28%;box-shadow:0 0 20px rgba(255, 255, 255, 0.5);transform:rotate(10deg)}/*!@.duet-theme-turva .duet-hero-image-wrapper*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero{padding-bottom:68%;border-radius:44% 47% 38% 54%;transform:none}@media screen and (min-width: 440px){/*!@.duet-hero-image-wrapper*/.duet-hero-image-wrapper.sc-duet-hero{width:300px;padding-bottom:300px}/*!@.duet-theme-turva .duet-hero-image-wrapper*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero{width:80%;padding-bottom:68%}}@media (min-width: 62em){/*!@.duet-hero-image-wrapper*/.duet-hero-image-wrapper.sc-duet-hero{position:absolute;top:-60px;right:-50px;width:470px;padding-bottom:470px;margin:0}/*!@.duet-theme-turva .duet-hero-image-wrapper*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero{top:-40px;right:-80px;width:536px;padding-bottom:470px}}@media (min-width: 76.25em){/*!@.duet-hero-image-wrapper*/.duet-hero-image-wrapper.sc-duet-hero{top:-70px;right:-60px;width:600px;padding-bottom:600px}/*!@.duet-theme-turva .duet-hero-image-wrapper*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero{top:-70px;right:-60px;width:650px;padding-bottom:600px}}@media screen and (min-width: 1450px){/*!@.duet-hero-image-wrapper*/.duet-hero-image-wrapper.sc-duet-hero{top:-70px;right:25px}/*!@.duet-theme-turva .duet-hero-image-wrapper*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero{right:0}}/*!@.duet-hero-image-wrapper .duet-hero-image*/.duet-hero-image-wrapper.sc-duet-hero .duet-hero-image.sc-duet-hero{position:absolute;top:-5%;left:-5%;width:110%;height:110%;background-repeat:no-repeat;background-position:50% 50%;background-size:cover;transform:rotate(-10deg)}/*!@.duet-theme-turva .duet-hero-image-wrapper .duet-hero-image*/.duet-theme-turva.sc-duet-hero .duet-hero-image-wrapper.sc-duet-hero .duet-hero-image.sc-duet-hero{top:0;left:0;width:100%;height:100%;transform:none}/*!@.duet-hero-image-mask*/.duet-hero-image-mask.sc-duet-hero{position:relative;margin:-48px auto 0;overflow:hidden}@media (min-width: 62em){/*!@.duet-hero-image-mask*/.duet-hero-image-mask.sc-duet-hero{position:absolute;top:0;right:0;width:470px;height:460px;margin:0}}@media (min-width: 76.25em){/*!@.duet-hero-image-mask*/.duet-hero-image-mask.sc-duet-hero{width:650px;height:580px}}@media screen and (min-width: 1450px){/*!@.duet-hero-image-mask*/.duet-hero-image-mask.sc-duet-hero{right:50%;transform:translateX(110%)}/*!@.duet-theme-turva .duet-hero-image-mask*/.duet-theme-turva.sc-duet-hero .duet-hero-image-mask.sc-duet-hero{transform:translateX(108%)}}/*!@duet-heading + duet-button*/duet-heading.sc-duet-hero+duet-button.sc-duet-hero{margin-top:12px !important}/*!@.duet-hero-links*/.duet-hero-links.sc-duet-hero{width:calc(100% + 56px);margin-top:48px;margin-left:-28px}/*!@.duet-hero-minimal .duet-hero-links*/.duet-hero-minimal.sc-duet-hero .duet-hero-links.sc-duet-hero{margin-top:28px}@media (min-width: 36em){/*!@.duet-hero-links*/.duet-hero-links.sc-duet-hero{margin-top:72px}/*!@.duet-hero-minimal .duet-hero-links*/.duet-hero-minimal.sc-duet-hero .duet-hero-links.sc-duet-hero{margin-top:28px}}@media (min-width: 62em){/*!@.duet-hero-links*/.duet-hero-links.sc-duet-hero{width:auto;margin:36px 0 0}/*!@.duet-hero-minimal .duet-hero-links*/.duet-hero-minimal.sc-duet-hero .duet-hero-links.sc-duet-hero{margin-top:28px}}/*!@.duet-hero-link*/.duet-hero-link.sc-duet-hero{display:flex;align-items:center;width:100%;padding:16px 16px 8px;font-weight:600;-webkit-hyphens:auto;hyphens:auto;line-height:1.25;color:rgb(0, 119, 179);text-align:left;text-decoration:none;border-bottom:1px solid rgb(225, 227, 230);transition:background-color 300ms ease}/*!@.duet-hero-link:focus*/.duet-hero-link.sc-duet-hero:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-hero-link:focus, .duet-hero-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-hero .duet-hero-link.sc-duet-hero:focus,.duet-hero-link.sc-duet-hero:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-hero-link:hover, .duet-hero-link:hover .duet-hero-action-arrow*/.duet-hero-link.sc-duet-hero:hover,.duet-hero-link.sc-duet-hero:hover .duet-hero-action-arrow.sc-duet-hero{color:rgb(0, 77, 128) !important;background:transparent !important}/*!@.duet-theme-turva .duet-hero-link:hover, .duet-theme-turva .duet-hero-link:hover .duet-hero-action-arrow*/.duet-theme-turva.sc-duet-hero .duet-hero-link.sc-duet-hero:hover,.duet-theme-turva.sc-duet-hero .duet-hero-link.sc-duet-hero:hover .duet-hero-action-arrow.sc-duet-hero{color:rgb(148, 9, 37) !important}/*!@.duet-theme-turva .duet-hero-link*/.duet-theme-turva.sc-duet-hero .duet-hero-link.sc-duet-hero{color:rgb(198, 12, 48)}@media (min-width: 36em){/*!@.duet-hero-link*/.duet-hero-link.sc-duet-hero{padding:16px 16px 16px 28px}}@media (min-width: 62em){/*!@.duet-hero-link*/.duet-hero-link.sc-duet-hero{display:inline-flex;width:auto;max-width:350px;padding:0;margin:0 28px 16px 0;border:0;border-radius:4px}}/*!@.duet-hero-link:hover*/.duet-hero-link.sc-duet-hero:hover{background:rgba(0, 0, 0, 0.02)}@media (min-width: 62em){/*!@.duet-hero-link:hover*/.duet-hero-link.sc-duet-hero:hover{background:transparent}}/*!@.duet-hero-link:first-of-type*/.duet-hero-link.sc-duet-hero:first-of-type{border-top:1px solid rgb(225, 227, 230)}@media (min-width: 62em){/*!@.duet-hero-link:first-of-type*/.duet-hero-link.sc-duet-hero:first-of-type{margin-top:0;border:0}}/*!@.duet-hero-link:last-of-type*/.duet-hero-link.sc-duet-hero:last-of-type{margin-bottom:-48px}@media (min-width: 62em){/*!@.duet-hero-link:last-of-type*/.duet-hero-link.sc-duet-hero:last-of-type{margin-right:0;margin-bottom:0}}/*!@.duet-hero-link span*/.duet-hero-link.sc-duet-hero span.sc-duet-hero{margin-top:-8px}@media (min-width: 36em){/*!@.duet-hero-link span*/.duet-hero-link.sc-duet-hero span.sc-duet-hero{margin:0}}/*!@.duet-hero-action-icon*/.duet-hero-action-icon.sc-duet-hero{margin-right:8px}@media (min-width: 36em){/*!@.duet-hero-action-icon*/.duet-hero-action-icon.sc-duet-hero{margin-right:12px}}/*!@.duet-hero-action-arrow*/.duet-hero-action-arrow.sc-duet-hero{margin:0 0 0 8px;color:rgb(0, 119, 179)}@media (max-width: 35.9375em){/*!@.duet-hero-action-arrow*/.duet-hero-action-arrow.sc-duet-hero{margin-top:-9px}}/*!@.duet-theme-turva .duet-hero-action-arrow*/.duet-theme-turva.sc-duet-hero .duet-hero-action-arrow.sc-duet-hero{color:rgb(198, 12, 48)}/*!@.duet-hero-back*/.duet-hero-back.sc-duet-hero{margin-bottom:28px !important;display:flex;align-items:center;justify-content:center}/*!@.duet-hero-left-align .duet-hero-back*/.duet-hero-left-align.sc-duet-hero .duet-hero-back.sc-duet-hero{align-items:self-start;justify-content:flex-start}@media (min-width: 36em){/*!@.duet-hero-back*/.duet-hero-back.sc-duet-hero{margin-bottom:36px !important}/*!@.duet-hero-minimal .duet-hero-back*/.duet-hero-minimal.sc-duet-hero .duet-hero-back.sc-duet-hero{margin-bottom:28px !important}}@media (min-width: 62em){/*!@.duet-hero-back*/.duet-hero-back.sc-duet-hero{display:block}}/*!@.duet-hero-pre*/.duet-hero-pre.sc-duet-hero{display:inline-block;width:auto;margin-right:8px}/*!@.duet-hero-pre + duet-heading*/.duet-hero-pre.sc-duet-hero+duet-heading.sc-duet-hero{margin-top:0 !important}";

/**
 * @part duet-hero - piercing selector for styling the hero container
 * @part duet-hero-text - piercing selector for styling the hero text container
 * @slot default - This is an unamed slot for a text or extra button that is placed after any buttons (or list item)
 * @slot badge - This is a slot for a status badge that sits next to pre-heading inside the hero component.
 * @slot bottom - This is a slot for content under the main hero content.
 * @slot pre-heading - This is a slot for pre-heading content inside the hero component.
 * @slot heading - This is a slot for heading content inside the hero component.
 * @slot subheading - This is a slot for heading content inside the hero component. Only usable with campaign, section variations.
 */
class DuetHero {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetClick = createEvent$2(this, "duetClick", 7);
        this.duetAnalytics = createEvent$2(this, "duetAnalytics", 7);
        /**
         * Component event handling.
         */
        this.handleClick = (ev, data) => {
            if (data && data.analytics) {
                this.duetAnalytics.emit({
                    component: "duet-hero",
                    analyticsId: data.analytics,
                });
            }
            this.emitChange(ev, data);
        };
        this.processedListItems = null;
        this.processedActions = null;
        this.processedBack = null;
        this.theme = "";
        this.heading = "";
        this.preHeading = "";
        this.level = "h1";
        this.subHeadingLevel = "h2";
        this.description = "";
        this.icon = "";
        this.iconSize = "medium";
        this.iconRight = false;
        this.categoryIcon = "";
        this.categoryIconColor = "category-pet";
        this.buttonLabel = "";
        this.language = getLanguage();
        this.accessibleLabelExternalDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelExternal = getLocaleString(this.accessibleLabelExternalDefaults);
        this.buttonUrl = "#";
        this.buttonId = "";
        this.buttonData = undefined;
        this.textCenter = false;
        this.leftAlign = false;
        this.image = "";
        this.imageSize = "auto";
        this.imagePosition = "auto";
        this.variation = "default";
        this.back = undefined;
        this.listItems = undefined;
        this.actions = undefined;
        this.layout = "narrow";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasPreHeadingSlot = !!this.element.querySelector('[slot="pre-heading"]');
        this.hasHeadingSlot = !!this.element.querySelector('[slot="heading"]');
        this.hasSubHeadingSlot = !!this.element.querySelector('[slot="subheading"]');
        this.refresh();
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, {
            prop: "accessibleLabelExternal",
            defaults: "accessibleLabelExternalDefaults",
        });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Local methods.
     */
    async refresh() {
        this.processedListItems = parsePossibleJSON(this.listItems);
        this.processedActions = parsePossibleJSON(this.actions);
        this.processedBack = parsePossibleJSON(this.back);
    }
    emitChange(ev, data) {
        if (!data) {
            data = {};
        }
        if (this.buttonLabel) {
            data.label = this.buttonLabel;
            data.href = this.buttonUrl;
            data.id = this.buttonId || "No ID defined via buttonId prop";
        }
        this.duetClick.emit({
            originalEvent: ev,
            data: data,
            component: "duet-hero",
        });
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const campaignOrSection = this.variation === "campaign" || this.variation === "section";
        const imageSizeIsCover = this.imageSize === "cover";
        const imagePositionIsCenter = this.imagePosition === "center";
        const styles = {
            backgroundImage: `url(${this.image})`,
            backgroundSize: imageSizeIsCover ? "cover" : null,
            backgroundPosition: imagePositionIsCenter ? "center" : null,
        };
        const buttonStyles = {
            transform: "translateX(-8px)",
        };
        let headingVisualLevel = this.variation === "gray" || this.variation === "minimal" ? "h2" : "h1";
        if (campaignOrSection) {
            headingVisualLevel = "h0";
        }
        else if (this.variation === "product") {
            headingVisualLevel = "h1";
        }
        let headingColor = this.variation === "default" ? "gray-lightest" : "";
        if (campaignOrSection) {
            headingColor = "color-gray-lightest";
            if (this.theme === "turva") {
                headingColor = "color-gray-lightest-turva";
            }
        }
        let buttonVariation = this.theme === "turva" ? "negative" : "primary";
        let outlineColor = "primary-blue";
        let textColor = "gray-lightest";
        let buttonColor = "primary";
        if (this.variation === "light" ||
            this.variation === "image" ||
            this.variation === "gray" ||
            this.variation === "minimal" ||
            campaignOrSection ||
            this.variation === "product" ||
            this.variation === "content") {
            textColor = "secondary";
            if (this.theme === "turva") {
                textColor = "secondary-turva";
                buttonVariation = "primary";
                buttonColor = "color-primary-turva";
                outlineColor = "color-primary-turva";
            }
        }
        return (hAsync("div", { role: "region", class: {
                "duet-hero": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-has-category-icon": !!this.categoryIcon,
                "duet-hero-light": this.variation === "light",
                "duet-hero-gray": this.variation === "gray" || this.variation === "minimal",
                "duet-hero-minimal": this.variation === "minimal",
                "duet-hero-with-image": this.variation === "image",
                "duet-hero-has-image": !!this.image,
                "duet-hero-campaign": this.variation === "campaign",
                "duet-hero-section": this.variation === "section",
                "duet-hero-product": this.variation === "product",
                "duet-hero-content": this.variation === "content",
                "duet-hero-gray-with-actions": !!this.processedActions,
                "duet-hero-gray-with-back": !!this.processedBack,
                "duet-hero-text-center": (this.textCenter && !this.leftAlign) || campaignOrSection,
                "duet-hero-left-align": this.leftAlign && !campaignOrSection,
                "duet-hero-narrow": this.layout === "narrow",
            }, part: "duet-hero" }, campaignOrSection && this.image && (hAsync("div", { class: "background-area" }, hAsync("div", { class: "background-container" }, hAsync("div", { class: "background" }, hAsync("img", { class: `${imageSizeIsCover ? "cover" : ""} ${imagePositionIsCenter ? "center" : ""}`, src: this.image, alt: "", role: "presentation" })), hAsync("div", { class: "brand-shape" })))), this.variation === "product" && this.image && (hAsync("div", { class: { "background-area": true, [this.layout]: true } }, hAsync("div", { class: { "background-container": true, [this.layout]: true } }, hAsync("div", { class: { background: true, [this.layout]: true } }, hAsync("div", { class: { "background-mask": true, [this.layout]: true } }), this.theme !== "turva" && hAsync("div", { class: { "brand-shape": true, [this.layout]: true } }), hAsync("div", { class: { "brand-shaped-image": true, [this.layout]: true } }, hAsync("div", { class: { "brand-shaped-image-wrapper": true, [this.layout]: true } }, hAsync("div", { class: { "brand-shaped-image-bg": true, [this.layout]: true }, style: styles }))), this.categoryIcon && (hAsync("div", { class: { "brand-shaped-icon": true, [this.layout]: true } }, hAsync("duet-icon", { class: { [this.layout]: true }, background: "none", name: this.categoryIcon, margin: "none", size: "auto", responsive: false }))))))), this.variation === "content" && this.image && (hAsync("div", { class: "background-area" }, hAsync("div", { class: "background" }, hAsync("div", { class: "background-mask" }), this.theme !== "turva" && hAsync("div", { class: "brand-shape" }), hAsync("div", { class: "brand-shaped-image" }, hAsync("div", { class: "brand-shaped-image-wrapper" }, hAsync("div", { class: "brand-shaped-image-bg", style: styles })))))), hAsync("div", { class: { "duet-hero-wrapper": true, [this.layout]: true } }, this.image && this.variation === "image" && (hAsync("div", { class: "duet-hero-image-mask" }, hAsync("div", { class: "duet-hero-image-wrapper" }, hAsync("div", { class: "duet-hero-image", style: styles })))), (this.variation === "gray" || this.variation === "light" || this.variation === "minimal") &&
            this.processedBack && (hAsync("div", { class: "duet-hero-back" }, hAsync("duet-button", { style: buttonStyles, variation: "plain", icon: "action-arrow-left-small", theme: this.theme, iconSize: "small", color: buttonColor, padding: "none", margin: "none", fixed: true, url: this.processedBack.href, identifier: this.processedBack.id, onClick: event => this.handleClick(event, {
                label: this.processedBack.label,
                href: this.processedBack.href,
                id: this.processedBack.id,
                analyticsId: this.processedBack.analyticsId,
            }) }, this.processedBack.label))), (this.variation === "gray" || this.variation === "minimal") && this.categoryIcon && (hAsync("duet-icon", { class: { "duet-hero-icon": true, "duet-hero-icon-has-heading": this.preHeading !== "" }, size: "x-large", background: this.categoryIconColor, name: this.categoryIcon })), hAsync("div", { class: { "duet-hero-text": true }, part: "duet-hero-text" }, (this.preHeading || this.hasPreHeadingSlot) && (hAsync("duet-paragraph", { margin: "none", class: "duet-hero-pre", size: this.variation === "content" ? "small" : "medium" }, this.preHeading ? (this.preHeading) : (hAsync("div", null, hAsync("slot", { name: "pre-heading" }))))), hAsync("slot", { name: "badge" }), (this.heading || this.hasHeadingSlot) && (hAsync("duet-heading", { theme: this.theme, level: this.level, class: { "duet-hero-heading": true, "duet-hero-heading-has-pre": this.preHeading !== "" }, color: headingColor, visualLevel: headingVisualLevel, margin: campaignOrSection ? "none" : "auto" }, this.heading ? (this.heading) : (hAsync("div", null, hAsync("slot", { name: "heading" }))))), campaignOrSection && this.hasSubHeadingSlot && (hAsync("duet-heading", { theme: this.theme, level: this.subHeadingLevel, class: { "duet-hero-subheading": true }, color: this.theme === "turva" ? "secondary-turva" : "secondary", visualLevel: "h2" }, hAsync("div", null, hAsync("slot", { name: "subheading" })))), this.description && (hAsync("duet-paragraph", { theme: this.theme, color: textColor, variation: "intro" }, this.description)), (this.variation === "gray" || this.variation === "minimal") && this.processedListItems && (hAsync("duet-list", { theme: this.theme, "label-width": "30", breakpoint: "large", mobile: this.leftAlign ? undefined : "center" }, this.processedListItems.map(item => (hAsync("duet-list-item", null, hAsync("span", { slot: "label" }, item.label), hAsync("span", { slot: "value" }, item.value)))))), this.buttonLabel && (hAsync("duet-button", { url: this.buttonUrl, icon: this.icon, iconRight: this.iconRight, iconSize: this.iconSize, variation: buttonVariation, theme: this.theme, identifier: this.buttonId, onClick: event => this.handleClick(event, this.buttonData), fixed: true }, this.buttonLabel)), hAsync("span", { class: "duet-hero-slot-unnamed" }, hAsync("slot", null))), (this.variation === "gray" || this.variation === "minimal") && this.processedActions && (hAsync("div", { class: "duet-hero-links" }, this.processedActions.map(item => (hAsync("a", { class: "duet-hero-link", href: item.href, id: item.id, target: item.external ? "_blank" : "_self", onClick: event => this.handleClick(event, item) }, hAsync("div", { class: "duet-hero-action-icon" }, hAsync("duet-icon", { size: "small", margin: "none", name: item.icon, color: "currentColor", outline: outlineColor })), hAsync("span", null, item.label), item.external && hAsync("duet-visually-hidden", null, ", ", this.accessibleLabelExternal), item.external && (hAsync("div", { class: "duet-hero-action-arrow" }, hAsync("duet-icon", { icon: actionNewWindowSmall.svg, size: "xx-small", margin: "none", color: "currentColor" })))))))), this.image &&
            this.variation !== "image" &&
            !campaignOrSection &&
            this.variation !== "product" &&
            this.variation !== "content" && hAsync("div", { class: "duet-hero-image", style: styles }), hAsync("slot", { name: "bottom" }))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "back": ["refresh"],
        "listItems": ["refresh"],
        "actions": ["refresh"]
    }; }
    static get style() { return duetHeroCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-hero",
        "$members$": {
            "theme": [1025],
            "heading": [1],
            "preHeading": [1, "pre-heading"],
            "level": [1],
            "subHeadingLevel": [1, "sub-heading-level"],
            "description": [1],
            "icon": [1],
            "iconSize": [1, "icon-size"],
            "iconRight": [4, "icon-right"],
            "categoryIcon": [1, "category-icon"],
            "categoryIconColor": [1, "category-icon-color"],
            "buttonLabel": [1, "button-label"],
            "language": [1025],
            "accessibleLabelExternalDefaults": [1, "accessible-label-external-default"],
            "accessibleLabelExternal": [1025, "accessible-label-external"],
            "buttonUrl": [1, "button-url"],
            "buttonId": [1, "button-id"],
            "buttonData": [16],
            "textCenter": [4, "text-center"],
            "leftAlign": [4, "left-align"],
            "image": [1],
            "imageSize": [1, "image-size"],
            "imagePosition": [1, "image-position"],
            "variation": [1],
            "back": [8],
            "listItems": [8, "list-items"],
            "actions": [8],
            "layout": [1025],
            "processedListItems": [32],
            "processedActions": [32],
            "processedBack": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetIconCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-icon,*.sc-duet-icon::after,*.sc-duet-icon::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-icon-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:16px !important;display:inline-block;width:auto;max-width:100%;color:inherit;-webkit-tap-highlight-color:transparent}@media (max-width: 35.9375em){/*!@:host(.duet-icon-has-outline)*/.duet-icon-has-outline.sc-duet-icon-h{margin-bottom:0 !important}}@media (max-width: 35.9375em){/*!@:host(.duet-icon-has-background)*/.duet-icon-has-background.sc-duet-icon-h{margin-bottom:0 !important}}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-icon-h{margin:0 !important}@media (max-width: 35.9375em){/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-icon-h{margin:0 !important}}/*!@.duet-icon*/.duet-icon.sc-duet-icon{-webkit-user-select:none;user-select:none;width:100%;height:100%;transform-origin:top center}/*!@.duet-icon.duet-icon-has-outline*/.duet-icon.duet-icon-has-outline.sc-duet-icon{padding:12px;border-style:solid;border-width:1px}@media (max-width: 35.9375em){/*!@.duet-icon.duet-icon-has-outline*/.duet-icon.duet-icon-has-outline.sc-duet-icon{outline:1px solid transparent;transform:scale(0.8)}}/*!@.duet-icon.duet-icon-has-background*/.duet-icon.duet-icon-has-background.sc-duet-icon{padding:16px;color:rgb(255, 255, 255)}@media (max-width: 35.9375em){/*!@.duet-icon.duet-icon-has-background*/.duet-icon.duet-icon-has-background.sc-duet-icon{outline:1px solid transparent;transform:scale(0.8)}}/*!@.duet-icon.duet-icon-has-background.duet-theme-turva, .duet-icon.duet-icon-has-background.duet-theme-default*/.duet-icon.duet-icon-has-background.duet-theme-turva.sc-duet-icon,.duet-icon.duet-icon-has-background.duet-theme-default.sc-duet-icon{color:rgb(255, 255, 255)}/*!@.duet-icon.duet-icon-shape-circle*/.duet-icon.duet-icon-shape-circle.sc-duet-icon{border-radius:50%}/*!@.duet-icon.duet-icon-shape-brand*/.duet-icon.duet-icon-shape-brand.sc-duet-icon{border-radius:25%}/*!@.duet-icon.duet-icon-has-background.xxx-small .duet-icon-svg, .duet-icon.duet-icon-has-outline.xxx-small .duet-icon-svg*/.duet-icon.duet-icon-has-background.xxx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon,.duet-icon.duet-icon-has-outline.xxx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:10px;height:10px}/*!@.duet-icon.duet-icon-has-background.xx-small .duet-icon-svg, .duet-icon.duet-icon-has-outline.xx-small .duet-icon-svg*/.duet-icon.duet-icon-has-background.xx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon,.duet-icon.duet-icon-has-outline.xx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:16px;height:16px}@media (max-width: 35.9375em){/*!@.duet-icon.duet-icon-not-responsive*/.duet-icon.duet-icon-not-responsive.sc-duet-icon{transform:scale(1) !important}}/*!@.duet-icon.duet-theme-default*/.duet-icon.duet-theme-default.sc-duet-icon{color:rgb(0, 119, 179)}/*!@.duet-icon.duet-theme-turva*/.duet-icon.duet-theme-turva.sc-duet-icon{color:rgb(198, 12, 48)}/*!@.duet-icon.auto .duet-icon-svg*/.duet-icon.auto.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:100%;height:100%}/*!@.duet-icon.xxx-small .duet-icon-svg*/.duet-icon.xxx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:7px;height:7px}/*!@.duet-icon.duet-icon-has-background.xxx-small*/.duet-icon.duet-icon-has-background.xxx-small.sc-duet-icon{padding:6px}/*!@.duet-icon.duet-icon-has-outline.xxx-small*/.duet-icon.duet-icon-has-outline.xxx-small.sc-duet-icon{padding:4px}/*!@.duet-icon.xx-small .duet-icon-svg*/.duet-icon.xx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:10px;height:10px}/*!@.duet-icon.duet-icon-has-background.xx-small*/.duet-icon.duet-icon-has-background.xx-small.sc-duet-icon{padding:8px}/*!@.duet-icon.duet-icon-has-outline.xx-small*/.duet-icon.duet-icon-has-outline.xx-small.sc-duet-icon{padding:7px}/*!@.duet-icon.x-small .duet-icon-svg*/.duet-icon.x-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:16px;height:16px}/*!@.duet-icon.duet-icon-has-outline.x-small*/.duet-icon.duet-icon-has-outline.x-small.sc-duet-icon{padding:10px}/*!@.duet-icon.duet-icon-has-background.x-small*/.duet-icon.duet-icon-has-background.x-small.sc-duet-icon{padding:12px}/*!@.duet-icon.small .duet-icon-svg*/.duet-icon.small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:20px;height:20px}/*!@.duet-icon.duet-icon-has-background.small*/.duet-icon.duet-icon-has-background.small.sc-duet-icon{padding:14px}/*!@.duet-icon.large .duet-icon-svg*/.duet-icon.large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:30px;height:30px}/*!@.duet-icon.x-large .duet-icon-svg*/.duet-icon.x-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:36px;height:36px}/*!@.duet-icon.xx-large .duet-icon-svg*/.duet-icon.xx-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:48px;height:48px}/*!@.duet-icon.xxx-large .duet-icon-svg*/.duet-icon.xxx-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:48px;height:48px}@media (min-width: 48em){/*!@.duet-icon.xxx-large .duet-icon-svg*/.duet-icon.xxx-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:72px;height:72px}}/*!@.duet-icon.duet-icon-shape-brand.rotated*/.duet-icon.duet-icon-shape-brand.rotated.sc-duet-icon{transform:rotate(20deg) scale(0.875);transform-origin:center}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.sc-duet-icon{display:flex;align-items:center;justify-content:center;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg viewBox='0 0 144 130' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M67.4002 0.00277722C71.354 0.0260204 75.7751 0.261773 80.1626 0.90262C83.3916 1.37412 86.6046 1.97513 89.824 2.51802C91.5585 2.81022 93.3026 3.05925 95.0291 3.3996C102.623 4.89215 109.884 7.35924 116.592 11.4152C122.597 15.0478 127.726 19.7163 131.919 25.4756C135.024 29.7374 137.515 34.3662 139.4 39.3319C140.317 41.7459 141.075 44.2262 141.854 46.695C142.021 47.2196 141.984 47.8157 142.021 48.3801C142.354 53.5833 142.664 58.7864 143.018 63.9879C143.237 67.2021 143.528 70.4097 143.768 73.6206C144.067 77.5985 144.095 81.578 143.746 85.5576C143.501 88.3567 143.106 91.1293 142.437 93.8537C141.117 99.2395 138.941 104.207 135.603 108.58C132.414 112.759 128.49 116.036 123.975 118.561C120.429 120.544 116.702 122.058 112.824 123.175C109.121 124.241 105.361 125.011 101.548 125.493C100.916 125.572 100.351 125.768 99.783 126.074C98.1525 126.95 96.3956 127.47 94.6163 127.912C91.4225 128.705 88.1775 129.168 84.9149 129.495C83.0572 129.681 81.1978 129.838 79.3385 129.995C79.1337 130.012 78.9097 129.985 78.7161 129.916C76.2087 129.009 73.6566 128.255 71.0356 127.825C68.8547 127.467 66.6529 127.135 64.4512 127.047C58.4156 126.809 52.54 125.717 46.7989 123.809C40.8193 121.822 35.1245 119.181 29.8458 115.634C24.3911 111.97 19.5668 107.566 15.4705 102.313C10.9582 96.5267 7.406 90.1597 4.73864 83.2598C2.95772 78.6544 1.67604 73.8978 0.898394 68.9935C0.328759 65.3975 0.0183391 61.7798 0.000737963 58.1373C-0.0120628 55.3132 0.141547 52.4992 0.471168 49.6934C0.867992 46.3131 1.46643 42.9728 2.35449 39.6955C2.6121 38.7458 3.02813 37.8327 3.44735 36.9395C4.105 35.5366 4.70343 34.0773 5.54829 32.8006C7.15959 30.3683 8.51487 27.8182 9.53734 25.0705C9.60134 24.8962 9.71655 24.7302 9.84136 24.5957C12.1119 22.1535 14.5201 19.8674 17.0514 17.7191C23.9622 11.8551 31.6315 7.39743 40.0769 4.39076C44.0019 2.99285 48.023 1.97015 52.1144 1.24795C56.6011 0.45934 62.4495 -0.0420489 67.4002 0.00277722Z' /%3E%3C/svg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg viewBox='0 0 144 130' fill='currentColor' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M67.4002 0.00277722C71.354 0.0260204 75.7751 0.261773 80.1626 0.90262C83.3916 1.37412 86.6046 1.97513 89.824 2.51802C91.5585 2.81022 93.3026 3.05925 95.0291 3.3996C102.623 4.89215 109.884 7.35924 116.592 11.4152C122.597 15.0478 127.726 19.7163 131.919 25.4756C135.024 29.7374 137.515 34.3662 139.4 39.3319C140.317 41.7459 141.075 44.2262 141.854 46.695C142.021 47.2196 141.984 47.8157 142.021 48.3801C142.354 53.5833 142.664 58.7864 143.018 63.9879C143.237 67.2021 143.528 70.4097 143.768 73.6206C144.067 77.5985 144.095 81.578 143.746 85.5576C143.501 88.3567 143.106 91.1293 142.437 93.8537C141.117 99.2395 138.941 104.207 135.603 108.58C132.414 112.759 128.49 116.036 123.975 118.561C120.429 120.544 116.702 122.058 112.824 123.175C109.121 124.241 105.361 125.011 101.548 125.493C100.916 125.572 100.351 125.768 99.783 126.074C98.1525 126.95 96.3956 127.47 94.6163 127.912C91.4225 128.705 88.1775 129.168 84.9149 129.495C83.0572 129.681 81.1978 129.838 79.3385 129.995C79.1337 130.012 78.9097 129.985 78.7161 129.916C76.2087 129.009 73.6566 128.255 71.0356 127.825C68.8547 127.467 66.6529 127.135 64.4512 127.047C58.4156 126.809 52.54 125.717 46.7989 123.809C40.8193 121.822 35.1245 119.181 29.8458 115.634C24.3911 111.97 19.5668 107.566 15.4705 102.313C10.9582 96.5267 7.406 90.1597 4.73864 83.2598C2.95772 78.6544 1.67604 73.8978 0.898394 68.9935C0.328759 65.3975 0.0183391 61.7798 0.000737963 58.1373C-0.0120628 55.3132 0.141547 52.4992 0.471168 49.6934C0.867992 46.3131 1.46643 42.9728 2.35449 39.6955C2.6121 38.7458 3.02813 37.8327 3.44735 36.9395C4.105 35.5366 4.70343 34.0773 5.54829 32.8006C7.15959 30.3683 8.51487 27.8182 9.53734 25.0705C9.60134 24.8962 9.71655 24.7302 9.84136 24.5957C12.1119 22.1535 14.5201 19.8674 17.0514 17.7191C23.9622 11.8551 31.6315 7.39743 40.0769 4.39076C44.0019 2.99285 48.023 1.97015 52.1144 1.24795C56.6011 0.45934 62.4495 -0.0420489 67.4002 0.00277722Z' /%3E%3C/svg%3E\");mask-repeat:no-repeat}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.sc-duet-icon .duet-icon-svg.sc-duet-icon{min-width:auto}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.xx-small*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.xx-small.sc-duet-icon{width:18px;height:15px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.x-small*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.x-small.sc-duet-icon{width:32px;height:30px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.small*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.small.sc-duet-icon{width:36px;height:34px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.medium*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.medium.sc-duet-icon{width:48px;height:44px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.large*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.large.sc-duet-icon{width:62px;height:56px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.x-large*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.x-large.sc-duet-icon{width:76px;height:68px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.xx-large*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.xx-large.sc-duet-icon{width:95px;height:86px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.duet-theme-turva.xxx-large*/.duet-icon.duet-icon-shape-brand.duet-theme-turva.xxx-large.sc-duet-icon{width:144px;height:130px;padding:0}/*!@.duet-icon.duet-icon-shape-brand.xxx-small*/.duet-icon.duet-icon-shape-brand.xxx-small.sc-duet-icon{padding:0}/*!@.duet-icon.duet-icon-shape-brand.xxx-small .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.xxx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:0;height:0}/*!@.duet-icon.duet-icon-shape-brand.xx-small*/.duet-icon.duet-icon-shape-brand.xx-small.sc-duet-icon{padding:4px}/*!@.duet-icon.duet-icon-shape-brand.xx-small .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.xx-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:10px;height:10px}/*!@.duet-icon.duet-icon-shape-brand.x-small*/.duet-icon.duet-icon-shape-brand.x-small.sc-duet-icon{padding:8px}/*!@.duet-icon.duet-icon-shape-brand.x-small .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.x-small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:16px;height:16px}/*!@.duet-icon.duet-icon-shape-brand.small*/.duet-icon.duet-icon-shape-brand.small.sc-duet-icon{padding:8px}/*!@.duet-icon.duet-icon-shape-brand.small .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.small.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:20px;height:20px}/*!@.duet-icon.duet-icon-shape-brand.medium*/.duet-icon.duet-icon-shape-brand.medium.sc-duet-icon{padding:12px}/*!@.duet-icon.duet-icon-shape-brand.medium .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.medium.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:24px;height:24px}/*!@.duet-icon.duet-icon-shape-brand.large*/.duet-icon.duet-icon-shape-brand.large.sc-duet-icon{padding:16px}/*!@.duet-icon.duet-icon-shape-brand.large .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:30px;height:30px}/*!@.duet-icon.duet-icon-shape-brand.x-large*/.duet-icon.duet-icon-shape-brand.x-large.sc-duet-icon{padding:20px}/*!@.duet-icon.duet-icon-shape-brand.x-large .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.x-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:36px;height:36px}/*!@.duet-icon.duet-icon-shape-brand.xx-large*/.duet-icon.duet-icon-shape-brand.xx-large.sc-duet-icon{padding:24px}/*!@.duet-icon.duet-icon-shape-brand.xx-large .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.xx-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:48px;height:48px}/*!@.duet-icon.duet-icon-shape-brand.xxx-large*/.duet-icon.duet-icon-shape-brand.xxx-large.sc-duet-icon{padding:36px}/*!@.duet-icon.duet-icon-shape-brand.xxx-large .duet-icon-svg*/.duet-icon.duet-icon-shape-brand.xxx-large.sc-duet-icon .duet-icon-svg.sc-duet-icon{width:72px;height:72px}/*!@.duet-icon .duet-icon-svg*/.duet-icon.sc-duet-icon .duet-icon-svg.sc-duet-icon{display:block;width:24px;min-width:100%;height:24px;font-size:0}/*!@.duet-icon .duet-icon-svg.rotated*/.duet-icon.sc-duet-icon .duet-icon-svg.rotated.sc-duet-icon{transform:rotate(-20deg) scale(1.14)}/*!@.duet-icon svg*/.duet-icon.sc-duet-icon svg.sc-duet-icon{width:100%;min-width:100%;fill:currentColor}";

class DuetIcon {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.svgContent = undefined;
        this.theme = "";
        this.icon = undefined;
        this.src = undefined;
        this.name = "action-add";
        this.margin = "auto";
        this.responsive = true;
        this.color = "";
        this.background = "";
        this.backgroundOpacity = 1;
        this.backgroundRotation = 0;
        this.size = "medium";
        this.outline = "";
        this.shape = "circle";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        if (this.src && this.icon) {
            console.warn("[DUET COMPONENTS]: <duet-icon> should have either have src or icon attributes, but not both. icon attribute will take precedence", "icon:", this.icon, "src:", this.src);
        }
        this.loadIcon();
    }
    async loadIcon() {
        // static icon known at build-time, so we can set it synchronously
        if (this.icon) {
            this.svgContent = this.icon;
            return;
        }
        // on server, don't make requests
        {
            return;
        }
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        const color = this.color === "currentColor"
            ? "currentColor"
            : getColorByName(this.color, this.theme) || getColorByName(this.outline, this.theme);
        const backgroundRotationStyles = this.backgroundRotation
            ? {
                transform: `rotate(${this.backgroundRotation}deg)`,
                "transform-origin": "center center",
            }
            : {};
        const styles = Object.assign({ color, background: rgbaColorFromRgb(getColorByName(this.background, this.theme), this.backgroundOpacity), "border-color": getColorByName(this.outline, this.theme) }, backgroundRotationStyles);
        const iconRotationStyles = this.backgroundRotation
            ? {
                transform: `rotate(-${this.backgroundRotation}deg)`,
                "transform-origin": "center center",
            }
            : {};
        const iconStyles = Object.assign({}, iconRotationStyles);
        const shapeStyle = this.shape === "brand-rotated" ? "duet-icon-shape-brand" : `duet-icon-shape-${this.shape}`;
        return (hAsync(Host, { class: {
                "duet-m-0": this.margin === "none",
                "duet-icon-has-outline": !!this.outline,
                "duet-icon-has-background": !!this.background,
            } }, hAsync("div", { "aria-hidden": "true", style: styles, class: {
                "duet-icon": true,
                [this.size]: true,
                "duet-theme-turva": this.theme === "turva",
                "duet-theme-default": this.theme === "default",
                "duet-icon-has-outline": !!this.outline,
                "duet-icon-has-background": !!this.background,
                [shapeStyle]: true,
                rotated: this.shape === "brand-rotated" && this.theme !== "turva",
                "duet-icon-not-responsive": !this.responsive,
            } }, hAsync("span", { "aria-hidden": "true", class: { "duet-icon-svg": true, rotated: this.shape === "brand-rotated" && this.theme !== "turva" }, innerHTML: this.svgContent, style: iconStyles }))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "src": ["loadIcon"],
        "icon": ["loadIcon"],
        "name": ["loadIcon"]
    }; }
    static get style() { return duetIconCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-icon",
        "$members$": {
            "theme": [1025],
            "icon": [1],
            "src": [1],
            "name": [1],
            "margin": [1],
            "responsive": [4],
            "color": [513],
            "background": [1],
            "backgroundOpacity": [2, "background-opacity"],
            "backgroundRotation": [2, "background-rotation"],
            "size": [1],
            "outline": [1],
            "shape": [1],
            "svgContent": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["color", "color"]]
    }; }
}

/**
 * This function restores cursor position after changing input
 *
 * @example
 * const resetCursor = storeAndResetCursor(this.input.selectionStart,this.input.selectionEnd)
 * this.input.changeValueAndForceUpdateOfCursoPosition()
 * resetCursor()
 */
function resetCursor(domElement) {
    if (domElement && domElement.selectionStart) {
        const start = domElement.selectionStart;
        const end = domElement.selectionEnd;
        return function () {
            if (start === end) {
                domElement.selectionStart = start;
                domElement.selectionEnd = end;
            }
            else {
                domElement.setSelectionRange(start, end);
            }
        };
    }
    return () => true;
}
/**
 * Given an input and a regex, remove any characters from the input's value
 * which match the regex, *whilst* maintaining cursor position.
 *
 * In effect, this prevent users from entering specific characters.
 *
 * @example
 * input.value = "foo123"
 * cleanValue(input, /[^0-9]/g)
 * input.value === "123"
 */
function cleanValue(input, regex) {
    const value = input.value;
    const cursor = input.selectionStart;
    const beforeCursor = value.slice(0, cursor);
    const afterCursor = value.slice(cursor, value.length);
    const filteredBeforeCursor = beforeCursor.replace(regex, "");
    const filterAfterCursor = afterCursor.replace(regex, "");
    const newValue = filteredBeforeCursor + filterAfterCursor;
    const newCursor = filteredBeforeCursor.length;
    input.value = newValue;
    input.selectionStart = input.selectionEnd = newCursor;
    return newValue;
}

const duetInputCss = "*.sc-duet-input,*.sc-duet-input::after,*.sc-duet-input::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-input-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;min-width:calc(33.333% - 8px);max-width:100%;text-align:left;vertical-align:bottom}.sc-duet-input-h:last-child,.sc-duet-input-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-input-h{width:calc(50% - 16px - 3px)}}.duet-expand.sc-duet-input-h{width:100% !important}.duet-m-0.sc-duet-input-h{margin:0 !important}input[type=search].sc-duet-input::-webkit-search-cancel-button{-webkit-appearance:none}duet-tooltip.sc-duet-input{position:relative;top:12px;right:0}@media (min-width: 48em){duet-tooltip.sc-duet-input{right:auto}}duet-caption.sc-duet-input:not(:last-of-type){margin-bottom:0}.duet-input-placeholder.sc-duet-input{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}.duet-input-icon.sc-duet-input{position:absolute;top:50%;right:16px;z-index:200;width:20px;height:20px;font-size:0;line-height:normal;color:rgb(0, 41, 77);pointer-events:none;transform:translateY(-50%)}.duet-theme-turva.sc-duet-input .duet-input-icon.sc-duet-input{color:rgb(23, 28, 58)}.duet-input-container.sc-duet-input{position:relative;width:100%;height:100%}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input{position:relative;z-index:250}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input{position:absolute;top:-24px;right:-24px;min-width:48px;min-height:48px;color:rgb(0, 77, 128)}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.duet-theme-turva.sc-duet-input .duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input:focus,.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input:active{opacity:0.75;transition:none}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.duet-input-clear-icon-single.sc-duet-input button.sc-duet-input{top:-48px;right:0}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.duet-input-clear-icon-double.sc-duet-input button.sc-duet-input{top:-24px;right:12px}.duet-input-container.has-clear.sc-duet-input .duet-input-clear-icon.duet-input-clear-icon-button.sc-duet-input button.sc-duet-input{top:-24px;right:0}.duet-input-container.has-clear.has-icon.sc-duet-input .duet-input-clear-icon.sc-duet-input{top:-24px;right:24px}.duet-input-container.duet-theme-turva.has-clear.sc-duet-input .duet-input-clear-icon.sc-duet-input button.sc-duet-input{color:rgb(0, 41, 77)}.duet-input-label-container.sc-duet-input{display:flex;flex-direction:row;align-items:flex-start;justify-content:space-between}@media (min-width: 48em){.duet-input-label-container.sc-duet-input{justify-content:flex-start}}.duet-input.sc-duet-input{position:relative;z-index:100;display:block !important;width:100% !important;min-width:8rem;max-width:initial !important;height:auto !important;padding:12px 14px !important;margin:initial !important;margin-bottom:initial !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400 !important;font-variant-numeric:tabular-nums;line-height:1.5 !important;color:rgb(0, 41, 77) !important;cursor:initial !important;background:rgb(255, 255, 255) !important;background-clip:initial !important;border:1px solid rgb(144, 149, 153) !important;border-radius:4px !important;box-shadow:initial !important;transition:box-shadow 150ms ease, border 150ms ease !important}.duet-input.is-number.sc-duet-input{padding-right:112px !important}.duet-input.is-date.sc-duet-input{padding-right:64px !important}.has-error.sc-duet-input .duet-input.sc-duet-input{border-color:rgb(222, 35, 98) !important}.has-error.sc-duet-input .duet-input.sc-duet-input+.duet-input-icon.sc-duet-input{color:rgb(222, 35, 98) !important}.duet-theme-turva.has-error.sc-duet-input .duet-input.sc-duet-input{border-color:rgb(224, 42, 13) !important}.duet-theme-turva.has-error.sc-duet-input .duet-input.sc-duet-input+.duet-input-icon.sc-duet-input{color:rgb(224, 42, 13) !important}.has-icon.sc-duet-input .duet-input.sc-duet-input{padding-right:48px !important}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58) !important;border-color:rgb(116, 116, 117) !important}.duet-input.sc-duet-input::-ms-clear{display:none}.duet-input.sc-duet-input::-webkit-contacts-auto-fill-button{display:none !important}.duet-input.sc-duet-input::-webkit-input-placeholder{color:rgb(101, 119, 135);opacity:1 !important;transition:color 300ms ease}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input::-webkit-input-placeholder{color:rgb(116, 116, 117)}.duet-input.sc-duet-input:focus::-webkit-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:focus::-webkit-input-placeholder{color:rgb(207, 207, 209)}.duet-input.sc-duet-input::-moz-placeholder{color:rgb(101, 119, 135);opacity:1 !important}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input::-moz-placeholder{color:rgb(116, 116, 117)}.duet-input.sc-duet-input:focus::-moz-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:focus::-moz-placeholder{color:rgb(207, 207, 209)}.duet-input.sc-duet-input:-ms-input-placeholder{color:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:-ms-input-placeholder{color:rgb(116, 116, 117)}.duet-input.sc-duet-input:focus:-ms-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:focus:-ms-input-placeholder{color:rgb(207, 207, 209)}.duet-input[disabled].sc-duet-input{color:rgb(0, 41, 77) !important;cursor:not-allowed !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important;box-shadow:none !important;opacity:1 !important;-webkit-text-fill-color:rgb(0, 41, 77) !important}.duet-theme-turva.sc-duet-input .duet-input[disabled].sc-duet-input{color:rgb(23, 28, 58) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important;-webkit-text-fill-color:rgb(23, 28, 58) !important}.duet-input.sc-duet-input:hover:not(:disabled){box-shadow:0 0 0 1px #909599 !important}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:hover:not(:disabled){box-shadow:0 0 0 1px #747475 !important}.has-error.sc-duet-input .duet-input.sc-duet-input:hover:not(:disabled){box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-input .duet-input.sc-duet-input:hover:not(:disabled){box-shadow:0 0 0 1px #e55039}.duet-input.sc-duet-input:focus{border-color:rgb(0, 119, 179) !important;outline:0;box-shadow:0 0 0 1px #0077b3 !important;transition:none}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:focus{border-color:rgb(23, 28, 58) !important;box-shadow:0 0 0 1px #171c3a !important}.duet-theme-turva.sc-duet-input .duet-input.sc-duet-input:focus+.duet-input-icon.sc-duet-input{color:rgb(23, 28, 58)}.has-error.sc-duet-input .duet-input.sc-duet-input:focus{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-input .duet-input.sc-duet-input:focus{box-shadow:0 0 0 1px #e55039}.duet-input.sc-duet-input:focus+.duet-input-icon.sc-duet-input{color:rgb(0, 119, 179)}.duet-input[type=search].sc-duet-input:not(:placeholder-shown):focus+.duet-input-icon.sc-duet-input{display:none}.duet-input.sc-duet-input:not(:focus):not(:hover):invalid{box-shadow:none !important}.duet-input[type=number].sc-duet-input::-webkit-inner-spin-button,.duet-input[type=number].sc-duet-input::-webkit-outer-spin-button,.duet-input[type=time].sc-duet-input::-webkit-inner-spin-button,.duet-input[type=time].sc-duet-input::-webkit-outer-spin-button{display:none;margin:0;-webkit-appearance:none}.duet-input.sc-duet-input::-webkit-search-cancel-button{margin-right:-28px}.duet-input-help.sc-duet-input{display:block;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(101, 119, 135);border-radius:4px}.duet-input-help.sc-duet-input span.sc-duet-input{display:block;margin-top:8px}.duet-theme-turva.sc-duet-input .duet-input-help.sc-duet-input{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(116, 116, 117)}.has-error.sc-duet-input .duet-input-help.sc-duet-input{color:rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-input .duet-input-help.sc-duet-input{color:rgb(224, 42, 13)}.duet-label-hidden.sc-duet-input duet-label.sc-duet-input{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}.duet-input-relative.sc-duet-input{position:relative;width:100%}.duet-input-variation-button.sc-duet-input{position:relative;width:100%}.duet-input-variation-button.sc-duet-input .duet-input-relative.sc-duet-input{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:flex-start;width:auto}.duet-input-variation-button.sc-duet-input .duet-input-relative.sc-duet-input duet-button.sc-duet-input{z-index:250;margin-bottom:0}.duet-input-variation-button.sc-duet-input .duet-input-relative.sc-duet-input .duet-input.sc-duet-input{border-right-width:0 !important;border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.duet-input-variation-revealable.sc-duet-input{position:relative;width:100%}.duet-input-variation-revealable.sc-duet-input .sc-duet-input::-ms-reveal{display:none}.duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input{display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;align-items:center;justify-content:flex-start;width:auto;border:1px solid rgb(144, 149, 153);border-radius:4px;box-shadow:initial;transition:box-shadow 150ms ease, border 150ms ease}.duet-theme-turva.sc-duet-input .duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input{border-color:rgb(116, 116, 117)}.duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input duet-button.sc-duet-input{z-index:250;margin-bottom:0}.duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input .duet-input.sc-duet-input{border-width:0 !important}.duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input .duet-input.sc-duet-input:focus,.duet-input-variation-revealable.sc-duet-input .duet-input-relative.sc-duet-input .duet-input.sc-duet-input:hover{border-width:0 !important;box-shadow:none !important}.duet-input-variation-revealable.disabled.sc-duet-input .duet-input-relative.sc-duet-input{background:rgb(245, 248, 250);border-color:rgb(225, 227, 230);box-shadow:none}.duet-input-variation-revealable.has-error.sc-duet-input .duet-input-relative.sc-duet-input{border-color:rgb(222, 35, 98)}.duet-input-variation-revealable.duet-theme-turva.has-error.sc-duet-input .duet-input-relative.sc-duet-input{border-color:rgb(224, 42, 13)}.duet-input-variation-revealable.has-focus.sc-duet-input .duet-input-relative.sc-duet-input{border-color:rgb(0, 119, 179);box-shadow:0 0 0 1px #0077b3 !important}.duet-input-variation-revealable.duet-theme-turva.has-focus.sc-duet-input .duet-input-relative.sc-duet-input{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px #171c3a !important}.duet-input-variation-revealable.sc-duet-input:hover:not(.disabled) .duet-input-relative.sc-duet-input{box-shadow:0 0 0 1px #909599}.duet-input-variation-revealable.duet-theme-turva.sc-duet-input:hover:not(.disabled) .duet-input-relative.sc-duet-input{box-shadow:0 0 0 1px #747475}.duet-input-variation-revealable.has-error.sc-duet-input:hover:not(.disabled) .duet-input-relative.sc-duet-input{box-shadow:0 0 0 1px #de2362}.duet-input-variation-revealable.duet-theme-turva.has-error.sc-duet-input:hover:not(.disabled) .duet-input-relative.sc-duet-input{box-shadow:0 0 0 1px #e55039}";

class DuetInput {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetInput = createEvent$2(this, "duetInput", 7);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.duetClear = createEvent$2(this, "duetClear", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        /**
         * Own Properties
         */
        this.inputId = createID("DuetInput");
        this.clearId = createID("DuetInputClear");
        this.labelId = createID("DuetLabel");
        this.topCaptionId = createID("DuetCaptionTop");
        this.topCaptionPlaceholderId = createID("DuetCaptionPlaceholderTop");
        this.errorId = createID("DuetError");
        this.disallowPatternRegex = null;
        this.clearLabel = {
            en: "Clear",
            fi: "Tyhjennä",
            sv: "Rensa",
        };
        this.timeAnnouncement = {
            en: "Time",
            fi: "Aika",
            sv: "Tid",
        };
        this.showPasswordLabel = {
            en: "Show password",
            fi: "Näytä salasana",
            sv: "Visa lösenord",
        };
        this.hidePasswordLabel = {
            en: "Hide password",
            fi: "Piilota salasana",
            sv: "Dölj lösenord",
        };
        this.passwordShownAriaAnnouncement = {
            en: "Password is shown",
            fi: "Salasana näytetään",
            sv: "Lösenordet visas",
        };
        this.passwordHiddenAriaAnnouncement = {
            en: "Password is hidden",
            fi: "Salasana on piilotettu",
            sv: "Lösenordet är dolt",
        };
        /**
         * Component event handling.
         */
        this.onInput = (ev) => {
            if (this.disallowPatternRegex) {
                cleanValue(this.nativeInput, this.disallowPatternRegex);
            }
            this.value = this.nativeInput.value || "";
            this.duetInput.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-input",
            });
        };
        this.onBlur = (ev) => {
            // prevent blur event when focus moves to the reveal password button or the input itself
            if (ev.relatedTarget === this.nativeInput || ev.relatedTarget === this.togglePasswordRevealedButton) {
                return;
            }
            if (this.variation === "revealable" && this.isPasswordRevealed) {
                this.isPasswordRevealed = false;
            }
            this.isFocused = false;
            this.duetBlur.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-input",
            });
        };
        this.onFocus = (ev) => {
            this.isFocused = true;
            this.duetFocus.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-input",
            });
        };
        this.onClear = (ev) => {
            this.duetClear.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-input",
            });
        };
        /**
         * Private functions
         */
        this.getDescribedBy = () => {
            const describedBy = [];
            if (this.isCaptionVisible && this.topCaptionId) {
                describedBy.push(this.topCaptionId);
            }
            if (this.accessibleDescribedBy) {
                describedBy.push(this.accessibleDescribedBy);
            }
            if (this.error) {
                describedBy.push(this.errorId);
            }
            return describedBy.length > 0 ? describedBy.join(" ") : null;
        };
        this.handleClearClick = event => {
            const clearing = this.clearInput();
            this.onClear(event);
            return clearing;
        };
        this.keyHandler = event => {
            if (isEscapeKey(event) && this.clear) {
                this.handleClearClick(event);
            }
            if (isEnterKey(event) && this.variation === "revealable") {
                if (event.target === this.togglePasswordRevealedButton) {
                    event.stopPropagation();
                }
                else {
                    this.isPasswordRevealed = false;
                }
            }
            return event;
        };
        this.togglePasswordRevealed = () => {
            this.isPasswordRevealed = !this.isPasswordRevealed;
        };
        this.getInputType = () => {
            if (this.variation === "revealable") {
                return this.isPasswordRevealed ? "text" : "password";
            }
            return this.type;
        };
        this.language = getLanguage();
        this.isPasswordRevealed = undefined;
        this.isFocused = false;
        this.accessibleActiveDescendant = undefined;
        this.accessibleAutocomplete = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleExpanded = undefined;
        this.accessibleDescribedBy = "";
        this.accessibleHasPopup = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleLiveError = "polite";
        this.debounce = 0;
        this.clear = false;
        this.caption = undefined;
        this.echoPlaceholder = false;
        this.theme = "";
        this.expand = false;
        this.disabled = false;
        this.identifier = undefined;
        this.margin = "auto";
        this.required = false;
        this.type = "text";
        this.variation = "default";
        this.label = "Label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.error = "";
        this.labelHidden = false;
        this.numericKeyboard = false;
        this.name = undefined;
        this.pattern = undefined;
        this.maxlength = undefined;
        this.minlength = undefined;
        this.placeholder = undefined;
        this.component = "input";
        this.role = undefined;
        this.icon = undefined;
        this.autoComplete = "on";
        this.disallowPattern = null;
        this.value = undefined;
        this.tooltip = "";
        this.tooltipDirection = "auto";
    }
    disallowedPatternChange() {
        this.disallowPatternRegex = this.disallowPattern ? new RegExp(this.disallowPattern, "gu") : null;
    }
    valueChanged() {
        var _a;
        if (((_a = this === null || this === void 0 ? void 0 : this.nativeInput) === null || _a === void 0 ? void 0 : _a.value) !== this.value) {
            const restoreCursor = resetCursor(this.nativeInput);
            this.nativeInput.value = this.value;
            // restore selection position after having set value
            // (in webkit based browsers settings value trigger cursor position and will set it to EndOfText)
            restoreCursor();
        }
        this.isCaptionVisible = !!this.caption;
        const emitEvent = () => this.duetChange.emit({
            value: this.value,
            component: "duet-input",
        });
        if (this.debounce === 0) {
            emitEvent();
        }
        else {
            clearTimeout(this.timeoutId);
            this.timeoutId = setTimeout(emitEvent, this.debounce);
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.disallowedPatternChange();
        this.isCaptionVisible = !!this.caption;
    }
    componentDidLoad() {
        if (this.variation === "revealable" && this.nativeInput.form) {
            this.nativeInput.form.addEventListener("submit", () => {
                this.isPasswordRevealed = false;
            });
        }
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus on the specified `duet-input`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        if (this.nativeInput) {
            this.nativeInput.focus(options);
        }
    }
    /**
     * Reset the cursor position on the native element
     * `input.resetCursor()`.
     */
    async resetCursor() {
        if (this.nativeInput) {
            const restoreCursor = resetCursor(this.nativeInput);
            this.nativeInput.value = this.value;
            restoreCursor();
        }
    }
    /**
     * Reset the cursor position on the native element
     * `input.resetCursor()`.
     */
    async clearInput() {
        if (this.nativeInput) {
            this.nativeInput.value = "";
            this.nativeInput.focus();
            this.value = "";
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "disallowPattern": ["disallowedPatternChange"],
        "value": ["valueChanged"]
    }; }
    static get style() { return duetInputCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-input",
        "$members$": {
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleAutocomplete": [1, "accessible-autocomplete"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleExpanded": [1, "accessible-expanded"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleHasPopup": [1, "accessible-has-popup"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleLiveError": [1, "accessible-live-error"],
            "debounce": [2],
            "clear": [4],
            "caption": [1],
            "echoPlaceholder": [4, "echo-placeholder"],
            "theme": [1025],
            "expand": [4],
            "disabled": [516],
            "identifier": [1],
            "margin": [1],
            "required": [4],
            "type": [1],
            "variation": [1],
            "label": [1025],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "error": [1],
            "labelHidden": [4, "label-hidden"],
            "numericKeyboard": [4, "numeric-keyboard"],
            "name": [1],
            "pattern": [1],
            "maxlength": [2],
            "minlength": [2],
            "placeholder": [1],
            "component": [1],
            "role": [1],
            "icon": [1],
            "autoComplete": [1, "auto-complete"],
            "disallowPattern": [1, "disallow-pattern"],
            "value": [1025],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "language": [32],
            "isPasswordRevealed": [32],
            "isFocused": [32],
            "setFocus": [64],
            "resetCursor": [64],
            "clearInput": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"]]
    }; }
}

const duetLabelCss = "*.sc-duet-label,*.sc-duet-label::after,*.sc-duet-label::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-label-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:12px !important;position:relative;z-index:100;display:inline-flex;width:auto;margin-top:8px !important;line-height:1.25;cursor:default}.duet-p-0.sc-duet-label-h{padding:0 !important}.duet-m-0.sc-duet-label-h{margin:0 !important}.duet-m-0.sc-duet-label-h{margin-bottom:0 !important}.duet-small-margin.sc-duet-label-h{margin-top:8px !important;margin-bottom:4px !important}.duet-has-tooltip.sc-duet-label-h{padding-right:48px}@media (min-width: 48em){.duet-has-tooltip.sc-duet-label-h{padding-right:0}}label.sc-duet-label{margin:0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600 !important;line-height:1.25;color:rgb(0, 41, 77);text-align:left;word-break:break-word}label.sc-duet-label span.sc-duet-label{font-size:1rem;font-weight:600 !important;word-break:break-word}.duet-label-small.sc-duet-label-h label.sc-duet-label{font-size:0.875rem}.duet-label-small.sc-duet-label-h label.sc-duet-label span.sc-duet-label{font-size:0.875rem}.duet-weight-normal.sc-duet-label-h label.sc-duet-label{font-weight:400 !important}.duet-weight-normal.sc-duet-label-h label.sc-duet-label span.sc-duet-label{font-weight:400 !important}.duet-theme-turva.sc-duet-label-h label.sc-duet-label{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}";

class DuetLabel {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.for = undefined;
        this.margin = "auto";
        this.size = "medium";
        this.weight = "semi-bold";
        this.color = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetLabelCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-label",
        "$members$": {
            "theme": [1025],
            "for": [1],
            "margin": [1],
            "size": [1],
            "weight": [1],
            "color": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

function isInternetExplorer() {
    const ua = navigator.userAgent || navigator.vendor;
    return "documentMode" in document || /Edge/.test(ua);
}

const duetLayoutCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-layout,*.sc-duet-layout::after,*.sc-duet-layout::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-layout-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;flex:1 0 auto;width:100%}/*!@:host(.duet-middle)*/.duet-middle.sc-duet-layout-h{display:flex}/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-layout-h .duet-layout.sc-duet-layout{padding:36px 28px !important}@media (min-width: 36em){/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-layout-h .duet-layout.sc-duet-layout{padding:48px 36px !important}}@media (min-width: 62em){/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-layout-h .duet-layout.sc-duet-layout{padding:56px !important}}/*!@:host(.duet-ie)*/.duet-ie.sc-duet-layout-h{height:100%}/*!@:host(.duet-middle.duet-ie)*/.duet-middle.duet-ie.sc-duet-layout-h{height:auto}/*!@.duet-layout*/.duet-layout.sc-duet-layout{position:relative;padding:0 16px;margin:48px auto 36px}@media (max-width: 20.5em){/*!@.duet-layout.padding-xxx-small*/.duet-layout.padding-xxx-small.sc-duet-layout{padding:0}}@media (max-width: 22.5em){/*!@.duet-layout.padding-xx-small*/.duet-layout.padding-xx-small.sc-duet-layout{padding:0}}@media (max-width: 35.9375em){/*!@.duet-layout.padding-x-small*/.duet-layout.padding-x-small.sc-duet-layout{padding:0}}@media (min-width: 36em){/*!@.duet-layout.padding-small*/.duet-layout.padding-small.sc-duet-layout{padding:0}}@media (min-width: 48em){/*!@.duet-layout.padding-medium*/.duet-layout.padding-medium.sc-duet-layout{padding:0}}@media (min-width: 62em){/*!@.duet-layout.padding-large*/.duet-layout.padding-large.sc-duet-layout{padding:0}}@media (min-width: 64.0625em){/*!@.duet-layout.padding-x-large*/.duet-layout.padding-x-large.sc-duet-layout{padding:0}}@media (min-width: 76.25em){/*!@.duet-layout.padding-xx-large*/.duet-layout.padding-xx-large.sc-duet-layout{padding:0}}@media (min-width: 106.25em){/*!@.duet-layout.padding-xxx-large*/.duet-layout.padding-xxx-large.sc-duet-layout{padding:0}}@media (min-width: 36em){/*!@.duet-layout*/.duet-layout.sc-duet-layout{margin-top:72px}}/*!@.duet-layout.duet-layout-has-top*/.duet-layout.duet-layout-has-top.sc-duet-layout{margin-top:0}/*!@.duet-layout.duet-m-0*/.duet-layout.duet-m-0.sc-duet-layout{margin-top:0 !important;margin-bottom:0 !important}/*!@.duet-layout.duet-center*/.duet-layout.duet-center.sc-duet-layout{display:flex;align-items:center;justify-content:center;width:100%;max-width:888px}@media (min-width: 36em){/*!@.duet-layout.duet-center*/.duet-layout.duet-center.sc-duet-layout{padding:0 48px}}@media (min-width: 48em){/*!@.duet-layout.duet-center*/.duet-layout.duet-center.sc-duet-layout{padding:0 72px}}@media (min-width: 62em){/*!@.duet-layout.duet-center*/.duet-layout.duet-center.sc-duet-layout{width:100%}}@media (min-width: 36em){/*!@.duet-layout*/.duet-layout.sc-duet-layout{padding:0 28px}}@media (min-width: 62em){/*!@.duet-layout*/.duet-layout.sc-duet-layout{display:flex;flex-direction:row;padding:0 56px;margin-bottom:48px}}@media (min-width: 76.25em){/*!@.duet-layout*/.duet-layout.sc-duet-layout{max-width:1110px;padding:0}}/*!@.duet-main,\n.duet-sidebar,\n.duet-layout-top,\n.duet-layout-bottom*/.duet-main.sc-duet-layout,.duet-sidebar.sc-duet-layout,.duet-layout-top.sc-duet-layout,.duet-layout-bottom.sc-duet-layout{display:block;width:100%}/*!@.duet-layout-top*/.duet-layout-top.sc-duet-layout{position:relative;display:block;width:100%;margin:72px auto 0}/*!@.duet-layout-top.duet-m-0*/.duet-layout-top.duet-m-0.sc-duet-layout{margin-top:0 !important;margin-bottom:0 !important}/*!@.duet-layout-top .duet-layout-top-wrapper*/.duet-layout-top.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{padding:0 20px;margin:0 auto}@media (min-width: 36em){/*!@.duet-layout-top .duet-layout-top-wrapper*/.duet-layout-top.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{padding:0 28px}}@media (min-width: 62em){/*!@.duet-layout-top .duet-layout-top-wrapper*/.duet-layout-top.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{padding:0 56px}}@media (min-width: 76.25em){/*!@.duet-layout-top .duet-layout-top-wrapper*/.duet-layout-top.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{max-width:1110px;padding:0}}/*!@.duet-center .duet-layout-top-wrapper*/.duet-center.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{max-width:888px}@media (min-width: 36em){/*!@.duet-center .duet-layout-top-wrapper*/.duet-center.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{padding:0 48px}}@media (min-width: 48em){/*!@.duet-center .duet-layout-top-wrapper*/.duet-center.sc-duet-layout .duet-layout-top-wrapper.sc-duet-layout{padding:0 72px}}@media (min-width: 62em){/*!@.duet-main*/.duet-main.sc-duet-layout{min-width:600px;margin:0 auto}/*!@.has-sidebar .duet-main*/.has-sidebar.sc-duet-layout .duet-main.sc-duet-layout{max-width:734px;margin-right:20px}}@media (min-width: 62em){/*!@.duet-sidebar*/.duet-sidebar.sc-duet-layout{min-width:256px;max-width:356px}}@media (min-width: 62em){/*!@.duet-sidebar-container*/.duet-sidebar-container.sc-duet-layout{width:auto;max-width:356px}}@media (min-width: 62em){/*!@.duet-sidebar-container.has-tabs*/.duet-sidebar-container.has-tabs.sc-duet-layout{margin-top:89px}}@media (min-width: 62em){/*!@.duet-sidebar-container.sticky*/.duet-sidebar-container.sticky.sc-duet-layout{position:sticky}/*!@.duet-sidebar-container.sticky.with-links*/.duet-sidebar-container.sticky.with-links.sc-duet-layout{top:calc(3rem + 20px)}/*!@.duet-sidebar-container.sticky.without-links*/.duet-sidebar-container.sticky.without-links.sc-duet-layout{top:calc(4rem + 20px)}}";

/**
 * @slot main - The layout component’s primary content. Use this for the main content on the page.
 * @slot sidebar - The layout component’s sidebar content. Use this for content that is related to the content in the main slot.
 * @slot top - This is a full-width content area above the main and sidebar slots. Could be used to show for example alert messages.
 */
class DuetLayout {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.hasSidebar = false;
        this.hasTop = false;
        this.sticky = false;
        this.margin = "auto";
        this.stickyDistance = "with-links";
        this.center = false;
        this.tabs = false;
        this.middle = false;
        this.paddingBreakpoint = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        this.hasSidebar = !!this.element.querySelector("[slot='sidebar']");
        this.hasTop = !!this.element.querySelector("[slot='top']");
        if (!this.element.querySelector("[slot='main']")) {
            console.warn("[DUET WARNING]: Nothing passed to <duet-layout> named slots. Please use one of 'main', 'sidebar' or 'top' to display contents.");
        }
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-middle": this.middle,
                "duet-ie": isInternetExplorer(),
            } }, this.hasTop && (hAsync("div", { class: {
                "duet-layout-top": true,
                "duet-m-0": this.margin === "none",
                "duet-center": this.center,
            } }, hAsync("div", { class: "duet-layout-top-wrapper" }, hAsync("slot", { name: "top" })))), hAsync("div", { class: {
                "duet-layout": true,
                "duet-layout-has-top": this.hasTop,
                "has-sidebar": this.hasSidebar,
                "duet-m-0": this.margin === "none",
                "duet-center": this.center,
                [`padding-${this.paddingBreakpoint}`]: !!this.paddingBreakpoint,
            } }, hAsync("main", { class: "duet-main" }, hAsync("slot", { name: "main" })), this.hasSidebar && (hAsync("aside", { class: "duet-sidebar" }, hAsync("div", { class: {
                "duet-sidebar-container": true,
                "has-tabs": this.tabs,
                sticky: this.sticky,
                [this.stickyDistance]: this.sticky,
            } }, hAsync("slot", { name: "sidebar" })))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetLayoutCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-layout",
        "$members$": {
            "sticky": [4],
            "margin": [1],
            "stickyDistance": [1, "sticky-distance"],
            "center": [4],
            "tabs": [4],
            "middle": [4],
            "paddingBreakpoint": [1, "padding-breakpoint"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-link,*.sc-duet-link::after,*.sc-duet-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline}/*!@:host(.duet-link-block)*/.duet-link-block.sc-duet-link-h{display:block}/*!@.duet-link*/.duet-link.sc-duet-link{display:inline;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:normal;font-weight:400;color:rgb(0, 119, 179);text-decoration:underline;border-radius:4px;transition:300ms ease}/*!@.duet-link:focus*/.duet-link.sc-duet-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-link:focus, .duet-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-link .duet-link.sc-duet-link:focus,.duet-link.sc-duet-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-link.duet-theme-turva*/.duet-link.duet-theme-turva.sc-duet-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(198, 12, 48)}/*!@.duet-link:hover*/.duet-link.sc-duet-link:hover{color:rgb(0, 77, 128);text-decoration:none}/*!@.duet-link:hover.duet-theme-turva*/.duet-link.sc-duet-link:hover.duet-theme-turva{color:rgb(148, 9, 37)}/*!@.duet-link:active*/.duet-link.sc-duet-link:active{opacity:0.75;transition:none}/*!@.duet-link-is-external.duet-link:not(.block)*/.duet-link-is-external.duet-link.sc-duet-link:not(.block){text-decoration:none}/*!@.duet-link-is-external.duet-link:not(.block) .duet-link-content*/.duet-link-is-external.duet-link.sc-duet-link:not(.block) .duet-link-content.sc-duet-link{text-decoration:underline}/*!@.duet-link-is-external.duet-link:not(.block):hover > .duet-link-content*/.duet-link-is-external.duet-link.sc-duet-link:not(.block):hover>.duet-link-content.sc-duet-link{text-decoration:none}/*!@.duet-link-is-external.duet-link:not(.block) .duet-link-external*/.duet-link-is-external.duet-link.sc-duet-link:not(.block) .duet-link-external.sc-duet-link{text-decoration:none;white-space:nowrap}/*!@.duet-tab-to-link*/.duet-tab-to-link.sc-duet-link{padding:15px 28px 16px !important;position:absolute;top:-100%;left:-100%;z-index:200;width:1px;min-width:190px;height:1px;overflow:hidden;font-weight:600;color:rgb(0, 119, 179);text-align:center;text-decoration:none;background:rgb(255, 255, 255);border-radius:4px;opacity:0;transition:none}/*!@.duet-tab-to-link.duet-theme-turva*/.duet-tab-to-link.duet-theme-turva.sc-duet-link{min-width:120px;color:rgb(23, 28, 58)}@media (min-width: 106.25em){/*!@.duet-tab-to-link*/.duet-tab-to-link.sc-duet-link{margin-left:20px}}/*!@.duet-tab-to-link:focus*/.duet-tab-to-link.sc-duet-link:focus{top:12px;left:20px;width:auto;height:auto;outline:0;opacity:1}/*!@.block.duet-link*/.block.duet-link.sc-duet-link{display:grid;grid-template-columns:1fr auto;gap:16px;align-items:start;padding:16px;font-weight:600;color:rgb(0, 41, 77);text-decoration:none}/*!@.block.duet-link.duet-link-has-icon*/.block.duet-link.duet-link-has-icon.sc-duet-link{grid-template-columns:auto 1fr auto}/*!@.block.duet-link.none*/.block.duet-link.none.sc-duet-link{padding:0}/*!@.block .block__content*/.block.sc-duet-link .block__content.sc-duet-link{position:relative;bottom:2px}/*!@.block .block__chevron*/.block.sc-duet-link .block__chevron.sc-duet-link{align-self:center}/*!@.block .block__chevron-icon*/.block.sc-duet-link .block__chevron-icon.sc-duet-link{transition:300ms ease}/*!@.block:hover .block__chevron-icon*/.block.sc-duet-link:hover .block__chevron-icon.sc-duet-link{transform:translateX(4px)}";

/**
 * @part duet-link - piercing selector for styling the link
 * @part duet-link-content - piercing selector for styling the link content wrapper
 * @part block-chevron - piercing selector for styling the block chevron
 */
class DuetLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.variation = "default";
        this.accessibleLabel = undefined;
        this.language = getLanguage();
        this.accessibleLabelExternalDefaults = DuetStringsExternalDefaults;
        this.accessibleLabelExternal = getLocaleString(this.accessibleLabelExternalDefaults);
        this.identifier = undefined;
        this.theme = "";
        this.url = "#";
        this.external = false;
        this.tabToLink = false;
        this.icon = undefined;
        this.iconColor = "currentColor";
        this.iconResponsive = false;
        this.padding = "auto";
        this.isSmallScreen = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.initMediaQuery();
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, {
            prop: "accessibleLabelExternal",
            defaults: "accessibleLabelExternalDefaults",
        });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        this.destroyMediaQuery();
    }
    /**
     * Sets focus on the specified `duet-link`. Use this method instead of the global
     * `link.focus()`.
     */
    async setFocus(options) {
        this.nativeLink.focus(options);
    }
    initMediaQuery() {
        {
            return;
        }
    }
    destroyMediaQuery() {
        {
            return;
        }
    }
    screenTest(event) {
        this.isSmallScreen = event.matches;
    }
    getAccessibleLabel() {
        if (this.accessibleLabel) {
            return this.accessibleLabel;
        }
        if (!this.element.innerHTML) {
            return "";
        }
        const capitalized = this.element.innerHTML[0].toUpperCase() + this.element.innerHTML.slice(1);
        return `${capitalized}. ${this.external ? `${this.accessibleLabelExternal}.` : ""}`;
    }
    renderContent() {
        return (hAsync(Fragment, null, hAsync("span", { class: "duet-link-content", part: "duet-link-content" }, hAsync("slot", null)), Build.isBrowser  ));
    }
    renderGrid() {
        return (hAsync(Fragment, null, this.icon && (hAsync("span", { class: "block__icon" }, hAsync("duet-icon", { size: this.iconResponsive ? (this.isSmallScreen ? "medium" : "large") : "x-small", name: this.icon, margin: "none", color: this.iconColor }))), hAsync("span", { class: "block__content" }, this.renderContent()), hAsync("span", { class: "block__chevron", part: "block-chevron" }, hAsync("duet-icon", { class: "block__chevron-icon", icon: actionArrowRight.svg, size: "x-small", margin: "none", color: "primary-dark" }))));
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        // Notice that the external icon needs to be places right after the last word of the link.
        // This is why we use &nbps; to keep everything on the same line.
        return (hAsync(Host, { class: {
                "duet-link-block": this.variation === "block",
            } }, hAsync("a", { href: this.url, class: {
                "duet-link": true,
                "duet-link-is-external": this.external,
                "duet-link-has-icon": !!this.icon,
                "duet-tab-to-link": this.tabToLink,
                "duet-theme-turva": this.theme === "turva",
                "duet-p-0": this.padding === "none",
                [this.padding]: true,
                [this.variation]: true,
            }, target: this.external ? "_blank" : "_self", "aria-label": this.getAccessibleLabel(), id: this.identifier, ref: el => (this.nativeLink = el), part: "duet-link", rel: this.external ? "noopener" : undefined }, this.variation === "block" ? this.renderGrid() : this.renderContent())));
    }
    static get delegatesFocus() { return true; }
    get element() { return getElement(this); }
    static get style() { return duetLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 25,
        "$tagName$": "duet-link",
        "$members$": {
            "variation": [1],
            "accessibleLabel": [1, "accessible-label"],
            "language": [1537],
            "accessibleLabelExternalDefaults": [1, "accessible-label-external-default"],
            "accessibleLabelExternal": [1025, "accessible-label-external"],
            "identifier": [1],
            "theme": [1025],
            "url": [513],
            "external": [4],
            "tabToLink": [4, "tab-to-link"],
            "icon": [1],
            "iconColor": [1, "icon-color"],
            "iconResponsive": [4, "icon-responsive"],
            "padding": [1],
            "isSmallScreen": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"], ["url", "url"]]
    }; }
}

const duetListCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-list,*.sc-duet-list::after,*.sc-duet-list::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-list-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-list-component*/.duet-list-component.sc-duet-list{margin-bottom:16px !important;width:100%}/*!@.duet-list-component.duet-p-0*/.duet-list-component.duet-p-0.sc-duet-list{padding:0 !important}/*!@.duet-list-component.duet-m-0*/.duet-list-component.duet-m-0.sc-duet-list{margin:0 !important}";

class DuetList {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.padding = "auto";
        this.mobile = "left";
        this.breakpoint = "small";
        this.variation = "default";
        this.labelWidth = "30";
        this.responsive = true;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    async connectedCallback() {
        const el = this.element;
        this.mutationO = watchForOptions(el, "duet-list-item", () => {
            this.updateListItems();
        });
        this.updateListItems();
    }
    disconnectedCallback() {
        if (this.mutationO) {
            this.mutationO.disconnect();
            this.mutationO = undefined;
        }
    }
    /**
     * Local methods
     */
    toggleClass(elem, className, force) {
        if (force) {
            elem.classList.add(className);
        }
        else {
            elem.classList.remove(className);
        }
    }
    async updateListItems() {
        const items = Array.from(this.element.querySelectorAll("duet-list-item"));
        items.forEach(item => {
            item.responsive = this.responsive;
            item.breakpoint = this.responsive ? this.breakpoint || "small" : undefined;
            // Use classes to apply styles for SSR compatibility
            item.classList.add(`duet-list-width-${this.labelWidth}`);
            item.classList.add(`duet-list-variation-${this.variation}`);
            // If padding is set to 0
            this.toggleClass(item, "duet-p-0", this.padding === "none");
            // If text is centered for mobile
            this.toggleClass(item, "duet-list-mobile-center", this.mobile === "center");
            // Create zebra striping if striped variation is used
            this.toggleClass(item, "duet-list-striped", this.variation === "striped");
            // Create borders if bordered variation is used
            this.toggleClass(item, "duet-list-bordered", this.variation === "bordered");
            // Create inner borders if inner-bordered variation is used
            this.toggleClass(item, "duet-list-inner-bordered", this.variation === "inner-bordered");
            // Finally apply turva theme if necessary
            this.toggleClass(item, "duet-theme-turva", this.theme === "turva");
        });
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync("dl", { class: { "duet-list-component": true, "duet-m-0": this.margin === "none" } }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "theme": ["updateListItems"],
        "padding": ["updateListItems"],
        "mobile": ["updateListItems"],
        "responsive": ["updateListItems"],
        "breakpoint": ["updateListItems"],
        "variation": ["updateListItems"],
        "labelWidth": ["updateListItems"]
    }; }
    static get style() { return duetListCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-list",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "padding": [1],
            "mobile": [1],
            "breakpoint": [1],
            "variation": [1],
            "labelWidth": [1, "label-width"],
            "responsive": [4]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetListItemCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-list-item,*.sc-duet-list-item::after,*.sc-duet-list-item::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-list-item-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;flex-direction:column;display:flex;width:100%;overflow:visible;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-style:normal;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77)}/*!@:host dt*/.sc-duet-list-item-h dt.sc-duet-list-item{padding-bottom:4px}/*!@:host dd*/.sc-duet-list-item-h dd.sc-duet-list-item{padding-top:0}/*!@:host dt,\n:host dd*/.sc-duet-list-item-h dt.sc-duet-list-item,.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:100%}/*!@:host dt,\n:host dd*/.sc-duet-list-item-h dt.sc-duet-list-item,.sc-duet-list-item-h dd.sc-duet-list-item{width:100%;margin-inline-start:0;-webkit-hyphens:auto;hyphens:auto;text-align:left;overflow-wrap:break-word}/*!@:host dt*/.sc-duet-list-item-h dt.sc-duet-list-item{font-weight:600}/*!@.duet-theme-turva :host dt*/.duet-theme-turva .sc-duet-list-item-h dt.sc-duet-list-item{font-weight:700}/*!@:host dd*/.sc-duet-list-item-h dd.sc-duet-list-item{margin-left:auto}/*!@:host(.duet-list-striped) dt,\n:host(.duet-list-striped) dd*/.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-striped) dt*/.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item{padding-bottom:4px}/*!@:host(.duet-list-striped) dd*/.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding-top:0}/*!@:host(.duet-list-striped.duet-no-stacking) dt,\n:host(.duet-list-striped.duet-no-stacking) dd*/.duet-list-striped.duet-no-stacking.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-striped.duet-no-stacking.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(:not(.duet-list-striped)) dt,\n:host(:not(.duet-list-striped)) dd*/.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(:not(.duet-list-striped)) dt*/.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item{padding-bottom:4px}/*!@:host(:not(.duet-list-striped)) dd*/.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding-top:0}/*!@:host(:not(.duet-list-striped).duet-no-stacking) dt,\n:host(:not(.duet-list-striped).duet-no-stacking) dd*/.sc-duet-list-item-h:not(.duet-list-striped).duet-no-stacking dt.sc-duet-list-item,.sc-duet-list-item-h:not(.duet-list-striped).duet-no-stacking dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-p-0) dt,\n:host(.duet-p-0) dd*/.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-mobile-center) dt,\n:host(.duet-list-mobile-center) dd*/.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:center}/*!@:host(.duet-theme-turva)*/.duet-theme-turva.sc-duet-list-item-h{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@:host(.duet-list-striped:nth-child(odd)) dt,\n:host(.duet-list-striped:nth-child(odd)) dd*/.duet-list-striped.sc-duet-list-item-h:nth-child(odd) dt.sc-duet-list-item,.duet-list-striped.sc-duet-list-item-h:nth-child(odd) dd.sc-duet-list-item{background:rgb(245, 248, 250)}/*!@:host(.duet-list-striped.duet-theme-turva:nth-child(odd)) dt,\n:host(.duet-list-striped.duet-theme-turva:nth-child(odd)) dd*/.duet-list-striped.duet-theme-turva.sc-duet-list-item-h:nth-child(odd) dt.sc-duet-list-item,.duet-list-striped.duet-theme-turva.sc-duet-list-item-h:nth-child(odd) dd.sc-duet-list-item{background:rgb(245, 245, 247)}/*!@:host(.duet-list-bordered)*/.duet-list-bordered.sc-duet-list-item-h{border-block-start:1px solid rgb(225, 227, 230)}/*!@:host(.duet-list-bordered:last-child)*/.duet-list-bordered.sc-duet-list-item-h:last-child{border-block-end:1px solid rgb(225, 227, 230)}/*!@:host(.duet-list-bordered.duet-theme-turva)*/.duet-list-bordered.duet-theme-turva.sc-duet-list-item-h{border-block-start:1px solid rgb(228, 228, 230)}/*!@:host(.duet-list-bordered.duet-theme-turva:last-child)*/.duet-list-bordered.duet-theme-turva.sc-duet-list-item-h:last-child{border-block-end:1px solid rgb(228, 228, 230)}/*!@:host(.duet-list-inner-bordered:not(:last-child))*/.duet-list-inner-bordered.sc-duet-list-item-h:not(:last-child){border-block-end:1px solid rgb(225, 227, 230)}/*!@:host(.duet-list-inner-bordered.duet-theme-turva:not(:last-child))*/.duet-list-inner-bordered.duet-theme-turva.sc-duet-list-item-h:not(:last-child){border-block-end:1px solid rgb(228, 228, 230)}/*!@:host(.duet-no-stacking)*/.duet-no-stacking.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-mobile-center.duet-no-stacking) dt,\n:host(.duet-list-mobile-center.duet-no-stacking) dd*/.duet-list-mobile-center.duet-no-stacking.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-mobile-center.duet-no-stacking.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-no-stacking.duet-list-width-30) dt*/.duet-no-stacking.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-no-stacking.duet-list-width-30) dd*/.duet-no-stacking.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-no-stacking.duet-list-width-50) dt*/.duet-no-stacking.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-no-stacking.duet-list-width-50) dd*/.duet-no-stacking.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-no-stacking.duet-list-width-70) dt*/.duet-no-stacking.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-no-stacking.duet-list-width-70) dd*/.duet-no-stacking.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}/*!@:host(.duet-list-item-breakpoint-x-small)*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-striped) dt,\n:host(.duet-list-item-breakpoint-x-small.duet-list-striped) dd*/.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dt,\n:host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-x-small.duet-p-0) dt,\n:host(.duet-list-item-breakpoint-x-small.duet-p-0) dd*/.duet-list-item-breakpoint-x-small.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-mobile-center) dt,\n:host(.duet-list-item-breakpoint-x-small.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-x-small.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-30) dt*/.duet-list-item-breakpoint-x-small.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-30) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-50) dt*/.duet-list-item-breakpoint-x-small.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-50) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-70) dt*/.duet-list-item-breakpoint-x-small.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-70) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}@media (max-width: 22.5em){/*!@:host(.duet-list-item-breakpoint-x-small)*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h{flex-direction:column}/*!@:host(.duet-list-item-breakpoint-x-small) dt*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h dt.sc-duet-list-item{padding-bottom:4px}/*!@:host(.duet-list-item-breakpoint-x-small) dd*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h dd.sc-duet-list-item{padding-top:0}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-striped) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-list-striped) dd*/.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-striped) dt*/.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item{padding-bottom:4px}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-striped) dd*/.duet-list-item-breakpoint-x-small.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding-top:0}/*!@:host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dt,\n  :host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dt*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item{padding-bottom:4px}/*!@:host(.duet-list-item-breakpoint-x-small:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-x-small.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding-top:0}/*!@:host(.duet-list-item-breakpoint-x-small.duet-p-0) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-p-0) dd*/.duet-list-item-breakpoint-x-small.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-mobile-center) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-x-small.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:center}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-30) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-list-width-30) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:100%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-50) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-list-width-50) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:100%}/*!@:host(.duet-list-item-breakpoint-x-small.duet-list-width-70) dt,\n  :host(.duet-list-item-breakpoint-x-small.duet-list-width-70) dd*/.duet-list-item-breakpoint-x-small.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-small.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:100%}}@media (min-width: 36em){/*!@:host(.duet-list-item-breakpoint-small)*/.duet-list-item-breakpoint-small.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-item-breakpoint-small.duet-list-striped) dt,\n  :host(.duet-list-item-breakpoint-small.duet-list-striped) dd*/.duet-list-item-breakpoint-small.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-small.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-small:not(.duet-list-striped)) dt,\n  :host(.duet-list-item-breakpoint-small:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-small.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-small.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-small.duet-p-0) dt,\n  :host(.duet-list-item-breakpoint-small.duet-p-0) dd*/.duet-list-item-breakpoint-small.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-small.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-small.duet-list-mobile-center) dt,\n  :host(.duet-list-item-breakpoint-small.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-small.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-small.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-30) dt*/.duet-list-item-breakpoint-small.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-30) dd*/.duet-list-item-breakpoint-small.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-50) dt*/.duet-list-item-breakpoint-small.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-50) dd*/.duet-list-item-breakpoint-small.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-70) dt*/.duet-list-item-breakpoint-small.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-list-item-breakpoint-small.duet-list-width-70) dd*/.duet-list-item-breakpoint-small.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}}@media (min-width: 48em){/*!@:host(.duet-list-item-breakpoint-medium)*/.duet-list-item-breakpoint-medium.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-striped) dt,\n  :host(.duet-list-item-breakpoint-medium.duet-list-striped) dd*/.duet-list-item-breakpoint-medium.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-medium.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-medium:not(.duet-list-striped)) dt,\n  :host(.duet-list-item-breakpoint-medium:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-medium.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-medium.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-medium.duet-p-0) dt,\n  :host(.duet-list-item-breakpoint-medium.duet-p-0) dd*/.duet-list-item-breakpoint-medium.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-medium.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-mobile-center) dt,\n  :host(.duet-list-item-breakpoint-medium.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-medium.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-medium.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-30) dt*/.duet-list-item-breakpoint-medium.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-30) dd*/.duet-list-item-breakpoint-medium.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-50) dt*/.duet-list-item-breakpoint-medium.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-50) dd*/.duet-list-item-breakpoint-medium.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-70) dt*/.duet-list-item-breakpoint-medium.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-list-item-breakpoint-medium.duet-list-width-70) dd*/.duet-list-item-breakpoint-medium.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}}@media (min-width: 62em){/*!@:host(.duet-list-item-breakpoint-large)*/.duet-list-item-breakpoint-large.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-item-breakpoint-large.duet-list-striped) dt,\n  :host(.duet-list-item-breakpoint-large.duet-list-striped) dd*/.duet-list-item-breakpoint-large.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-large.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-large:not(.duet-list-striped)) dt,\n  :host(.duet-list-item-breakpoint-large:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-large.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-large.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-large.duet-p-0) dt,\n  :host(.duet-list-item-breakpoint-large.duet-p-0) dd*/.duet-list-item-breakpoint-large.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-large.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-large.duet-list-mobile-center) dt,\n  :host(.duet-list-item-breakpoint-large.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-large.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-large.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-30) dt*/.duet-list-item-breakpoint-large.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-30) dd*/.duet-list-item-breakpoint-large.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-50) dt*/.duet-list-item-breakpoint-large.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-50) dd*/.duet-list-item-breakpoint-large.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-70) dt*/.duet-list-item-breakpoint-large.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-list-item-breakpoint-large.duet-list-width-70) dd*/.duet-list-item-breakpoint-large.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}}@media (min-width: 64.0625em){/*!@:host(.duet-list-item-breakpoint-x-large)*/.duet-list-item-breakpoint-x-large.sc-duet-list-item-h{flex-direction:row}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-striped) dt,\n  :host(.duet-list-item-breakpoint-x-large.duet-list-striped) dd*/.duet-list-item-breakpoint-x-large.duet-list-striped.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-large.duet-list-striped.sc-duet-list-item-h dd.sc-duet-list-item{padding:16px}/*!@:host(.duet-list-item-breakpoint-x-large:not(.duet-list-striped)) dt,\n  :host(.duet-list-item-breakpoint-x-large:not(.duet-list-striped)) dd*/.duet-list-item-breakpoint-x-large.sc-duet-list-item-h:not(.duet-list-striped) dt.sc-duet-list-item,.duet-list-item-breakpoint-x-large.sc-duet-list-item-h:not(.duet-list-striped) dd.sc-duet-list-item{padding:8px;padding-inline:0}/*!@:host(.duet-list-item-breakpoint-x-large.duet-p-0) dt,\n  :host(.duet-list-item-breakpoint-x-large.duet-p-0) dd*/.duet-list-item-breakpoint-x-large.duet-p-0.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-large.duet-p-0.sc-duet-list-item-h dd.sc-duet-list-item{padding:0 !important}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-mobile-center) dt,\n  :host(.duet-list-item-breakpoint-x-large.duet-list-mobile-center) dd*/.duet-list-item-breakpoint-x-large.duet-list-mobile-center.sc-duet-list-item-h dt.sc-duet-list-item,.duet-list-item-breakpoint-x-large.duet-list-mobile-center.sc-duet-list-item-h dd.sc-duet-list-item{text-align:left}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-30) dt*/.duet-list-item-breakpoint-x-large.duet-list-width-30.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:33%}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-30) dd*/.duet-list-item-breakpoint-x-large.duet-list-width-30.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:67%}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-50) dt*/.duet-list-item-breakpoint-x-large.duet-list-width-50.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:47%}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-50) dd*/.duet-list-item-breakpoint-x-large.duet-list-width-50.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:53%}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-70) dt*/.duet-list-item-breakpoint-x-large.duet-list-width-70.sc-duet-list-item-h dt.sc-duet-list-item{flex-basis:65%}/*!@:host(.duet-list-item-breakpoint-x-large.duet-list-width-70) dd*/.duet-list-item-breakpoint-x-large.duet-list-width-70.sc-duet-list-item-h dd.sc-duet-list-item{flex-basis:35%}}";

/**
 * @slot label - The list item component’s label content. Use this to put content into description list’s dt element.
 * @slot value - The list item component’s value content. Use this to put content into description list’s dd element.
 */
class DuetListItem {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.responsive = false;
        this.breakpoint = "small";
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-no-stacking": !this.responsive,
                "duet-list-item-breakpoint-x-small": this.breakpoint === "x-small",
                "duet-list-item-breakpoint-small": this.breakpoint === "small",
                "duet-list-item-breakpoint-medium": this.breakpoint === "medium",
                "duet-list-item-breakpoint-large": this.breakpoint === "large",
                "duet-list-item-breakpoint-x-large": this.breakpoint === "x-large",
            } }, hAsync("dt", null, hAsync("slot", { name: "label" })), hAsync("dd", null, hAsync("slot", { name: "value" }))));
    }
    static get style() { return duetListItemCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-list-item",
        "$members$": {
            "responsive": [4],
            "breakpoint": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetLogoCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-logo,*.sc-duet-logo::after,*.sc-duet-logo::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-logo-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:8px !important;display:inline-block;width:auto;vertical-align:middle}/*!@:host:last-child, :host:last-of-type*/.sc-duet-logo-h:last-child,.sc-duet-logo-h:last-of-type{margin-right:0 !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-logo-h{margin:0 !important}/*!@.duet-logo*/.duet-logo.sc-duet-logo{-webkit-user-select:none;user-select:none;display:block;width:154px;height:40px;border-radius:4px}/*!@.duet-logo:focus*/.duet-logo.sc-duet-logo:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-logo:focus, .duet-logo:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-logo .duet-logo.sc-duet-logo:focus,.duet-logo.sc-duet-logo:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-logo.duet-logo-en*/.duet-logo.duet-logo-en.sc-duet-logo{width:166px}/*!@.duet-logo.duet-logo-sv*/.duet-logo.duet-logo-sv.sc-duet-logo{width:167px}/*!@.duet-logo.duet-theme-turva*/.duet-logo.duet-theme-turva.sc-duet-logo{width:110px;height:40px}/*!@.duet-logo svg*/.duet-logo.sc-duet-logo svg.sc-duet-logo{display:block;width:100%;height:auto}/*!@.duet-logo.large*/.duet-logo.large.sc-duet-logo{width:184.8px;height:48px}/*!@.duet-logo.large.duet-logo-en*/.duet-logo.large.duet-logo-en.sc-duet-logo{width:199.2px}/*!@.duet-logo.large.duet-logo-sv*/.duet-logo.large.duet-logo-sv.sc-duet-logo{width:200.4px}/*!@.duet-logo.large.duet-theme-turva*/.duet-logo.large.duet-theme-turva.sc-duet-logo{width:149.6px;height:54.4px}";

const TurvaLogo = ({ inverse, logoId }) => {
    const logoColor = inverse ? colorGrayLightest : colorBrandGrayTurva;
    const textColor = inverse ? colorGrayLightest : colorPrimaryTurva;
    return (hAsync("svg", { role: "img", xmlns: "http://www.w3.org/2000/svg", "aria-labelledby": logoId, viewBox: "0 0 305 111" }, hAsync("title", { id: logoId }, "Turva"), hAsync("path", { fill: logoColor, d: "M79 90.1A40.5 40.5 0 0 0 98.3 58H79v32.2z" }), hAsync("path", { fill: logoColor, d: "M45.1 57.9V46.4h52.3a40.5 40.5 0 1 0-30 48.5V58H45z" }), hAsync("path", { fill: textColor, d: "M278.9 80.3v-9.8l-7.4.4c-2.4.3-4.3.6-5.7 1-1.7.4-4 1.3-5 2.3-1 1-2.3 2.8-2.3 4.6 0 2 .8 3.8 2 4.8s3.3 2 5.7 2a22 22 0 0 0 12.7-5.3zm4.2 8H279v-4.1l-3 1.9-2.8 1.5a17.4 17.4 0 0 1-7.4 1.6c-3 0-6.3-.7-8-2.3a9.6 9.6 0 0 1-3.4-7.2 9 9 0 0 1 1.8-5.9c1.1-1.6 3.1-3.3 5.2-4.2 2.1-1 4.7-1.6 7.7-1.9 3.4-.4 6.8-.6 9.8-.7v-1.1a6 6 0 0 0-.7-3.3 8 8 0 0 0-2.6-2.5c-.8-.5-2.2-1-3.4-1.1a25.7 25.7 0 0 0-8.8.4c-1.9.4-3.3 1-5.4 1.7h-.3v-4.3c1.2-.3 2.3-.7 4.5-1a37.7 37.7 0 0 1 12.8 0c1.8.4 2.9 1 4.2 2 1.3 1 2.3 2.3 3 3.8.7 1.5 1 3.2 1 4.7v22zM250.1 56l-14 32.4h-4.8L217.4 56h4.5l12 27.7L245.6 56zM137.7 88.2l-2.7.7c-.9.2-2 .4-4.2.4a9 9 0 0 1-7.2-3c-1.9-1.8-2.6-5-2.6-9.3V60.2h-5.2V56h5.2V47h4.2v9h12.6v4.2h-12.6v14.2c0 1.8 0 4.3.2 5.4 0 1 .3 2.5.8 3.4.5.8 1.4 1.4 2.2 1.8.8.4 2.7.5 4.1.5 1-.1 1.7-.2 2.7-.5l2.2-.6h.3v3.8zM176.4 88.4h-4.2v-3.9c-2 1.6-4.5 2.8-6.3 3.6-1.8.8-3.8 1.3-6 1.3-3.6 0-6-1.2-8-3.4s-2.5-5.5-2.5-9.9v-20h4.2V74c0 1.8.1 3.8.3 5 .2 1.3.5 3 1 3.8a5 5 0 0 0 2.2 2c1 .5 2.2.7 4 .7 1.5 0 3.1-.4 5-1.2 1.7-.8 4.5-2.4 6-3.6V56.1h4.3v32.3zM210.4 61h-.3a21.6 21.6 0 0 0-5.4-.7c-1.9 0-3.6.4-5.3 1.2a31 31 0 0 0-5.4 3.7v23.2h-4.3V56h4.3v5.2c2.3-1.9 5-3.2 6.7-4 1.8-.8 3.6-1.2 5.5-1.2a22.3 22.3 0 0 1 4.2.4v4.4z" })));
};
const i18n = {
    fi: {
        viewBox: "0 0 427 111",
        title: "LähiTapiola",
        path: "M131.6 69.6v1.3l-.3 1c0 .2-.2.4-.3.5l-.5.1h-16c-.5 0-1-.1-1.4-.5-.5-.3-.7-.9-.7-1.7V38.7l.2-.5c.1-.2.3-.3.6-.4l1-.2a15.7 15.7 0 0 1 4.6.2c.3.1.5.2.6.4l.2.5v28h11l.4.1.3.5.2 1 .1 1.3M164.3 70c.2.5.4 1 .4 1.4 0 .4 0 .7-.2.9-.2.2-.5.3-1 .3a25.2 25.2 0 0 1-5.4 0l-.6-.4-.3-.6-2.3-7h-13l-2.3 6.8c0 .3-.2.5-.3.6-.1.2-.3.4-.6.4l-1 .3a25.9 25.9 0 0 1-3.9 0l-1-.5c-.1-.2-.2-.5-.1-.8 0-.4.2-1 .4-1.5l10.7-31 .4-.7c.1-.2.4-.3.7-.4l1.3-.2a47.7 47.7 0 0 1 6.2.2c.4 0 .6.2.8.4l.4.8 10.7 31zm-17.9-38.8c0 1.3-.2 2.2-.7 2.7-.5.5-1.4.7-2.8.7s-2.3-.2-2.8-.7c-.5-.5-.7-1.4-.7-2.6 0-1.2.2-2.1.7-2.6.5-.5 1.4-.8 2.8-.8s2.4.3 2.8.7c.5.5.7 1.4.7 2.6zm2 13.1h-.1l-5 14.9h10l-5-14.9zm9.8-13c0 1.2-.2 2-.7 2.6-.5.5-1.5.7-2.9.7s-2.3-.2-2.8-.7c-.4-.5-.7-1.4-.7-2.6 0-1.2.3-2.1.8-2.6s1.4-.8 2.8-.8 2.3.3 2.8.7c.5.5.7 1.4.7 2.6zM196.4 71.6c0 .2 0 .3-.2.5l-.5.3-1.1.2a14 14 0 0 1-4.5-.2c-.3 0-.5-.2-.6-.3a.7.7 0 0 1-.2-.5V57.5h-13v14c0 .3 0 .4-.2.6l-.5.3-1.1.2a14.3 14.3 0 0 1-4.5-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.5v-33c0-.1 0-.3.2-.4.1-.2.3-.3.6-.4l1-.2a15.6 15.6 0 0 1 4.6.2l.5.4.2.5v12.8h13V38.7c0-.2 0-.4.2-.5.1-.2.3-.3.6-.4l1-.2a15.9 15.9 0 0 1 4.6.2l.5.4c.2.1.2.3.2.5v32.9zM211.1 71.6c0 .2 0 .3-.2.5l-.5.3-1.1.2a14.3 14.3 0 0 1-4.5-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.5v-33c0-.1 0-.3.2-.4.1-.2.3-.3.6-.4l1-.2a15.3 15.3 0 0 1 4.6.2l.5.4c.2.1.2.3.2.5v32.9zM242 40.6l-.1 1.3-.2 1-.4.4-.4.2h-8.7v28c0 .3 0 .4-.2.6l-.6.3a14 14 0 0 1-5.6 0c-.3 0-.4-.2-.6-.3a.8.8 0 0 1-.1-.5V43.5h-8.8c-.1 0-.3 0-.4-.2-.1 0-.3-.3-.3-.5l-.2-.9a10.9 10.9 0 0 1 .2-3.6c0-.2.2-.4.3-.5l.4-.1H241l.4.1.4.5.2 1v1.3M270.3 70l.4 1.4c0 .4 0 .7-.2.9-.2.2-.6.3-1 .3a24.3 24.3 0 0 1-5.5 0l-.5-.4-.3-.6-2.4-7h-13l-2.3 6.8-.2.6c-.2.2-.3.4-.6.4a25.9 25.9 0 0 1-5 .2c-.4 0-.7-.2-.9-.4-.2-.2-.2-.5-.2-.8 0-.4.2-1 .4-1.5l10.8-31c0-.3.2-.5.3-.7l.7-.4 1.3-.2a47.8 47.8 0 0 1 6.2.2c.4 0 .7.2.8.4l.4.8 10.8 31zm-16-25.7l-5 14.9h9.9l-5-14.9zM299 48.3c0 2-.3 3.7-.9 5.2a10 10 0 0 1-2.7 3.8c-1.1 1-2.6 1.8-4.3 2.3a20 20 0 0 1-6 .8h-2.9v11.2l-.1.5-.6.3-1.1.2a14 14 0 0 1-4.5-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.5V40.2c0-.8.3-1.5.7-1.9.4-.4 1-.6 1.7-.6h8.3a28 28 0 0 1 5 .5c1 .2 2.1.6 3.2 1.1a8.8 8.8 0 0 1 4.5 5.1c.3 1.2.5 2.5.5 3.9m-7.4.5c0-1.2-.2-2.2-.6-3-.5-.8-1-1.4-1.6-1.8-.7-.4-1.3-.6-2-.7l-2.2-.1h-3V55h3.2c1.1 0 2-.2 2.9-.5a4.9 4.9 0 0 0 3-3.2c.2-.8.3-1.6.3-2.5M311.6 71.6c0 .2 0 .3-.2.5l-.5.3-1.1.2a14.2 14.2 0 0 1-4.5-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.5v-33c0-.1 0-.3.2-.4.1-.2.3-.3.6-.4l1-.2a15.2 15.2 0 0 1 4.6.2l.5.4c.2.1.2.3.2.5v32.9zM350.6 54.7c0 2.9-.4 5.5-1.1 7.8-.7 2.2-1.8 4.2-3.2 5.8a13.7 13.7 0 0 1-5.3 3.6 21.3 21.3 0 0 1-14.4.2 12.3 12.3 0 0 1-8-8.8 28 28 0 0 1 0-15.6c.8-2.2 1.8-4.2 3.3-5.7a14 14 0 0 1 5.2-3.7c2.1-.8 4.5-1.2 7.3-1.2 2.7 0 5 .3 7 1s3.7 1.8 5 3.2a14 14 0 0 1 3.1 5.6c.7 2.2 1 4.8 1 7.8m-7.4.4c0-1.8-.1-3.5-.4-5-.3-1.5-.8-2.8-1.5-3.9a7 7 0 0 0-2.7-2.4 9.4 9.4 0 0 0-4.3-1c-1.8 0-3.2.4-4.4 1a8 8 0 0 0-2.8 2.7 11 11 0 0 0-1.5 3.8 27.8 27.8 0 0 0 0 9.8 11 11 0 0 0 1.4 3.9c.7 1 1.6 1.9 2.7 2.5 1.2.5 2.6.8 4.4.8 1.7 0 3.2-.3 4.3-1a7.8 7.8 0 0 0 2.9-2.6c.7-1.1 1.2-2.4 1.5-3.9.3-1.5.4-3 .4-4.7M375.7 69.6a10.5 10.5 0 0 1-.3 2.3c0 .2-.2.4-.3.5l-.5.1h-16c-.6 0-1-.1-1.5-.5-.4-.3-.6-.9-.6-1.7V38.7c0-.2 0-.4.2-.5.1-.2.3-.3.6-.4l1-.2a15.7 15.7 0 0 1 4.6.2c.3.1.5.2.6.4l.1.5v28h11l.5.1.3.5.2 1v1.3M408.4 70c.2.6.4 1 .4 1.4 0 .4 0 .7-.2.9-.2.2-.5.3-1 .3a24.3 24.3 0 0 1-5.4 0 1 1 0 0 1-.6-.4 2 2 0 0 1-.3-.6l-2.3-7h-13.1l-2.2 6.8c0 .3-.2.5-.3.6-.1.2-.3.4-.6.4a26 26 0 0 1-5 .2c-.3 0-.7-.2-.8-.4-.2-.2-.3-.5-.2-.8 0-.4.2-1 .4-1.5l10.7-31 .4-.7c.1-.2.4-.3.7-.4l1.3-.2a47.7 47.7 0 0 1 6.2.2c.3 0 .6.2.7.4l.4.8 10.8 31zm-16-25.7l-5 14.9h10l-5-14.9zM22.5 68.5c-6.9-6.9-6.9-18 0-24.9l23.8-23.8a17.6 17.6 0 0 1 20-3.4v.1L42.9 39.9a5.9 5.9 0 0 0 8.2 8.3l4.2-4.1c2.3-2.4 4.7-2.4 6.7-.4l9 8.9c2.3 2.4 2.6 4.4 0 7.1l-8.5 8.5c-2.4 2.3-4.6 2.5-7.1 0L39 51.9a5.9 5.9 0 0 0-8.3 8.3L51.5 81c4 4 10.6 4 14.7 0l17.4-17.5c4-4 4-10.6 0-14.7L70.3 35.4c-2.1-2-2-4.4.2-6.6l4.3-4.2.5-.7L92 40.6a21.8 21.8 0 0 1 0 31L74.2 89.2a21.9 21.9 0 0 1-30.9 0L22.5 68.5z",
    },
    sv: {
        viewBox: "0 0 463 111",
        title: "LokalTapiola",
        path: "M131 69.6l-.1 1.4-.2.9-.4.5-.4.2h-16c-.6 0-1.1-.2-1.5-.6-.4-.3-.6-.9-.6-1.7V38.7l.1-.5.6-.4 1.1-.2a15 15 0 0 1 4.5.2c.3.1.5.2.6.4l.2.5v28h11c.1 0 .3 0 .4.2.2 0 .3.2.4.4l.2 1v1.3M157.4 55c0-1.7-.1-3.4-.4-4.9-.3-1.5-.8-2.8-1.5-3.9a7 7 0 0 0-2.7-2.4 9.5 9.5 0 0 0-4.3-1c-1.8 0-3.2.4-4.4 1a8 8 0 0 0-2.8 2.7c-.8 1-1.3 2.4-1.6 3.8a27.6 27.6 0 0 0 0 9.8 11 11 0 0 0 1.5 4c.7 1 1.6 1.8 2.7 2.4 1.2.6 2.6.8 4.4.8a7.9 7.9 0 0 0 7.2-3.6c.7-1 1.2-2.4 1.5-3.9.3-1.5.4-3 .4-4.7m7.5-.4c0 3-.4 5.5-1.1 7.8-.7 2.3-1.8 4.2-3.2 5.8a13.7 13.7 0 0 1-5.3 3.6c-2 .9-4.5 1.3-7.3 1.3-2.7 0-5-.4-7-1a12.4 12.4 0 0 1-8.1-8.9 28 28 0 0 1 0-15.6 14 14 0 0 1 8.5-9.4c2.1-.8 4.5-1.2 7.3-1.2 2.6 0 5 .3 7 1a12.4 12.4 0 0 1 8.1 8.8c.7 2.2 1 4.8 1 7.8M196.3 71.5l-.1.5a1 1 0 0 1-.6.4l-1.2.2a17 17 0 0 1-4.3 0c-.5-.1-.9-.2-1.1-.4l-.5-.7L177.9 55v16.5l-.1.6-.6.3-1 .2a15 15 0 0 1-4.6-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.6V38.7c0-.2 0-.4.2-.5.1-.2.3-.3.6-.4l1-.2a14.8 14.8 0 0 1 4.6.2c.3.1.5.2.6.4l.1.5v14.8l10.2-14.8.5-.6.7-.3a20.7 20.7 0 0 1 5.7 0l.6.4.2.5-.3 1-.9 1.5-9.6 12.5 10.5 15.8.7 1.4.1.6M213.6 44.3l-5 14.9h10l-5-14.9zm16 25.6l.4 1.6c0 .3 0 .6-.2.8-.2.2-.6.3-1 .4a26.7 26.7 0 0 1-5.5-.2 1 1 0 0 1-.5-.3l-.3-.6-2.3-7H207l-2.2 6.8-.3.7-.6.4-1.1.2a27.7 27.7 0 0 1-3.8 0c-.5-.1-.8-.2-1-.4-.2-.2-.2-.5-.2-1l.4-1.4 10.8-31c0-.3.2-.5.4-.7.1-.2.3-.4.6-.4l1.4-.2a44.9 44.9 0 0 1 6.2.2c.3 0 .6.2.7.4l.4.8 10.8 31zM253.6 69.6V71l-.2.9-.4.5-.4.2h-16c-.6 0-1.1-.2-1.5-.6-.4-.3-.6-.9-.6-1.7V38.7c0-.2 0-.4.2-.5 0-.2.3-.3.5-.4l1.1-.2a15 15 0 0 1 4.5.2c.3.1.5.2.6.4l.2.5v28h11c.1 0 .3 0 .4.2.2 0 .3.2.4.4l.2 1v1.3M276.3 40.6v1.3l-.3 1-.3.4-.5.2h-8.7v28.1c0 .2 0 .3-.2.5l-.6.3-1 .2a15.2 15.2 0 0 1-4.6-.2l-.6-.3a.7.7 0 0 1-.1-.5V43.5h-8.8c-.1 0-.3 0-.4-.2-.2 0-.3-.3-.3-.5l-.2-.9a10.7 10.7 0 0 1 .2-3.6c0-.2.1-.4.3-.5l.4-.1h24.6l.5.1.3.5.2 1v1.3M288.6 44.3l-5 14.9h10l-5-14.9zm16 25.6l.4 1.6c0 .3 0 .6-.2.8-.2.2-.5.3-1 .4a26.8 26.8 0 0 1-5.4-.2 1 1 0 0 1-.6-.3l-.3-.6-2.3-7H282l-2.2 6.8-.3.7-.6.4-1 .2a27.9 27.9 0 0 1-3.9 0c-.5-.1-.8-.2-1-.4-.2-.2-.2-.5-.2-1l.4-1.4 10.8-31 .4-.7c.1-.2.3-.4.7-.4l1.3-.2a45 45 0 0 1 6.2.2c.3 0 .6.2.7.4l.4.8 10.8 31zM326 48.8c0-1.2-.3-2.2-.7-3-.4-.8-1-1.4-1.6-1.8-.6-.4-1.3-.6-2-.7l-2.1-.1h-3V55h3.2c1.1 0 2-.2 2.8-.5.8-.3 1.4-.7 1.9-1.2a8 8 0 0 0 1.5-4.5m7.4-.5c0 2-.3 3.7-1 5.2a10 10 0 0 1-2.6 3.8c-1.2 1-2.6 1.8-4.3 2.4a20 20 0 0 1-6 .8h-3V72l-.7.3-1 .2a14.8 14.8 0 0 1-4.6-.2c-.2 0-.4-.2-.5-.3a.8.8 0 0 1-.2-.5V40.2c0-.8.2-1.5.7-1.9.4-.4 1-.6 1.7-.6h8.2a27.3 27.3 0 0 1 5 .5c1.1.2 2.2.6 3.2 1.1 1 .6 2 1.3 2.8 2.1.7.9 1.3 1.9 1.7 3 .4 1.2.6 2.5.6 3.9M346 71.6c0 .2 0 .3-.2.5l-.6.3-1 .2a15.1 15.1 0 0 1-4.6-.2c-.2 0-.4-.2-.5-.3a.8.8 0 0 1-.2-.5v-33c0-.1 0-.3.2-.4 0-.2.3-.3.5-.4l1.1-.2a14.5 14.5 0 0 1 4.5.2c.3.1.5.2.6.4l.2.5v32.9zM377.5 55c0-1.7-.1-3.4-.4-4.9-.3-1.5-.8-2.8-1.5-3.9a7 7 0 0 0-2.7-2.4 9.5 9.5 0 0 0-4.3-1c-1.8 0-3.2.4-4.4 1a8 8 0 0 0-2.8 2.7c-.8 1-1.3 2.4-1.6 3.8a27.8 27.8 0 0 0 0 9.8 11 11 0 0 0 1.5 4c.7 1 1.6 1.8 2.7 2.4 1.2.6 2.6.8 4.4.8a7.9 7.9 0 0 0 7.2-3.6c.7-1 1.2-2.4 1.5-3.9.3-1.5.4-3 .4-4.7m7.5-.4c0 3-.4 5.5-1.1 7.8-.7 2.3-1.8 4.2-3.2 5.8a13.8 13.8 0 0 1-5.3 3.6c-2 .9-4.5 1.3-7.2 1.3-2.8 0-5.1-.4-7.1-1a12.3 12.3 0 0 1-8.1-8.9 28 28 0 0 1 0-15.6 14 14 0 0 1 8.5-9.4c2.1-.8 4.5-1.2 7.3-1.2 2.6 0 5 .3 7 1a12.4 12.4 0 0 1 8.1 8.8c.7 2.2 1 4.8 1 7.8M410.1 69.6V71l-.3.9c0 .2-.2.4-.3.5l-.5.2h-16c-.6 0-1-.2-1.5-.6-.4-.3-.6-.9-.6-1.7V38.7c0-.2 0-.4.2-.5.1-.2.3-.3.6-.4l1-.2a14.9 14.9 0 0 1 4.6.2c.3.1.5.2.6.4l.2.5v28h11c.1 0 .3 0 .4.2l.3.4.2 1 .1 1.3M426.8 44.3l-5 14.9h10l-5-14.9zm16 25.6l.5 1.6c0 .3 0 .6-.3.8-.2.2-.5.3-1 .4a26.8 26.8 0 0 1-5.4-.2 1 1 0 0 1-.6-.3l-.2-.6-2.4-7h-13l-2.3 6.8c0 .3-.2.5-.3.7l-.5.4-1.1.2a27.6 27.6 0 0 1-3.9 0l-1-.4c-.1-.2-.2-.5-.1-1l.4-1.4 10.7-31 .4-.7c.2-.2.4-.4.7-.4l1.3-.2a45 45 0 0 1 6.2.2c.4 0 .6.2.8.4l.4.8 10.8 31zM21.8 68.6c-7-7-7-18.1 0-25l23.8-23.8a17.7 17.7 0 0 1 20-3.4L42.2 40a5.9 5.9 0 0 0 8.2 8.3l4.2-4.1c2.3-2.4 4.6-2.4 6.7-.4l9 9c2.3 2.3 2.6 4.4 0 7l-8.6 8.5c-2.3 2.3-4.5 2.5-7 0L38.3 51.9a5.9 5.9 0 0 0-8.3 8.3L50.8 81c4 4 10.6 4 14.6 0L83 63.4c4-4 4-10.6 0-14.7L69.6 35.4c-2.1-2-2-4.4.2-6.6l4.3-4.3.5-.6 16.7 16.7a21.9 21.9 0 0 1 0 31L73.5 89.3a21.9 21.9 0 0 1-31 0L21.9 68.6z",
    },
    en: {
        viewBox: "0 0 460 111",
        title: "LocalTapiola",
        path: "M131.6 69.7V71l-.3 1c0 .2-.2.4-.3.5l-.5.1h-16c-.5 0-1-.1-1.4-.5-.5-.3-.7-1-.7-1.7V38.7l.2-.4c.1-.2.3-.3.6-.4l1-.2a14.8 14.8 0 0 1 4.6.2c.3.1.5.2.6.4l.2.4v28h11l.4.2.3.5.2 1 .1 1.3M158 55.2c0-1.8 0-3.5-.4-5-.2-1.5-.7-2.8-1.4-3.9a7 7 0 0 0-2.8-2.4 9.4 9.4 0 0 0-4.3-1c-1.7 0-3.2.4-4.4 1a8 8 0 0 0-2.8 2.7c-.7 1-1.2 2.4-1.5 3.8a27.6 27.6 0 0 0 0 9.8 11 11 0 0 0 1.4 3.9c.7 1 1.6 1.9 2.8 2.5 1.1.5 2.6.8 4.3.8a7.9 7.9 0 0 0 7.2-3.6c.7-1.1 1.2-2.4 1.5-3.9.3-1.5.5-3 .5-4.7m7.4-.4c0 2.9-.4 5.5-1 7.8-.8 2.2-1.9 4.2-3.3 5.8A13.7 13.7 0 0 1 156 72c-2.1.8-4.6 1.3-7.3 1.3s-5-.4-7.1-1.1a12.3 12.3 0 0 1-8-8.8 28 28 0 0 1 0-15.6 14 14 0 0 1 8.5-9.4c2-.8 4.5-1.2 7.2-1.2s5 .3 7 1 3.7 1.8 5.1 3.2c1.4 1.5 2.4 3.3 3 5.6.8 2.2 1.1 4.8 1.1 7.8M213.2 44.4l-5 14.8h10l-5-14.8zm16 25.6c.3.6.4 1.2.4 1.5 0 .4 0 .7-.2.9-.2.2-.5.3-1 .3a26.6 26.6 0 0 1-5.4-.1c-.3 0-.5-.2-.6-.3l-.3-.6-2.3-7h-13l-2.3 6.8c0 .3-.2.5-.3.6l-.5.4-1.1.2a27.2 27.2 0 0 1-3.9 0c-.4 0-.8-.2-1-.4-.1-.2-.2-.5-.1-.8l.4-1.6L208.7 39l.4-.7.7-.5 1.3-.1a47 47 0 0 1 6.2.1c.4.1.6.3.8.5l.4.8L229.2 70zM253.3 69.7l-.1 1.3-.2 1-.3.5-.5.1h-16c-.6 0-1-.1-1.5-.5-.4-.3-.6-1-.6-1.7V38.7c0-.1 0-.3.2-.4.1-.2.3-.3.6-.4l1-.2a14.8 14.8 0 0 1 4.6.2l.5.4c.2.1.2.3.2.4v28h11l.5.2.3.5.2 1v1.3M275.9 40.7V42l-.3 1-.3.4-.5.2h-8.7v28c0 .2 0 .4-.2.6l-.6.3-1 .2a15.3 15.3 0 0 1-4.6-.2c-.2 0-.4-.2-.5-.3a.7.7 0 0 1-.2-.5V43.6h-8.7c-.2 0-.4 0-.5-.2l-.3-.5-.2-.9a10.9 10.9 0 0 1 .2-3.6c0-.2.2-.4.3-.5l.5-.1h24.5l.5.1.3.5.2 1v1.3M288.2 44.4l-5 14.8h10l-5-14.8zm16 25.6l.4 1.5c0 .4 0 .7-.2.9-.2.2-.6.3-1 .3a26.7 26.7 0 0 1-5.5-.1 1 1 0 0 1-.5-.3l-.3-.6-2.3-7h-13.1l-2.2 6.8-.3.6c-.1.2-.3.3-.6.4l-1 .2a27.3 27.3 0 0 1-3.9 0c-.5 0-.8-.2-1-.4-.2-.2-.2-.5-.2-.8l.4-1.6L283.7 39l.4-.7c.1-.2.3-.4.7-.5l1.3-.1a47.4 47.4 0 0 1 6.2.1c.3.1.6.3.7.5l.4.8L304.2 70zM325.5 48.9c0-1.2-.2-2.2-.6-3-.5-.8-1-1.4-1.6-1.8-.6-.4-1.3-.6-2-.7l-2.1-.2h-3v11.9h3.1c1.2 0 2.1-.2 2.9-.5.7-.3 1.4-.7 1.8-1.3.5-.5.9-1.2 1.1-2 .3-.7.4-1.5.4-2.4m7.4-.5c0 2-.3 3.7-.9 5.2a10 10 0 0 1-2.6 3.8c-1.2 1-2.6 1.8-4.3 2.3-1.7.6-3.7.8-6 .8h-3v11.2l-.1.5-.6.3-1 .2a14.9 14.9 0 0 1-4.6-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.1-.5V40.3c0-.8.2-1.5.6-1.9.5-.4 1-.6 1.8-.6h8.2a27.6 27.6 0 0 1 5 .5c1 .2 2.1.6 3.2 1.1a8.9 8.9 0 0 1 4.5 5.1c.3 1.2.5 2.4.5 3.9M345.5 71.7l-.1.5-.6.3-1 .2a15 15 0 0 1-4.6-.2c-.3 0-.5-.2-.6-.3a.8.8 0 0 1-.2-.5v-33c0-.1 0-.3.2-.4.1-.2.3-.3.6-.4l1-.2a14.5 14.5 0 0 1 4.6.2c.3.1.5.2.6.4l.1.4v33zM377 55.2c0-1.8 0-3.5-.4-5-.3-1.5-.7-2.8-1.4-3.9a7 7 0 0 0-2.8-2.4 9.4 9.4 0 0 0-4.3-1c-1.8 0-3.2.4-4.4 1a8 8 0 0 0-2.8 2.7c-.7 1-1.2 2.4-1.5 3.8a27.8 27.8 0 0 0 0 9.8 11 11 0 0 0 1.4 3.9c.7 1 1.6 1.9 2.8 2.5 1.1.5 2.6.8 4.3.8a7.9 7.9 0 0 0 7.2-3.6c.7-1.1 1.2-2.4 1.5-3.9.3-1.5.5-3 .5-4.7m7.4-.4c0 2.9-.4 5.5-1 7.8-.8 2.2-1.9 4.2-3.3 5.8A13.8 13.8 0 0 1 375 72a21.6 21.6 0 0 1-14.4.2 12.3 12.3 0 0 1-8-8.8 28 28 0 0 1 0-15.6c.8-2.2 1.9-4.2 3.3-5.7a14 14 0 0 1 5.2-3.7c2.1-.8 4.6-1.2 7.3-1.2s5 .3 7 1 3.7 1.8 5 3.2c1.4 1.5 2.5 3.3 3.2 5.6.7 2.2 1 4.8 1 7.8M409.6 69.7a11.5 11.5 0 0 1-.3 2.3c0 .2-.2.4-.3.5l-.5.1h-16c-.5 0-1-.1-1.4-.5-.4-.3-.7-1-.7-1.7V38.7l.2-.4c.1-.2.3-.3.6-.4l1.1-.2a14.7 14.7 0 0 1 4.5.2c.3.1.5.2.6.4l.2.4v28h11l.4.2.3.5.2 1 .1 1.3M426.3 44.4l-5 14.8h10l-5-14.8zm16 25.6c.3.6.4 1.2.4 1.5.1.4 0 .7-.2.9-.2.2-.5.3-1 .3a26.7 26.7 0 0 1-5.4-.1c-.3 0-.5-.2-.6-.3l-.3-.6-2.3-7h-13l-2.3 6.8c0 .3-.2.5-.3.6 0 .2-.3.3-.5.4l-1.1.2a27.1 27.1 0 0 1-3.9 0c-.4 0-.7-.2-1-.4-.1-.2-.2-.5-.1-.8l.4-1.6L421.8 39l.4-.7.7-.5 1.3-.1a47.3 47.3 0 0 1 6.2.1c.4.1.6.3.8.5l.4.8L442.3 70zM22.5 68.6c-6.9-6.9-6.9-18 0-25L46.3 20a17.6 17.6 0 0 1 20-3.4v.1L42.9 40a5.9 5.9 0 0 0 8.2 8.3l4.2-4.1c2.3-2.4 4.7-2.4 6.7-.4l9 8.9c2.3 2.4 2.6 4.4 0 7.1l-8.5 8.5c-2.4 2.3-4.6 2.5-7.1 0L39 52a5.9 5.9 0 0 0-8.3 8.3L51.5 81c4 4 10.6 4 14.7 0l17.4-17.5c4-4 4-10.6 0-14.7L70.3 35.5c-2.1-2-2-4.4.2-6.6l4.3-4.3.5-.6L92 40.7a21.8 21.8 0 0 1 0 31L74.2 89.3a21.8 21.8 0 0 1-30.9 0L22.5 68.6zM195.7 67.4a13.7 13.7 0 0 1-.2 2l-.2.5-.5.6c-.2.2-.5.5-1.1.8l-2 1a18.2 18.2 0 0 1-6.3 1A18 18 0 0 1 179 72c-2-.7-3.6-1.8-5-3.3a14.7 14.7 0 0 1-3-5.4c-.7-2.2-1.1-4.8-1.1-7.7 0-3 .4-5.6 1.2-7.9.8-2.3 1.9-4.2 3.3-5.7 1.4-1.6 3.1-2.8 5-3.6a17.2 17.2 0 0 1 14 .6l1.3.8.5.6.2.7.1.9a16.4 16.4 0 0 1-.2 3.5c0 .2-.2.4-.3.5l-.5.2-1-.5a16.8 16.8 0 0 0-4-2 10 10 0 0 0-6.9.3 8 8 0 0 0-2.7 2.4c-.8 1-1.4 2.3-1.8 3.8-.4 1.5-.6 3.2-.6 5 0 2 .3 3.9.7 5.4.4 1.5 1 2.7 1.8 3.7s1.7 1.7 2.8 2.1c1.1.5 2.3.7 3.7.7a10.6 10.6 0 0 0 5.6-1.4l1.7-1c.4-.2.7-.4 1-.4l.4.1c0 .1.2.2.2.5l.2.9v1.5",
    },
};
const DefaultLogo = ({ inverse, logoId, language }) => {
    const logoColor = inverse ? colorGrayLightest : colorPrimary;
    const { title, path, viewBox } = i18n[language];
    return (hAsync("svg", { role: "img", xmlns: "http://www.w3.org/2000/svg", fill: logoColor, "aria-labelledby": logoId, viewBox: viewBox }, hAsync("title", { id: logoId }, title), hAsync("path", { d: path })));
};
class DuetLogo {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.logoId = createID("DuetLogo");
        this.theme = "";
        this.margin = "auto";
        this.inverse = false;
        this.size = "medium";
        this.href = "/";
        this.accessibleLabelDefaults = {
            fi: "Siirry etusivulle.",
            sv: "Gå till förstasidan.",
            en: "Go to front page.",
        };
        this.accessibleLabel = getLocaleString(this.accessibleLabelDefaults);
        this.language = getLanguage();
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleLabel", defaults: "accessibleLabelDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus on the specified `duet-logo`. Use this method instead of the global
     * `logo.focus()`.
     */
    async setFocus(options) {
        if (this.nativeLink) {
            this.nativeLink.focus(options);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const TagName = this.href ? "a" : "div";
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync(TagName, { href: this.href, ref: link => (this.nativeLink = link), "aria-label": this.accessibleLabel, class: {
                "duet-logo": true,
                [this.size]: true,
                "duet-theme-turva": this.theme === "turva",
                "duet-logo-en": this.language === "en",
                "duet-logo-sv": this.language === "sv",
            } }, this.theme === "turva" ? (hAsync(TurvaLogo, { logoId: this.logoId, inverse: this.inverse })) : (hAsync(DefaultLogo, { logoId: this.logoId, inverse: this.inverse, language: this.language })))));
    }
    get element() { return getElement(this); }
    static get style() { return duetLogoCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-logo",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "inverse": [4],
            "size": [1],
            "href": [1537],
            "accessibleLabelDefaults": [1040],
            "accessibleLabel": [1537, "accessible-label"],
            "language": [1537],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["href", "href"], ["accessibleLabel", "accessible-label"], ["language", "language"]]
    }; }
}

const duetMenuBarCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-menu-bar,*.sc-duet-menu-bar::after,*.sc-duet-menu-bar::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-menu-bar-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%}/*!@.duet-menu-bar*/.duet-menu-bar.sc-duet-menu-bar{position:relative;z-index:1;display:flex;align-items:center;justify-content:center;background:rgb(255, 255, 255);box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07)}@media (min-width: 62em){/*!@.duet-menu-bar*/.duet-menu-bar.sc-duet-menu-bar{box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1)}}/*!@.duet-menu-bar .top*/.duet-menu-bar.sc-duet-menu-bar .top.sc-duet-menu-bar{display:none}/*!@.duet-menu-bar .bottom*/.duet-menu-bar.sc-duet-menu-bar .bottom.sc-duet-menu-bar{display:none}/*!@.duet-menu-bar.horizontal-nav*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar{position:relative}/*!@.duet-menu-bar.horizontal-nav .top*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .top.sc-duet-menu-bar{position:absolute;top:0;left:3.5%;display:block;width:93%;height:1px;background:rgb(245, 248, 250)}/*!@.duet-menu-bar.horizontal-nav .bottom*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .bottom.sc-duet-menu-bar{position:absolute;bottom:0;left:0;display:block;width:100%;height:1px;background:rgb(225, 227, 230)}/*!@.duet-menu-bar.horizontal-nav .more-left*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .more-left.sc-duet-menu-bar{position:absolute;top:0;left:-1px;z-index:1;width:56px;height:49px;background:linear-gradient(90deg, #fff 0%, rgba(255, 255, 255, 0) 100%)}@media (min-width: 62em){/*!@.duet-menu-bar.horizontal-nav .more-left*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .more-left.sc-duet-menu-bar{display:none}}/*!@.duet-menu-bar.horizontal-nav .more-right*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .more-right.sc-duet-menu-bar{position:absolute;top:0;right:-1px;z-index:1;width:56px;height:49px;background:linear-gradient(270deg, #fff 0%, rgba(255, 255, 255, 0) 100%)}@media (min-width: 62em){/*!@.duet-menu-bar.horizontal-nav .more-right*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar .more-right.sc-duet-menu-bar{display:none}}@media (pointer: fine){/*!@.duet-menu-bar.horizontal-nav*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar{display:none}}@media (pointer: fine) and ((min-width: 62em)){/*!@.duet-menu-bar.horizontal-nav*/.duet-menu-bar.horizontal-nav.sc-duet-menu-bar{display:flex}}/*!@.duet-menu-bar .container*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1440px;height:100%;height:3.25rem;padding:0 8px 0 20px;overflow-x:auto;scrollbar-width:none}/*!@.duet-menu-bar .container::-webkit-scrollbar*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar::-webkit-scrollbar{width:0;height:0}@media (min-width: 62em){/*!@.duet-menu-bar .container*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar{height:5rem;padding:0 28px;overflow-x:visible}}/*!@.duet-menu-bar .container .list*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar .list.sc-duet-menu-bar{height:100%;list-style-type:none}/*!@.duet-menu-bar .container ::slotted(*)*/.duet-menu-bar .container .sc-duet-menu-bar-s>*{height:100%}/*!@.duet-menu-bar .container > **/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar>*.sc-duet-menu-bar{display:flex;align-items:center;justify-content:center;height:100%}/*!@.duet-menu-bar .container > :first-child*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar>.sc-duet-menu-bar:first-child{flex-basis:0;flex-grow:1;justify-content:flex-start}/*!@.duet-menu-bar .container > :last-child*/.duet-menu-bar.sc-duet-menu-bar .container.sc-duet-menu-bar>.sc-duet-menu-bar:last-child{flex-basis:0;flex-grow:1;justify-content:flex-end}/*!@.duet-menu-bar .container ::slotted(*)*/.duet-menu-bar .container .sc-duet-menu-bar-s>*{display:flex;align-items:center;justify-content:center;height:100%}/*!@.duet-menu-bar.duet-theme-turva*/.duet-menu-bar.duet-theme-turva.sc-duet-menu-bar{background:rgb(255, 255, 255);box-shadow:0 2px 6px 0 rgba(23, 28, 58, 0.07)}@media (min-width: 62em){/*!@.duet-menu-bar.duet-theme-turva*/.duet-menu-bar.duet-theme-turva.sc-duet-menu-bar{box-shadow:0 3px 6px 0 rgba(23, 28, 58, 0.1)}}/*!@.center*/.center.sc-duet-menu-bar{font-size:1rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77)}/*!@.duet-theme-turva .center*/.duet-theme-turva.sc-duet-menu-bar .center.sc-duet-menu-bar{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.right*/.right.sc-duet-menu-bar{font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 77, 128)}/*!@.duet-theme-turva .right*/.duet-theme-turva.sc-duet-menu-bar .right.sc-duet-menu-bar{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}";

/**
 * @slot center - Slot for content in center.
 * @slot right - Slot for content in right side.
 */
class DuetMenuBar {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetEvent = createEvent$2(this, "duetEvent", 7);
        /**
         * Own Properties.
         */
        this.mql = [
            window.matchMedia(media_query_large.replace(/'/g, "")),
            window.matchMedia(media_query_xx_large.replace(/'/g, "")),
        ];
        this.boundMqlFunctions = [];
        this.scrollbarCheck = () => {
            this.leftMoreVisible = this.container.scrollLeft > 0;
            this.rightMoreVisible = this.container.scrollLeft !== this.container.scrollWidth - this.container.clientWidth;
        };
        this.scrollToActive = () => {
            const actives = this.element.querySelectorAll("[active]");
            let active;
            actives.forEach(a => {
                if (a.active) {
                    active = a;
                }
            });
            if (active && active.offsetLeft) {
                if (active.offsetLeft > 50) {
                    this.container.scrollLeft =
                        active.offsetLeft - this.element.getBoundingClientRect().width / 2 + active.offsetWidth / 2;
                }
            }
        };
        this.changeLogoSize = () => {
            if (this.mql[1].matches) {
                this.logoSize = "large";
            }
            else {
                this.logoSize = "medium";
            }
        };
        this.handleLogoClick = (e) => {
            this.duetEvent.emit({
                name: "logoClick",
                component: "duet-menu-bar",
                data: {
                    logoHref: this.logoHref,
                },
                originalEvent: e,
            });
        };
        this.logoSize = "large";
        this.leftMoreVisible = false;
        this.rightMoreVisible = false;
        this.theme = "";
        this.logo = true;
        this.logoHref = undefined;
        this.logoLinkAccessibleLabel = undefined;
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        const children = Array.from(this.element.children);
        for (const child of children) {
            if (child.getAttribute("slot") === "center") {
                for (const slotChild of Array.from(child.children)) {
                    slotChild.setAttribute("role", "listitem");
                }
            }
            else if (child.getAttribute("slot") === "right") {
                for (const slotChild of Array.from(child.children)) {
                    slotChild.setAttribute("role", "listitem");
                }
            }
        }
    }
    connectedCallback() {
        this.changeLogoSize();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.changeLogoSize.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    componentDidLoad() {
        {
            return;
        }
    }
    onWindowResize() {
        clearTimeout(this.resizeTimer);
        this.resizeTimer = setTimeout(() => {
            this.scrollToActive();
        }, 100);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const slideoutAvailable = document.querySelectorAll("duet-slideout").length > 0;
        const isUsedAsAdditionalHorizontalNav = slideoutAvailable && !this.logo;
        return (hAsync(Host, null, hAsync("nav", { class: {
                "duet-menu-bar": true,
                "duet-theme-turva": this.theme === "turva",
                "horizontal-nav": isUsedAsAdditionalHorizontalNav,
            }, "aria-label": this.accessibleLabel }, hAsync("div", { class: "top" }), hAsync("div", { class: { container: true }, ref: el => (this.container = el), onScroll: () => this.scrollbarCheck() }, this.logo && (hAsync("div", null, hAsync("duet-logo", { size: this.logoSize, margin: "none", theme: this.theme, href: this.logoHref, accessibleLabel: this.logoLinkAccessibleLabel, onClick: this.handleLogoClick }))), hAsync("div", { class: "list center", role: "list" }, hAsync("div", { class: "more-left", hidden: !this.leftMoreVisible, role: "presentation" }), hAsync("slot", { name: "center" }), hAsync("div", { class: "more-right", hidden: !this.rightMoreVisible, role: "presentation" })), hAsync("div", { class: "list right", role: "list" }, hAsync("slot", { name: "right" }))), hAsync("div", { class: "bottom" }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetMenuBarCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-menu-bar",
        "$members$": {
            "theme": [1025],
            "logo": [1028],
            "logoHref": [1025, "logo-href"],
            "logoLinkAccessibleLabel": [1025, "logo-link-accessible-label"],
            "accessibleLabel": [1, "accessible-label"],
            "logoSize": [32],
            "leftMoreVisible": [32],
            "rightMoreVisible": [32]
        },
        "$listeners$": [[9, "resize", "onWindowResize"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetMenuBarButtonCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-menu-bar-button,*.sc-duet-menu-bar-button::after,*.sc-duet-menu-bar-button::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-menu-bar-button-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}/*!@.duet-menu-bar-button*/.duet-menu-bar-button.sc-duet-menu-bar-button{position:relative;display:flex;gap:8px;align-items:center;justify-content:center;height:100%;padding:0 12px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:inherit;color:inherit;text-align:center;text-decoration:none;cursor:pointer}/*!@.duet-menu-bar-button:focus*/.duet-menu-bar-button.sc-duet-menu-bar-button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-menu-bar-button:focus, .duet-menu-bar-button:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-menu-bar-button .duet-menu-bar-button.sc-duet-menu-bar-button:focus,.duet-menu-bar-button.sc-duet-menu-bar-button:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-menu-bar-button.duet-theme-turva*/.duet-menu-bar-button.duet-theme-turva.sc-duet-menu-bar-button{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}@media (min-width: 62em){/*!@.duet-menu-bar-button*/.duet-menu-bar-button.sc-duet-menu-bar-button{padding:0 16px}}@media (min-width: 76.25em){/*!@.duet-menu-bar-button*/.duet-menu-bar-button.sc-duet-menu-bar-button{padding:0 28px}}@media (min-width: 62em){/*!@.duet-menu-bar-button:hover*/.duet-menu-bar-button.sc-duet-menu-bar-button:hover{color:rgb(0, 119, 179)}/*!@.duet-menu-bar-button:hover.duet-theme-turva*/.duet-menu-bar-button.sc-duet-menu-bar-button:hover.duet-theme-turva{color:rgb(198, 12, 48)}}";

class DuetMenuBarButton {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.changeIconSize = () => {
            if (this.mql[0].matches) {
                this.iconSize = "x-small";
            }
            else {
                this.iconSize = "small";
            }
        };
        this.iconSize = "x-small";
        this.accessibleLabel = undefined;
        this.accessibleControls = undefined;
        this.accessiblePopup = "false";
        this.accessibleActiveDescendant = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleExpanded = undefined;
        this.accessiblePressed = undefined;
        this.theme = "";
        this.icon = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        this.changeIconSize();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.changeIconSize.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    /**
     * Sets focus on underlying button element.
     */
    async setFocus(options) {
        if (this.nativeButton) {
            this.nativeButton.focus(options);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { onfocus: () => this.setFocus() }, hAsync("button", { ref: button => (this.nativeButton = button), class: {
                "duet-menu-bar-button": true,
                "duet-theme-turva": this.theme === "turva",
            }, "aria-controls": this.accessibleControls, "aria-label": this.accessibleLabel, "aria-expanded": this.accessibleExpanded != null ? this.accessibleExpanded.toString() : undefined, "aria-activedescendant": this.accessibleActiveDescendant, "aria-owns": this.accessibleOwns, "aria-describedby": this.accessibleDescribedBy, "aria-labelledby": this.accessibleLabelledBy, "aria-details": this.accessibleDetails, "aria-description": this.accessibleDescription, "aria-pressed": this.accessiblePressed != null ? this.accessiblePressed.toString() : undefined, "aria-haspopup": this.accessiblePopup != null ? this.accessiblePopup.toString() : undefined }, this.icon && (hAsync("duet-icon", { theme: this.theme, size: this.iconSize, name: this.icon, margin: "none", color: "currentColor" })), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetMenuBarButtonCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-menu-bar-button",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "accessibleControls": [1, "accessible-controls"],
            "accessiblePopup": [1, "accessible-popup"],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleExpanded": [4, "accessible-expanded"],
            "accessiblePressed": [4, "accessible-pressed"],
            "theme": [1025],
            "icon": [1537],
            "iconSize": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetMenuBarDropdownCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-menu-bar-dropdown,*.sc-duet-menu-bar-dropdown::after,*.sc-duet-menu-bar-dropdown::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-menu-bar-dropdown-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}@media (min-width: 62em){/*!@:host(:last-child) .duet-menu-bar-dropdown button*/.sc-duet-menu-bar-dropdown-h:last-child .duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{padding:0 16px 0 16px}}@media (min-width: 76.25em){/*!@:host(:last-child) .duet-menu-bar-dropdown button*/.sc-duet-menu-bar-dropdown-h:last-child .duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{padding:0 16px 0 28px}}/*!@.duet-menu-bar-dropdown*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown{position:relative;height:100%}/*!@.duet-menu-bar-dropdown button*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{position:relative;display:flex;gap:8px;align-items:center;justify-content:center;height:100%;padding:0 12px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 77, 128);text-align:center;text-decoration:none;cursor:pointer}@media (min-width: 62em){/*!@.duet-menu-bar-dropdown button*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{padding:0 16px}}@media (min-width: 76.25em){/*!@.duet-menu-bar-dropdown button*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{padding:0 28px}}/*!@.duet-menu-bar-dropdown button:hover*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown:hover{color:rgb(0, 119, 179)}/*!@.duet-menu-bar-dropdown button:focus*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-menu-bar-dropdown button .label*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown .label.sc-duet-menu-bar-dropdown{display:flex;gap:0.5rem;align-items:center;justify-content:center}/*!@.duet-menu-bar-dropdown button.active*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown{color:rgb(0, 119, 179)}/*!@.duet-menu-bar-dropdown button.active .caret*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown .caret.sc-duet-menu-bar-dropdown{transform:rotate(180deg)}/*!@.duet-theme-turva .duet-menu-bar-dropdown button.active*/.duet-theme-turva.sc-duet-menu-bar-dropdown .duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown{color:rgb(198, 12, 48)}/*!@.duet-menu-bar-dropdown button.active::after*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown::after{position:absolute;top:auto;bottom:2px;left:0;display:block;width:100%;height:2px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(2px)}/*!@.duet-theme-turva .duet-menu-bar-dropdown button.active::after*/.duet-theme-turva.sc-duet-menu-bar-dropdown .duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown::after{background:rgb(198, 12, 48)}/*!@.duet-menu-bar-dropdown .items*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown .items.sc-duet-menu-bar-dropdown{position:absolute;top:70%;right:0%;left:auto;z-index:600;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:225px;padding:8px;color:rgb(0, 41, 77);background:rgb(255, 255, 255);border-radius:8px;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.07), 0 4px 10px 0 rgba(0, 41, 77, 0.15)}/*!@.duet-menu-bar-dropdown .items.hidden*/.duet-menu-bar-dropdown.sc-duet-menu-bar-dropdown .items.hidden.sc-duet-menu-bar-dropdown{display:none}/*!@.duet-menu-bar-dropdown.duet-theme-turva button*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-menu-bar-dropdown.duet-theme-turva button:hover*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown:hover{color:rgb(198, 12, 48)}/*!@.duet-menu-bar-dropdown.duet-theme-turva button:focus*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown button.sc-duet-menu-bar-dropdown:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-menu-bar-dropdown.duet-theme-turva button.active*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown{color:rgb(198, 12, 48)}/*!@.duet-menu-bar-dropdown.duet-theme-turva button.active::after*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown button.active.sc-duet-menu-bar-dropdown::after{background:rgb(198, 12, 48)}/*!@.duet-menu-bar-dropdown.duet-theme-turva .items*/.duet-menu-bar-dropdown.duet-theme-turva.sc-duet-menu-bar-dropdown .items.sc-duet-menu-bar-dropdown{background:rgb(245, 245, 247)}";

class DuetMenuBarDropdown {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.changeIconSize = () => {
            if (this.mql[0].matches) {
                this.iconSize = "x-small";
            }
            else {
                this.iconSize = "small";
            }
        };
        this.onClick = () => {
            this.open = !this.open;
        };
        this.getVariant = () => {
            const slot = this.element.parentElement.getAttribute("slot");
            switch (slot) {
                case "center":
                    return "right";
                case "right":
                    return "right";
                default:
                    return "right";
            }
        };
        this.iconSize = "x-small";
        this.accessibleLabel = undefined;
        this.theme = "";
        this.open = false;
        this.icon = undefined;
    }
    handleFocus(e) {
        const isClickOutside = e.composedPath().every(node => node !== this.element);
        if (isClickOutside) {
            this.open = false;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        this.changeIconSize();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.changeIconSize.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            this.open = false;
            this.setFocus();
        }
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        this.button.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-menu-bar-dropdown": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.open,
                [`duet-menu-bar-dropdown--slot-${this.getVariant()}`]: true,
            } }, hAsync("button", { ref: element => (this.button = element), "aria-label": this.accessibleLabel, "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", id: "button", type: "button", class: {
                active: this.open,
            }, onClick: this.onClick, onKeyUp: e => this.handleEscape(e) }, this.icon && (hAsync("duet-icon", { theme: this.theme, name: this.icon, size: this.iconSize, margin: "none", color: "currentColor" })), hAsync("div", { class: "label" }, hAsync("slot", { name: "label" }), hAsync("duet-icon", { class: "caret", theme: this.theme, name: "action-arrow-down-small", margin: "none", size: "xxx-small", color: "currentColor" }))), hAsync("div", { tabindex: "-1", role: "menu", id: "menu", "aria-labelledby": "button", class: {
                items: true,
                hidden: !this.open,
            } }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetMenuBarDropdownCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-menu-bar-dropdown",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "open": [1540],
            "icon": [1537],
            "iconSize": [32],
            "setFocus": [64]
        },
        "$listeners$": [[8, "click", "handleFocus"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"], ["icon", "icon"]]
    }; }
}

const duetMenuBarDropdownLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-menu-bar-dropdown-link,*.sc-duet-menu-bar-dropdown-link::after,*.sc-duet-menu-bar-dropdown-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-menu-bar-dropdown-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}/*!@.duet-menu-bar-dropdown-link*/.duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link{display:flex;flex-direction:row;gap:12px;align-items:center;justify-content:flex-start;height:100%;padding:0.5rem 8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:center;text-decoration:none}/*!@.duet-menu-bar-dropdown-link:focus*/.duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-menu-bar-dropdown-link:focus, .duet-menu-bar-dropdown-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-menu-bar-dropdown-link .duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link:focus,.duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-menu-bar-dropdown-link.duet-theme-turva*/.duet-menu-bar-dropdown-link.duet-theme-turva.sc-duet-menu-bar-dropdown-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-menu-bar-dropdown-link:hover*/.duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link:hover{background:rgb(230, 242, 248)}/*!@.duet-menu-bar-dropdown-link:hover.duet-theme-turva*/.duet-menu-bar-dropdown-link.sc-duet-menu-bar-dropdown-link:hover.duet-theme-turva{background:rgb(228, 228, 230)}";

class DuetMenuBarDropdownLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.getVariant = () => {
            const slot = this.element.parentElement.parentElement.getAttribute("slot");
            switch (slot) {
                case "center":
                    return "right";
                case "right":
                    return "right";
                default:
                    return "right";
            }
        };
        this.theme = "";
        this.href = "#";
        this.icon = undefined;
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            const dropdown = this.element.closest("duet-menu-bar-dropdown");
            dropdown.open = false;
            dropdown.setFocus();
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-menu-bar-dropdown-link": true,
                [`duet-menu-bar-dropdown-link--slot-${this.getVariant()}`]: true,
                "duet-theme-turva": this.theme === "turva",
            }, href: this.href, role: "menuitem", onKeyUp: e => this.handleEscape(e), "aria-label": this.accessibleLabel }, this.icon && (hAsync("duet-icon", { theme: this.theme, name: this.icon, size: "x-small", margin: "none", color: "currentColor" })), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetMenuBarDropdownLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-menu-bar-dropdown-link",
        "$members$": {
            "theme": [1025],
            "href": [1025],
            "icon": [1537],
            "accessibleLabel": [1, "accessible-label"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetMenuBarLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-menu-bar-link,*.sc-duet-menu-bar-link::after,*.sc-duet-menu-bar-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-menu-bar-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}/*!@.duet-menu-bar-link*/.duet-menu-bar-link.sc-duet-menu-bar-link{position:relative;display:flex;gap:8px;align-items:center;justify-content:center;height:100%;padding:0 12px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:inherit;text-align:center;text-decoration:none;white-space:nowrap}/*!@.duet-menu-bar-link:focus*/.duet-menu-bar-link.sc-duet-menu-bar-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-menu-bar-link:focus, .duet-menu-bar-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-menu-bar-link .duet-menu-bar-link.sc-duet-menu-bar-link:focus,.duet-menu-bar-link.sc-duet-menu-bar-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-menu-bar-link.duet-theme-turva*/.duet-menu-bar-link.duet-theme-turva.sc-duet-menu-bar-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}@media (min-width: 62em){/*!@.duet-menu-bar-link*/.duet-menu-bar-link.sc-duet-menu-bar-link{padding:0 16px}}@media (min-width: 76.25em){/*!@.duet-menu-bar-link*/.duet-menu-bar-link.sc-duet-menu-bar-link{padding:0 28px}}/*!@.duet-menu-bar-link.active*/.duet-menu-bar-link.active.sc-duet-menu-bar-link{color:rgb(0, 119, 179)}/*!@.duet-menu-bar-link.active::after*/.duet-menu-bar-link.active.sc-duet-menu-bar-link::after{position:absolute;top:auto;bottom:2px;left:0;z-index:1;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(2px)}@media (min-width: 62em){/*!@.duet-menu-bar-link.active::after*/.duet-menu-bar-link.active.sc-duet-menu-bar-link::after{z-index:auto;height:2px}}/*!@.duet-menu-bar-link.active.duet-theme-turva*/.duet-menu-bar-link.active.duet-theme-turva.sc-duet-menu-bar-link{color:rgb(198, 12, 48)}/*!@.duet-menu-bar-link.active.duet-theme-turva::after*/.duet-menu-bar-link.active.duet-theme-turva.sc-duet-menu-bar-link::after{background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-menu-bar-link:hover*/.duet-menu-bar-link.sc-duet-menu-bar-link:hover{color:rgb(0, 119, 179)}/*!@.duet-menu-bar-link:hover.duet-theme-turva*/.duet-menu-bar-link.sc-duet-menu-bar-link:hover.duet-theme-turva{color:rgb(198, 12, 48)}}";

class DuetMenuBarLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.changeIconSize = () => {
            if (this.mql[0].matches) {
                this.iconSize = "x-small";
            }
            else {
                this.iconSize = "small";
            }
        };
        this.iconSize = "x-small";
        this.theme = "";
        this.active = false;
        this.href = "#";
        this.icon = undefined;
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        this.changeIconSize();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.changeIconSize.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-menu-bar-link": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.active,
            }, href: this.href, "aria-current": this.active ? "true" : "false", "aria-label": this.accessibleLabel }, this.icon && (hAsync("duet-icon", { theme: this.theme, size: this.iconSize, name: this.icon, margin: "none", color: "currentColor" })), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetMenuBarLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-menu-bar-link",
        "$members$": {
            "theme": [1025],
            "active": [1028],
            "href": [1025],
            "icon": [1537],
            "accessibleLabel": [1, "accessible-label"],
            "iconSize": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

/**
 * Teleport helps resolving z-index issues of overlapping popup elements.
 * Initiate it in your component's willLoad or didLoad lifecycle hook.
 * When you open the popup, call teleport.go() and move focus to the popup.
 * When you close the popup, call teleport.resume() and move focus to the element that opened the popup.
 * If your popup has closing animation, use the timeout parameter.
 */
class Teleport {
    constructor(element, target) {
        this.isActive = false;
        this.element = element;
        this.target = target || document.body;
        this.teleportId = `${Math.random()}-${Date.now()}`.substring(2);
    }
    /**
     * @param makeSiblingsInert - make all siblings of the element inert, use only with modals
     */
    go(makeSiblingsInert = false) {
        const skipTeleport = this.element.getAttribute("skip-teleport");
        if (skipTeleport !== null && skipTeleport !== "false") {
            return;
        }
        // React handles teleporting itself with portals
        if (!this.element.dataset.reactPortal) {
            this.stub = document.createElement("template");
            this.element.insertAdjacentElement("afterend", this.stub);
            this.target.appendChild(this.element);
        }
        if (makeSiblingsInert) {
            this._makeSiblingsInert();
        }
        this.deletionObserver = new MutationObserver(this._deletionObserverCallback.bind(this));
        this.deletionObserver.observe(document.documentElement, { childList: true, subtree: true });
        this.isActive = true;
    }
    resume(delay = 0) {
        const skipTeleport = this.element.getAttribute("skip-teleport");
        if (skipTeleport !== null && skipTeleport !== "false") {
            return;
        }
        if (!this.isActive) {
            return;
        }
        this.isActive = false;
        if (delay) {
            setTimeout(this._resume.bind(this), delay);
        }
        else {
            this._resume();
        }
    }
    _resume() {
        if (!this.element.dataset.reactPortal) {
            this.stub.insertAdjacentElement("beforebegin", this.element);
            this.stub.remove();
        }
        this._removeInertFromSiblings();
        this.deletionObserver.disconnect();
    }
    _remove() {
        var _a, _b;
        (_a = this.element) === null || _a === void 0 ? void 0 : _a.remove();
        (_b = this.stub) === null || _b === void 0 ? void 0 : _b.remove();
        this._removeInertFromSiblings();
        this.deletionObserver.disconnect();
    }
    _makeSiblingsInert() {
        const siblings = Array.from(this.target.children);
        siblings.forEach(sibling => {
            if (sibling !== this.element) {
                sibling.dataset.duetTeleportId = (sibling.dataset.duetTeleportId || "") + this.teleportId;
                sibling.inert = true;
            }
        });
    }
    _removeInertFromSiblings() {
        const siblings = Array.from(this.target.children);
        siblings.forEach(sibling => {
            var _a;
            if ((_a = sibling.dataset.duetTeleportId) === null || _a === void 0 ? void 0 : _a.includes(this.teleportId)) {
                sibling.dataset.duetTeleportId = sibling.dataset.duetTeleportId.replace(this.teleportId, "");
                if (sibling.dataset.duetTeleportId === "") {
                    delete sibling.dataset.duetTeleportId;
                    sibling.inert = false;
                }
            }
        });
    }
    /**
     * If the teleported element or its component (observed via stub) is removed from DOM, clean up the teleport.
     */
    _deletionObserverCallback(mutationList) {
        mutationList.forEach(mutation => {
            if (Array.from(mutation.removedNodes).includes(this.element) ||
                Array.from(mutation.removedNodes).some(n => n.contains(this.stub))) {
                this._remove();
            }
        });
    }
}

const duetModalCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-modal,*.sc-duet-modal::after,*.sc-duet-modal::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-modal-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-modal-overlay*/.duet-modal-overlay.sc-duet-modal{position:fixed;top:0;right:0;bottom:0;left:0;z-index:900;max-height:100vh;overflow-y:auto;visibility:hidden;background:rgba(0, 41, 77, 0.85);opacity:0;transition:300ms ease;transition-delay:200ms}/*!@.duet-modal-overlay.duet-theme-turva*/.duet-modal-overlay.duet-theme-turva.sc-duet-modal{background:rgba(23, 28, 58, 0.85)}/*!@.duet-modal-overlay.duet-modal-active*/.duet-modal-overlay.duet-modal-active.sc-duet-modal{visibility:visible;opacity:1;transition:300ms ease;transition-delay:0s}/*!@.duet-modal-overlay.duet-disable-transitions*/.duet-modal-overlay.duet-disable-transitions.sc-duet-modal{transition:none}/*!@.duet-modal-overlay.duet-modal-slide-up*/.duet-modal-overlay.duet-modal-slide-up.sc-duet-modal{overflow:hidden}/*!@::slotted(img)*/.sc-duet-modal-s>img{width:100%}/*!@.duet-modal-inner*/.duet-modal-inner.sc-duet-modal{display:flex;align-items:center;width:100%;min-height:100%;padding:20px 16px}@media (min-width: 36em){/*!@.duet-modal-inner*/.duet-modal-inner.sc-duet-modal{padding:48px 16px}}/*!@.duet-modal-inner.duet-modal-slide-up*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal{align-items:stretch;justify-content:center;height:100%;padding-top:48px;padding-bottom:0;overflow:hidden}/*!@.duet-modal-inner.duet-modal-slide-up::after*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal::after{position:absolute;bottom:0;z-index:300;display:block;width:100%;max-width:686px;height:48px;margin:auto;pointer-events:none;content:\"\";background:linear-gradient(rgba(255, 255, 255, 0), rgb(255, 255, 255))}/*!@.duet-modal-inner.duet-modal-slide-up::after.small*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal::after.small{max-width:545px}/*!@.duet-modal-inner.duet-modal-slide-up::after.large*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal::after.large{max-width:100%}@media (min-width: 36em){/*!@.duet-modal-inner.duet-modal-slide-up::after.large*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal::after.large{max-width:1110px}}@media (max-width: 35.9375em){/*!@.duet-modal-inner.large*/.duet-modal-inner.large.sc-duet-modal{padding-right:0;padding-left:0}/*!@.duet-modal-inner.duet-modal-slide-up*/.duet-modal-inner.duet-modal-slide-up.sc-duet-modal{padding:0;padding-top:28px}}/*!@.duet-modal*/.duet-modal.sc-duet-modal{position:relative;width:100%;max-width:686px;margin:auto;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);background:rgb(255, 255, 255);border-radius:4px;opacity:0;transition:300ms ease;transition-delay:0ms;transform:scale(0.96)}/*!@.duet-theme-turva .duet-modal*/.duet-theme-turva.sc-duet-modal .duet-modal.sc-duet-modal{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-modal-active .duet-modal*/.duet-modal-active.sc-duet-modal .duet-modal.sc-duet-modal{opacity:1;transition:300ms ease;transition-delay:200ms;transform:none}/*!@.duet-modal-active .duet-modal.slide-up*/.duet-modal-active.sc-duet-modal .duet-modal.slide-up.sc-duet-modal{top:0;transition:top 600ms ease}/*!@.duet-disable-transitions .duet-modal*/.duet-disable-transitions.sc-duet-modal .duet-modal.sc-duet-modal{transition:none}/*!@.duet-modal.small*/.duet-modal.small.sc-duet-modal{max-width:545px}/*!@.duet-modal.large*/.duet-modal.large.sc-duet-modal{max-width:100%}@media (min-width: 36em){/*!@.duet-modal.large*/.duet-modal.large.sc-duet-modal{max-width:1110px}}/*!@.duet-modal.slide-up*/.duet-modal.slide-up.sc-duet-modal{top:100vh;margin:0;border-radius:4px 4px 0 0;opacity:1;transition:top 600ms ease}@media (max-width: 35.9375em){/*!@.duet-modal.slide-up*/.duet-modal.slide-up.sc-duet-modal{border-radius:20px 20px 0 0}}/*!@.duet-modal.duet-modal-has-sticky-header*/.duet-modal.duet-modal-has-sticky-header.sc-duet-modal{height:100%;overflow:auto}/*!@.duet-modal:focus*/.duet-modal.sc-duet-modal:focus{outline:0}/*!@.duet-modal-body,\n.duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{width:100%;padding:36px 28px}/*!@.duet-modal-body.duet-modal-gutter-none,\n.duet-modal-sticky-header.duet-modal-gutter-none*/.duet-modal-body.duet-modal-gutter-none.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-none.sc-duet-modal{padding:0 !important}/*!@.duet-modal-body.duet-modal-gutter-small,\n.duet-modal-sticky-header.duet-modal-gutter-small*/.duet-modal-body.duet-modal-gutter-small.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-small.sc-duet-modal{padding:36px 20px}/*!@.duet-modal-body.duet-modal-gutter-large,\n.duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:48px 36px}@media (max-width: 22.5em){/*!@.duet-modal-body,\n  .duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{padding:36px 20px}/*!@.duet-modal-body.duet-modal-gutter-large,\n  .duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:48px 28px}}@media (max-width: 35.9375em){/*!@.duet-modal-body,\n  .duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{padding:36px 20px}/*!@.duet-modal-body.duet-modal-gutter-large,\n  .duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:48px 36px}}@media (min-width: 36em){/*!@.duet-modal-body,\n  .duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{padding:36px}/*!@.duet-modal-body.duet-modal-gutter-large,\n  .duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:28px 72px}}@media (min-width: 48em){/*!@.duet-modal-body,\n  .duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{padding:36px 72px}/*!@.duet-modal-body.duet-modal-gutter-large,\n  .duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:36px 72px}}@media (min-width: 76.25em){/*!@.duet-modal-body,\n  .duet-modal-sticky-header*/.duet-modal-body.sc-duet-modal,.duet-modal-sticky-header.sc-duet-modal{padding:36px 48px 48px}/*!@.duet-modal-body.duet-modal-gutter-large,\n  .duet-modal-sticky-header.duet-modal-gutter-large*/.duet-modal-body.duet-modal-gutter-large.sc-duet-modal,.duet-modal-sticky-header.duet-modal-gutter-large.sc-duet-modal{padding:48px 94px}/*!@.small .duet-modal-body,\n  .small .duet-modal-sticky-header*/.small.sc-duet-modal .duet-modal-body.sc-duet-modal,.small.sc-duet-modal .duet-modal-sticky-header.sc-duet-modal{padding:36px 48px}}/*!@.duet-modal-header*/.duet-modal-header.sc-duet-modal{text-align:center}/*!@.duet-modal-sticky-header*/.duet-modal-sticky-header.sc-duet-modal{position:sticky;top:0;z-index:200;display:block;padding-bottom:12px;text-align:left;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-modal-sticky-header*/.duet-theme-turva.sc-duet-modal .duet-modal-sticky-header.sc-duet-modal{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}/*!@.duet-modal-close*/.duet-modal-close.sc-duet-modal{position:absolute;top:12px;right:12px}/*!@.duet-modal-heading*/.duet-modal-heading.sc-duet-modal{width:100%;padding-right:60px;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1.25rem;font-style:normal;font-weight:600;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);text-decoration:none;text-overflow:ellipsis;letter-spacing:-0.01rem;white-space:nowrap}/*!@.duet-modal-heading.duet-p-0*/.duet-modal-heading.duet-p-0.sc-duet-modal{padding:0 !important}/*!@.duet-modal-heading.duet-m-0*/.duet-modal-heading.duet-m-0.sc-duet-modal{margin:0 !important}";

// The transition below is slightly higher than the actual CSS transition as VoiceOver on
// iOS has otherwise problems moving the focus from modal back to the original element.
// This issue is similar to what we’ve seen in Duet Date Picker + iOS VoiceOver.
const TRANSITION_MS = 600;
/**
 * @slot sticky-header - Content will be fixed to the top of the modal when scrolling, typically used with slide-up variation for e.g. a search input
 * @slot top - This is a slot that takes any content and will be displayed as the first thing in the hero area (typically an image)
 */
class DuetModal {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetOpen = createEvent$2(this, "duetOpen", 7);
        this.duetClose = createEvent$2(this, "duetClose", 7);
        this.duetBeforeClose = createEvent$2(this, "duetBeforeClose", 7);
        var _a, _b;
        /**
         * Own Properties.
         */
        this.modalId = createID("DuetModal");
        this.slotDefaultId = createID("DuetModal-default-slot");
        this.hasStickyHeader = false;
        this.isAndroidDevice = ((_b = (_a = navigator === null || navigator === void 0 ? void 0 : navigator.userAgent) === null || _a === void 0 ? void 0 : _a.toLowerCase()) === null || _b === void 0 ? void 0 : _b.indexOf("android")) > -1 || null;
        this.isSafariBrowser = /^((?!chrome|android).)*safari/i.test(navigator === null || navigator === void 0 ? void 0 : navigator.userAgent);
        this.handleAndroidResizeEvents = () => {
            if (document.activeElement.tagName == "INPUT") {
                window.setTimeout(function () {
                    var _a;
                    try {
                        //@ts-ignore
                        (_a = document === null || document === void 0 ? void 0 : document.activeElement) === null || _a === void 0 ? void 0 : _a.scrollIntoViewIfNeeded(true);
                    }
                    catch (e) {
                        //dev-null any errors here
                    }
                }, 100);
            }
        };
        this.open = false;
        this.language = getLanguage();
        this.accessibleCloseLabelDefaults = {
            fi: "Sulje ikkuna",
            sv: "Stäng fönstret",
            en: "Close the dialog",
        };
        this.accessibleCloseLabel = getLocaleString(this.accessibleCloseLabelDefaults, this.language);
        this.size = "medium";
        this.accessibleDescribedBy = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleLabel = undefined;
        this.accessibleDetails = undefined;
        this.accessibleDescription = undefined;
        this.variation = "default";
        this.gutterSize = "medium";
        this.theme = "";
        this.heading = "";
        this.headingLevel = "h3";
        this.headingVisualLevel = undefined;
        this.icon = "";
        this.color = "";
        this.active = false;
        this.closeOnBlur = false;
    }
    openChanged() {
        if (this.open) {
            if (this.modalEl && this.modalEl.scrollTop) {
                this.modalEl.scrollTop = 0;
            }
            this.focusedElBeforeOpen = document.activeElement;
            disableBodyScroll(this.modalEl, { reserveScrollBarGap: true });
            this.teleport.go(true);
            setTimeout(() => {
                this.buttonEl.setFocus();
            }, TRANSITION_MS);
            setTimeout(() => {
                this.modalEl.classList.add("duet-disable-transitions");
            }, TRANSITION_MS + 200);
            // fix for android devices where scrolling and softKeyboards MAY be
            // acting weird when the modal contains an input field
            if (this.isAndroidDevice) {
                window.addEventListener("resize", this.handleAndroidResizeEvents);
            }
            this.duetOpen.emit();
        }
        else {
            this.modalEl.classList.remove("duet-disable-transitions");
            enableBodyScroll(this.modalEl);
            this.duetClose.emit();
            this.teleport.resume(TRANSITION_MS);
            setTimeout(() => {
                focusElement(this.focusedElBeforeOpen);
            }, TRANSITION_MS);
            if (this.isAndroidDevice) {
                window.removeEventListener("resize", this.handleAndroidResizeEvents);
            }
        }
    }
    activeChanged() {
        this.open = this.active;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        this.hasStickyHeader = hasSlot(this.element, "sticky-header");
        inheritGlobalTheme(this);
    }
    componentDidLoad() {
        this.teleport = new Teleport(this.element);
        if (this.active) {
            // This specific line below can’t be moved to componentWillLoad()
            // as it breaks body scroll enabling.
            this.open = true;
            this.modalEl.classList.add("duet-disable-transitions");
        }
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleCloseLabel", defaults: "accessibleCloseLabelDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        enableBodyScroll(this.modalEl);
    }
    /**
     * Component event handling.
     */
    handleKeyUp(ev) {
        if (this.open) {
            // When Esc is pressed the modal should be closed
            if (isEscapeKey(ev)) {
                this.closeModal(ev);
            }
        }
    }
    /**
     * Shows the modal dialog. Additionally saves the element that triggered
     * the modal so that focus can be moved back to this specific element when
     * the modal dialog is closed.
     */
    async show() {
        this.open = true;
    }
    /**
     * Hides the modal dialog and puts focus back to the original element
     * that triggered the modal (if we’re still in the same view).
     */
    async hide() {
        this.open = false;
    }
    /**
     * Local methods.
     */
    closeModal(ev) {
        this.duetBeforeClose.emit({
            originalEvent: ev,
            component: "duet-modal",
        });
        // Make sure the event wasn’t prevented previously
        if (!ev.defaultPrevented) {
            setTimeout(() => {
                this.hide();
            }, 1);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        var _a;
        let iconColor = "primary";
        let closeColor = "secondary";
        const closingButton = (hAsync("div", { class: "duet-modal-close" }, hAsync("duet-button", { ref: button => (this.buttonEl = button), variation: "plain", accessibleLabel: this.accessibleCloseLabel, color: closeColor, iconSize: "large", icon: "navigation-close", iconOnly: true, margin: "none", theme: this.theme, onClick: ev => this.closeModal(ev), fixed: true })));
        if (this.theme === "turva") {
            iconColor = "primary-turva";
            closeColor = "secondary-turva";
        }
        return (hAsync("div", { ref: modal => (this.modalEl = modal), "aria-label": this.accessibleLabel, "aria-labelledby": this.heading ? this.modalId : false, "aria-details": this.accessibleDetails, "aria-description": this.accessibleDescription, "aria-describedby": this.accessibleDescribedBy, role: "dialog", "aria-modal": this.isSafariBrowser ? false : true, tabindex: "-1", "aria-flowto": this.slotDefaultId, class: {
                "duet-modal-overlay": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-modal-active": this.open,
                "duet-modal-slide-up": this.variation === "slide-up",
                "duet-modal-has-sticky-header": this.hasStickyHeader,
            } }, hAsync(FocusGuard, { moveFocusTo: this.buttonEl }), hAsync("div", { ref: modalInner => (this.modalInnerEl = modalInner), class: {
                "duet-modal-inner": true,
                [this.size]: true,
                "duet-modal-slide-up": this.variation === "slide-up",
            }, onClick: e => {
                if (this.closeOnBlur) {
                    const source = e.target || e.srcElement;
                    if (source === this.modalInnerEl) {
                        this.closeModal(e);
                    }
                }
            } }, hAsync("div", { class: {
                "duet-modal": true,
                "duet-modal-has-sticky-header": this.hasStickyHeader,
                [this.size]: true,
                [this.variation]: true,
            } }, this.gutterSize !== "none" && !this.hasStickyHeader && hAsync("duet-spacer", null), this.hasStickyHeader ? (hAsync("div", { class: "duet-modal-sticky-header" }, closingButton, hAsync("slot", { name: "sticky-header" }))) : (closingButton), hAsync("div", { class: {
                "duet-modal-body": true,
                "duet-modal-gutter-none": this.gutterSize === "none",
                "duet-modal-gutter-small": this.gutterSize === "small",
                "duet-modal-gutter-medium": this.gutterSize === "medium",
                "duet-modal-gutter-large": this.gutterSize === "large",
            } }, hAsync("div", { class: "duet-modal-header" }, hAsync("span", { class: "duet-modal-inner-slot-top" }, hAsync("slot", { name: "top" })), this.icon && hAsync("duet-icon", { name: this.icon, size: "xx-large", color: this.color || iconColor }), this.heading && (hAsync("duet-heading", { "visual-level": (_a = this.headingVisualLevel) !== null && _a !== void 0 ? _a : this.headingLevel, level: this.headingLevel, theme: this.theme, id: this.modalId }, this.heading))), hAsync("span", { class: "duet-modal-inner-slot-default", id: this.slotDefaultId }, hAsync("slot", null))))), hAsync(FocusGuard, { moveFocusTo: this.buttonEl })));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "open": ["openChanged"],
        "active": ["activeChanged"]
    }; }
    static get style() { return duetModalCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-modal",
        "$members$": {
            "language": [1537],
            "accessibleCloseLabelDefaults": [1, "accessible-close-label-default"],
            "accessibleCloseLabel": [1025, "accessible-close-label"],
            "size": [1],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleLabel": [1, "accessible-label"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleDescription": [1, "accessible-description"],
            "variation": [1],
            "gutterSize": [1, "gutter-size"],
            "theme": [1025],
            "heading": [1],
            "headingLevel": [1, "heading-level"],
            "headingVisualLevel": [1, "heading-visual-level"],
            "icon": [1],
            "color": [1],
            "active": [1540],
            "closeOnBlur": [1028, "close-on-blur"],
            "open": [32],
            "show": [64],
            "hide": [64]
        },
        "$listeners$": [[8, "keyup", "handleKeyUp"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"], ["active", "active"]]
    }; }
}

const duetMultiselectCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-multiselect,*.sc-duet-multiselect::after,*.sc-duet-multiselect::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-multiselect-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;max-width:100%;vertical-align:bottom}/*!@:host:last-child, :host:last-of-type*/.sc-duet-multiselect-h:last-child,.sc-duet-multiselect-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){/*!@:host*/.sc-duet-multiselect-h{width:calc(50% - 16px - 3px)}/*!@:host.duet-expand*/.duet-expand.sc-duet-multiselect-h{width:100% !important}}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-multiselect-h{margin:0 !important}/*!@.duet-multiselect-tooltip*/.duet-multiselect-tooltip.sc-duet-multiselect{position:absolute;top:12px;right:0}@media (min-width: 48em){/*!@.duet-multiselect-tooltip*/.duet-multiselect-tooltip.sc-duet-multiselect{position:relative;top:4px;right:auto}}/*!@.duet-multiselect-placeholder*/.duet-multiselect-placeholder.sc-duet-multiselect{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}/*!@.duet-multiselect-container*/.duet-multiselect-container.sc-duet-multiselect{position:relative;width:100%}/*!@.duet-multiselect-wrapper*/.duet-multiselect-wrapper.sc-duet-multiselect{position:relative;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.25}/*!@.duet-theme-turva .duet-multiselect-wrapper*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-wrapper.sc-duet-multiselect{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-multiselect*/.duet-multiselect.sc-duet-multiselect{display:flex;align-items:center;justify-content:flex-start;width:100%;min-width:8rem;padding:12px 14px !important;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:4px;transition:150ms ease}/*!@.duet-multiselect .duet-multiselect-label*/.duet-multiselect.sc-duet-multiselect .duet-multiselect-label.sc-duet-multiselect{overflow:hidden;text-overflow:ellipsis}/*!@.duet-multiselect:hover*/.duet-multiselect.sc-duet-multiselect:hover{border-color:rgb(144, 149, 153);box-shadow:0 0 0 1px #909599}/*!@.duet-theme-turva .duet-multiselect:hover*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:hover{border-color:rgb(116, 116, 117);box-shadow:0 0 0 1px #747475}/*!@.has-error .duet-multiselect:hover*/.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:hover{box-shadow:0 0 0 1px #de2362}/*!@.duet-theme-turva.has-error .duet-multiselect:hover*/.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:hover{box-shadow:0 0 0 1px #e55039}/*!@.duet-multiselect:focus, .duet-multiselect.duet-multiselect-active*/.duet-multiselect.sc-duet-multiselect:focus,.duet-multiselect.duet-multiselect-active.sc-duet-multiselect{border-color:rgb(0, 119, 179);outline:0;box-shadow:0 0 0 1px #0077b3 !important;transition:none}/*!@.duet-theme-turva .duet-multiselect:focus, .duet-theme-turva .duet-multiselect.duet-multiselect-active*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:focus,.duet-theme-turva.sc-duet-multiselect .duet-multiselect.duet-multiselect-active.sc-duet-multiselect{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px #171c3a !important}/*!@.has-error .duet-multiselect:focus, .has-error .duet-multiselect.duet-multiselect-active*/.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:focus,.has-error.sc-duet-multiselect .duet-multiselect.duet-multiselect-active.sc-duet-multiselect{box-shadow:0 0 0 1px #de2362}/*!@.duet-theme-turva.has-error .duet-multiselect:focus, .duet-theme-turva.has-error .duet-multiselect.duet-multiselect-active*/.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect:focus,.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect.duet-multiselect-active.sc-duet-multiselect{box-shadow:0 0 0 1px #e55039}/*!@.duet-multiselect[disabled]*/.duet-multiselect[disabled].sc-duet-multiselect{color:rgb(0, 41, 77) !important;cursor:default !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important;box-shadow:none !important;opacity:1 !important;-webkit-text-fill-color:rgb(0, 41, 77) !important}/*!@.duet-theme-turva .duet-multiselect[disabled]*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect[disabled].sc-duet-multiselect{color:rgb(23, 28, 58) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important;-webkit-text-fill-color:rgb(23, 28, 58) !important}/*!@.duet-multiselect > :first-child*/.duet-multiselect.sc-duet-multiselect>.sc-duet-multiselect:first-child{flex:1;min-height:24px}/*!@.duet-multiselect .duet-multiselect-badge*/.duet-multiselect.sc-duet-multiselect .duet-multiselect-badge.sc-duet-multiselect{padding:4px 8px 4px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.75rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);background:#d9ebf4;border-radius:20rem}/*!@.duet-theme-turva .duet-multiselect .duet-multiselect-badge*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect .duet-multiselect-badge.sc-duet-multiselect{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-weight:700;color:rgb(23, 28, 58);background:#e8e8eb}/*!@.duet-multiselect .duet-multiselect-icon*/.duet-multiselect.sc-duet-multiselect .duet-multiselect-icon.sc-duet-multiselect{margin-left:12px}/*!@.has-error .duet-multiselect*/.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect{border-color:rgb(222, 35, 98) !important}/*!@.has-error .duet-multiselect .duet-multiselect-icon*/.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect .duet-multiselect-icon.sc-duet-multiselect{color:rgb(222, 35, 98) !important}/*!@.duet-theme-turva.has-error .duet-multiselect*/.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect{border-color:rgb(224, 42, 13) !important}/*!@.duet-theme-turva.has-error .duet-multiselect .duet-multiselect-icon*/.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect .duet-multiselect-icon.sc-duet-multiselect{color:rgb(224, 42, 13) !important}/*!@.duet-theme-turva .duet-multiselect*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(116, 116, 117)}/*!@.duet-multiselect svg*/.duet-multiselect.sc-duet-multiselect svg.sc-duet-multiselect{width:20px;height:20px;color:rgb(0, 41, 77);pointer-events:none}/*!@.duet-theme-turva .duet-multiselect svg*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect.sc-duet-multiselect svg.sc-duet-multiselect{color:rgb(23, 28, 58)}/*!@.duet-multiselect svg.duet-multiselect-icon--rotate*/.duet-multiselect.sc-duet-multiselect svg.duet-multiselect-icon--rotate.sc-duet-multiselect{transform:rotate(180deg)}/*!@.duet-multiselect-checkboxes*/.duet-multiselect-checkboxes.sc-duet-multiselect{position:absolute;z-index:700;width:100%;padding:16px;margin:8px 0 0;visibility:hidden;background:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;box-shadow:0 4px 10px 0 rgba(0, 41, 77, 0.15);opacity:0;transition:transform 300ms ease, opacity 300ms ease, visibility 300ms ease;transform:scale(0.96) translateZ(0) translateY(-20px);transform-origin:top right}/*!@.duet-theme-turva .duet-multiselect-checkboxes*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-checkboxes.sc-duet-multiselect{background:rgb(255, 255, 255);border-color:rgb(228, 228, 230);box-shadow:0 4px 10px 0 rgba(23, 28, 58, 0.15)}/*!@.duet-multiselect-checkboxes.duet-multiselect-checkboxes-active*/.duet-multiselect-checkboxes.duet-multiselect-checkboxes-active.sc-duet-multiselect{visibility:visible;opacity:1;transition-property:transform, opacity;transform:scale(1.0001) translateZ(0) translateY(0)}/*!@.duet-multiselect-checkboxes .duet-multiselect-all-control-buttons*/.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect{padding:8px 0;margin:-16px;margin-bottom:16px;border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button*/.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect{padding:6px 16px;margin:-4px 0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:600;color:rgb(0, 119, 179);cursor:pointer;border-radius:4px}/*!@.duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:focus*/.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:focus, .duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:focus,.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:first-child*/.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:first-child{border-right:1px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(198, 12, 48)}/*!@.duet-theme-turva .duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:hover*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:hover{color:rgb(23, 28, 58)}/*!@.duet-multiselect-checkboxes .duet-multiselect-all-control-buttons button:hover*/.duet-multiselect-checkboxes.sc-duet-multiselect .duet-multiselect-all-control-buttons.sc-duet-multiselect button.sc-duet-multiselect:hover{color:rgb(0, 41, 77)}/*!@.duet-multiselect-help*/.duet-multiselect-help.sc-duet-multiselect{display:block;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(101, 119, 135);border-radius:4px}/*!@.duet-multiselect-help span*/.duet-multiselect-help.sc-duet-multiselect span.sc-duet-multiselect{display:block;margin-top:8px}/*!@.duet-theme-turva .duet-multiselect-help*/.duet-theme-turva.sc-duet-multiselect .duet-multiselect-help.sc-duet-multiselect{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(116, 116, 117)}/*!@.has-error .duet-multiselect-help*/.has-error.sc-duet-multiselect .duet-multiselect-help.sc-duet-multiselect{color:rgb(222, 35, 98)}/*!@.duet-theme-turva.has-error .duet-multiselect-help*/.duet-theme-turva.has-error.sc-duet-multiselect .duet-multiselect-help.sc-duet-multiselect{color:rgb(224, 42, 13)}/*!@.duet-label-hidden duet-label*/.duet-label-hidden.sc-duet-multiselect duet-label.sc-duet-multiselect{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}";

function toggleInArray(arr, item) {
    return arr.includes(item) ? arr.filter(i => i !== item) : [...arr, item];
}
class DuetMultiselect {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Own Properties
         */
        this.errorId = createID("DuetError");
        this.labelId = createID("DuetLabel");
        this.topCaptionId = createID("DuetCaptionTop");
        this.selectedLangObject = {
            en: "selected",
            fi: "valittu",
            sv: "vald",
        };
        this.selectAllLabel = {
            en: "Select all",
            fi: "Valitse kaikki",
            sv: "Välj alla",
        };
        this.clearAllLabel = {
            en: "Clear all",
            fi: "Tyhjennä kaikki",
            sv: "Rensa alla",
        };
        this.placeholderLabel = {
            en: "Hint",
            fi: "Vihje",
            sv: "Tips",
        };
        /**
         * Component event handling.
         */
        this.onChange = (ev) => {
            this.duetChange.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-multiselect",
            });
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-multiselect",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-multiselect",
            });
        };
        this.onMultiselectKeyDown = (e) => {
            if (isEscapeKey(e) || isTabKey(e)) {
                if (this.checkboxesVisible) {
                    this.checkboxesVisible = false;
                    this.multiselectElement.focus();
                    e.preventDefault();
                }
            }
        };
        this.onMultiselectInputKeyDown = (e) => {
            if (isEnterKey(e)) {
                e.preventDefault();
                this.toggleCheckboxes();
                setTimeout(() => {
                    if (this.checkboxesVisible) {
                        const firstOption = this.element.shadowRoot.querySelector(`#${this.getOptionIdentifier(this.allControls ? -2 : 0)}`);
                        if (firstOption) {
                            firstOption.focus();
                        }
                    }
                }, 200);
            }
        };
        this.onCheckboxKeyDown = (e, key) => {
            let nextOption;
            if (isArrowLeftKey(e) || isArrowUpKey(e)) {
                nextOption = this.element.shadowRoot.querySelector(`#${this.getOptionIdentifier(key - 1)}`);
            }
            else if (isArrowRightKey(e) || isArrowDownKey(e)) {
                nextOption = this.element.shadowRoot.querySelector(`#${this.getOptionIdentifier(key + 1)}`);
            }
            if (nextOption) {
                nextOption.focus();
                e.preventDefault();
                this.activeDescendant = nextOption.id;
            }
        };
        this.toggleCheckboxes = () => {
            this.checkboxesVisible = !this.checkboxesVisible;
        };
        this.toggleCheckbox = (e, item) => {
            this.value = toggleInArray(this.value, item);
            this.onChange(e);
        };
        this.handleSelectAllClick = (e) => {
            this.value = this.processedItems;
            this.onChange(e);
        };
        this.handleClearAllClick = (e) => {
            this.value = [];
            this.onChange(e);
        };
        this.getOptionIdentifier = (key) => {
            return `${this.identifier}-option-${key}`;
        };
        this.getDescribedBy = () => {
            const describedBy = [];
            if (this.isCaptionVisible && this.topCaptionId) {
                describedBy.push(this.topCaptionId);
            }
            if (this.accessibleDescribedBy) {
                describedBy.push(this.accessibleDescribedBy);
            }
            if (this.error) {
                describedBy.push(this.errorId);
            }
            return describedBy.length > 0 ? describedBy.join(" ") : null;
        };
        this.processedItems = [];
        this.checkboxesVisible = false;
        this.activeDescendant = "";
        this.language = getLanguage();
        this.margin = "auto";
        this.error = "";
        this.accessibleLiveError = "polite";
        this.expand = false;
        this.value = [];
        this.theme = "";
        this.labelHidden = false;
        this.identifier = createID("DuetMultiselect");
        this.allControls = false;
        this.placeholder = "";
        this.caption = undefined;
        this.items = undefined;
        this.disabled = false;
        this.label = "label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.accessibleDescribedBy = undefined;
        this.tooltip = "";
        this.tooltipDirection = "auto";
    }
    handleFocus(e) {
        const isClickOutside = e.composedPath().every(node => node !== this.element);
        if (isClickOutside) {
            this.checkboxesVisible = false;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.isCaptionVisible = !!this.caption;
        this.refresh();
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus on the specified `duet-multiselect`. Use this method instead of the global
     * `multiselect.focus()`.
     */
    async setFocus(options) {
        if (this.multiselectElement) {
            this.multiselectElement.focus(options);
        }
    }
    /**
     * Local methods.
     */
    async refresh() {
        this.processedItems = parsePossibleJSON(this.items);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-m-0": this.margin === "none",
                "duet-expand": this.expand,
            } }, hAsync("div", { class: {
                "duet-multiselect-container": true,
                "duet-label-hidden": this.labelHidden,
                "duet-theme-turva": this.theme === "turva",
                "duet-input-top-caption-shown": this.isCaptionVisible,
                "has-error": !!this.error,
            }, onKeyDown: (e) => this.onMultiselectKeyDown(e) }, hAsync("duet-label", { theme: this.theme === "turva" ? "turva" : "default", class: { "duet-has-tooltip": !!this.tooltip }, color: this.labelColor, weight: this.labelWeight, id: this.labelId, for: this.identifier }, this.label), this.tooltip && (hAsync("duet-tooltip", { class: "duet-multiselect-tooltip", direction: this.tooltipDirection, accessibleInputLabel: this.label }, this.tooltip)), this.caption && (hAsync("duet-caption", { id: this.topCaptionId, size: "medium" }, this.caption)), hAsync("div", { class: "duet-multiselect-wrapper" }, hAsync("button", { id: this.identifier, ref: el => (this.multiselectElement = el), class: { "duet-multiselect": true, "duet-multiselect-active": this.checkboxesVisible }, tabindex: "0", onClick: () => this.toggleCheckboxes(), onFocus: e => this.onFocus(e), onBlur: e => this.onBlur(e), role: "combobox", "aria-expanded": this.checkboxesVisible ? "true" : "false", "aria-haspopup": "listbox", "aria-labelledby": this.labelId, "aria-describedby": this.getDescribedBy(), "aria-owns": `${this.identifier}-checkboxes`, onKeyDown: (e) => this.onMultiselectInputKeyDown(e), disabled: this.disabled }, hAsync("span", { role: "textbox", "aria-readonly": "true", "aria-multiline": "false", "aria-autocomplete": "none", "aria-controls": `${this.identifier}-checkboxes`, "aria-label": this.placeholderLabel[this.language], class: "duet-multiselect-label" }, this.placeholder), this.value && this.value.length > 0 && (hAsync("span", { class: "duet-multiselect-badge" }, this.value.length, hAsync("duet-visually-hidden", null, this.selectedLangObject[this.language], ", ", this.value.map(item => item.label).join(", ")))), hAsync("svg", { class: { "duet-multiselect-icon": true, "duet-multiselect-icon--rotate": this.checkboxesVisible }, fill: "currentColor", viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, hAsync("path", { d: "m12 18.999c-.4 0-.776-.156-1.059-.438l-10.721-10.72c-.142-.142-.22-.33-.22-.531 0-.2.078-.389.22-.53.142-.142.33-.22.53-.22s.389.078.53.22l10.72 10.719 10.72-10.719c.142-.142.33-.22.53-.22s.389.078.53.22c.142.142.22.33.22.53s-.078.389-.22.53l-10.72 10.72c-.282.283-.659.439-1.06.439z" }))), hAsync("div", { id: `${this.identifier}-checkboxes`, role: "listbox", class: {
                "duet-multiselect-checkboxes": true,
                "duet-multiselect-checkboxes-active": this.checkboxesVisible,
            }, "aria-activedescendant": this.activeDescendant, "aria-multiselectable": "true" }, this.processedItems && this.allControls && (hAsync("div", { class: "duet-multiselect-all-control-buttons" }, hAsync("button", { class: "duet-multiselect-select-all", onClick: this.handleSelectAllClick, id: this.getOptionIdentifier(-2), onKeyDown: (e) => this.onCheckboxKeyDown(e, -2) }, this.selectAllLabel[this.language]), hAsync("button", { class: "duet-multiselect-clear-all", onClick: this.handleClearAllClick, id: this.getOptionIdentifier(-1), onKeyDown: (e) => this.onCheckboxKeyDown(e, -1) }, this.clearAllLabel[this.language]))), this.processedItems &&
            this.processedItems.map((item, key) => {
                var _a, _b;
                return (hAsync("duet-checkbox", { identifier: this.getOptionIdentifier(key), role: "option", label: item.label, value: item.value, key: item.value, checked: (_a = this.value) === null || _a === void 0 ? void 0 : _a.includes(item), "accessible-selected": ((_b = this.value) === null || _b === void 0 ? void 0 : _b.includes(item)) ? "true" : undefined, disabled: !this.checkboxesVisible || item.disabled, onDuetChange: e => this.toggleCheckbox(e, item), onKeyDown: (e) => this.onCheckboxKeyDown(e, key), theme: this.theme }));
            }))), hAsync("span", { class: "duet-multiselect-help", id: this.errorId, "aria-atomic": "true", "aria-live": this.accessibleLiveError, "aria-relevant": "additions removals" }, this.error && hAsync("span", null, this.error)))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "items": ["refresh"]
    }; }
    static get style() { return duetMultiselectCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-multiselect",
        "$members$": {
            "margin": [1],
            "error": [1],
            "accessibleLiveError": [1, "accessible-live-error"],
            "expand": [4],
            "value": [1040],
            "theme": [1025],
            "labelHidden": [4, "label-hidden"],
            "identifier": [1],
            "allControls": [4, "all-controls"],
            "placeholder": [1],
            "caption": [1],
            "items": [1],
            "disabled": [516],
            "label": [1],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "processedItems": [32],
            "checkboxesVisible": [32],
            "activeDescendant": [32],
            "language": [32],
            "setFocus": [64]
        },
        "$listeners$": [[8, "click", "handleFocus"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"]]
    }; }
}

const duetNavCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-nav,*.sc-duet-nav::after,*.sc-duet-nav::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-nav-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%}/*!@slot[name=mobile]*/slot[name=mobile].sc-duet-nav{display:inherit}/*!@slot[name=desktop]*/slot[name=desktop].sc-duet-nav{display:none}@media (min-width: 62em){/*!@slot[name=mobile]*/slot[name=mobile].sc-duet-nav{display:none}/*!@slot[name=desktop]*/slot[name=desktop].sc-duet-nav{display:inherit}}";

/**
 * @slot default - Slot for keyboard accessible initially hidden links. Use duet-link with tab-to-link attribute.
 * @slot mobile - Slot for navigation in small viewports (less than 992px wide).
 * @slot desktop - Slot for navigation in large viewports (992px wide or more).
 */
class DuetNav {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", null, hAsync("slot", null), hAsync("slot", { name: "mobile" }), hAsync("slot", { name: "desktop" }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetNavCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-nav",
        "$members$": {
            "theme": [1025]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetNotificationCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-notification,*.sc-duet-notification::after,*.sc-duet-notification::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-notification-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-notification*/.duet-notification.sc-duet-notification{display:block;padding:16px;color:rgb(0, 41, 77);cursor:pointer;border-bottom:1px solid rgb(225, 227, 230);transition:300ms ease}/*!@:host(:last-of-type) .duet-notification*/.sc-duet-notification-h:last-of-type .duet-notification.sc-duet-notification{border-bottom:0}/*!@.duet-notification.duet-theme-turva*/.duet-notification.duet-theme-turva.sc-duet-notification{color:rgb(23, 28, 58);border-bottom-color:rgb(228, 228, 230)}/*!@.duet-notification.duet-notification-highlight*/.duet-notification.duet-notification-highlight.sc-duet-notification{font-weight:600;background:rgb(243, 249, 252)}/*!@.duet-notification.duet-notification-highlight.duet-theme-turva*/.duet-notification.duet-notification-highlight.duet-theme-turva.sc-duet-notification{background:rgb(252, 243, 244)}@media (min-width: 62em){/*!@.duet-notification:hover*/.duet-notification.sc-duet-notification:hover{background:rgb(243, 249, 252)}/*!@.duet-notification:hover.duet-theme-turva*/.duet-notification.sc-duet-notification:hover.duet-theme-turva{background:rgb(252, 243, 244)}}/*!@.duet-notification a*/.duet-notification.sc-duet-notification a.sc-duet-notification{text-decoration:none}/*!@.duet-notification a:focus*/.duet-notification.sc-duet-notification a.sc-duet-notification:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-notification:focus-within*/.user-is-tabbing.sc-duet-notification-h .duet-notification.sc-duet-notification:focus-within{z-index:1;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-notification:focus-within.duet-theme-turva*/.user-is-tabbing.sc-duet-notification-h .duet-notification.sc-duet-notification:focus-within.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-notification-container*/.duet-notification-container.sc-duet-notification{position:relative;display:flex}/*!@.duet-notification-badge-container*/.duet-notification-badge-container.sc-duet-notification{position:relative;width:16px}/*!@.duet-notification-badge*/.duet-notification-badge.sc-duet-notification{position:absolute;top:6px;left:-2px;width:8px;height:8px;background:rgb(0, 119, 179);border-radius:50%}/*!@.duet-theme-turva .duet-notification-badge*/.duet-theme-turva.sc-duet-notification .duet-notification-badge.sc-duet-notification{background:rgb(198, 12, 48)}/*!@.duet-notification-content*/.duet-notification-content.sc-duet-notification{flex:1}/*!@.duet-notification-date*/.duet-notification-date.sc-duet-notification{position:absolute;top:2px;right:0;width:96px;font-size:0.75rem;font-weight:600;line-height:1.25;color:rgb(101, 119, 135);text-align:right;text-transform:uppercase}@media (max-width: 35.9375em){/*!@.duet-notification-date*/.duet-notification-date.sc-duet-notification{width:auto}}/*!@.duet-theme-turva .duet-notification-date*/.duet-theme-turva.sc-duet-notification .duet-notification-date.sc-duet-notification{color:rgb(68, 68, 69)}/*!@::slotted(duet-heading)*/.sc-duet-notification-s>duet-heading{padding-right:80px !important}/*!@::slotted(duet-paragraph)*/.sc-duet-notification-s>duet-paragraph{margin-bottom:2px !important}";

class DuetNotification {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.language = getLanguage();
        this.accessibleLabelUnreadDefaults = {
            en: "Unread",
            fi: "Lukematon",
            sv: "Oläst",
        };
        this.accessibleLabelUnread = getLocaleString(this.accessibleLabelUnreadDefaults, this.language);
        this.url = "#";
        this.date = "";
        this.highlight = false;
        this.external = false;
        this.theme = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleLabelUnread", defaults: "accessibleLabelUnreadDefaults" });
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Move focus to the notification's link element.
     * Use this method instead of the native `focus()` method.
     * @param options
     */
    async setFocus(options) {
        this.linkElement.focus(options);
    }
    render() {
        return (hAsync("div", { role: "listitem", class: {
                "duet-notification": true,
                "duet-notification-highlight": this.highlight,
                "duet-theme-turva": this.theme === "turva",
            } }, hAsync("a", { ref: element => (this.linkElement = element), href: this.url, target: this.external ? "_blank" : "_self" }, hAsync("div", { class: "duet-notification-container" }, hAsync("div", { class: "duet-notification-badge-container" }, this.highlight && (hAsync("div", { class: "duet-notification-badge" }, hAsync("duet-visually-hidden", null, this.accessibleLabelUnread, ":")))), hAsync("div", { class: "duet-notification-content" }, hAsync("slot", null)), hAsync("div", { class: "duet-notification-date" }, this.date)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetNotificationCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-notification",
        "$members$": {
            "language": [1537],
            "accessibleLabelUnreadDefaults": [16],
            "accessibleLabelUnread": [1025, "accessible-label-unread"],
            "url": [1],
            "date": [1],
            "highlight": [4],
            "external": [4],
            "theme": [1025],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"]]
    }; }
}

const duetNotificationDrawerCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-notification-drawer,*.sc-duet-notification-drawer::after,*.sc-duet-notification-drawer::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-notification-drawer-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-drawer*/.duet-drawer.sc-duet-notification-drawer{position:relative}@media (min-width: 62em){/*!@.duet-drawer*/.duet-drawer.sc-duet-notification-drawer{display:inline-block}}/*!@.duet-drawer-toggle*/.duet-drawer-toggle.sc-duet-notification-drawer{position:relative;display:flex;align-items:center;width:100%;height:48px;padding:0 20px;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:48px;color:rgb(0, 41, 77);text-align:left;text-decoration:none;text-overflow:ellipsis;white-space:nowrap;cursor:pointer;background-color:rgb(255, 255, 255);border-bottom:1px solid rgb(225, 227, 230);border-radius:0;-webkit-appearance:none;appearance:none}@media (min-width: 62em){/*!@.duet-drawer-toggle*/.duet-drawer-toggle.sc-duet-notification-drawer{z-index:200;width:auto;max-width:200px;padding:0 30px 0 12px;overflow:hidden;font-size:0.875rem;line-height:4rem;border:0;border-radius:4px;transition:border 300ms ease}}/*!@.duet-theme-turva .duet-drawer-toggle*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle.sc-duet-notification-drawer{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);background-color:rgb(255, 255, 255);border-color:rgb(228, 228, 230)}/*!@.duet-drawer-toggle:active*/.duet-drawer-toggle.sc-duet-notification-drawer:active{opacity:0.75}/*!@.duet-drawer-toggle:focus*/.duet-drawer-toggle.sc-duet-notification-drawer:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-drawer-toggle:focus*/.user-is-tabbing.sc-duet-notification-drawer-h .duet-drawer-toggle.sc-duet-notification-drawer:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-drawer-toggle:focus*/.user-is-tabbing.sc-duet-notification-drawer-h .duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle.sc-duet-notification-drawer:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-drawer-toggle:hover*/.duet-drawer-toggle.sc-duet-notification-drawer:hover{color:rgb(0, 77, 128)}/*!@.duet-theme-turva .duet-drawer-toggle:hover*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle.sc-duet-notification-drawer:hover{color:rgb(68, 68, 69)}/*!@.duet-drawer-toggle::after*/.duet-drawer-toggle.sc-duet-notification-drawer::after{display:none !important}@media (min-width: 62em){/*!@.duet-drawer-toggle::after*/.duet-drawer-toggle.sc-duet-notification-drawer::after{position:absolute;top:auto;bottom:0;left:0;display:block !important;width:100%;height:3px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(3px)}/*!@.duet-theme-turva .duet-drawer-toggle::after*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle.sc-duet-notification-drawer::after{background:rgb(198, 12, 48)}}/*!@.duet-drawer-toggle[aria-expanded=true], .duet-drawer-toggle[aria-expanded=true]:hover*/.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer,.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer:hover{color:rgb(0, 77, 128);border-bottom:1px solid rgb(245, 248, 250);border-radius:0}/*!@.duet-theme-turva .duet-drawer-toggle[aria-expanded=true], .duet-theme-turva .duet-drawer-toggle[aria-expanded=true]:hover*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer,.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer:hover{color:rgb(68, 68, 69);border-color:rgb(245, 245, 247)}@media (min-width: 62em){/*!@.duet-drawer-toggle[aria-expanded=true], .duet-drawer-toggle[aria-expanded=true]:hover*/.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer,.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer:hover{border:0}/*!@.duet-drawer-toggle[aria-expanded=true]::after, .duet-drawer-toggle[aria-expanded=true]:hover::after*/.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer::after,.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer:hover::after{left:0;width:100%;transform:translateY(0)}}/*!@.duet-drawer-icon*/.duet-drawer-icon.sc-duet-notification-drawer{position:relative;display:inline-flex;min-width:12px;margin-right:12px;font-size:0;line-height:normal;vertical-align:baseline}@media (min-width: 62em){/*!@.duet-drawer-icon*/.duet-drawer-icon.sc-duet-notification-drawer{margin-right:8px}}/*!@.duet-drawer-label*/.duet-drawer-label.sc-duet-notification-drawer{line-height:1}/*!@.duet-drawer-caret*/.duet-drawer-caret.sc-duet-notification-drawer{position:absolute;top:50%;right:20px;display:flex;width:10px;height:10px;margin-left:8px;line-height:normal;pointer-events:none;transition:300ms ease;transform:translateY(-50%);transform-origin:50% 50%}@media (min-width: 62em){/*!@.duet-drawer-caret*/.duet-drawer-caret.sc-duet-notification-drawer{right:16px;width:7px;height:7px}}/*!@.duet-drawer-caret duet-icon*/.duet-drawer-caret.sc-duet-notification-drawer duet-icon.sc-duet-notification-drawer{width:10px}/*!@.duet-drawer-toggle[aria-expanded=true] .duet-drawer-caret*/.duet-drawer-toggle[aria-expanded=true].sc-duet-notification-drawer .duet-drawer-caret.sc-duet-notification-drawer{transform:translateY(-50%) rotate(180deg)}/*!@.duet-drawer-badge*/.duet-drawer-badge.sc-duet-notification-drawer{position:absolute;top:0;right:0;display:inline-block;width:6px;height:6px;background:rgb(247, 178, 40);border-radius:50%;box-shadow:0 0 0 1px #c18b1f}/*!@.duet-theme-turva .duet-drawer-badge*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-badge.sc-duet-notification-drawer{background:rgb(250, 164, 15)}/*!@.duet-drawer-content*/.duet-drawer-content.sc-duet-notification-drawer{display:none;background-color:rgb(255, 255, 255);border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-drawer-content:focus*/.duet-drawer-content.sc-duet-notification-drawer:focus{outline:0}/*!@.duet-theme-turva .duet-drawer-content*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-content.sc-duet-notification-drawer{background-color:rgb(255, 255, 255);border-color:rgb(225, 227, 230)}@media (min-width: 62em){/*!@.duet-drawer-content*/.duet-drawer-content.sc-duet-notification-drawer{position:absolute;top:100%;z-index:600;display:block;width:450px;max-height:420px;padding-left:0;overflow-y:auto;visibility:hidden;background-color:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;border-top-left-radius:0;border-top-right-radius:0;box-shadow:0 4px 10px 0 rgba(0, 41, 77, 0.15);opacity:0;transition:300ms ease;transform:scale(0.95) translateZ(0) translateY(-10px);transform-origin:50% 0;scrollbar-width:none}/*!@.duet-drawer-content::-webkit-scrollbar*/.duet-drawer-content.sc-duet-notification-drawer::-webkit-scrollbar{display:none}/*!@.duet-theme-turva .duet-drawer-content*/.duet-theme-turva.sc-duet-notification-drawer .duet-drawer-content.sc-duet-notification-drawer{background-color:rgb(255, 255, 255)}/*!@.duet-drawer-content.duet-drawer-left*/.duet-drawer-content.duet-drawer-left.sc-duet-notification-drawer{right:0}/*!@.duet-drawer-content.duet-drawer-right*/.duet-drawer-content.duet-drawer-right.sc-duet-notification-drawer{left:0}}/*!@.duet-drawer-content.duet-drawer-open*/.duet-drawer-content.duet-drawer-open.sc-duet-notification-drawer{display:block}@media (min-width: 62em){/*!@.duet-drawer-content.duet-drawer-open*/.duet-drawer-content.duet-drawer-open.sc-duet-notification-drawer{visibility:visible;opacity:1;transform:scale(1) translateZ(0) translateY(0)}}";

const ESC_KEY = 27;
class DuetNotificationDrawer {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Component event handling.
         */
        this.handleKeyDown = (ev) => {
            if (this.isOpen && ev.keyCode === ESC_KEY) {
                this.close();
            }
        };
        this.toggleMenu = (e) => {
            // this is needed to prevent the main menu closing on mobile
            e.stopPropagation();
            this.isOpen ? this.close() : this.open();
        };
        this.updateNotificationState = () => {
            this.hasNotifications = this.element.children.length > 0;
        };
        this.isOpen = false;
        this.hasNotifications = undefined;
        this.icon = "";
        this.label = "Label";
        this.language = getLanguage();
        this.accessibleLabelNotificationsDefaults = {
            en: "No notifications",
            fi: "Ei ilmoituksia",
            sv: "Inga notifikationer",
        };
        this.accessibleLabelNotifications = getLocaleString(this.accessibleLabelNotificationsDefaults);
        this.badge = false;
        this.theme = "";
        this.direction = "left";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.updateNotificationState();
    }
    connectedCallback() {
        this.observer = new MutationObserver(this.updateNotificationState);
        this.observer.observe(this.element, { childList: true });
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        this.observer.disconnect();
        this.observer = null;
        unsubscribeTabbingChange(this);
    }
    handleClickFocusOutside(e) {
        const target = e.target;
        if (this.isOpen && !this.element.contains(target)) {
            this.close(false);
        }
    }
    /**
     * Move focus to the menu's button. Use instead of the native `focus()` method
     * @param options
     */
    async setFocus(options) {
        this.drawerButtonEl.focus(options);
    }
    /**
     * Open the menu
     */
    async open() {
        const header = this.element.closest("duet-header");
        if (header) {
            header.closeMenus();
        }
        this.isOpen = true;
        this.drawerContentEl.scrollTop = 0;
    }
    /**
     * Close the menu
     * @param moveFocusToButton should focus be moved to the menu's button on close?
     */
    async close(moveFocusToButton = true) {
        this.isOpen = false;
        if (moveFocusToButton) {
            this.setFocus({ preventScroll: true });
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync("div", { class: {
                "duet-drawer": true,
                "duet-theme-turva": this.theme === "turva",
            }, onKeyDown: this.handleKeyDown }, hAsync("button", { ref: el => (this.drawerButtonEl = el), type: "button", class: "duet-drawer-toggle", id: "duet-drawer-toggle", "aria-controls": "duet-drawer-content", "aria-expanded": this.isOpen ? "true" : "false", onClick: this.toggleMenu }, this.icon && (hAsync("div", { class: "duet-drawer-icon" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: this.icon, color: "currentColor" }), this.badge && hAsync("div", { class: "duet-drawer-badge" }))), hAsync("span", { class: "duet-drawer-label" }, this.label), hAsync("div", { class: "duet-drawer-caret" }, hAsync("duet-icon", { margin: "none", size: "auto", icon: actionArrowDownSmall.svg, color: "currentColor" }))), hAsync("div", { id: "duet-drawer-content", class: {
                "duet-drawer-content": true,
                "duet-drawer-right": this.direction === "right",
                "duet-drawer-left": this.direction === "left",
                "duet-drawer-open": this.isOpen,
            }, ref: element => (this.drawerContentEl = element) }, this.hasNotifications ? (hAsync("div", { role: "list" }, hAsync("slot", null))) : (hAsync("duet-empty-state", { size: "small" }, hAsync("duet-paragraph", { size: "small", margin: "none" }, this.accessibleLabelNotifications))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetNotificationDrawerCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-notification-drawer",
        "$members$": {
            "icon": [1],
            "label": [1],
            "language": [1],
            "accessibleLabelNotificationsDefaults": [1, "accessible-label-notification-default"],
            "accessibleLabelNotifications": [1, "accessible-label-notifications"],
            "badge": [4],
            "theme": [1025],
            "direction": [1],
            "isOpen": [32],
            "hasNotifications": [32],
            "setFocus": [64],
            "open": [64],
            "close": [64]
        },
        "$listeners$": [[6, "focus", "handleClickFocusOutside"], [6, "click", "handleClickFocusOutside"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

/**
 *  function that takes a string value or number and looks for any character resembling a minus,
 *  it will then replace it with a hypen-minus and return the parseFloat value of that string
 *  it will string / number cast the value to a number and return that number
 *  known issues: if a negative number is indicated with other characters than a "minus like" character, it will throw
 *  - an example is that some locales use (number) as an indicator for negative values instead of -number
 */
function SafeParseFloat(value, locale) {
    let results;
    if (typeof value === "string") {
        if (value === "") {
            return null;
        }
        //the minuses are NOT the same characters, they differ in unicode for some languages
        // "‐", "−", "–", and "—"
        let convertedMinus = value.replace("−", "-").replace("‐", "-").replace("−", "-").replace("–", "-").replace("—", "-");
        if (locale) {
            convertedMinus = ConvertToEnUS(convertedMinus, locale, false);
        }
        // replace all possible spaces from the string
        convertedMinus = convertedMinus.replace(/\s+/g, "");
        convertedMinus = convertedMinus.replace(/(?!^-?\d*\.{0,1}\d+$)/g, "");
        /*
        example: https://regex101.com/r/np7FqS/1
          /(?!^-?\d*\.{0,1}\d+$)/g
          Negative Lookahead (?!^-?\d*\.{0,1}\d+$)
          Assert that the Regex below does not match
          ^ asserts position at start of a line
          - matches the character - with index 4510 (2D16 or 558) literally (case sensitive)
          ? matches the previous token between zero and one times, as many times as possible, giving back as needed (greedy)
          \d matches a digit (equivalent to [0-9])
          * matches the previous token between zero and unlimited times, as many times as possible, giving back as needed (greedy)
          \. matches the character . with index 4610 (2E16 or 568) literally (case sensitive)
          {0,1} matches the previous token between zero and one times, as many times as possible, giving back as needed (greedy)
          \d matches a digit (equivalent to [0-9])
          + matches the previous token between one and unlimited times, as many times as possible, giving back as needed (greedy)
          $ asserts position at the end of a line
          Global pattern flags
          g modifier: global. All matches (don't return after first match)
          m modifier: multi line. Causes ^ and $ to match the begin/end of each line (not only begin/end of string)
        */
        results = parseFloat(convertedMinus);
    }
    if (typeof value === "number") {
        results = parseFloat(String(value));
    }
    if (!isNaN(Number(results))) {
        return Number(results);
    }
    if (value === null || value === undefined) {
        return null;
    }
    throw new Error("Invalid value passed to SafeParseFloat");
}
// string conversion function that takes a locale and coverts decimal indicator to en-US indicator
// and takes the thousand separator for the given locale and transforms that to the en-US separator
function ConvertToEnUS(value, locale, replaceThousands = false) {
    let replacedValue;
    const localeSeparator = new Intl.NumberFormat(locale).format(1 / 2).replace(/[0-9]/g, "");
    const enUSSeparator = new Intl.NumberFormat("en-US").format(1 / 2).replace(/[0-9]/g, "");
    const thousandSeparator = new Intl.NumberFormat(locale).format(1000).replace(/[0-9]/g, "");
    const enUSThousandSeparator = new Intl.NumberFormat("en-US").format(1000).replace(/[0-9]/g, "");
    // double conversions to avoid ,->. and .->, at the same time resulting in a double conversion
    replacedValue = value.replace(localeSeparator, "DECIMALSEPARATOR");
    if (replaceThousands) {
        replacedValue = replacedValue.replace(thousandSeparator, "THOUSANDSEPARATOR");
    }
    else {
        replacedValue = replacedValue.replace(thousandSeparator, "");
    }
    replacedValue = replacedValue.replace("DECIMALSEPARATOR", enUSSeparator);
    replacedValue = replacedValue.replace("THOUSANDSEPARATOR", enUSThousandSeparator);
    return replacedValue;
}
const roundTo = (val, multiple) => Math.round(val / multiple) * multiple;
const clamp$1 = (val, min, max) => Math.min(Math.max(val, min), max);

const duetNumberInputCss = "*.sc-duet-number-input,*.sc-duet-number-input::after,*.sc-duet-number-input::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-number-input-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;min-width:calc(33.333% - 8px);max-width:100%;line-height:1.25;text-align:left;vertical-align:bottom}.sc-duet-number-input-h:last-child,.sc-duet-number-input-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-number-input-h{width:calc(50% - 16px - 3px)}}.duet-expand.sc-duet-number-input-h{width:100% !important}.duet-m-0.sc-duet-number-input-h{margin:0 !important}.duet-number-container.sc-duet-number-input{position:relative;width:100%}.duet-number-buttons.sc-duet-number-input{-webkit-user-select:none;user-select:none;position:absolute;top:1px;right:1px;z-index:200;width:96px;height:calc(100% - 2px)}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input{position:relative;display:inline-flex;align-items:center;justify-content:center;width:50%;height:100%;text-align:center;cursor:pointer;background:transparent;-webkit-appearance:none;appearance:none}.duet-number-buttons.sc-duet-number-input .duet-number-button[aria-disabled=true].sc-duet-number-input,.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:disabled{pointer-events:none}.duet-number-buttons.sc-duet-number-input .duet-number-button[aria-disabled=true].sc-duet-number-input duet-icon.sc-duet-number-input,.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:disabled duet-icon.sc-duet-number-input{opacity:0.4}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:active duet-icon.sc-duet-number-input{transform:translateY(1px)}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:focus{outline:0}.user-is-tabbing.sc-duet-number-input-h .duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:focus{z-index:2;box-shadow:0 0 0 2px #0077b3 !important}.duet-theme-turva .user-is-tabbing.sc-duet-number-input-h .duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:focus{box-shadow:0 0 0 2px #171c3a !important}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:first-of-type{border-left:1px solid rgb(207, 210, 212)}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:first-of-type::before{position:absolute;top:0;left:-6px;width:6px;height:100%;content:\"\";background:linear-gradient(to left, rgba(207, 210, 212, 0.2) 0%, rgba(207, 210, 212, 0.2) 1px, rgba(207, 210, 212, 0.1) 1px, rgba(207, 210, 212, 0) 100%)}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:last-of-type{border-top-right-radius:4px;border-bottom-right-radius:4px}.duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:last-of-type::before{position:absolute;top:20%;left:0;width:1px;height:60%;content:\"\";background:rgb(225, 227, 230)}.duet-theme-turva.sc-duet-number-input-h .duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:first-of-type::before{background:linear-gradient(to left, rgba(207, 207, 209, 0.2) 0%, rgba(207, 207, 209, 0.2) 1px, rgba(207, 207, 209, 0.1) 1px, rgba(207, 207, 209, 0) 100%)}.duet-theme-turva.sc-duet-number-input-h .duet-number-buttons.sc-duet-number-input .duet-number-button.sc-duet-number-input:last-of-type::before{background:rgb(228, 228, 230)}";

class DuetNumberInput {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetInput = createEvent$2(this, "duetInput", 3);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.inputId = createID("DuetInput");
        /**
         * Component event handling.
         */
        this.handleFocus = () => {
            // This state is saved on focus so we can compare on blur to it.
            this.focusedValue = this.value;
        };
        this.handleKeyDown = (ev) => {
            if (isArrowRightKey(ev) || isArrowUpKey(ev)) {
                this.add(ev);
            }
            else if (isArrowDownKey(ev) || isArrowLeftKey(ev)) {
                this.subtract(ev);
            }
            else if (isBackspaceKey(ev)) {
                this.clearValue();
            }
        };
        this.handleChange = (ev) => {
            const input = ev.target;
            if (input && input.value) {
                try {
                    let value = SafeParseFloat(input.value, this.locale);
                    // Make sure that everything works if the user clears the input and
                    // starts typing non-numeric characters.
                    if (isNaN(value) || value == null) {
                        value = this.min || 0;
                    }
                    this.setValue(value);
                    this.duetInput.emit({
                        component: "duet-number-input",
                        originalEvent: ev,
                        value: SafeParseFloat(this.value, this.locale).toString(),
                        valueAsNumber: value,
                    });
                }
                catch (e) {
                    this.duetInput.emit({
                        component: "duet-number-input",
                        originalEvent: ev,
                        value: null,
                        valueAsNumber: null,
                    });
                }
            }
            else {
                this.duetInput.emit({
                    component: "duet-number-input",
                    originalEvent: ev,
                    value: null,
                    valueAsNumber: null,
                });
            }
        };
        this.handleBlur = (ev) => {
            const input = ev.target;
            if (!input) {
                return;
            }
            if (input.value) {
                // On blur we want to make sure that the user input is between the min and max values,
                // and also round it up or down to the nearest step.
                try {
                    let value = SafeParseFloat(input.value, this.locale);
                    if (this.rounding) {
                        value = roundTo(value, this.step);
                    }
                    value = clamp$1(value, this.min, this.max);
                    if (value !== SafeParseFloat(this.value, this.locale) ||
                        value !== SafeParseFloat(this.focusedValue, this.locale)) {
                        this.setValue(value);
                        this.emitChange(ev);
                    }
                }
                catch (e) {
                    this.emitNull(ev);
                }
            }
            else {
                this.emitNull(ev);
            }
        };
        /**
         * Local methods.
         */
        this.emitChange = (ev) => {
            const currentValue = SafeParseFloat(this.value, this.locale);
            this.duetChange.emit({
                originalEvent: ev,
                value: currentValue.toString(),
                valueAsNumber: currentValue,
                component: "duet-number-input",
            });
        };
        this.emitNull = (ev) => {
            this.duetChange.emit({
                originalEvent: ev,
                value: null,
                valueAsNumber: null,
                component: "duet-number-input",
            });
        };
        this.localizeValue = (value) => {
            // Returns a localized string that can be used as input value.
            return value.toLocaleString(this.locale);
        };
        this.setValue = (value) => {
            // Set the localized prop value.
            this.value = this.localizeValue(value);
            // Finally also set the visible input value and unit.
            this.duetInputElement.value = `${this.value} ${this.unit}`;
        };
        this.add = (ev) => {
            // If this was called via a html button, prevent the default functionality
            // to not trigger submit accidentally when used inside a form.
            if (ev) {
                ev.preventDefault();
            }
            const cleanedValue = SafeParseFloat(this.value, this.locale);
            // Only fire change event when necessary
            if (cleanedValue === this.max) {
                return;
            }
            // in cases where no value set, incrementing should go to min
            let newValue = cleanedValue == null ? this.min : cleanedValue + this.step;
            // handle cases where value is not multiple of step
            // e.g. if someone enters 199, with a step of 100, add should go to 200
            // and if someone enters 101, add should also go to 200
            if (newValue % this.step !== 0) {
                const adjustment = newValue % this.step;
                newValue -= adjustment;
            }
            const clampedValue = clamp$1(newValue, this.min, this.max);
            this.value = this.localizeValue(clampedValue);
            this.emitChange(ev);
        };
        this.subtract = (ev) => {
            // If this was called via a html button, prevent the default functionality
            // to not trigger submit accidentally when used inside a form.
            if (ev) {
                ev.preventDefault();
            }
            const currentValue = SafeParseFloat(this.value, this.locale);
            // Only fire change event when necessary.
            if (currentValue === this.min) {
                return;
            }
            let newValue = currentValue - this.step;
            // handle cases where value is not multiple of step
            // if someone enters 199, with a step of 100, subtract should go to 100
            // and if someone enters 101, subtract should also go to 100
            if (newValue % this.step !== 0) {
                const adjustment = this.step - (newValue % this.step);
                newValue += adjustment;
            }
            newValue = clamp$1(newValue, this.min, this.max);
            this.value = this.localizeValue(newValue);
            this.emitChange(ev);
        };
        this.language = getLanguage();
        this.locale = getLocale(this.language).locale;
        this.unit = getLocale(this.language).money;
        this.focusedValue = undefined;
        this.accessibleActiveDescendant = undefined;
        this.accessibleControls = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleLiveDefaults = {
            fi: "{current} euroa valittuna",
            en: "{current} euros selected",
            sv: "{current} euro valt",
        };
        this.accessibleLive = getLocaleString(this.accessibleLiveDefaults, this.language);
        this.accessibleLiveEnabled = true;
        this.accessibleAddDefaults = {
            fi: "Lisää summaan",
            en: "Add to the amount",
            sv: "Lägg till beloppet",
        };
        this.accessibleAdd = getLocaleString(this.accessibleAddDefaults, this.language);
        this.accessibleSubtractDefaults = {
            fi: "Vähennä summasta",
            en: "Subtract from the amount",
            sv: "Dra från beloppet",
        };
        this.accessibleSubtract = getLocaleString(this.accessibleSubtractDefaults, this.language);
        this.theme = "";
        this.margin = "auto";
        this.expand = false;
        this.identifier = undefined;
        this.min = 0;
        this.labelDefaults = {
            fi: "Nimilappu",
            en: "Label",
            sv: "Etikett",
        };
        this.label = getLocaleString(this.labelDefaults, this.language);
        this.labelHidden = false;
        this.max = 1000000;
        this.name = undefined;
        this.error = "";
        this.tooltip = "";
        this.step = 5000;
        this.rounding = true;
        this.role = undefined;
        this.disabled = false;
        this.required = false;
        this.value = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        // Format the number value to a localeString initially.
        if (this.value) {
            this.value = this.localizeValue(SafeParseFloat(this.value, this.locale));
        }
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, [
            { prop: "accessibleLive", defaults: "accessibleLiveDefaults" },
            { prop: "accessibleAdd", defaults: "accessibleAddDefaults" },
            { prop: "accessibleSubtract", defaults: "accessibleSubtractDefaults" },
            { prop: "label", defaults: "labelDefaults" },
        ]);
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Sets focus on the specified `duet-number-input`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.duetInputElement.setFocus(options);
    }
    /**
     * Returns a promise which resolves to the current input numeric value.
     */
    async getValueAsNumber() {
        const currentValue = SafeParseFloat(this.value, this.locale);
        return this.value === undefined || this.value === null || isNaN(currentValue) ? null : currentValue;
    }
    clearValue() {
        this.value = null;
        this.duetInputElement.value = "";
    }
    formatAnnouncement() {
        const current = !!this.value ? SafeParseFloat(this.value, this.locale) : null;
        if (current == null) {
            return "";
        }
        return this.accessibleLive.replace("{current}", current.toString(10));
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetNumberInputCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-number-input",
        "$members$": {
            "language": [1025],
            "locale": [1],
            "unit": [1],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleLiveDefaults": [1, "accessible-live-default"],
            "accessibleLive": [1025, "accessible-live"],
            "accessibleLiveEnabled": [4, "accessible-live-enabled"],
            "accessibleAddDefaults": [1, "accessible-add-default"],
            "accessibleAdd": [1025, "accessible-add"],
            "accessibleSubtractDefaults": [1, "accessible-subtract-defaults"],
            "accessibleSubtract": [1025, "accessible-subtract"],
            "theme": [1025],
            "margin": [1],
            "expand": [4],
            "identifier": [1],
            "min": [2],
            "labelDefaults": [1, "label-default"],
            "label": [1025],
            "labelHidden": [4, "label-hidden"],
            "max": [2],
            "name": [1],
            "error": [1],
            "tooltip": [1],
            "step": [2],
            "rounding": [4],
            "role": [1],
            "disabled": [516],
            "required": [4],
            "value": [1025],
            "focusedValue": [32],
            "setFocus": [64],
            "getValueAsNumber": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"]]
    }; }
}

const duetPageHeadingCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-page-heading,*.sc-duet-page-heading::after,*.sc-duet-page-heading::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-page-heading-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-page-heading*/.duet-page-heading.sc-duet-page-heading{position:relative;display:block;width:100%;margin:0 auto;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(0, 41, 77)}/*!@.duet-page-heading.duet-p-0*/.duet-page-heading.duet-p-0.sc-duet-page-heading{padding:0 !important}/*!@.duet-page-heading.duet-m-0*/.duet-page-heading.duet-m-0.sc-duet-page-heading{margin:0 !important}/*!@.duet-page-heading.fluid, .duet-page-heading.narrow*/.duet-page-heading.fluid.sc-duet-page-heading,.duet-page-heading.narrow.sc-duet-page-heading{padding:0 16px}@media (min-width: 36em){/*!@.duet-page-heading.fluid*/.duet-page-heading.fluid.sc-duet-page-heading{padding:0 28px}}@media (min-width: 62em){/*!@.duet-page-heading.fluid*/.duet-page-heading.fluid.sc-duet-page-heading{padding:0 56px}}@media (min-width: 76.25em){/*!@.duet-page-heading.fluid*/.duet-page-heading.fluid.sc-duet-page-heading{max-width:1110px;padding:0}}/*!@.duet-page-heading.narrow*/.duet-page-heading.narrow.sc-duet-page-heading{max-width:888px}@media (min-width: 36em){/*!@.duet-page-heading.narrow*/.duet-page-heading.narrow.sc-duet-page-heading{padding:0 48px}}@media (min-width: 48em){/*!@.duet-page-heading.narrow*/.duet-page-heading.narrow.sc-duet-page-heading{padding:0 72px}}/*!@.duet-page-heading .heading*/.duet-page-heading.sc-duet-page-heading .heading.sc-duet-page-heading{max-width:744px;padding:48px 90px 16px 0}@media (min-width: 48em){/*!@.duet-page-heading .heading*/.duet-page-heading.sc-duet-page-heading .heading.sc-duet-page-heading{padding:72px 150px 40px 0}}/*!@.duet-page-heading .background*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading{position:absolute;top:0;right:0;left:0;width:100%;max-width:744px;height:104px;margin:0 auto;margin:0 auto}@media (min-width: 48em){/*!@.duet-page-heading .background*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading{height:165px}}/*!@.duet-page-heading .background .background-mask*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .background-mask.sc-duet-page-heading{position:absolute;top:-20px;right:0;display:block;width:286px;height:331px;background-image:url(\"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzIxIiBoZWlnaHQ9IjI1NyIgdmlld0JveD0iMCAwIDcyMSAyNTciIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxnIGNsaXAtcGF0aD0idXJsKCNjbGlwMF8yODIwXzY5OTkxKSI+CjxwYXRoIGQ9Ik04MC4xNzA1IDIzLjE4MTVDOTEuOTY5OSAxOC44NjU5IDEwMi44NyAxMS42NTU5IDExMi45MDkgMS41NjQ0OEMxMjMuNzcgLTguMzA1MjcgMTM0LjM4MiAtMTguMjAxMSAxNDQuODI2IC0yOC4xODgyQzE1NS4yNDMgLTM4LjE2MjIgMTY1LjkwOCAtNDguMDg0MSAxNzYuNzQzIC01Ny45Mjc4QzE3OC44MTYgLTU5LjA0OSAxODAuNDk4IC02MC4yODc3IDE4MS43ODggLTYxLjY1NjdDMTgzLjA2NiAtNjMuMDEyNiAxODUuNDY1IC02Mi4yODI1IDE4OS4wMTIgLTU5LjQ3OTNDMTg0LjczNSAtNTEuMTM1IDE4MC43NTkgLTQyLjk2MDIgMTc3LjAxNyAtMzQuOTAyN0MxNzMuMjg4IC0yNi44NDUyIDE2Ny42ODEgLTE5LjEyNjggMTYwLjIxMSAtMTEuNzYwM0MxNTIuNzUzIC00LjM4MDgzIDE0NC45NTYgMy4zMTE1MiAxMzYuODQ3IDExLjM2OUMxMjguNzI0IDE5LjQyNjUgMTIwLjk2NiAyNy4xNDUgMTEzLjQ4MyAzNC40OTg0Qzk3LjQ5OCA0OS44MTggNzkuNjYyIDU2LjAyNDEgNjAuMDAwOCA1My4xNjg4QzQwLjI4NzQgNTAuMzEzNSAyNS41NDE0IDM5LjA3NDcgMTUuNjk3NyAxOS40Nzg2QzMuOTI0NDUgLTIuMzcyOTkgLTEuMjI1NTUgLTI0LjQ3MjQgMC4yNDc3NDMgLTQ2Ljc4MDNDMS4yNTE2NyAtNjcuNDg0NiAzLjQwMjkzIC04Ny43OTc4IDYuODA1ODQgLTEwNy43NzJDMTAuMTk1NyAtMTI3LjczMyAxNS43MTA4IC0xNDcuNDg2IDIzLjMzOCAtMTY3LjA0M0MyNi4zMTA3IC0xNzQuMDMxIDI5LjAwOTUgLTE4MC44NSAzMS40NzM3IC0xODcuNTY0QzMzLjkxMTggLTE5NC4yMjcgMzYuNTMyNCAtMjAwLjY2OCAzOS4yNTc0IC0yMDYuODQ4QzQxLjgxMjggLTIwOS41NzIgNDMuNDY4NiAtMjEyLjEyOCA0NC4xODU3IC0yMTQuNTRDNTMuMDI1NSAtMjI5LjM3NyA2Mi44MyAtMjM3Ljk5NSA3My42Mzg1IC0yNDAuNDMzQzg0LjM5NDggLTI0Mi44NzEgOTguMTM2OSAtMjM5LjgyMSAxMTQuODEyIC0yMzEuMzJDMTI3Ljk0MiAtMjI1LjYwOSAxMzMuMzkyIC0yMTYuMTA1IDEzMS4xNDkgLTIwMi43OTNDMTMwLjE3MSAtMTkwLjgzNyAxMjcuOTk0IC0xNzkuMjU5IDEyNC42MTcgLTE2OC4wMkMxMjAuMDQxIC0xNTIuNzc5IDExNS40MzggLTEzNy41NTEgMTEwLjg0OSAtMTIyLjMyMkMxMDYuMjczIC0xMDcuMDgxIDEwMS4yNzkgLTkxLjk2OTkgOTUuODk0MyAtNzcuMDAyM0M4NS41OTQzIC00OC42MDU3IDc5LjQyNzQgLTE5LjQyNjcgNzcuNDA2NSAxMC41NjA2Qzc3LjcxOTQgMTIuNDEyIDc4LjA0NTMgMTQuMjYzNSA3OC4zNTgzIDE2LjA4ODhDNzguNjcxMiAxNy45NDAyIDc5LjI3MDkgMjAuMyA4MC4xNzA1IDIzLjE5NDRNMTEwLjkxNCAtMjk2Ljc1N0MxMDkuNTQ1IC0yOTguMDM1IDEwNy4zMTYgLTI5OS4zNTIgMTA0LjIzOSAtMzAwLjczNEMxMDEuMTYyIC0zMDIuMDkgOTguMjQxMiAtMzA0LjA1OSA5NS41NDIzIC0zMDYuNjI3QzkwLjA3OTQgLTMxMS43NzcgODYuOTc2MyAtMzE4LjE2NiA4Ni4yMzMyIC0zMjUuODE5Qzg1LjQ2NCAtMzMzLjQ3MiA4Ny4zODA1IC0zNDAuNTUyIDkxLjk2OTkgLTM0Ny4wNThDOTMuMjIxNSAtMzQ4LjQxNCA5NC4xNDcyIC0zNDkuMjM1IDk0LjY4MTggLTM0OS41MjJDOTUuMTkwMyAtMzQ5Ljc5NiA5Ni4xMDI5IC0zNTAuNjA0IDk3LjM5MzcgLTM1MS45OTlDMTA5LjY3NSAtMzU3LjkwNiAxMjIuNDE0IC0zNTYuNjkzIDEzNS42MzQgLTM0OC4zMzZDMTQ2Ljk1MSAtMzQyLjMyNSAxNTIuMDg4IC0zMzMuMzE2IDE1MS4xMzYgLTMyMS4zNkwxNDguMjI5IC0zMTEuNzM4QzE0NC42NjkgLTI5Ny4wNyAxMzUuNTY5IC0yOTEuNTAzIDEyMC45MTQgLTI5NS4wNjJDMTE5LjA1IC0yOTQuNzIzIDExNS43MzggLTI5NS4yOTcgMTEwLjkxNCAtMjk2Ljc0NCIgZmlsbD0iI0Y1RjVGNyIvPgo8cGF0aCBkPSJNMjQyLjc2NyAyMTUuNTE4QzI0NS4wODggMjEzLjU4OCAyNDcuMjc4IDIxMi4xMDIgMjQ5LjM3NyAyMTAuOTY4QzI1MS40NSAyMDkuODU5IDI1My41MzYgMjA4Ljc1MSAyNTUuNjIyIDIwNy42MDRDMjc0LjIyNyAxOTIuMjg0IDI5MC41NzcgMTc3LjE2IDMwNC43MjMgMTYyLjE5M0MzMTUuNjg4IDE0OC45NDYgMzI2LjYxNCAxMzUuODU2IDMzNy40ODggMTIyLjk4N0MzNDguMzYxIDExMC4xMTkgMzU4Ljg4MyA5Ni45Mzc1IDM2OS4wNjYgODMuNDE3MUMzNzYuNDQ1IDczLjQzMDEgMzg0LjU4MSA2My44NjAyIDM5My40NDcgNTQuNzQ2NkM0MDIuMyA0NS42NDYxIDQxMC44MjYgMzYuMjMyNyA0MTkuMDAxIDI2LjQ4MDNDNDIxLjgwNCAyMi45NzMxIDQyNC4yMjkgMjAuMDAwNCA0MjYuMjg5IDE3LjU0OTNDNDI4LjMyMyAxNS4xMjQzIDQzMC41MDEgMTIuOTMzOCA0MzIuODM1IDExLjAxNzNDNDM0LjkwOCA5LjkwOTA2IDQzNi43NDYgOS41ODMwMSA0MzguMzYzIDEwLjA2NTRDNDM5Ljk1MyAxMC41NDc5IDQ0MS43OTIgMTAuMjQ4IDQ0My45MDQgOS4xMTM3MUM0NDMuMTg3IDExLjUxMjcgNDQyLjgyMiAxMy4zOTAzIDQ0Mi44ODcgMTQuNjk0QzQ0Mi45MjYgMTYuMDIzOSA0NDIuMjg3IDE3LjM2NjggNDQxLjAwOSAxOC43MjI3QzQyNC42NDcgNDYuOTYzIDQwNy42ODQgNzIuODE3MyAzOTAuMTIyIDk2LjMxMTdDMzc2LjY0MSAxMTQuOTU2IDM2My4xNDcgMTMyLjkwOSAzNDkuNjM5IDE1MC4yMjRDMzM2LjEwNiAxNjcuNTI1IDMyMi4yMiAxODUuMzYxIDMwNy45NDQgMjAzLjc1OEMzMDEuNTI5IDIxMC41MzcgMjk1LjM4OCAyMTcuMiAyODkuNDk1IDIyMy43MTlDMjgzLjU4OSAyMzAuMjI1IDI3Ny40MzUgMjM2LjkgMjcxLjAyIDI0My42NjdDMjU4LjkyMSAyNTQuODggMjQ0LjQ4OCAyNTkuMjM0IDIyNy43MzQgMjU2Ljc5NkMxOTYuODYgMjUxLjg4MSAxNzYuMDI1IDIzNi44NzQgMTY1LjIxNyAyMTEuNzg5QzE1NC42OTUgMTg4LjU2OCAxNDkuNTMyIDE2Ni41MDggMTQ5LjcwMiAxNDUuNjA4QzE0Ny45NDIgMTEzLjY3OCAxNDguMzA3IDgxLjk0MzggMTUwLjgxIDUwLjQxOEMxNTMuMyAxOC44NzkyIDE1OC4zMiAtMTIuMzIwNyAxNjUuODY5IC00My4yMDc3QzE4MC4xNzIgLTEwNS4yMDMgMTk4LjU2OCAtMTY2LjQwMyAyMjEuMTExIC0yMjYuODA4QzIzMi4wODkgLTI1Ny41MjYgMjQ0LjQyMyAtMjg3LjYxOCAyNTguMSAtMzE3LjA5NkMyNzEuNzc2IC0zNDYuNTc1IDI4Ni4zNzkgLTM3NS41MDcgMzAxLjk3MiAtNDA0LjAwOEMzMTIuOTUgLTQyNS45OSAzMjQuNjMyIC00NDcuMzQ2IDMzNi45NzkgLTQ2OC4wNjNDMzQ5LjMxMyAtNDg4Ljc1NCAzNjIuNDk1IC01MDkuMjI0IDM3Ni40MzIgLTUyOS40NTlDNDAzLjg2NCAtNTY4LjI5OSA0MzQuMTkgLTYwMy42NzEgNDY3LjM5OCAtNjM1LjU3NUM0NzUuNjM4IC02NDIuNjgxIDQ4My45OTUgLTY0OS4zMTcgNDkyLjQwNSAtNjU1LjUxQzUwMC44MjggLTY2MS42NzcgNTEwLjM5NyAtNjY2LjY1OCA1MjEuMTU0IC02NzAuMzk5QzU0NS4yNzQgLTY3Ny45NjEgNTY3LjcxMiAtNjc2Ljg3OSA1ODguMzkxIC02NjcuMTY2QzYwNC43MjcgLTY2MC40NzggNjEzLjY3MSAtNjQ5LjUxMyA2MTUuMjEgLTYzNC4yMTlDNjE3LjU5NiAtNjI0Ljc1NCA2MTguMTk1IC02MTMuNjcxIDYxNi45ODMgLTYwMC45NTlDNjEwLjMyIC01NTguNDgxIDU5Ny44NTYgLTUxNS41MzQgNTc5LjU1MSAtNDcyLjE5NkM1NjUuNDMxIC00MzkuODIzIDU0OS4wODEgLTQwOC43NTMgNTMwLjUyOCAtMzc5LjAwMUM1MTEuOTM2IC0zNDkuMjYxIDQ5Mi42MTQgLTMxOS45NTIgNDcyLjYgLTI5MS4wOTlDNDY1LjQ1NiAtMjgxLjkyIDQ1Ny45NDYgLTI3MS41MDMgNDUwLjEyMyAtMjU5LjkxMkM0MzMuNTc4IC0yMzYuOTc4IDQxNS42MzcgLTIxNS4xMjYgMzk2LjI4OSAtMTk0LjM1N0MzNzYuOTAyIC0xNzMuNTYxIDM1NS44NDUgLTE1NC4zOTYgMzMzLjA2OCAtMTM2LjgyQzMyMC4zODIgLTEyNi42OSAzMTIuNTMzIC0xMTUuMDg2IDMwOS40ODIgLTEwMi4wNDhDMzA0LjE4OSAtODQuNDQ2OCAyOTguOTc0IC02Ny4wNDExIDI5My43OTggLTQ5Ljg0NEMyODguNjIxIC0zMi42NDY5IDI4My43NzEgLTE1LjExMDggMjc5LjI4NiAyLjcxMjFDMjc1LjI3MSAxOC45NzA1IDI3MS4zMDcgMzQuOTgxIDI2Ny40MjIgNTAuODM1MkMyNjMuNTIzIDY2LjY2MzMgMjU5Ljk2NCA4Mi44NDM0IDI1Ni43NyA5OS4zMzY1QzI1My41NDkgMTE1LjgwMyAyNTAuNjgxIDEzMi42MjIgMjQ4LjE1MiAxNDkuNzQxQzI0NS42MDkgMTY2Ljg2IDI0My4xMzIgMTgzLjc5NyAyNDAuNzQ2IDIwMC40OThDMjQxLjA0NiAyMDIuMzM3IDI0MS4zMDcgMjA0LjM5NiAyNDEuNTE1IDIwNi42MTNDMjQxLjY5OCAyMDguODY4IDI0Mi4xMjggMjExLjg0MSAyNDIuNzggMjE1LjUxOE01NjQuMzIyIC02MjIuMDgxQzU2MS43MjggLTYxOS4zNDMgNTU4LjExNiAtNjE2LjA4MyA1NTMuNDg4IC02MTIuMjM3QzU0Mi4yMzYgLTU5OC4xNjkgNTMwLjk1OCAtNTgzLjkwNiA1MTkuNjI4IC01NjkuNDU5QzUwOC4yNTkgLTU1NC45ODcgNDk4LjA1IC01MzkuOTQxIDQ4OS4wMTUgLTUyNC4zNzRDNDU5LjIzNiAtNDc0Ljg2OSA0MzIuNzY5IC00MjMuOTU2IDQwOS42MDEgLTM3MS42MDhDMzg2LjQxOSAtMzE5LjI0OCAzNjUuMTkzIC0yNjUuNDQgMzQ1LjkzNiAtMjEwLjE3MkMzNDUuNzAyIC0yMDkuMzc3IDM0NS43MDIgLTIwOC43MTIgMzQ2LjAxNSAtMjA4LjE5QzM0Ni4yNjIgLTIwNy42NTYgMzQ2LjE4NCAtMjA2LjU4NyAzNDUuNzE1IC0yMDUuMDA5QzM0OS4zNzggLTIwNS42MjIgMzUxLjM2IC0yMDYuMzM5IDM1MS42MDggLTIwNy4xNDdDMzU1LjQ2NyAtMjExLjIxNSAzNTkuNTA5IC0yMTUuMjMxIDM2My43NDYgLTIxOS4xOTRDMzY3Ljk5NyAtMjIzLjE0NSAzNzEuNzY1IC0yMjcuNjgyIDM3NS4wNzYgLTIzMi44MTlDNDAyLjg4NiAtMjY3LjE2MSA0MjguNzE0IC0zMDIuMTQyIDQ1Mi41MzUgLTMzNy43MzZDNDc2LjM2OCAtMzczLjMwMyA0OTguNTMzIC00MTAuNjk2IDUxOS4wNjggLTQ0OS44ODhDNTQzLjg1MyAtNDk3LjM3MiA1NTkuNTc3IC01NDYuNzM0IDU2Ni4yNTIgLTU5Ny45MzRDNTY2LjY0MyAtNjAyLjE4NSA1NjYuOTE3IC02MDYuMDE4IDU2Ny4xIC02MDkuNDZDNTY3LjI0MyAtNjEyLjkwMiA1NjYuMzE3IC02MTcuMSA1NjQuMzM2IC02MjIuMDgxIiBmaWxsPSIjRjVGNUY3Ii8+CjxwYXRoIGQ9Ik02OTYuNTE1IDE4OS4wNjRDNzA0LjYzOCAxODQuMzk2IDcxMi42ODIgMTc5LjYxMSA3MjAuNjg4IDE3NC43MzVWMTM0LjA1N0M2OTcuODE5IDE0OC41MDMgNjczLjgwMyAxNTkuNjM3IDY0OC42MDEgMTY3LjQyMUM2MjIuMDgyIDE3NS42MzUgNTk0LjU1OCAxODAuNjY3IDU2Ni4wMTggMTgyLjU1OEM1NTAuOTIgMTgzLjI2MiA1NDEuMjk4IDE4MS44OTMgNTM3LjEgMTc4LjQzOEM1MzIuODc2IDE3NS4wMDkgNTI5LjA5NSAxNjUuNzUyIDUyNS43NTcgMTUwLjc0NUw1MjMuOTU4IDEzMC41NDlDNTIzLjMzMiAxMTguMTI0IDUyNC43NjYgMTA2Ljc1NSA1MjguMzM5IDk2LjQyODlDNTMxLjg1OSA4Ni4xNTUgNTM2LjEyMiA3NS42MjAzIDU0MS4xMTYgNjQuODc3QzU0NS42MTQgNjQuNDg1OSA1NDkuNTY0IDY0LjM2ODUgNTUzLjAzMiA2NC41MzhDNTU2LjQ3NSA2NC42OTQ1IDU2MC40MzggNjQuNTc3MSA1NjQuOTQ5IDY0LjE3MjlDNTg1Ljg3NSA2NC4zNjg1IDYwNy42MzYgNjEuNzQ3OSA2MzAuMjY5IDU2LjI4NDlDNjUyLjA4MiA1MC42MjY1IDY3MC40IDQxLjI3ODIgNjg1LjI3NyAyOC4yNTMzQzY5NC45MzggMTkuNzc4NiA3MDQuMDI1IDEwLjM3ODMgNzEyLjU2NSAwLjA5MTMwODZINjM5LjUyNkM2MjAuMjU2IDE2Ljk4ODUgNTk2Ljk0NCAyNy40ODQxIDU2OS41MzkgMzEuNDYwN0M1NjcuNjYxIDMxLjc3MzYgNTY2LjM1NyAzMS44MTI3IDU2NS41NzUgMzEuNTY1QzU2NC43NTQgMzEuMzMwMyA1NjMuODI4IDMxLjUxMjggNTYyLjgxMSAzMi4wNDc0QzU2MS45OSAzMS44MTI3IDU2MS42NTEgMzEuNDk5OCA1NjEuNzgxIDMxLjA4MjZDNTYxLjg5OCAzMC42OTE1IDU2MS41NDYgMzAuMzY1NSA1NjAuNzUxIDMwLjEzMDhDNTYwLjk5OSAyOS4zMzU1IDU2MC45MDcgMjguODY2MSA1NjAuNTE2IDI4Ljc2MThDNTYwLjA5OSAyOC42MTg0IDU2MC4wMzQgMjguMTYyIDU2MC4yOTUgMjcuMzUzN0M1NjUuMzc5IDE4LjE3NDkgNTcwLjc3NyA5LjEwMDU1IDU3Ni40MzYgMC4wOTEzMDg2SDQzMC4xNzZDNDI0LjIwNCAxMi42NzMgNDE5LjA1NCAyNS45NDU2IDQxNC44MyAzOS45ODc1QzQwNi40NzMgNjEuOTU2NSA0MDQuMjgyIDgyLjI2OTcgNDA4LjI4NSAxMDAuOTY2QzQxMi4wMTQgMTIwLjQ1OCA0MTguODMzIDEzOC40NjMgNDI4LjcyOCAxNTQuOTgyQzQzOC42MTEgMTcxLjUyOCA0NTIuNDU4IDE4NS4wODcgNDcwLjI1NCAxOTUuN0M0OTAuNzM3IDIwOC44ODEgNTEyLjE0NSAyMTcuNzIxIDUzNC40MDEgMjIyLjI0NUM1NTYuNjQ0IDIyNi43NTcgNTc5Ljg2NSAyMjYuNTA5IDYwNC4xMTUgMjIxLjU2N0M2MDkuNjQzIDIyMC42MTYgNjE1LjI2MyAyMTkuNDY4IDYyMC45MjEgMjE4LjA5OUM2MjYuNTY3IDIxNi43NTYgNjMyLjI3NyAyMTUuMTkyIDYzOC4wNTMgMjEzLjQxOUM2NTkuMDU3IDIwNy41MjUgNjc4LjU2MiAxOTkuMzkgNjk2LjU0MSAxODkuMDc3IiBmaWxsPSIjRjVGNUY3Ii8+CjwvZz4KPGRlZnM+CjxjbGlwUGF0aCBpZD0iY2xpcDBfMjgyMF82OTk5MSI+CjxyZWN0IHdpZHRoPSI3MjEiIGhlaWdodD0iMjU2Ljg0OCIgZmlsbD0id2hpdGUiLz4KPC9jbGlwUGF0aD4KPC9kZWZzPgo8L3N2Zz4K\");background-repeat:no-repeat;background-size:contain}@media (min-width: 48em){/*!@.duet-page-heading .background .background-mask*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .background-mask.sc-duet-page-heading{top:-40px;width:502px;height:577px}}/*!@.duet-page-heading .background .brand-shape*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shape.sc-duet-page-heading{position:absolute;top:-157px;right:-20px;width:185px;height:185px;background:rgb(0, 119, 179);border-radius:20%;mix-blend-mode:normal;opacity:0.2;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-page-heading .background .brand-shape*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shape.sc-duet-page-heading{top:-280px;right:-40px;width:325px;height:325px}}/*!@.duet-page-heading .background .brand-shape.second-shape*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shape.second-shape.sc-duet-page-heading{top:-182px;right:100px;width:207px;height:207px;background:rgb(11, 114, 136);opacity:0.1}@media (min-width: 48em){/*!@.duet-page-heading .background .brand-shape.second-shape*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shape.second-shape.sc-duet-page-heading{top:-325px;right:200px;width:365px;height:365px}}/*!@.duet-page-heading .background .brand-shaped-icon*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading{position:absolute;top:20px;right:16px;display:flex;align-items:center;justify-content:center;width:85px;width:60px;height:85px;height:60px;background:rgba(0, 119, 179, 0.75);border-radius:25%;mix-blend-mode:normal;transform:rotate(7deg)}@media (min-width: 48em){/*!@.duet-page-heading .background .brand-shaped-icon*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading{right:36px;width:93px;height:93px}}/*!@.duet-page-heading .background .brand-shaped-icon duet-icon*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading duet-icon.sc-duet-page-heading{width:60px;height:60px;transform:rotate(-7deg)}@media (min-width: 48em){/*!@.duet-page-heading .background .brand-shaped-icon duet-icon*/.duet-page-heading.sc-duet-page-heading .background.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading duet-icon.sc-duet-page-heading{width:75px;height:75px}}/*!@.duet-page-heading.duet-theme-turva*/.duet-page-heading.duet-theme-turva.sc-duet-page-heading{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(0, 41, 77)}/*!@.duet-page-heading.duet-theme-turva .brand-shaped-icon*/.duet-page-heading.duet-theme-turva.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading{background:rgba(198, 12, 48, 0.9);-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}/*!@.duet-page-heading.duet-theme-turva .brand-shaped-icon duet-icon*/.duet-page-heading.duet-theme-turva.sc-duet-page-heading .brand-shaped-icon.sc-duet-page-heading duet-icon.sc-duet-page-heading{position:relative;top:-3px}";

/**
 * @slot heading - This is a slot for heading content.
 */
class DuetPageHeading {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.icon = "";
        this.layout = "narrow";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync("div", { class: {
                "duet-page-heading": true,
                "duet-theme-turva": this.theme === "turva",
                [this.layout]: true,
            } }, hAsync("div", { class: "background" }, this.theme === "turva" && hAsync("div", { class: "background-mask" }), this.theme !== "turva" && hAsync("div", { class: "brand-shape" }), this.theme !== "turva" && hAsync("div", { class: "brand-shape second-shape" }), this.icon && (hAsync("div", { class: "brand-shaped-icon" }, hAsync("duet-icon", { background: "none", name: this.icon, margin: "none", size: "auto", responsive: false })))), hAsync("div", { class: "heading" }, hAsync("slot", { name: "heading" }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetPageHeadingCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-page-heading",
        "$members$": {
            "theme": [1025],
            "icon": [1025],
            "layout": [1025]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const shouldDisplayNavigation = (visibleItems, total, take) => {
    if (visibleItems * 2 > total / take) {
        return false;
    }
    return true;
};

const duetPaginationCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-pagination,*.sc-duet-pagination::after,*.sc-duet-pagination::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-pagination-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}/*!@.duet-pagination-nav*/.duet-pagination-nav.sc-duet-pagination{position:relative}/*!@.duet-pagination ::part(button)*/.duet-pagination.sc-duet-pagination .sc-duet-pagination::part(button){border:0}/*!@.duet-pagination, .duet-pagination li*/.duet-pagination.sc-duet-pagination,.duet-pagination.sc-duet-pagination li.sc-duet-pagination{display:flex;flex-wrap:wrap;gap:0.1rem;align-items:center}/*!@.duet-pagination-item-is-active .duet-pagination-page-number*/.duet-pagination-item-is-active.sc-duet-pagination .duet-pagination-page-number.sc-duet-pagination{border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:2px}/*!@.duet-pagination duet-button*/.duet-pagination.sc-duet-pagination duet-button.sc-duet-pagination{width:30px;min-width:36px;font-weight:600;text-decoration:none;border-left-width:0}/*!@.duet-pagination-overlay*/.duet-pagination-overlay.sc-duet-pagination{position:absolute;top:1rem;z-index:300;width:100%;text-align:center}/*!@.duet-pagination.duet-pagination-is-dimmed*/.duet-pagination.duet-pagination-is-dimmed.sc-duet-pagination{opacity:0.5}/*!@.duet-pagination .duet-pagination-select*/.duet-pagination.sc-duet-pagination .duet-pagination-select.sc-duet-pagination{margin:0 4px 0 12px !important}/*!@.duet-pagination-total-pages*/.duet-pagination-total-pages.sc-duet-pagination{margin:0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600 !important;line-height:1.25;color:rgb(0, 41, 77);text-align:left}/*!@:host(.duet-theme-turva) .duet-pagination-total-pages*/.duet-theme-turva.sc-duet-pagination-h .duet-pagination-total-pages.sc-duet-pagination{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}";

/**
 * @part navigation-arrow - this part enables style overrides for the navigation-arrow
 * @part navigation-jump - this part enables style overrides for the navigation-jump
 * @part navigation-overlay - this part enables style overrides for the navigation-overlay
 * @part navigation-section - this part enables style overrides for the navigation-section
 */
class DuetPagination {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetPageChange = createEvent$2(this, "duetPageChange", 3);
        this.listId = createID("duet-pagination-list");
        // not in state because we don't want to trigger a render
        this.firstRenderDone = false;
        this.handleMediaQueryChange = (mq) => {
            this.matchesCompactBreakpoint = breakpointTokensUpTo.includes(this.compactBreakpoint) ? mq.matches : !mq.matches;
        };
        // called from the watcher and used to make sure any changed to current also updates the internal section index
        this.actionChain = async (after, before) => {
            if (after === 0) {
                this.current = 1;
            }
            else if (after > this.totalPages) {
                this.current = this.totalPages;
            }
            else if (before !== after) {
                const calculatedSectionIndex = Math.ceil(after / this.visibleItems) - 1;
                if (calculatedSectionIndex !== this.internalSectionIndex) {
                    this.internalSectionIndex = calculatedSectionIndex;
                    await this.setFocus();
                }
            }
            return true;
        };
        //helper to emit relevant page events
        this.emitPageEvent = (ev, passedPage) => {
            const page = Number(passedPage || this.current);
            this.duetPageChange.emit({
                component: "duet-pagination",
                from: page * this.take,
                to: page * this.take + this.take,
                current: page,
                take: this.take,
                type: "page",
                originalEvent: ev,
            });
        };
        // this will return the entered number, or the current page if the user presses enter
        this.getEnteredNumber = debounce(ev => {
            this.emitPageEvent(ev, this.numbersStore);
            this.current = Number(this.numbersStore);
            this.numbersStore = "";
            this.duetPageChange.emit({
                component: "duet-pagination",
                from: this.current * this.take,
                to: this.current * this.take + this.take,
                current: this.current,
                take: this.take,
                type: "jump",
                originalEvent: ev,
            });
        }, 500);
        this.processedPageLinks = null;
        this.numbersStore = "";
        this.matchesCompactBreakpoint = false;
        this.totalPages = 10;
        this.internalSectionIndex = 0;
        this.theme = "";
        this.variation = "default";
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleLabelsDefaults = {
            en: {
                next_page: "Next page",
                previous_page: "Previous page",
                first_page: "First page",
                last_page: "Last page",
                jump_to: "Jump to page",
                go_to: "Go to page",
                description: "You may use arrow keys to select page number",
                pagination_label: "Pagination, choose a number to jump to a page",
                select_label: "Total pages {0}, choose a number to jump to a page",
                prev_section: "Show previous {0} page numbers, screen reader user should use arrowkeys to navigate",
                next_section: "Show next {0} page numbers, screen reader user should use arrowkeys to navigate",
            },
            fi: {
                next_page: "Seuraava sivu",
                previous_page: "Edellinen sivu",
                first_page: "Ensimmäinen sivu",
                last_page: "Viimeinen sivu",
                jump_to: "Siirry sivulle",
                go_to: "Siirry sivulle",
                description: "Voit käyttää nuolinäppäimiä sivunumeron valitsemiseen",
                pagination_label: "Sivutus, valitse sivunumero siirtyäksesi sivulle",
                select_label: "Sivuja yhteensä {0}, valitse sivunumero siirtyäksesi sivulle",
                prev_section: "Näytä edelliset {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi",
                next_section: "Näytä seuraavat {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi",
            },
            sv: {
                next_page: "Nästa sida",
                previous_page: "Föregående sida",
                first_page: "Första sidan",
                last_page: "Sista sidan",
                jump_to: "Hoppa till sida",
                go_to: "Hoppa till sida",
                description: "Du kan använda piltangenterna för att välja sida",
                pagination_label: "Paginering, välj en siffra för att hoppa till en sida",
                select_label: "Totalt antal sidor {0}, välj en siffra för att hoppa till en sida",
                prev_section: "Visa föregående {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera",
                next_section: "Visa nästa {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera",
            },
        };
        this.accessibleLabels = getLocaleString(this.accessibleLabelsDefaults);
        this.take = 5;
        this.visibleItems = 5;
        this.total = 1000;
        this.compactBreakpoint = "x-small";
        this.ariaControls = "";
        this.current = 1;
        this.pageLinks = undefined;
    }
    watchPropTotalHandler( /*newValue: boolean, oldValue: boolean*/) {
        this.calculatePageTake();
        return true;
    }
    watchStateHandler(newValue, oldValue) {
        return this.actionChain(newValue, oldValue);
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        // we want to keep the internal current index in sync with the current prop, but take advantage of the multiple with 0 for the first iteration
        this.internalSectionIndex = Math.ceil(this.current / this.visibleItems) - 1;
        this.calculatePageTake();
        inheritGlobalTheme(this);
        this.refresh();
    }
    componentDidLoad() {
        this.firstRenderDone = true;
    }
    componentWillRender() {
        if (this.internalSectionIndex !== 0 && this.internalSectionIndex !== this.totalPages) {
            this.calculatePageTake();
        }
    }
    componentDidRender() {
        if (this.firstRenderDone && !this.processedPageLinks) {
            this.setFocus();
        }
    }
    connectedCallback() {
        {
            return;
        }
    }
    disconnectedCallback() {
        {
            return;
        }
    }
    /**
     * Private methods.
     */
    async refresh() {
        this.processedPageLinks = parsePossibleJSON(this.pageLinks);
    }
    //get totalpages from visible and total
    calculatePageTake() {
        this.totalPages = Math.ceil(this.total / this.take);
    }
    //set update current when mouse click on page number
    async onMouseHandler(e, dir) {
        if (!this.processedPageLinks) {
            e.preventDefault();
            e.stopPropagation();
            this.current = this.current + dir;
        }
        this.emitPageEvent(e);
    }
    //handle a11y keyboard navigation events
    async onKeyboardDown(e) {
        let next = this.current;
        // handle a11y based keyboard navigation for left/right/up/down
        if (isArrowLeftKey(e) || isArrowUpKey(e)) {
            next--;
        }
        if (isArrowRightKey(e) || isArrowDownKey(e)) {
            next++;
        }
        if (isArrowKey(e)) {
            if (next <= this.totalPages) {
                this.current = next;
                if (this.processedPageLinks) {
                    this.emitPageEvent(e, next - 1);
                    window.open(this.processedPageLinks[next - 1], "_self", "");
                }
                else {
                    this.emitPageEvent(e);
                }
            }
        }
        //handle the jump feature, where numbers can be entered
        // this isn't supported in NVDA where the number buttons are used by NVDA itself
        // and because of that the feature is not announced for screenreaders
        if (isNumber(e) && this.shouldDisplayNavigation()) {
            this.numbersStore = this.numbersStore + e.key;
            if (Number(this.numbersStore) > this.totalPages) {
                this.numbersStore = this.totalPages + "";
            }
            this.getEnteredNumber(e);
        }
    }
    // utility to set focus on active button
    async setFocus() {
        const currentDomElement = this.nativeNav.querySelector(`[data-id='${this.current}']`);
        currentDomElement && (await currentDomElement.setFocus());
    }
    //handles click on page numbers
    pageClickHandler(e) {
        const clickedId = Number(e.target.getAttribute("data-id"));
        if (!this.processedPageLinks) {
            e.preventDefault();
            this.current = clickedId;
        }
        this.emitPageEvent(e, clickedId);
    }
    selectClickHandler(e) {
        e.preventDefault();
        const clickedId = Number(e.target.value);
        this.current = clickedId;
        if (this.processedPageLinks) {
            this.emitPageEvent(e, clickedId - 1);
            window.open(this.processedPageLinks[clickedId - 1], "_self", "");
        }
        else {
            this.emitPageEvent(e, clickedId);
        }
    }
    //handles click on the next section buttons
    sectionClickHandler(e, direction) {
        e.preventDefault();
        let next = this.internalSectionIndex + direction;
        const takePerVisibleItems = this.take * this.visibleItems;
        if (next * takePerVisibleItems > this.total) {
            next = this.internalSectionIndex;
        }
        const newSection = next;
        this.internalSectionIndex = newSection >= 0 ? newSection : 0;
    }
    //handles click on the jump (1)button
    jumpToStart(e) {
        if (!this.processedPageLinks) {
            e.preventDefault();
            this.internalSectionIndex = 0;
            this.current = 1;
        }
        this.emitPageEvent(e);
    }
    //handles click on the jump (total) button
    jumpToEnd(e) {
        if (!this.processedPageLinks) {
            e.preventDefault();
            this.internalSectionIndex = Math.ceil(this.totalPages / this.take - 1);
            this.current = this.totalPages;
        }
        this.emitPageEvent(e);
    }
    renderPageButton(pageNumber) {
        return (hAsync("duet-button", { class: {
                "duet-pagination-link": true,
            }, id: `page-${pageNumber}-button`, color: pageNumber !== this.current
                ? this.theme !== "turva"
                    ? "secondary"
                    : "secondary-turva"
                : this.theme !== "turva"
                    ? "primary"
                    : "primary-turva", "data-id": pageNumber, "center-text": true, variation: "plain", margin: "none", accessibleLabel: `${this.accessibleLabels.go_to} ${pageNumber}`, onClick: e => this.pageClickHandler(e), theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[pageNumber - 1] : undefined }, hAsync("div", { class: "duet-pagination-page-number", "aria-hidden": true }, pageNumber)));
    }
    // render the individual page numbers
    renderPageNumbers() {
        const items = [];
        let i = this.internalSectionIndex * this.visibleItems;
        do {
            i++;
            if (i > this.totalPages) {
                break;
            }
            items.push(hAsync("li", { class: {
                    "duet-pagination-item": true,
                    "duet-pagination-item-is-active": i === this.current,
                }, role: "menuitem" }, this.renderPageButton(i)));
        } while (i < this.visibleItems + this.internalSectionIndex * this.visibleItems);
        return items;
    }
    renderSelect() {
        const items = [];
        for (let i = 1; i <= this.totalPages; i++) {
            items.push({
                value: i.toString(),
                label: i.toString(),
            });
        }
        const select = (hAsync("duet-select", { theme: this.theme, class: "duet-pagination-select", variation: "compact", items: JSON.stringify(items), value: this.current.toString(), label: this.accessibleLabels.select_label.replace("{0}", `${this.totalPages}`), labelHidden: true, onDuetChange: e => this.selectClickHandler(e) }));
        return (hAsync("li", null, select, hAsync("span", { class: "duet-pagination-total-pages", "aria-hidden": "true" }, "/ ", this.totalPages)));
    }
    shouldDisplayNavigation() {
        if (this.variation !== "compact" && !this.matchesCompactBreakpoint) {
            return shouldDisplayNavigation(this.visibleItems, this.total, this.take);
        }
        return false;
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { onKeyDown: e => this.onKeyboardDown(e), class: { "duet-theme-turva": this.theme === "turva" } }, hAsync("nav", { role: "navigation", "aria-labelledby": this.accessibleLabelledBy ? `${this.accessibleLabelledBy} ${this.listId}` : this.listId, "aria-describedby": this.accessibleDescribedBy ? `${this.accessibleDescribedBy} ${this.listId}` : this.listId, "aria-descriptions": this.accessibleDescription, "aria-details": this.accessibleDetails, ref: el => (this.nativeNav = el), "aria-controls": this.ariaControls, class: {
                "duet-pagination-nav": true,
                [`duet-pagination-variation-${this.variation}`]: true,
            } }, this.numbersStore !== "" && (hAsync("div", { "aria-live": "assertive", "aria-relevant": "text", class: "duet-pagination-overlay", "aria-label": `${this.accessibleLabels.jump_to} ${this.numbersStore}`, part: "navigation-overlay" }, hAsync("duet-badge", { theme: this.theme }, "jump to page : ", this.numbersStore))), hAsync("ol", { id: this.listId, class: {
                "duet-pagination": true,
                "duet-pagination-is-dimmed": this.numbersStore !== "",
            }, role: "menubar", "aria-label": this.accessibleLabels.pagination_label, "aria-description": this.accessibleLabels.description }, (this.variation === "compact" || this.matchesCompactBreakpoint) && (hAsync("li", { class: {
                "duet-pagination-page-button": true,
                "duet-pagination-button-first": true,
            }, role: "menuitem", part: "navigation-arrow" }, hAsync("duet-action-button", { disabled: this.internalSectionIndex === 0 && this.current <= 1, "data-direction": "back", accessibleLabel: this.accessibleLabels.first_page, title: this.accessibleLabels.first_page, onClick: e => this.jumpToStart(e), "icon-name": "action-move-to-first", theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[0] : undefined }))), hAsync("li", { class: {
                "duet-pagination-page-button": true,
                "duet-pagination-button-first": true,
            }, role: "menuitem", part: "navigation-arrow" }, hAsync("duet-action-button", { disabled: !!((this.internalSectionIndex === 0 && this.current <= 1) ||
                (this.current <= 1 && this.processedPageLinks)), "data-direction": "back", onClick: e => this.onMouseHandler(e, -1), "accessible-label": this.accessibleLabels.previous_page, title: this.accessibleLabels.previous_page, "icon-name": "action-arrow-left-small", theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[this.current - 2] : undefined })), this.internalSectionIndex !== 0 && this.shouldDisplayNavigation() && (hAsync(Fragment, null, hAsync("li", { class: "duet-pagination-item", role: "menuitem", part: "navigation-jump" }, hAsync("duet-button", { class: "duet-pagination-link duet-pagination-link-jump-back", "center-text": "true", variation: "plain", color: this.theme !== "turva" ? "secondary" : "secondary-turva", margin: "none", accessibleLabel: this.accessibleLabels.first_page, onClick: e => this.jumpToStart(e), theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[0] : undefined }, hAsync("div", { class: "duet-pagination-page-number" }, "1"))), hAsync("li", { class: "duet-pagination-item", role: "menuitem", part: "navigation-section" }, hAsync("duet-button", { class: "duet-pagination-link duet-pagination-link-dots-back", "center-text": "true", color: this.theme !== "turva" ? "secondary" : "secondary-turva", variation: "plain", margin: "none", accessibleLabel: this.accessibleLabels.prev_section.replace("{0}", `${this.visibleItems}`), onClick: e => this.sectionClickHandler(e, -1), theme: this.theme }, hAsync("div", { class: "duet-pagination-page-number", "aria-hidden": "true" }, "\u2026"))))), (this.shouldDisplayNavigation() && this.renderPageNumbers()) || this.renderSelect(), (this.internalSectionIndex + 1) * this.visibleItems < this.totalPages &&
            this.shouldDisplayNavigation() && (hAsync(Fragment, null, (this.internalSectionIndex + 1) * this.visibleItems !== this.totalPages - 1 && (hAsync("li", { class: "duet-pagination-item", role: "menuitem", part: "navigation-section" }, hAsync("duet-button", { class: "duet-pagination-link duet-pagination-link-dots-forward", "center-text": "true", color: this.theme !== "turva" ? "secondary" : "secondary-turva", variation: "plain", margin: "none", accessibleLabel: this.accessibleLabels.next_section.replace("{0}", `${this.visibleItems}`), onClick: e => this.sectionClickHandler(e, 1), theme: this.theme }, hAsync("div", { class: "duet-pagination-page-number", "aria-hidden": "true" }, "\u2026")))), hAsync("li", { class: "duet-pagination-item", role: "menuitem", part: "navigation-jump" }, hAsync("duet-button", { class: "duet-pagination-link duet-pagination-link-jump-forward", "center-text": "true", color: this.theme !== "turva" ? "secondary" : "secondary-turva", variation: "plain", margin: "none", accessibleLabel: this.accessibleLabels.last_page, onClick: e => this.jumpToEnd(e), theme: this.theme, url: this.processedPageLinks
                ? this.processedPageLinks[this.processedPageLinks.length - 1]
                : undefined }, hAsync("div", { class: "duet-pagination-page-number" }, this.totalPages))))), hAsync("li", { class: {
                "duet-pagination-page-button": true,
                "duet-pagination-button-last": true,
            }, role: "menuitem", part: "navigation-arrow" }, hAsync("duet-action-button", { disabled: !!((this.current === this.totalPages &&
                this.internalSectionIndex === Math.ceil(this.totalPages / this.visibleItems) - 1) ||
                (this.current === this.totalPages && this.processedPageLinks)), class: "duet-date-dialog-next", "accessible-label": this.accessibleLabels.next_page, title: this.accessibleLabels.next_page, onClick: e => this.onMouseHandler(e, 1), "icon-name": "action-move-to-next", theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[this.current] : undefined })), (this.variation === "compact" || this.matchesCompactBreakpoint) && (hAsync("li", { class: {
                "duet-pagination-page-button": true,
                "duet-pagination-button-last": true,
            }, role: "menuitem", part: "navigation-arrow" }, hAsync("duet-action-button", { disabled: this.current === this.totalPages &&
                this.internalSectionIndex === Math.ceil(this.totalPages / this.visibleItems) - 1, accessibleLabel: this.accessibleLabels.last_page, title: this.accessibleLabels.last_page, onClick: e => this.jumpToEnd(e), "icon-name": "action-move-to-last", theme: this.theme, url: this.processedPageLinks ? this.processedPageLinks[this.totalPages - 1] : undefined })))))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "total": ["watchPropTotalHandler"],
        "current": ["watchStateHandler"],
        "pageLinks": ["refresh"]
    }; }
    static get style() { return duetPaginationCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-pagination",
        "$members$": {
            "theme": [1025],
            "variation": [1],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleLabelsDefaults": [16],
            "accessibleLabels": [1040],
            "take": [2],
            "visibleItems": [2, "visible-items"],
            "total": [2],
            "compactBreakpoint": [1, "compact-breakpoint"],
            "ariaControls": [1, "accessible-controls"],
            "current": [1026],
            "pageLinks": [1025, "page-links"],
            "processedPageLinks": [32],
            "numbersStore": [32],
            "matchesCompactBreakpoint": [32],
            "totalPages": [32],
            "internalSectionIndex": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetParagraphCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-paragraph,*.sc-duet-paragraph::after,*.sc-duet-paragraph::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-paragraph-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;display:block;width:100%}/*!@.duet-paragraph*/.duet-paragraph.sc-duet-paragraph{margin-bottom:16px !important;display:block;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-style:normal;font-weight:400;font-variant-numeric:tabular-nums;-webkit-hyphens:auto;hyphens:auto;line-height:1.5;color:rgb(0, 41, 77)}/*!@.duet-paragraph.duet-p-0*/.duet-paragraph.duet-p-0.sc-duet-paragraph{padding:0 !important}/*!@.duet-paragraph.duet-m-0*/.duet-paragraph.duet-m-0.sc-duet-paragraph{margin:0 !important}/*!@.duet-paragraph.duet-theme-turva*/.duet-paragraph.duet-theme-turva.sc-duet-paragraph{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-paragraph.duet-paragraph-small*/.duet-paragraph.duet-paragraph-small.sc-duet-paragraph{font-size:0.875rem}/*!@.duet-paragraph.duet-paragraph-semi-bold*/.duet-paragraph.duet-paragraph-semi-bold.sc-duet-paragraph{font-weight:600}/*!@.duet-paragraph.duet-paragraph-bold*/.duet-paragraph.duet-paragraph-bold.sc-duet-paragraph{font-weight:700}/*!@.duet-paragraph.duet-m-0*/.duet-paragraph.duet-m-0.sc-duet-paragraph{margin:0 !important}/*!@.duet-paragraph.intro*/.duet-paragraph.intro.sc-duet-paragraph{font-size:2.7vw;margin-bottom:28px !important;-webkit-hyphens:inherit;hyphens:inherit}@media (max-width: 37.037037037rem){/*!@.duet-paragraph.intro*/.duet-paragraph.intro.sc-duet-paragraph{font-size:1rem}}@media (min-width: 46.2962962963rem){/*!@.duet-paragraph.intro*/.duet-paragraph.intro.sc-duet-paragraph{font-size:1.25rem}}/*!@.duet-paragraph.intro.duet-m-0*/.duet-paragraph.intro.duet-m-0.sc-duet-paragraph{margin:0 !important}/*!@::slotted(a)*/.sc-duet-paragraph-s>a{font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:normal;font-weight:400;color:rgb(0, 119, 179);text-decoration:underline;transition:300ms ease}/*!@::slotted(a).duet-theme-turva*/.sc-duet-paragraph-s>a.duet-theme-turva{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(198, 12, 48)}/*!@::slotted(a):hover*/.sc-duet-paragraph-s>a:hover{color:rgb(0, 77, 128);text-decoration:none}/*!@::slotted(a):hover.duet-theme-turva*/.sc-duet-paragraph-s>a:hover.duet-theme-turva{color:rgb(148, 9, 37)}/*!@::slotted(a):active*/.sc-duet-paragraph-s>a:active{opacity:0.75;transition:none}";

/**
 * @part duet-paragraph - piercing selector for styling the paragraph
 */
class DuetParagraph {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.size = "medium";
        this.weight = undefined;
        this.variation = "default";
        this.color = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const color = getColorByName(this.color);
        return (hAsync("p", { class: {
                "duet-paragraph": true,
                "duet-paragraph-small": this.size === "small",
                "duet-paragraph-semi-bold": this.weight === "semi-bold",
                "duet-paragraph-bold": this.weight === "bold",
                "duet-m-0": this.margin === "none",
                [this.variation]: true,
                "duet-theme-turva": this.theme === "turva",
            }, style: { color }, part: "duet-paragraph" }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get style() { return duetParagraphCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-paragraph",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "size": [1],
            "weight": [1],
            "variation": [1],
            "color": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const min$1 = Math.min;
const max$1 = Math.max;
const oppositeSideMap = {
  left: 'right',
  right: 'left',
  bottom: 'top',
  top: 'bottom'
};
const oppositeAlignmentMap = {
  start: 'end',
  end: 'start'
};
function clamp(start, value, end) {
  return max$1(start, min$1(value, end));
}
function evaluate(value, param) {
  return typeof value === 'function' ? value(param) : value;
}
function getSide(placement) {
  return placement.split('-')[0];
}
function getAlignment(placement) {
  return placement.split('-')[1];
}
function getOppositeAxis(axis) {
  return axis === 'x' ? 'y' : 'x';
}
function getAxisLength(axis) {
  return axis === 'y' ? 'height' : 'width';
}
function getSideAxis(placement) {
  return ['top', 'bottom'].includes(getSide(placement)) ? 'y' : 'x';
}
function getAlignmentAxis(placement) {
  return getOppositeAxis(getSideAxis(placement));
}
function getAlignmentSides(placement, rects, rtl) {
  if (rtl === void 0) {
    rtl = false;
  }
  const alignment = getAlignment(placement);
  const alignmentAxis = getAlignmentAxis(placement);
  const length = getAxisLength(alignmentAxis);
  let mainAlignmentSide = alignmentAxis === 'x' ? alignment === (rtl ? 'end' : 'start') ? 'right' : 'left' : alignment === 'start' ? 'bottom' : 'top';
  if (rects.reference[length] > rects.floating[length]) {
    mainAlignmentSide = getOppositePlacement(mainAlignmentSide);
  }
  return [mainAlignmentSide, getOppositePlacement(mainAlignmentSide)];
}
function getExpandedPlacements(placement) {
  const oppositePlacement = getOppositePlacement(placement);
  return [getOppositeAlignmentPlacement(placement), oppositePlacement, getOppositeAlignmentPlacement(oppositePlacement)];
}
function getOppositeAlignmentPlacement(placement) {
  return placement.replace(/start|end/g, alignment => oppositeAlignmentMap[alignment]);
}
function getSideList(side, isStart, rtl) {
  const lr = ['left', 'right'];
  const rl = ['right', 'left'];
  const tb = ['top', 'bottom'];
  const bt = ['bottom', 'top'];
  switch (side) {
    case 'top':
    case 'bottom':
      if (rtl) return isStart ? rl : lr;
      return isStart ? lr : rl;
    case 'left':
    case 'right':
      return isStart ? tb : bt;
    default:
      return [];
  }
}
function getOppositeAxisPlacements(placement, flipAlignment, direction, rtl) {
  const alignment = getAlignment(placement);
  let list = getSideList(getSide(placement), direction === 'start', rtl);
  if (alignment) {
    list = list.map(side => side + "-" + alignment);
    if (flipAlignment) {
      list = list.concat(list.map(getOppositeAlignmentPlacement));
    }
  }
  return list;
}
function getOppositePlacement(placement) {
  return placement.replace(/left|right|bottom|top/g, side => oppositeSideMap[side]);
}
function expandPaddingObject(padding) {
  return {
    top: 0,
    right: 0,
    bottom: 0,
    left: 0,
    ...padding
  };
}
function getPaddingObject(padding) {
  return typeof padding !== 'number' ? expandPaddingObject(padding) : {
    top: padding,
    right: padding,
    bottom: padding,
    left: padding
  };
}
function rectToClientRect(rect) {
  return {
    ...rect,
    top: rect.y,
    left: rect.x,
    right: rect.x + rect.width,
    bottom: rect.y + rect.height
  };
}

function computeCoordsFromPlacement(_ref, placement, rtl) {
  let {
    reference,
    floating
  } = _ref;
  const sideAxis = getSideAxis(placement);
  const alignmentAxis = getAlignmentAxis(placement);
  const alignLength = getAxisLength(alignmentAxis);
  const side = getSide(placement);
  const isVertical = sideAxis === 'y';
  const commonX = reference.x + reference.width / 2 - floating.width / 2;
  const commonY = reference.y + reference.height / 2 - floating.height / 2;
  const commonAlign = reference[alignLength] / 2 - floating[alignLength] / 2;
  let coords;
  switch (side) {
    case 'top':
      coords = {
        x: commonX,
        y: reference.y - floating.height
      };
      break;
    case 'bottom':
      coords = {
        x: commonX,
        y: reference.y + reference.height
      };
      break;
    case 'right':
      coords = {
        x: reference.x + reference.width,
        y: commonY
      };
      break;
    case 'left':
      coords = {
        x: reference.x - floating.width,
        y: commonY
      };
      break;
    default:
      coords = {
        x: reference.x,
        y: reference.y
      };
  }
  switch (getAlignment(placement)) {
    case 'start':
      coords[alignmentAxis] -= commonAlign * (rtl && isVertical ? -1 : 1);
      break;
    case 'end':
      coords[alignmentAxis] += commonAlign * (rtl && isVertical ? -1 : 1);
      break;
  }
  return coords;
}

/**
 * Computes the `x` and `y` coordinates that will place the floating element
 * next to a reference element when it is given a certain positioning strategy.
 *
 * This export does not have any `platform` interface logic. You will need to
 * write one for the platform you are using Floating UI with.
 */
const computePosition$1 = async (reference, floating, config) => {
  const {
    placement = 'bottom',
    strategy = 'absolute',
    middleware = [],
    platform
  } = config;
  const validMiddleware = middleware.filter(Boolean);
  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(floating));
  let rects = await platform.getElementRects({
    reference,
    floating,
    strategy
  });
  let {
    x,
    y
  } = computeCoordsFromPlacement(rects, placement, rtl);
  let statefulPlacement = placement;
  let middlewareData = {};
  let resetCount = 0;
  for (let i = 0; i < validMiddleware.length; i++) {
    const {
      name,
      fn
    } = validMiddleware[i];
    const {
      x: nextX,
      y: nextY,
      data,
      reset
    } = await fn({
      x,
      y,
      initialPlacement: placement,
      placement: statefulPlacement,
      strategy,
      middlewareData,
      rects,
      platform,
      elements: {
        reference,
        floating
      }
    });
    x = nextX != null ? nextX : x;
    y = nextY != null ? nextY : y;
    middlewareData = {
      ...middlewareData,
      [name]: {
        ...middlewareData[name],
        ...data
      }
    };
    if (reset && resetCount <= 50) {
      resetCount++;
      if (typeof reset === 'object') {
        if (reset.placement) {
          statefulPlacement = reset.placement;
        }
        if (reset.rects) {
          rects = reset.rects === true ? await platform.getElementRects({
            reference,
            floating,
            strategy
          }) : reset.rects;
        }
        ({
          x,
          y
        } = computeCoordsFromPlacement(rects, statefulPlacement, rtl));
      }
      i = -1;
      continue;
    }
  }
  return {
    x,
    y,
    placement: statefulPlacement,
    strategy,
    middlewareData
  };
};

/**
 * Resolves with an object of overflow side offsets that determine how much the
 * element is overflowing a given clipping boundary on each side.
 * - positive = overflowing the boundary by that number of pixels
 * - negative = how many pixels left before it will overflow
 * - 0 = lies flush with the boundary
 * @see https://floating-ui.com/docs/detectOverflow
 */
async function detectOverflow(state, options) {
  var _await$platform$isEle;
  if (options === void 0) {
    options = {};
  }
  const {
    x,
    y,
    platform,
    rects,
    elements,
    strategy
  } = state;
  const {
    boundary = 'clippingAncestors',
    rootBoundary = 'viewport',
    elementContext = 'floating',
    altBoundary = false,
    padding = 0
  } = evaluate(options, state);
  const paddingObject = getPaddingObject(padding);
  const altContext = elementContext === 'floating' ? 'reference' : 'floating';
  const element = elements[altBoundary ? altContext : elementContext];
  const clippingClientRect = rectToClientRect(await platform.getClippingRect({
    element: ((_await$platform$isEle = await (platform.isElement == null ? void 0 : platform.isElement(element))) != null ? _await$platform$isEle : true) ? element : element.contextElement || (await (platform.getDocumentElement == null ? void 0 : platform.getDocumentElement(elements.floating))),
    boundary,
    rootBoundary,
    strategy
  }));
  const rect = elementContext === 'floating' ? {
    ...rects.floating,
    x,
    y
  } : rects.reference;
  const offsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(elements.floating));
  const offsetScale = (await (platform.isElement == null ? void 0 : platform.isElement(offsetParent))) ? (await (platform.getScale == null ? void 0 : platform.getScale(offsetParent))) || {
    x: 1,
    y: 1
  } : {
    x: 1,
    y: 1
  };
  const elementClientRect = rectToClientRect(platform.convertOffsetParentRelativeRectToViewportRelativeRect ? await platform.convertOffsetParentRelativeRectToViewportRelativeRect({
    rect,
    offsetParent,
    strategy
  }) : rect);
  return {
    top: (clippingClientRect.top - elementClientRect.top + paddingObject.top) / offsetScale.y,
    bottom: (elementClientRect.bottom - clippingClientRect.bottom + paddingObject.bottom) / offsetScale.y,
    left: (clippingClientRect.left - elementClientRect.left + paddingObject.left) / offsetScale.x,
    right: (elementClientRect.right - clippingClientRect.right + paddingObject.right) / offsetScale.x
  };
}

/**
 * Provides data to position an inner element of the floating element so that it
 * appears centered to the reference element.
 * @see https://floating-ui.com/docs/arrow
 */
const arrow = options => ({
  name: 'arrow',
  options,
  async fn(state) {
    const {
      x,
      y,
      placement,
      rects,
      platform,
      elements
    } = state;
    // Since `element` is required, we don't Partial<> the type.
    const {
      element,
      padding = 0
    } = evaluate(options, state) || {};
    if (element == null) {
      return {};
    }
    const paddingObject = getPaddingObject(padding);
    const coords = {
      x,
      y
    };
    const axis = getAlignmentAxis(placement);
    const length = getAxisLength(axis);
    const arrowDimensions = await platform.getDimensions(element);
    const isYAxis = axis === 'y';
    const minProp = isYAxis ? 'top' : 'left';
    const maxProp = isYAxis ? 'bottom' : 'right';
    const clientProp = isYAxis ? 'clientHeight' : 'clientWidth';
    const endDiff = rects.reference[length] + rects.reference[axis] - coords[axis] - rects.floating[length];
    const startDiff = coords[axis] - rects.reference[axis];
    const arrowOffsetParent = await (platform.getOffsetParent == null ? void 0 : platform.getOffsetParent(element));
    let clientSize = arrowOffsetParent ? arrowOffsetParent[clientProp] : 0;

    // DOM platform can return `window` as the `offsetParent`.
    if (!clientSize || !(await (platform.isElement == null ? void 0 : platform.isElement(arrowOffsetParent)))) {
      clientSize = elements.floating[clientProp] || rects.floating[length];
    }
    const centerToReference = endDiff / 2 - startDiff / 2;

    // If the padding is large enough that it causes the arrow to no longer be
    // centered, modify the padding so that it is centered.
    const largestPossiblePadding = clientSize / 2 - arrowDimensions[length] / 2 - 1;
    const minPadding = min$1(paddingObject[minProp], largestPossiblePadding);
    const maxPadding = min$1(paddingObject[maxProp], largestPossiblePadding);

    // Make sure the arrow doesn't overflow the floating element if the center
    // point is outside the floating element's bounds.
    const min$1$1 = minPadding;
    const max = clientSize - arrowDimensions[length] - maxPadding;
    const center = clientSize / 2 - arrowDimensions[length] / 2 + centerToReference;
    const offset = clamp(min$1$1, center, max);

    // If the reference is small enough that the arrow's padding causes it to
    // to point to nothing for an aligned placement, adjust the offset of the
    // floating element itself. This stops `shift()` from taking action, but can
    // be worked around by calling it again after the `arrow()` if desired.
    const shouldAddOffset = getAlignment(placement) != null && center != offset && rects.reference[length] / 2 - (center < min$1$1 ? minPadding : maxPadding) - arrowDimensions[length] / 2 < 0;
    const alignmentOffset = shouldAddOffset ? center < min$1$1 ? min$1$1 - center : max - center : 0;
    return {
      [axis]: coords[axis] - alignmentOffset,
      data: {
        [axis]: offset,
        centerOffset: center - offset + alignmentOffset
      }
    };
  }
});

/**
 * Optimizes the visibility of the floating element by flipping the `placement`
 * in order to keep it in view when the preferred placement(s) will overflow the
 * clipping boundary. Alternative to `autoPlacement`.
 * @see https://floating-ui.com/docs/flip
 */
const flip = function (options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'flip',
    options,
    async fn(state) {
      var _middlewareData$flip;
      const {
        placement,
        middlewareData,
        rects,
        initialPlacement,
        platform,
        elements
      } = state;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = true,
        fallbackPlacements: specifiedFallbackPlacements,
        fallbackStrategy = 'bestFit',
        fallbackAxisSideDirection = 'none',
        flipAlignment = true,
        ...detectOverflowOptions
      } = evaluate(options, state);
      const side = getSide(placement);
      const isBasePlacement = getSide(initialPlacement) === initialPlacement;
      const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));
      const fallbackPlacements = specifiedFallbackPlacements || (isBasePlacement || !flipAlignment ? [getOppositePlacement(initialPlacement)] : getExpandedPlacements(initialPlacement));
      if (!specifiedFallbackPlacements && fallbackAxisSideDirection !== 'none') {
        fallbackPlacements.push(...getOppositeAxisPlacements(initialPlacement, flipAlignment, fallbackAxisSideDirection, rtl));
      }
      const placements = [initialPlacement, ...fallbackPlacements];
      const overflow = await detectOverflow(state, detectOverflowOptions);
      const overflows = [];
      let overflowsData = ((_middlewareData$flip = middlewareData.flip) == null ? void 0 : _middlewareData$flip.overflows) || [];
      if (checkMainAxis) {
        overflows.push(overflow[side]);
      }
      if (checkCrossAxis) {
        const sides = getAlignmentSides(placement, rects, rtl);
        overflows.push(overflow[sides[0]], overflow[sides[1]]);
      }
      overflowsData = [...overflowsData, {
        placement,
        overflows
      }];

      // One or more sides is overflowing.
      if (!overflows.every(side => side <= 0)) {
        var _middlewareData$flip2, _overflowsData$filter;
        const nextIndex = (((_middlewareData$flip2 = middlewareData.flip) == null ? void 0 : _middlewareData$flip2.index) || 0) + 1;
        const nextPlacement = placements[nextIndex];
        if (nextPlacement) {
          // Try next placement and re-run the lifecycle.
          return {
            data: {
              index: nextIndex,
              overflows: overflowsData
            },
            reset: {
              placement: nextPlacement
            }
          };
        }

        // First, find the candidates that fit on the mainAxis side of overflow,
        // then find the placement that fits the best on the main crossAxis side.
        let resetPlacement = (_overflowsData$filter = overflowsData.filter(d => d.overflows[0] <= 0).sort((a, b) => a.overflows[1] - b.overflows[1])[0]) == null ? void 0 : _overflowsData$filter.placement;

        // Otherwise fallback.
        if (!resetPlacement) {
          switch (fallbackStrategy) {
            case 'bestFit':
              {
                var _overflowsData$map$so;
                const placement = (_overflowsData$map$so = overflowsData.map(d => [d.placement, d.overflows.filter(overflow => overflow > 0).reduce((acc, overflow) => acc + overflow, 0)]).sort((a, b) => a[1] - b[1])[0]) == null ? void 0 : _overflowsData$map$so[0];
                if (placement) {
                  resetPlacement = placement;
                }
                break;
              }
            case 'initialPlacement':
              resetPlacement = initialPlacement;
              break;
          }
        }
        if (placement !== resetPlacement) {
          return {
            reset: {
              placement: resetPlacement
            }
          };
        }
      }
      return {};
    }
  };
};

// For type backwards-compatibility, the `OffsetOptions` type was also
// Derivable.
async function convertValueToCoords(state, options) {
  const {
    placement,
    platform,
    elements
  } = state;
  const rtl = await (platform.isRTL == null ? void 0 : platform.isRTL(elements.floating));
  const side = getSide(placement);
  const alignment = getAlignment(placement);
  const isVertical = getSideAxis(placement) === 'y';
  const mainAxisMulti = ['left', 'top'].includes(side) ? -1 : 1;
  const crossAxisMulti = rtl && isVertical ? -1 : 1;
  const rawValue = evaluate(options, state);

  // eslint-disable-next-line prefer-const
  let {
    mainAxis,
    crossAxis,
    alignmentAxis
  } = typeof rawValue === 'number' ? {
    mainAxis: rawValue,
    crossAxis: 0,
    alignmentAxis: null
  } : {
    mainAxis: 0,
    crossAxis: 0,
    alignmentAxis: null,
    ...rawValue
  };
  if (alignment && typeof alignmentAxis === 'number') {
    crossAxis = alignment === 'end' ? alignmentAxis * -1 : alignmentAxis;
  }
  return isVertical ? {
    x: crossAxis * crossAxisMulti,
    y: mainAxis * mainAxisMulti
  } : {
    x: mainAxis * mainAxisMulti,
    y: crossAxis * crossAxisMulti
  };
}

/**
 * Modifies the placement by translating the floating element along the
 * specified axes.
 * A number (shorthand for `mainAxis` or distance), or an axes configuration
 * object may be passed.
 * @see https://floating-ui.com/docs/offset
 */
const offset = function (options) {
  if (options === void 0) {
    options = 0;
  }
  return {
    name: 'offset',
    options,
    async fn(state) {
      const {
        x,
        y
      } = state;
      const diffCoords = await convertValueToCoords(state, options);
      return {
        x: x + diffCoords.x,
        y: y + diffCoords.y,
        data: diffCoords
      };
    }
  };
};

/**
 * Optimizes the visibility of the floating element by shifting it in order to
 * keep it in view when it will overflow the clipping boundary.
 * @see https://floating-ui.com/docs/shift
 */
const shift = function (options) {
  if (options === void 0) {
    options = {};
  }
  return {
    name: 'shift',
    options,
    async fn(state) {
      const {
        x,
        y,
        placement
      } = state;
      const {
        mainAxis: checkMainAxis = true,
        crossAxis: checkCrossAxis = false,
        limiter = {
          fn: _ref => {
            let {
              x,
              y
            } = _ref;
            return {
              x,
              y
            };
          }
        },
        ...detectOverflowOptions
      } = evaluate(options, state);
      const coords = {
        x,
        y
      };
      const overflow = await detectOverflow(state, detectOverflowOptions);
      const crossAxis = getSideAxis(getSide(placement));
      const mainAxis = getOppositeAxis(crossAxis);
      let mainAxisCoord = coords[mainAxis];
      let crossAxisCoord = coords[crossAxis];
      if (checkMainAxis) {
        const minSide = mainAxis === 'y' ? 'top' : 'left';
        const maxSide = mainAxis === 'y' ? 'bottom' : 'right';
        const min = mainAxisCoord + overflow[minSide];
        const max = mainAxisCoord - overflow[maxSide];
        mainAxisCoord = clamp(min, mainAxisCoord, max);
      }
      if (checkCrossAxis) {
        const minSide = crossAxis === 'y' ? 'top' : 'left';
        const maxSide = crossAxis === 'y' ? 'bottom' : 'right';
        const min = crossAxisCoord + overflow[minSide];
        const max = crossAxisCoord - overflow[maxSide];
        crossAxisCoord = clamp(min, crossAxisCoord, max);
      }
      const limitedCoords = limiter.fn({
        ...state,
        [mainAxis]: mainAxisCoord,
        [crossAxis]: crossAxisCoord
      });
      return {
        ...limitedCoords,
        data: {
          x: limitedCoords.x - x,
          y: limitedCoords.y - y
        }
      };
    }
  };
};

function getWindow(node) {
  var _node$ownerDocument;
  return ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.defaultView) || window;
}

function getComputedStyle$1(element) {
  return getWindow(element).getComputedStyle(element);
}

function isNode(value) {
  return value instanceof getWindow(value).Node;
}
function getNodeName(node) {
  return isNode(node) ? (node.nodeName || '').toLowerCase() : '';
}

function isHTMLElement(value) {
  return value instanceof getWindow(value).HTMLElement;
}
function isElement(value) {
  return value instanceof getWindow(value).Element;
}
function isShadowRoot(node) {
  // Browsers without `ShadowRoot` support.
  if (typeof ShadowRoot === 'undefined') {
    return false;
  }
  const OwnElement = getWindow(node).ShadowRoot;
  return node instanceof OwnElement || node instanceof ShadowRoot;
}
function isOverflowElement(element) {
  const {
    overflow,
    overflowX,
    overflowY,
    display
  } = getComputedStyle$1(element);
  return /auto|scroll|overlay|hidden|clip/.test(overflow + overflowY + overflowX) && !['inline', 'contents'].includes(display);
}
function isTableElement(element) {
  return ['table', 'td', 'th'].includes(getNodeName(element));
}
function isContainingBlock(element) {
  const safari = isSafari();
  const css = getComputedStyle$1(element);

  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block
  return css.transform !== 'none' || css.perspective !== 'none' || !safari && (css.backdropFilter ? css.backdropFilter !== 'none' : false) || !safari && (css.filter ? css.filter !== 'none' : false) || ['transform', 'perspective', 'filter'].some(value => (css.willChange || '').includes(value)) || ['paint', 'layout', 'strict', 'content'].some(value => (css.contain || '').includes(value));
}
function isSafari() {
  if (typeof CSS === 'undefined' || !CSS.supports) return false;
  return CSS.supports('-webkit-backdrop-filter', 'none');
}
function isLastTraversableNode(node) {
  return ['html', 'body', '#document'].includes(getNodeName(node));
}

const min = Math.min;
const max = Math.max;
const round = Math.round;

function getCssDimensions(element) {
  const css = getComputedStyle$1(element);
  // In testing environments, the `width` and `height` properties are empty
  // strings for SVG elements, returning NaN. Fallback to `0` in this case.
  let width = parseFloat(css.width) || 0;
  let height = parseFloat(css.height) || 0;
  const hasOffset = isHTMLElement(element);
  const offsetWidth = hasOffset ? element.offsetWidth : width;
  const offsetHeight = hasOffset ? element.offsetHeight : height;
  const shouldFallback = round(width) !== offsetWidth || round(height) !== offsetHeight;
  if (shouldFallback) {
    width = offsetWidth;
    height = offsetHeight;
  }
  return {
    width,
    height,
    fallback: shouldFallback
  };
}

function unwrapElement(element) {
  return !isElement(element) ? element.contextElement : element;
}

const FALLBACK_SCALE = {
  x: 1,
  y: 1
};
function getScale(element) {
  const domElement = unwrapElement(element);
  if (!isHTMLElement(domElement)) {
    return FALLBACK_SCALE;
  }
  const rect = domElement.getBoundingClientRect();
  const {
    width,
    height,
    fallback
  } = getCssDimensions(domElement);
  let x = (fallback ? round(rect.width) : rect.width) / width;
  let y = (fallback ? round(rect.height) : rect.height) / height;

  // 0, NaN, or Infinity should always fallback to 1.

  if (!x || !Number.isFinite(x)) {
    x = 1;
  }
  if (!y || !Number.isFinite(y)) {
    y = 1;
  }
  return {
    x,
    y
  };
}

const noOffsets = {
  x: 0,
  y: 0
};
function getVisualOffsets(element, isFixed, floatingOffsetParent) {
  var _win$visualViewport, _win$visualViewport2;
  if (isFixed === void 0) {
    isFixed = true;
  }
  if (!isSafari()) {
    return noOffsets;
  }
  const win = element ? getWindow(element) : window;
  if (!floatingOffsetParent || isFixed && floatingOffsetParent !== win) {
    return noOffsets;
  }
  return {
    x: ((_win$visualViewport = win.visualViewport) == null ? void 0 : _win$visualViewport.offsetLeft) || 0,
    y: ((_win$visualViewport2 = win.visualViewport) == null ? void 0 : _win$visualViewport2.offsetTop) || 0
  };
}

function getBoundingClientRect(element, includeScale, isFixedStrategy, offsetParent) {
  if (includeScale === void 0) {
    includeScale = false;
  }
  if (isFixedStrategy === void 0) {
    isFixedStrategy = false;
  }
  const clientRect = element.getBoundingClientRect();
  const domElement = unwrapElement(element);
  let scale = FALLBACK_SCALE;
  if (includeScale) {
    if (offsetParent) {
      if (isElement(offsetParent)) {
        scale = getScale(offsetParent);
      }
    } else {
      scale = getScale(element);
    }
  }
  const visualOffsets = getVisualOffsets(domElement, isFixedStrategy, offsetParent);
  let x = (clientRect.left + visualOffsets.x) / scale.x;
  let y = (clientRect.top + visualOffsets.y) / scale.y;
  let width = clientRect.width / scale.x;
  let height = clientRect.height / scale.y;
  if (domElement) {
    const win = getWindow(domElement);
    const offsetWin = offsetParent && isElement(offsetParent) ? getWindow(offsetParent) : offsetParent;
    let currentIFrame = win.frameElement;
    while (currentIFrame && offsetParent && offsetWin !== win) {
      const iframeScale = getScale(currentIFrame);
      const iframeRect = currentIFrame.getBoundingClientRect();
      const css = getComputedStyle(currentIFrame);
      iframeRect.x += (currentIFrame.clientLeft + parseFloat(css.paddingLeft)) * iframeScale.x;
      iframeRect.y += (currentIFrame.clientTop + parseFloat(css.paddingTop)) * iframeScale.y;
      x *= iframeScale.x;
      y *= iframeScale.y;
      width *= iframeScale.x;
      height *= iframeScale.y;
      x += iframeRect.x;
      y += iframeRect.y;
      currentIFrame = getWindow(currentIFrame).frameElement;
    }
  }
  return rectToClientRect({
    width,
    height,
    x,
    y
  });
}

function getDocumentElement(node) {
  return ((isNode(node) ? node.ownerDocument : node.document) || window.document).documentElement;
}

function getNodeScroll(element) {
  if (isElement(element)) {
    return {
      scrollLeft: element.scrollLeft,
      scrollTop: element.scrollTop
    };
  }
  return {
    scrollLeft: element.pageXOffset,
    scrollTop: element.pageYOffset
  };
}

function convertOffsetParentRelativeRectToViewportRelativeRect(_ref) {
  let {
    rect,
    offsetParent,
    strategy
  } = _ref;
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  const documentElement = getDocumentElement(offsetParent);
  if (offsetParent === documentElement) {
    return rect;
  }
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  let scale = {
    x: 1,
    y: 1
  };
  const offsets = {
    x: 0,
    y: 0
  };
  if (isOffsetParentAnElement || !isOffsetParentAnElement && strategy !== 'fixed') {
    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      const offsetRect = getBoundingClientRect(offsetParent);
      scale = getScale(offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    }
  }
  return {
    width: rect.width * scale.x,
    height: rect.height * scale.y,
    x: rect.x * scale.x - scroll.scrollLeft * scale.x + offsets.x,
    y: rect.y * scale.y - scroll.scrollTop * scale.y + offsets.y
  };
}

function getWindowScrollBarX(element) {
  // If <html> has a CSS width greater than the viewport, then this will be
  // incorrect for RTL.
  return getBoundingClientRect(getDocumentElement(element)).left + getNodeScroll(element).scrollLeft;
}

// Gets the entire size of the scrollable document area, even extending outside
// of the `<html>` and `<body>` rect bounds if horizontally scrollable.
function getDocumentRect(element) {
  const html = getDocumentElement(element);
  const scroll = getNodeScroll(element);
  const body = element.ownerDocument.body;
  const width = max(html.scrollWidth, html.clientWidth, body.scrollWidth, body.clientWidth);
  const height = max(html.scrollHeight, html.clientHeight, body.scrollHeight, body.clientHeight);
  let x = -scroll.scrollLeft + getWindowScrollBarX(element);
  const y = -scroll.scrollTop;
  if (getComputedStyle$1(body).direction === 'rtl') {
    x += max(html.clientWidth, body.clientWidth) - width;
  }
  return {
    width,
    height,
    x,
    y
  };
}

function getParentNode(node) {
  if (getNodeName(node) === 'html') {
    return node;
  }
  const result =
  // Step into the shadow DOM of the parent of a slotted node.
  node.assignedSlot ||
  // DOM Element detected.
  node.parentNode ||
  // ShadowRoot detected.
  isShadowRoot(node) && node.host ||
  // Fallback.
  getDocumentElement(node);
  return isShadowRoot(result) ? result.host : result;
}

function getNearestOverflowAncestor(node) {
  const parentNode = getParentNode(node);
  if (isLastTraversableNode(parentNode)) {
    // `getParentNode` will never return a `Document` due to the fallback
    // check, so it's either the <html> or <body> element.
    return parentNode.ownerDocument.body;
  }
  if (isHTMLElement(parentNode) && isOverflowElement(parentNode)) {
    return parentNode;
  }
  return getNearestOverflowAncestor(parentNode);
}

function getOverflowAncestors(node, list) {
  var _node$ownerDocument;
  if (list === void 0) {
    list = [];
  }
  const scrollableAncestor = getNearestOverflowAncestor(node);
  const isBody = scrollableAncestor === ((_node$ownerDocument = node.ownerDocument) == null ? void 0 : _node$ownerDocument.body);
  const win = getWindow(scrollableAncestor);
  if (isBody) {
    return list.concat(win, win.visualViewport || [], isOverflowElement(scrollableAncestor) ? scrollableAncestor : []);
  }
  return list.concat(scrollableAncestor, getOverflowAncestors(scrollableAncestor));
}

function getViewportRect(element, strategy) {
  const win = getWindow(element);
  const html = getDocumentElement(element);
  const visualViewport = win.visualViewport;
  let width = html.clientWidth;
  let height = html.clientHeight;
  let x = 0;
  let y = 0;
  if (visualViewport) {
    width = visualViewport.width;
    height = visualViewport.height;
    const visualViewportBased = isSafari();
    if (!visualViewportBased || visualViewportBased && strategy === 'fixed') {
      x = visualViewport.offsetLeft;
      y = visualViewport.offsetTop;
    }
  }
  return {
    width,
    height,
    x,
    y
  };
}

// Returns the inner client rect, subtracting scrollbars if present.
function getInnerBoundingClientRect(element, strategy) {
  const clientRect = getBoundingClientRect(element, true, strategy === 'fixed');
  const top = clientRect.top + element.clientTop;
  const left = clientRect.left + element.clientLeft;
  const scale = isHTMLElement(element) ? getScale(element) : {
    x: 1,
    y: 1
  };
  const width = element.clientWidth * scale.x;
  const height = element.clientHeight * scale.y;
  const x = left * scale.x;
  const y = top * scale.y;
  return {
    width,
    height,
    x,
    y
  };
}
function getClientRectFromClippingAncestor(element, clippingAncestor, strategy) {
  let rect;
  if (clippingAncestor === 'viewport') {
    rect = getViewportRect(element, strategy);
  } else if (clippingAncestor === 'document') {
    rect = getDocumentRect(getDocumentElement(element));
  } else if (isElement(clippingAncestor)) {
    rect = getInnerBoundingClientRect(clippingAncestor, strategy);
  } else {
    const visualOffsets = getVisualOffsets(element);
    rect = {
      ...clippingAncestor,
      x: clippingAncestor.x - visualOffsets.x,
      y: clippingAncestor.y - visualOffsets.y
    };
  }
  return rectToClientRect(rect);
}
function hasFixedPositionAncestor(element, stopNode) {
  const parentNode = getParentNode(element);
  if (parentNode === stopNode || !isElement(parentNode) || isLastTraversableNode(parentNode)) {
    return false;
  }
  return getComputedStyle$1(parentNode).position === 'fixed' || hasFixedPositionAncestor(parentNode, stopNode);
}

// A "clipping ancestor" is an `overflow` element with the characteristic of
// clipping (or hiding) child elements. This returns all clipping ancestors
// of the given element up the tree.
function getClippingElementAncestors(element, cache) {
  const cachedResult = cache.get(element);
  if (cachedResult) {
    return cachedResult;
  }
  let result = getOverflowAncestors(element).filter(el => isElement(el) && getNodeName(el) !== 'body');
  let currentContainingBlockComputedStyle = null;
  const elementIsFixed = getComputedStyle$1(element).position === 'fixed';
  let currentNode = elementIsFixed ? getParentNode(element) : element;

  // https://developer.mozilla.org/en-US/docs/Web/CSS/Containing_block#identifying_the_containing_block
  while (isElement(currentNode) && !isLastTraversableNode(currentNode)) {
    const computedStyle = getComputedStyle$1(currentNode);
    const currentNodeIsContaining = isContainingBlock(currentNode);
    if (!currentNodeIsContaining && computedStyle.position === 'fixed') {
      currentContainingBlockComputedStyle = null;
    }
    const shouldDropCurrentNode = elementIsFixed ? !currentNodeIsContaining && !currentContainingBlockComputedStyle : !currentNodeIsContaining && computedStyle.position === 'static' && !!currentContainingBlockComputedStyle && ['absolute', 'fixed'].includes(currentContainingBlockComputedStyle.position) || isOverflowElement(currentNode) && !currentNodeIsContaining && hasFixedPositionAncestor(element, currentNode);
    if (shouldDropCurrentNode) {
      // Drop non-containing blocks.
      result = result.filter(ancestor => ancestor !== currentNode);
    } else {
      // Record last containing block for next iteration.
      currentContainingBlockComputedStyle = computedStyle;
    }
    currentNode = getParentNode(currentNode);
  }
  cache.set(element, result);
  return result;
}

// Gets the maximum area that the element is visible in due to any number of
// clipping ancestors.
function getClippingRect(_ref) {
  let {
    element,
    boundary,
    rootBoundary,
    strategy
  } = _ref;
  const elementClippingAncestors = boundary === 'clippingAncestors' ? getClippingElementAncestors(element, this._c) : [].concat(boundary);
  const clippingAncestors = [...elementClippingAncestors, rootBoundary];
  const firstClippingAncestor = clippingAncestors[0];
  const clippingRect = clippingAncestors.reduce((accRect, clippingAncestor) => {
    const rect = getClientRectFromClippingAncestor(element, clippingAncestor, strategy);
    accRect.top = max(rect.top, accRect.top);
    accRect.right = min(rect.right, accRect.right);
    accRect.bottom = min(rect.bottom, accRect.bottom);
    accRect.left = max(rect.left, accRect.left);
    return accRect;
  }, getClientRectFromClippingAncestor(element, firstClippingAncestor, strategy));
  return {
    width: clippingRect.right - clippingRect.left,
    height: clippingRect.bottom - clippingRect.top,
    x: clippingRect.left,
    y: clippingRect.top
  };
}

function getDimensions(element) {
  return getCssDimensions(element);
}

function getTrueOffsetParent(element, polyfill) {
  if (!isHTMLElement(element) || getComputedStyle$1(element).position === 'fixed') {
    return null;
  }
  if (polyfill) {
    return polyfill(element);
  }
  return element.offsetParent;
}
function getContainingBlock(element) {
  let currentNode = getParentNode(element);
  while (isHTMLElement(currentNode) && !isLastTraversableNode(currentNode)) {
    if (isContainingBlock(currentNode)) {
      return currentNode;
    } else {
      currentNode = getParentNode(currentNode);
    }
  }
  return null;
}

// Gets the closest ancestor positioned element. Handles some edge cases,
// such as table ancestors and cross browser bugs.
function getOffsetParent(element, polyfill) {
  const window = getWindow(element);
  if (!isHTMLElement(element)) {
    return window;
  }
  let offsetParent = getTrueOffsetParent(element, polyfill);
  while (offsetParent && isTableElement(offsetParent) && getComputedStyle$1(offsetParent).position === 'static') {
    offsetParent = getTrueOffsetParent(offsetParent, polyfill);
  }
  if (offsetParent && (getNodeName(offsetParent) === 'html' || getNodeName(offsetParent) === 'body' && getComputedStyle$1(offsetParent).position === 'static' && !isContainingBlock(offsetParent))) {
    return window;
  }
  return offsetParent || getContainingBlock(element) || window;
}

function getRectRelativeToOffsetParent(element, offsetParent, strategy) {
  const isOffsetParentAnElement = isHTMLElement(offsetParent);
  const documentElement = getDocumentElement(offsetParent);
  const isFixed = strategy === 'fixed';
  const rect = getBoundingClientRect(element, true, isFixed, offsetParent);
  let scroll = {
    scrollLeft: 0,
    scrollTop: 0
  };
  const offsets = {
    x: 0,
    y: 0
  };
  if (isOffsetParentAnElement || !isOffsetParentAnElement && !isFixed) {
    if (getNodeName(offsetParent) !== 'body' || isOverflowElement(documentElement)) {
      scroll = getNodeScroll(offsetParent);
    }
    if (isHTMLElement(offsetParent)) {
      const offsetRect = getBoundingClientRect(offsetParent, true, isFixed, offsetParent);
      offsets.x = offsetRect.x + offsetParent.clientLeft;
      offsets.y = offsetRect.y + offsetParent.clientTop;
    } else if (documentElement) {
      offsets.x = getWindowScrollBarX(documentElement);
    }
  }
  return {
    x: rect.left + scroll.scrollLeft - offsets.x,
    y: rect.top + scroll.scrollTop - offsets.y,
    width: rect.width,
    height: rect.height
  };
}

const platform = {
  getClippingRect,
  convertOffsetParentRelativeRectToViewportRelativeRect,
  isElement,
  getDimensions,
  getOffsetParent,
  getDocumentElement,
  getScale,
  async getElementRects(_ref) {
    let {
      reference,
      floating,
      strategy
    } = _ref;
    const getOffsetParentFn = this.getOffsetParent || getOffsetParent;
    const getDimensionsFn = this.getDimensions;
    return {
      reference: getRectRelativeToOffsetParent(reference, await getOffsetParentFn(floating), strategy),
      floating: {
        x: 0,
        y: 0,
        ...(await getDimensionsFn(floating))
      }
    };
  },
  getClientRects: element => Array.from(element.getClientRects()),
  isRTL: element => getComputedStyle$1(element).direction === 'rtl'
};

/**
 * Computes the `x` and `y` coordinates that will place the floating element
 * next to a reference element when it is given a certain CSS positioning
 * strategy.
 */
const computePosition = (reference, floating, options) => {
  // This caches the expensive `getClippingElementAncestors` function so that
  // multiple lifecycle resets re-use the same result. It only lives for a
  // single call. If other functions become expensive, we can add them as well.
  const cache = new Map();
  const mergedOptions = {
    platform,
    ...options
  };
  const platformWithCache = {
    ...mergedOptions.platform,
    _c: cache
  };
  return computePosition$1(reference, floating, {
    ...mergedOptions,
    platform: platformWithCache
  });
};

const duetPopupMenuCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-popup-menu,*.sc-duet-popup-menu::after,*.sc-duet-popup-menu::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-popup-menu-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-popup-menu-list*/.duet-popup-menu-list.sc-duet-popup-menu{position:absolute;top:0;left:0;z-index:950;width:max-content;min-width:175px;padding:8px;margin:0;color:rgb(0, 41, 77);list-style:none;visibility:hidden !important;background:rgb(255, 255, 255);border-radius:8px;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.07), 0 4px 10px 0 rgba(0, 41, 77, 0.15);opacity:0;transition:transform 300ms ease, visibility 300ms ease, opacity 300ms ease;transform:scaleY(0);transform-origin:top center}/*!@.duet-popup-menu-list.open*/.duet-popup-menu-list.open.sc-duet-popup-menu{visibility:visible !important;opacity:1;transform:scaleY(1)}/*!@.duet-popup-menu-list.fixed*/.duet-popup-menu-list.fixed.sc-duet-popup-menu{position:fixed}/*!@.duet-popup-menu-list.duet-theme-turva*/.duet-popup-menu-list.duet-theme-turva.sc-duet-popup-menu{color:rgb(23, 28, 58) !important;background:rgb(255, 255, 255)}";

class DuetPopupMenu {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetToggle = createEvent$2(this, "duetToggle", 7);
        this.updatePlacement = async () => {
            if (!this.controller) {
                return;
            }
            const coordinates = await computePosition(this.controller, this.element, {
                middleware: [offset({ mainAxis: this.mainAxisOffset, crossAxis: this.crossAxisOffset }), flip()],
                placement: this.placement,
                strategy: this.position,
            });
            this.menuY = coordinates.y;
            this.menuX = coordinates.x;
        };
        this.open = false;
        this.menuY = undefined;
        this.menuX = undefined;
        this.accessibleLabel = undefined;
        this.theme = "";
        this.controller = undefined;
        this.placement = "bottom-start";
        this.position = "absolute";
        this.mainAxisOffset = 0;
        this.crossAxisOffset = 0;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.teleport = new Teleport(this.element);
    }
    componentDidLoad() {
    }
    /**
     * Component event handling.
     */
    handleKeyUp(evt) {
        if (this.open) {
            // When Esc is pressed the menu should be closed
            if (isEscapeKey(evt)) {
                this.focusController();
                this.hide();
            }
        }
    }
    async handleKeyDown(evt) {
        if (this.open) {
            if (isArrowDownKey(evt)) {
                evt.preventDefault();
                const current = await this.getFocusedItemIndex();
                if (current !== -1) {
                    if (current < this.itemElements.length - 1) {
                        this.itemElements[current + 1].setFocus();
                    }
                    else {
                        this.itemElements[0].setFocus();
                    }
                }
            }
            if (isArrowUpKey(evt)) {
                evt.preventDefault();
                const current = await this.getFocusedItemIndex();
                if (current !== -1) {
                    if (current === 0) {
                        this.itemElements[this.itemElements.length - 1].setFocus();
                    }
                    else {
                        this.itemElements[current - 1].setFocus();
                    }
                }
            }
            if (isTabKey(evt)) {
                evt.preventDefault();
                this.hide();
            }
        }
    }
    handleClick(evt) {
        const isClickOutside = evt.composedPath().every(node => node !== this.element && node !== this.controller);
        if (this.open && isClickOutside) {
            this.hide();
        }
    }
    /**
     * isOpen.
     */
    async isOpen() {
        return this.open;
    }
    /**
     * Show.
     */
    async show() {
        this.open = true;
        this.teleport.go();
        this.itemElements[0].setFocus();
        this.duetToggle.emit({ open: this.open, component: "duet-popup-menu" });
        this.updatePlacement();
    }
    /**
     * Hide.
     */
    async hide() {
        this.open = false;
        this.duetToggle.emit({ open: this.open, component: "duet-popup-menu" });
        this.focusController();
        this.teleport.resume(200);
    }
    /**
     * Toggle.
     */
    async toggle() {
        if (this.open) {
            this.hide();
        }
        else {
            this.show();
        }
    }
    focusController() {
        if (this.controller) {
            if ("setFocus" in this.controller) {
                this.controller.setFocus();
            }
            else {
                this.controller.focus();
            }
        }
    }
    get itemElements() {
        return Array.from(this.element.querySelectorAll(":scope > duet-popup-menu-item"));
    }
    async getFocusedItemIndex() {
        const items = this.itemElements;
        for (let i = 0; i < items.length; i++) {
            if (await items[i].isFocused()) {
                return i;
            }
        }
        return -1;
    }
    render() {
        const positionStyles = {
            top: `${this.menuY}px`,
            left: `${this.menuX}px`,
        };
        return (hAsync(Host, { class: this.position }, hAsync("div", { style: positionStyles, class: { open: this.open, "duet-popup-menu-list": true, "duet-theme-turva": this.theme === "turva" }, role: "menu", "aria-label": this.accessibleLabel }, hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetPopupMenuCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-popup-menu",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "controller": [16],
            "placement": [1],
            "position": [1],
            "mainAxisOffset": [2, "main-axis-offset"],
            "crossAxisOffset": [2, "cross-axis-offset"],
            "open": [32],
            "menuY": [32],
            "menuX": [32],
            "isOpen": [64],
            "show": [64],
            "hide": [64],
            "toggle": [64]
        },
        "$listeners$": [[8, "keyup", "handleKeyUp"], [8, "keydown", "handleKeyDown"], [8, "click", "handleClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetPopupMenuItemCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-popup-menu-item,*.sc-duet-popup-menu-item::after,*.sc-duet-popup-menu-item::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-popup-menu-item-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:flex;flex-direction:row;gap:8px;align-items:center;justify-content:flex-start}/*!@.duet-popup-menu-item*/.duet-popup-menu-item.sc-duet-popup-menu-item{display:flex;flex-grow:1;gap:12px;align-items:center;height:100%;padding:8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:left;text-decoration:none;cursor:pointer}/*!@.duet-popup-menu-item:focus*/.duet-popup-menu-item.sc-duet-popup-menu-item:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-popup-menu-item:focus, .duet-popup-menu-item:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-popup-menu-item .duet-popup-menu-item.sc-duet-popup-menu-item:focus,.duet-popup-menu-item.sc-duet-popup-menu-item:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-popup-menu-item.duet-theme-turva*/.duet-popup-menu-item.duet-theme-turva.sc-duet-popup-menu-item{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-popup-menu-item.active*/.duet-popup-menu-item.active.sc-duet-popup-menu-item{background:rgb(243, 249, 252)}/*!@.duet-popup-menu-item.active.duet-theme-turva*/.duet-popup-menu-item.active.duet-theme-turva.sc-duet-popup-menu-item{background:rgb(245, 245, 247)}/*!@.duet-popup-menu-item:hover*/.duet-popup-menu-item.sc-duet-popup-menu-item:hover{background:rgb(230, 242, 248)}/*!@.duet-popup-menu-item:hover.duet-theme-turva*/.duet-popup-menu-item.sc-duet-popup-menu-item:hover.duet-theme-turva{background:rgb(228, 228, 230)}/*!@.duet-popup-menu-item .duet-popup-menu-item-label*/.duet-popup-menu-item.sc-duet-popup-menu-item .duet-popup-menu-item-label.sc-duet-popup-menu-item{flex-grow:1}";

class DuetPopupMenuItem {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Component event handling.
         */
        this.onFocus = (ev) => {
            this.focus = true;
            this.duetFocus.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-popup-menu-item",
            });
        };
        this.onBlur = (ev) => {
            this.focus = false;
            this.duetBlur.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-popup-menu-item",
            });
        };
        this.focus = false;
        this.accessibleLabel = undefined;
        this.theme = "";
        this.url = undefined;
        this.external = false;
        this.value = undefined;
        this.leadingIcon = undefined;
        this.leadingIconColor = undefined;
        this.trailingIcon = undefined;
        this.trailingText = undefined;
        this.active = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        setTimeout(() => this.itemElement.focus(options), 200);
    }
    /**
     * isFocused.
     */
    async isFocused() {
        return this.focus;
    }
    render() {
        const TagName = this.url ? "a" : "button";
        const classes = {
            "duet-popup-menu-item": true,
            active: this.active,
            "duet-theme-turva": this.theme === "turva",
        };
        return (hAsync(Host, null, hAsync(TagName, { ref: element => (this.itemElement = element), tabIndex: -1, onFocus: this.onFocus, onBlur: this.onBlur, role: "menuitem", "aria-label": this.accessibleLabel, class: classes, value: this.value, href: this.url, target: this.external ? "_blank" : undefined, rel: this.external ? "noopener" : undefined }, this.leadingIcon && (hAsync("duet-icon", { name: this.leadingIcon, size: "x-small", color: this.leadingIconColor ? this.leadingIconColor : "currentColor", class: "duet-popup-menu-item-leading", margin: "none" })), hAsync("span", { class: "duet-popup-menu-item-label" }, hAsync("slot", null)), this.trailingIcon && (hAsync("duet-icon", { name: this.trailingIcon, size: "x-small", color: "currentColor", class: "duet-popup-menu-item-trailing", margin: "none" })), this.trailingText && hAsync("span", { class: "duet-popup-menu-item-trailing" }, this.trailingText))));
    }
    get element() { return getElement(this); }
    static get style() { return duetPopupMenuItemCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-popup-menu-item",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "url": [1],
            "external": [4],
            "value": [1],
            "leadingIcon": [1, "leading-icon"],
            "leadingIconColor": [1, "leading-icon-color"],
            "trailingIcon": [1, "trailing-icon"],
            "trailingText": [1, "trailing-text"],
            "active": [1028],
            "focus": [32],
            "setFocus": [64],
            "isFocused": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetProgressCss = "*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:inherit}.duet-progress{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%;min-height:1px;}.duet-progress .progress-bar{position:relative;display:block;width:100%;height:inherit;min-height:1px;background-color:rgb(243, 249, 252);border-radius:0;box-shadow:none}.duet-theme-turva .duet-progress .progress-bar{background-color:rgb(252, 243, 244)}.duet-progress .progress-bar>span{display:block;height:inherit;text-indent:-9999px;background-color:rgb(0, 119, 179);border-radius:0}.duet-theme-turva .duet-progress .progress-bar>span{background-color:rgb(198, 12, 48)}.duet-progress progress[value]{display:flex;width:100%;height:inherit;min-height:1px;color:rgb(0, 119, 179);border:0 none;-webkit-appearance:none;-moz-appearance:none;appearance:none}.duet-theme-turva .duet-progress progress[value]{color:rgb(198, 12, 48)}.duet-progress progress[value]::-webkit-progress-bar{background-color:rgb(243, 249, 252);border-radius:0}.duet-theme-turva .duet-progress progress[value]::-webkit-progress-bar{background-color:rgb(252, 243, 244)}.duet-progress progress[value]::-webkit-progress-value{background-color:rgb(0, 119, 179);background-size:35px 20px, 100% 100%, 100% 100%;border-radius:0;-webkit-animation:animate-stripes 5s linear infinite;animation:animate-stripes 5s linear infinite}.duet-theme-turva .duet-progress progress[value]::-webkit-progress-value{background-color:rgb(198, 12, 48)}.duet-progress progress[value] ::-moz-progress-bar{background-color:rgb(243, 249, 252)}.duet-theme-turva .duet-progress progress[value] ::-moz-progress-bar{background-color:rgb(252, 243, 244)}";

class DuetProgress {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties
         */
        this.progressId = createID("DuetProgress");
        this.progressLabelId = createID("DuetProgressLabel");
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleLabel = undefined;
        this.accessibleLabelUploadDefaults = {
            fi: ["lähetys valmis", "lähetys käynnissä"],
            sv: ["Uppladdningen är klar", "Uppladdning pågår"],
            en: ["upload completed", "upload in progress"],
        };
        this.accessibleLabelUpload = getLocaleString(this.accessibleLabelUploadDefaults);
        this.progress = 0;
        this.caption = undefined;
        this.height = "10px";
        this.theme = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleLabelUpload", defaults: "accessibleLabelUploadDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetProgressCss; }
    static get cmpMeta() { return {
        "$flags$": 0,
        "$tagName$": "duet-progress",
        "$members$": {
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleLabel": [1, "accessible-label"],
            "accessibleLabelUploadDefaults": [1, "accessible-label-upload-defaults"],
            "accessibleLabelUpload": [1025, "accessible-label-upload"],
            "progress": [1538],
            "caption": [1],
            "height": [1],
            "theme": [1025]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["progress", "progress"]]
    }; }
}

const duetPromoCardCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-promo-card,*.sc-duet-promo-card::after,*.sc-duet-promo-card::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-promo-card-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:4px !important;margin-bottom:2px !important;display:block;width:auto}/*!@:host:last-child, :host:last-of-type*/.sc-duet-promo-card-h:last-child,.sc-duet-promo-card-h:last-of-type{margin-right:0 !important}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-promo-card-h{margin:0 !important}/*!@.duet-promo-card*/.duet-promo-card.sc-duet-promo-card{display:flex;flex-direction:column;width:100%;height:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-style:normal;color:rgb(0, 41, 77);text-align:left;border-radius:20px}/*!@.duet-promo-card.duet-p-0*/.duet-promo-card.duet-p-0.sc-duet-promo-card{padding:0 !important}/*!@.duet-promo-card.duet-m-0*/.duet-promo-card.duet-m-0.sc-duet-promo-card{margin:0 !important}/*!@.duet-promo-card .content-wrapper*/.duet-promo-card.sc-duet-promo-card .content-wrapper.sc-duet-promo-card{display:flex;flex-direction:column;height:100%;color:inherit;text-decoration:none}/*!@.duet-promo-card .image*/.duet-promo-card.sc-duet-promo-card .image.sc-duet-promo-card{position:relative;width:100%;overflow:hidden;border-top-left-radius:20px;border-top-right-radius:20px;object-fit:cover}/*!@.duet-promo-card .content*/.duet-promo-card.sc-duet-promo-card .content.sc-duet-promo-card{display:flex;flex-direction:column;flex-grow:1;gap:8px;padding:20px}@media (min-width: 36em){/*!@.duet-promo-card .content*/.duet-promo-card.sc-duet-promo-card .content.sc-duet-promo-card{padding:28px}}/*!@.duet-promo-card .action*/.duet-promo-card.sc-duet-promo-card .action.sc-duet-promo-card{display:flex;flex-grow:1;align-items:flex-end;padding-top:16px}/*!@.duet-promo-card.no-bg-color .content*/.duet-promo-card.no-bg-color.sc-duet-promo-card .content.sc-duet-promo-card{padding:20px 0 0}/*!@.duet-promo-card.no-bg-color .image*/.duet-promo-card.no-bg-color.sc-duet-promo-card .image.sc-duet-promo-card{border-radius:16px}/*!@.duet-promo-card.duet-theme-turva*/.duet-promo-card.duet-theme-turva.sc-duet-promo-card{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}";

class DuetPromoCard {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.margin = "auto";
        this.backgroundColor = "";
        this.textColor = "secondary";
        this.image = "";
        this.headingLevel = "h3";
        this.url = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasPreHeadingSlot = !!this.element.querySelector('[slot="pre-heading"]');
        this.hasHeadingSlot = !!this.element.querySelector('[slot="heading"]');
        this.hasDescriptionSlot = !!this.element.querySelector('[slot="description"]');
        this.hasActionSlot = !!this.element.querySelector('[slot="action"]');
    }
    /**
     * render() function
     * Always the last one of the class.
     */
    render() {
        const backgroundColor = getColorByName(this.backgroundColor, this.theme);
        const bannerStyles = {
            backgroundColor: backgroundColor ? backgroundColor : "none",
        };
        const TagName = this.url ? "a" : "div";
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("aside", { class: {
                "duet-promo-card": true,
                "duet-theme-turva": this.theme === "turva",
                "no-bg-color": !this.backgroundColor,
            }, style: bannerStyles }, hAsync(TagName, { href: this.url, class: "content-wrapper" }, hAsync("img", { class: "image", src: this.image, alt: "", role: "presentation" }), hAsync("div", { class: "content" }, this.hasPreHeadingSlot && (hAsync("div", { class: "pre-heading" }, hAsync("slot", { name: "pre-heading" }))), this.hasHeadingSlot && (hAsync("div", { class: "heading" }, hAsync("duet-heading", { theme: this.theme, level: this.headingLevel, "visual-level": "h3", margin: "none", color: this.textColor }, hAsync("div", null, hAsync("slot", { name: "heading" }))))), this.hasDescriptionSlot && (hAsync("div", { class: "description" }, hAsync("duet-paragraph", { theme: this.theme, margin: "none", color: this.textColor }, hAsync("div", null, hAsync("slot", { name: "description" }))))), this.hasActionSlot && (hAsync("div", { class: "action" }, hAsync("slot", { name: "action" }))))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetPromoCardCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-promo-card",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "backgroundColor": [1, "background-color"],
            "textColor": [1, "text-color"],
            "image": [1],
            "headingLevel": [1, "heading-level"],
            "url": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetRadioCss = "*.sc-duet-radio,*.sc-duet-radio::after,*.sc-duet-radio::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-radio-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:28px !important;margin-bottom:12px !important;display:inline-flex;width:100%;vertical-align:bottom;-webkit-tap-highlight-color:transparent}.sc-duet-radio-h:last-child,.sc-duet-radio-h:last-of-type{margin-right:0 !important}.vertical.sc-duet-radio-h{margin-right:0 !important}.horizontal.sc-duet-radio-h{margin-bottom:0 !important;width:auto}.horizontal.sc-duet-radio-h .duet-label.sc-duet-radio .duet-label-content.sc-duet-radio{max-width:100%}@media (min-width: 48em){.horizontal-responsive.sc-duet-radio-h{margin-right:28px !important;margin-bottom:0 !important;width:auto}.horizontal-responsive.sc-duet-radio-h:last-child,.horizontal-responsive.sc-duet-radio-h:last-of-type{margin-right:0 !important}.horizontal-responsive.sc-duet-radio-h .duet-label.sc-duet-radio .duet-label-content.sc-duet-radio{max-width:100%}}.duet-m-0.sc-duet-radio-h{margin:0 !important}.sc-duet-radio-h:last-child:not(:only-child){margin-right:0 !important;margin-bottom:0 !important}.duet-label.sc-duet-radio{position:relative;z-index:100;display:flex;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;hyphens:auto;line-height:1.5;color:rgb(0, 41, 77);word-break:break-word;overflow-wrap:break-word;cursor:pointer;background:transparent}.duet-theme-turva.sc-duet-radio .duet-label.sc-duet-radio{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-label.sc-duet-radio .duet-label-content.sc-duet-radio{flex-grow:1;font-size:1rem}.duet-label-hidden.sc-duet-radio .duet-label.sc-duet-radio{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}.duet-radio-container.sc-duet-radio{position:relative;width:100%;height:100%}.duet-radio.sc-duet-radio{padding:14px !important;position:absolute;top:0;left:0;z-index:200;width:100%;height:100%;cursor:pointer;opacity:0}.duet-radio.sc-duet-radio+label.sc-duet-radio::before{z-index:100;flex-shrink:0;width:20px;height:20px;margin:2px 10px 1px 1px;content:\"\";background:rgb(255, 255, 255);border:1px solid rgb(0, 41, 77);border-radius:50%}.duet-theme-turva.sc-duet-radio .duet-radio.sc-duet-radio+label.sc-duet-radio::before{border-color:rgb(23, 28, 58)}.duet-radio.sc-duet-radio:focus+label.sc-duet-radio::before{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.duet-theme-turva.sc-duet-radio .duet-radio.sc-duet-radio:focus+label.sc-duet-radio::before{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-radio.sc-duet-radio:checked+label.sc-duet-radio::after{position:absolute;top:6px;left:5px;z-index:200;flex-shrink:0;width:12px;height:12px;content:\"\";background:rgb(0, 41, 77);border-radius:50%}.duet-theme-turva.sc-duet-radio .duet-radio.sc-duet-radio:checked+label.sc-duet-radio::after{background:rgb(23, 28, 58)}.duet-radio[disabled].sc-duet-radio{cursor:default}.duet-radio[disabled].sc-duet-radio+label.sc-duet-radio{color:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-radio .duet-radio[disabled].sc-duet-radio+label.sc-duet-radio{color:rgb(116, 116, 117)}.duet-radio[disabled].sc-duet-radio+label.sc-duet-radio::before{border-color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-radio .duet-radio[disabled].sc-duet-radio+label.sc-duet-radio::before{border-color:rgb(207, 207, 209)}.duet-radio[disabled].sc-duet-radio:checked+label.sc-duet-radio::before{border:1px solid rgb(101, 119, 135)}.duet-radio[disabled].sc-duet-radio:checked+label.sc-duet-radio::after{background:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-radio .duet-radio[disabled].sc-duet-radio:checked+label.sc-duet-radio::after{background:rgb(116, 116, 117);border-color:rgb(116, 116, 117)}";

/**
 * @slot label - Label content.
 */
class DuetRadio {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Own Properties.
         */
        this.radioId = createID("DuetRadio");
        /**
         * Component event handling.
         */
        this.onClick = (ev) => {
            ev.stopPropagation();
        };
        this.onChange = (ev) => {
            this.checked = this.nativeInput.checked || false;
            if (this.checked && !this.blockEvents) {
                this.duetChange.emit({
                    originalEvent: ev,
                    checked: this.checked,
                    value: this.value,
                    component: "duet-radio",
                });
            }
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-radio",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                checked: this.checked,
                value: this.value,
                component: "duet-radio",
            });
        };
        this.accessibleActiveDescendant = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleIndex = undefined;
        this.margin = "auto";
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.theme = "";
        this.disabled = false;
        this.required = false;
        this.blockEvents = false;
        this.identifier = undefined;
        this.label = "label";
        this.name = undefined;
        this.role = undefined;
        this.groupDisabled = undefined;
        this.groupDirection = undefined;
        this.groupResponsive = undefined;
        this.checked = undefined;
        this.value = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasLabel = Array.from(this.element.children).filter(el => el.matches("[slot='label']")).length > 0
            ;
        if (this.value === undefined) {
            this.value = this.identifier;
        }
    }
    /**
     * Sets focus on the specified `duet-radio`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetRadioCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-radio",
        "$members$": {
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleIndex": [1, "accessible-index"],
            "margin": [1],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "theme": [1025],
            "disabled": [516],
            "required": [4],
            "blockEvents": [4, "block-events"],
            "identifier": [1],
            "label": [1],
            "name": [1],
            "role": [1],
            "groupDisabled": [4, "group-disabled"],
            "groupDirection": [1, "group-direction"],
            "groupResponsive": [4, "group-responsive"],
            "checked": [1540],
            "value": [1537],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"], ["checked", "checked"], ["value", "value"]]
    }; }
}

const duetRadioGroupCss = "*.sc-duet-radio-group,*.sc-duet-radio-group::after,*.sc-duet-radio-group::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-radio-group-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.horizontal.sc-duet-radio-group-h .duet-radio-group.sc-duet-radio-group{display:block}@media (min-width: 48em){.horizontal.sc-duet-radio-group-h .duet-radio-group.sc-duet-radio-group{display:flex}}.horizontal.sc-duet-radio-group-h .duet-radio-group.duet-no-stacking.sc-duet-radio-group{display:flex}.deut-radio-group.sc-duet-radio-group{width:100%}";

class DuetRadioGroup {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Component event handling.
         */
        this.onSelect = (ev) => {
            const selectedRadio = ev.target;
            if (selectedRadio) {
                this.value = selectedRadio.value;
            }
            // Prevent events from bubbling up the DOM tree in case
            // this group is a sub-group of another choice group.
            ev.cancelBubble = true;
        };
        this.direction = "vertical";
        this.margin = "auto";
        this.theme = "";
        this.error = "";
        this.tooltip = "";
        this.tooltipDirection = "auto";
        this.name = undefined;
        this.label = "Label";
        this.labelHidden = false;
        this.caption = "";
        this.responsive = false;
        this.value = undefined;
        this.disabled = undefined;
        this.required = false;
        this.accessibleLiveError = "polite";
    }
    /**
     * Component lifecycle events.
     */
    async connectedCallback() {
        const el = this.element;
        if (this.value === undefined) {
            const radio = findCheckedOption(el, "duet-radio");
            if (radio !== undefined) {
                await radio.componentOnReady();
                if (this.value === undefined) {
                    this.value = radio.value;
                }
            }
        }
        this.mutationO = watchForOptions(el, "duet-radio", newOption => {
            if (newOption !== undefined) {
                newOption.componentOnReady().then(() => {
                    this.value = newOption.value;
                });
            }
            else {
                this.updateRadios();
            }
        });
        this.updateRadios();
    }
    disconnectedCallback() {
        if (this.mutationO) {
            this.mutationO.disconnect();
            this.mutationO = undefined;
        }
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * Local methods.
     */
    async updateRadios() {
        /**
         * Make sure we get all radios first so values are up to date prior
         * to caching the radio group value
         */
        const radios = Array.from(this.element.querySelectorAll("duet-radio"));
        const { value } = this;
        let hasChecked = false;
        // Walk the DOM in reverse order, since the last selected one wins
        for (const radio of radios) {
            radio.name = this.name;
            radio.required = this.required;
            radio.groupDisabled = this.disabled;
            radio.groupDirection = this.direction;
            radio.groupResponsive = this.responsive;
            if (!hasChecked && radio.value === value) {
                // Correct value for this radio, but this radio isn't checked yet
                // and we haven't found a checked yet
                hasChecked = true;
                radio.checked = true;
            }
            else {
                // This radio doesn't have the correct value or the radio group has been already checked
                radio.checked = false;
            }
        }
        // Reset value if
        if (!hasChecked) {
            this.value = undefined;
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "name": ["updateRadios"],
        "value": ["updateRadios"],
        "disabled": ["updateRadios"],
        "direction": ["updateRadios"],
        "responsive": ["updateRadios"]
    }; }
    static get style() { return duetRadioGroupCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-radio-group",
        "$members$": {
            "direction": [1],
            "margin": [1],
            "theme": [1025],
            "error": [1],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "name": [1],
            "label": [1],
            "labelHidden": [4, "label-hidden"],
            "caption": [1],
            "responsive": [4],
            "value": [1537],
            "disabled": [4],
            "required": [4],
            "accessibleLiveError": [1, "accessible-live-error"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["value", "value"]]
    }; }
}

const duetRangeSliderCss = "*.sc-duet-range-slider,*.sc-duet-range-slider::after,*.sc-duet-range-slider::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-range-slider-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;max-width:100%;text-align:left;vertical-align:bottom}.sc-duet-range-slider-h:last-child,.sc-duet-range-slider-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-range-slider-h{width:calc(50% - 16px - 3px)}.duet-expand.sc-duet-range-slider-h{width:100% !important}}.duet-m-0.sc-duet-range-slider-h{margin:0 !important}.duet-range-container.sc-duet-range-slider{position:relative;width:100%}.duet-output.sc-duet-range-slider{position:absolute;top:12px;right:0;z-index:200;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);background:rgb(255, 255, 255)}.duet-theme-turva.sc-duet-range-slider .duet-output.sc-duet-range-slider{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}.duet-range-disabled.sc-duet-range-slider .duet-output.sc-duet-range-slider{color:rgb(144, 149, 153)}.duet-range-disabled.duet-theme-turva.sc-duet-range-slider .duet-output.sc-duet-range-slider{color:rgb(116, 116, 117)}.duet-range.sc-duet-range-slider{position:relative;z-index:100;width:100%;height:4px;background:rgb(207, 210, 212);border-radius:4px}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider{background:rgb(207, 207, 209)}.duet-ie.sc-duet-range-slider .duet-range.sc-duet-range-slider{display:block;width:auto;height:26px;background:transparent !important}.duet-range.sc-duet-range-slider::-moz-range-track{height:1px;background:transparent !important;border:0;-moz-appearance:none}.duet-range.sc-duet-range-slider::-ms-track{color:transparent;background:transparent;border:0}.duet-range.sc-duet-range-slider:focus,.duet-range.sc-duet-range-slider:active{outline:0}.user-is-tabbing.sc-duet-range-slider-h .duet-range.sc-duet-range-slider:focus{box-shadow:0 0 0 1px #fff, 0 0 0 3px rgba(0, 119, 179, 0.75)}.user-is-tabbing.sc-duet-range-slider-h .duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider:focus{box-shadow:0 0 0 1px #fff, 0 0 0 3px rgba(23, 28, 58, 0.75)}.duet-range.sc-duet-range-slider::-webkit-slider-runnable-track{background:transparent}.duet-range.sc-duet-range-slider::-webkit-slider-thumb{position:relative;width:24px;height:24px;cursor:-webkit-grab;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:50%;transition:box-shadow 300ms ease;-webkit-appearance:none}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider::-webkit-slider-thumb{border-color:rgb(116, 116, 117)}.duet-range.sc-duet-range-slider:active::-webkit-slider-thumb{cursor:-webkit-grabbing}.duet-range.sc-duet-range-slider::-moz-range-thumb{position:relative;width:24px;height:24px;cursor:-moz-grab;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:50%;appearance:none}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider::-moz-range-thumb{border-color:rgb(116, 116, 117)}.duet-range.sc-duet-range-slider:active::-moz-range-thumb{cursor:-moz-grabbing}.duet-range.sc-duet-range-slider::-ms-thumb{position:relative;width:24px;height:24px;overflow:visible;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:50%}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider::-ms-thumb{border-color:rgb(116, 116, 117)}.duet-range.sc-duet-range-slider:disabled{background:rgb(207, 210, 212) !important}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider:disabled{background:rgb(207, 207, 209) !important}.duet-range.sc-duet-range-slider:disabled::-webkit-slider-thumb{cursor:default;background:rgb(207, 210, 212);border-color:transparent}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider:disabled::-webkit-slider-thumb{background:rgb(207, 207, 209);border-color:transparent}.duet-range.sc-duet-range-slider:disabled::-moz-range-thumb{cursor:default;background:rgb(207, 210, 212);border-color:transparent}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider:disabled::-moz-range-thumb{background:rgb(207, 207, 209);border-color:transparent}.duet-range.sc-duet-range-slider:disabled::-ms-thumb{cursor:default;background:rgb(207, 210, 212);border-color:transparent}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider:disabled::-ms-thumb{background:rgb(207, 207, 209);border-color:transparent}.duet-range.sc-duet-range-slider::-ms-fill-lower{height:4px;background:rgb(0, 119, 179)}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider::-ms-fill-lower{background:rgb(198, 12, 48)}.duet-range.sc-duet-range-slider::-ms-fill-upper{height:4px;background:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-range-slider .duet-range.sc-duet-range-slider::-ms-fill-upper{background:rgb(207, 207, 209)}.duet-label-hidden.sc-duet-range-slider duet-label.sc-duet-range-slider,.duet-label-hidden.sc-duet-range-slider output.sc-duet-range-slider{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}";

class DuetRangeSlider {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetInput = createEvent$2(this, "duetInput", 7);
        /**
         * Own Properties
         */
        this.rangeId = createID("DuetRange");
        /**
         * Component event handling.
         */
        this.onInput = (ev) => {
            const input = ev.target;
            if (input) {
                this.value = parseFloat(input.value) || 0;
            }
            this.duetInput.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-range-slider",
            });
        };
        this.onChange = (ev) => {
            const input = ev.target;
            if (input) {
                this.value = parseFloat(input.value) || 0;
            }
            clearTimeout(this.timeoutId);
            this.timeoutId = setTimeout(() => {
                this.duetChange.emit({
                    originalEvent: ev,
                    value: this.value,
                    component: "duet-range-slider",
                });
            }, this.debounce);
        };
        this.theme = "";
        this.margin = "auto";
        this.expand = false;
        this.identifier = undefined;
        this.name = undefined;
        this.required = false;
        this.disabled = false;
        this.accessibleActiveDescendant = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.min = 0;
        this.label = "label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.labelHidden = false;
        this.unit = "";
        this.max = 100;
        this.step = 1;
        this.locale = "fi-FI";
        this.value = 0;
        this.debounce = 0;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * Sets focus on the specified `duet-range-slider`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * Local methods.
     */
    calculatePercentage() {
        return ((this.value - this.min) / (this.max - this.min)) * 100;
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetRangeSliderCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-range-slider",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "expand": [4],
            "identifier": [1],
            "name": [1],
            "required": [4],
            "disabled": [516],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "min": [2],
            "label": [1],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "labelHidden": [4, "label-hidden"],
            "unit": [1],
            "max": [2],
            "step": [2],
            "locale": [1],
            "value": [1026],
            "debounce": [2],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"]]
    }; }
}

const duetRangeStepperCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-range-stepper,*.sc-duet-range-stepper::after,*.sc-duet-range-stepper::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-range-stepper-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}/*!@.duet-range-stepper*/.duet-range-stepper.sc-duet-range-stepper{display:flex;flex-wrap:wrap;gap:0;align-items:baseline;justify-content:center;min-width:30px;min-height:30px;font-weight:600;text-decoration:none;border-left-width:0}/*!@.duet-range-stepper*/.duet-range-stepper.sc-duet-range-stepper{white-space:nowrap}/*!@.duet-range-stepper .duet-range-step-counter*/.duet-range-stepper.sc-duet-range-stepper .duet-range-step-counter.sc-duet-range-stepper{font-weight:600;color:rgb(0, 41, 77)}/*!@.duet-range-stepper ::part(button)*/.duet-range-stepper.sc-duet-range-stepper .sc-duet-range-stepper::part(button){border:0}";

/**
 * @part navigation-arrow - this part enables style overrides for the navigation-arrow
 * @part range-numbers - this part enables style overrides for the range-numbers
 */
class DuetRangeStepper {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetRangeStepUpdate = createEvent$2(this, "duetRangeStepUpdate", 7);
        this.leftBn = createID("duetRangeStepper-left");
        this.rightBn = createID("duetRangeStepper-right");
        this.handleClick = (e, direction) => {
            e.preventDefault();
            this.stepIndex += direction;
            this.clampStepIndex();
            this.handleStepClick(e);
        };
        this.theme = "";
        this.stepIndex = 1;
        this.stepSize = 50;
        this.total = 1000;
        this.ariaLabelsDefaults = {
            en: {
                next_increment: "Next range increment",
                previous_increment: "Previous range increment",
                x_of_y: "{0}–{1} of {2}",
            },
            fi: {
                next_increment: "Seuraava välillä",
                previous_increment: "Edellinen välillä",
                x_of_y: "{0}–{1} / {2}",
            },
            sv: {
                next_increment: "Nästa intervall",
                previous_increment: "Föregående intervall",
                x_of_y: "{0}–{1} av {2}",
            },
        };
        this.ariaLabels = getLocaleString(this.ariaLabelsDefaults);
        this.ariaControls = "";
    }
    watchStepIndexStateHandler(newValue) {
        if (this.leftBnRef && this.rightBnRef) {
            if (newValue <= 1) {
                if (this.element === document.activeElement) {
                    this.rightBnRef.setFocus();
                }
                this.leftBnRef.setAttribute("disabled", "");
            }
            else {
                this.leftBnRef.removeAttribute("disabled");
            }
            if (newValue >= this.total / this.stepSize) {
                if (this.element === document.activeElement) {
                    this.leftBnRef.setFocus();
                }
                this.rightBnRef.setAttribute("disabled", "");
            }
            else {
                this.rightBnRef.removeAttribute("disabled");
            }
        }
    }
    watchStepSizeStateHandler(newValue, oldValue) {
        if (newValue !== oldValue) {
            if (this.stepIndex * newValue > this.total) {
                this.stepIndex = Math.ceil(this.total / newValue);
            }
            // trigger handler in case a button needs to be disabled or enabled but stepIndex did not change
            this.watchStepIndexStateHandler(this.stepIndex);
        }
    }
    handleStepClick(e) {
        this.duetRangeStepUpdate.emit({
            originalEvent: e,
            component: "duet-range-stepper",
            from: this.getFrom(),
            to: this.getTo(),
            index: this.stepIndex,
        });
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.clampStepIndex();
    }
    componentDidLoad() {
        this.watchStepIndexStateHandler(this.stepIndex);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "ariaLabels", defaults: "ariaLabelsDefaults" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    clampStepIndex() {
        if (this.stepIndex < 1) {
            this.stepIndex = 1;
        }
        else if (this.stepIndex * this.stepSize > this.total) {
            this.stepIndex = Math.ceil(this.total / this.stepSize);
        }
    }
    getFrom() {
        return Math.floor((this.stepIndex - 1) * this.stepSize) + 1;
    }
    getTo() {
        return Math.min(Math.floor(this.stepIndex * this.stepSize), this.total);
    }
    generateStepSize() {
        return this.ariaLabels.x_of_y
            .replace("{0}", String(this.getFrom()))
            .replace("{1}", String(this.getTo()))
            .replace("{2}", String(this.total));
    }
    generatePreviousIncrementLabel() {
        if (this.getFrom() === 1) {
            return "";
        }
        return this.ariaLabels.x_of_y
            .replace("{0}", String(Math.max(this.getFrom() - this.stepSize, 1)))
            .replace("{1}", String(Math.min(this.getFrom() - 1, this.total)))
            .replace("{2}", String(this.total));
    }
    generateNextIncrementLabel() {
        if (this.getTo() === this.total) {
            return "";
        }
        return this.ariaLabels.x_of_y
            .replace("{0}", String(this.getTo() + 1))
            .replace("{1}", String(Math.min(this.getTo() + this.stepSize, this.total)))
            .replace("{2}", String(this.total));
    }
    //handle a11y keyboard navigation events
    async onKeyboardDown(e) {
        // handle a11y based keyboard navigation for left/right/up/down
        let next = this.stepIndex;
        let dir = 1;
        if (isArrowLeftKey(e) || isArrowUpKey(e) || isMinusKey(e)) {
            next--;
            dir = -1;
            this.leftBnRef.setFocus();
        }
        if (isArrowRightKey(e) || isArrowDownKey(e) || isPlusKey(e)) {
            next++;
            dir = 1;
        }
        if (isArrowKey(e)) {
            if (next > 0 && next * this.stepSize <= this.total) {
                this.handleClick(e, dir);
            }
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync("div", { class: {
                "duet-range-stepper": true,
                "duet-theme-turva": this.theme === "turva",
            }, onKeyDown: e => this.onKeyboardDown(e), "aria-controls": this.ariaControls }, hAsync("span", { class: "duet-range-step-counter", part: "range-numbers" }, this.generateStepSize()), hAsync("duet-action-button", { class: "duet-range-step-button duet-range-step-minus", onClick: e => this.handleClick(e, -1), id: this.leftBn, "accessible-label": `${this.ariaLabels.previous_increment} ${this.generatePreviousIncrementLabel()}`, ref: el => (this.leftBnRef = el), part: "navigation-arrow", iconName: "action-arrow-left-small" }), hAsync("duet-action-button", { class: "duet-range-step-button duet-range-step-plus", onClick: e => this.handleClick(e, 1), "accessible-label": `${this.ariaLabels.next_increment} ${this.generateNextIncrementLabel()}`, id: this.rightBn, ref: el => (this.rightBnRef = el), part: "navigation-arrow", iconName: "action-arrow-right-small" })));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "stepIndex": ["watchStepIndexStateHandler"],
        "stepSize": ["watchStepSizeStateHandler"]
    }; }
    static get style() { return duetRangeStepperCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-range-stepper",
        "$members$": {
            "theme": [1025],
            "stepIndex": [1026, "step-index"],
            "stepSize": [2, "step-size"],
            "total": [2],
            "ariaLabelsDefaults": [16],
            "ariaLabels": [1040],
            "ariaControls": [1, "accessible-controls"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetScrollableCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-scrollable,*.sc-duet-scrollable::after,*.sc-duet-scrollable::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-scrollable-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent}/*!@:host*/.sc-duet-scrollable-h{position:relative !important}/*!@:host .duet-scrollable-items*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable{display:flex}/*!@:host .duet-scrollable-items .duet-scrollable-button*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-button.sc-duet-scrollable{position:relative;flex:0 0 auto;flex-basis:40px;padding:10px;cursor:pointer}/*!@:host .duet-scrollable-items .duet-scrollable-button:active*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-button.sc-duet-scrollable:active{transform:scale(0.8)}/*!@:host .duet-scrollable-items .duet-scrollable-button--left*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-button--left.sc-duet-scrollable{left:-12px}/*!@:host .duet-scrollable-items .duet-scrollable-button--right*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-button--right.sc-duet-scrollable{right:-12px}/*!@:host .duet-scrollable-items .duet-scrollable-button--occluded*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-button--occluded.sc-duet-scrollable{visibility:hidden}/*!@:host .duet-scrollable-items .duet-scrollable-list*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-list.sc-duet-scrollable{display:flex;flex-wrap:nowrap;gap:20px;padding-top:2px;overflow-x:auto;overflow-y:hidden;white-space:nowrap;scroll-snap-type:x mandatory;scroll-behavior:smooth;scroll-margin:0 20px;-ms-overflow-style:-ms-autohiding-scrollbar;-webkit-overflow-scrolling:touch}/*!@:host .duet-scrollable-items .duet-scrollable-list:not(.buttons)*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-list.sc-duet-scrollable:not(.buttons){white-space:normal}/*!@:host .duet-scrollable-items .duet-scrollable-list::-webkit-scrollbar*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-list.sc-duet-scrollable::-webkit-scrollbar{display:none}/*!@:host .duet-scrollable-items .duet-scrollable-list.collapsed*/.sc-duet-scrollable-h .duet-scrollable-items.sc-duet-scrollable .duet-scrollable-list.collapsed.sc-duet-scrollable{flex-wrap:wrap}/*!@:host .duet-scrollable-items.center*/.sc-duet-scrollable-h .duet-scrollable-items.center.sc-duet-scrollable{justify-content:center}/*!@:host .duet-scrollable-items.center .duet-scrollable-list.collapsed*/.sc-duet-scrollable-h .duet-scrollable-items.center.sc-duet-scrollable .duet-scrollable-list.collapsed.sc-duet-scrollable{justify-content:center}/*!@.collapse*/.collapse.sc-duet-scrollable{width:100%;text-align:center}/*!@.collapse.hide*/.collapse.hide.sc-duet-scrollable{visibility:hidden}/*!@::slotted(*)*/.sc-duet-scrollable-s>*{scroll-snap-align:center;margin-left:0;-webkit-transition:-webkit-transform 0.2s ease-in-out;transition:-webkit-transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out;transition:transform 0.2s ease-in-out, -webkit-transform 0.2s ease-in-out}";

/**
 * @slot collapse-button-label - This is to label collapse button.
 */
class DuetScrollable {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Private variables and constants index
         */
        this.currentIndex = 0;
        this.tabListElement = undefined;
        this.tabListClass = "duet-scrollable-list";
        this.hasCollapseButtonLabelSlot = false;
        this.resizeObserver = new ResizeObserver(entries => {
            var _a, _b, _c, _d;
            // otherwise, something is wrong, expecting 1 element only
            if ((entries === null || entries === void 0 ? void 0 : entries.length) === 1) {
                const currentWidth = (_b = (_a = entries[0]) === null || _a === void 0 ? void 0 : _a.target) === null || _b === void 0 ? void 0 : _b.getBoundingClientRect().width;
                const scrollWidth = (_d = (_c = entries[0]) === null || _c === void 0 ? void 0 : _c.target) === null || _d === void 0 ? void 0 : _d.scrollWidth;
                // in order to avoid state "jumping" on the boundary condition we add a few pixels to the comparison
                this.isTabContentSmallerThanWrapper = scrollWidth > currentWidth + 5;
            }
        });
        this.collapsedOnClick = () => {
            this.collapsed = !this.collapsed;
        };
        this.tablistAtStart = true;
        this.isTabContentSmallerThanWrapper = false;
        this.tablistAtEnd = false;
        this.childrenData = {};
        this.theme = "";
        this.identifier = "";
        this.collapsed = false;
        this.buttons = true;
        this.center = false;
        this.selected = 0;
    }
    watchPropHandler(newValue) {
        this.scrollToTab(newValue, "center");
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasCollapseButtonLabelSlot = Array.from(this.element.children).filter(el => el.matches("[slot='collapse-button-label']")).length > 0
            ;
        const slotted = Array.from(this.element.children).filter(el => el.matches("[slot='collapse-button-label']"))
            ;
        this.childrenData = { hasChildren: slotted && slotted.length > 0, numberOfChildren: slotted && slotted.length };
    }
    componentDidLoad() {
        this.resizeObserver.observe(this.tabListElement);
    }
    disconnectedCallback() {
        this.resizeObserver.disconnect();
    }
    /**
     * Private methods.
     */
    getLastVisibleElement() {
        const clientWidth = this.tabListElement.clientWidth;
        const xValues = Array.from(this.element.querySelectorAll("button")).findIndex(element => element.getBoundingClientRect().x > clientWidth);
        return xValues;
    }
    getFirstVisibleElement() {
        const buttonCollection = this.element.querySelectorAll("button");
        // reverse the array because we want the first invisible element form the middle, not the first in the list
        const arrayOfXValues = Array.from(buttonCollection).map(el => el.getBoundingClientRect().x - el.getBoundingClientRect().width);
        const xValues = arrayOfXValues.findIndex(element => {
            return element > 0;
        });
        return xValues;
    }
    updateScrollButtons(container = this.tabListElement) {
        if (!this.buttons) {
            return;
        }
        if (container.scrollLeft <= 0) {
            this.tablistAtStart = true;
        }
        else if (container.scrollLeft > 0) {
            this.tablistAtStart = false;
        }
        if (container.clientWidth + container.scrollLeft + 10 >= container.scrollWidth) {
            this.tablistAtEnd = true;
        }
        else if (container.clientWidth + container.scrollLeft + 10 < container.scrollWidth) {
            this.tablistAtEnd = false;
        }
    }
    scrollToTab(index = this.currentIndex, inline) {
        if (!this.childrenData.hasChildren) {
            return;
        }
        if (index + 1 >= this.childrenData.numberOfChildren) {
            index = this.childrenData.numberOfChildren - 1;
        }
        if (index < 0) {
            index = 0;
        }
        const buttons = this.element.querySelectorAll("button");
        // store previous position
        let prevPosition = buttons[0].getBoundingClientRect().x;
        // iterations to run
        let ticksWhereScrollDidNotHappen = 5;
        const getAnimationFrame = () => {
            // if we get the same value enter the logic loop
            if (buttons[0].getBoundingClientRect().x === prevPosition) {
                ticksWhereScrollDidNotHappen--;
                // When iteration is not complete run the calculation again
                if (ticksWhereScrollDidNotHappen !== 0) {
                    window.requestAnimationFrame(getAnimationFrame);
                    return;
                }
                this.updateScrollButtons();
            }
            else {
                window.requestAnimationFrame(getAnimationFrame);
                prevPosition = buttons[0].getBoundingClientRect().x;
            }
        };
        buttons[index].scrollIntoView({ behavior: "smooth", inline });
        window.requestAnimationFrame(getAnimationFrame);
    }
    scrollLeft() {
        this.tablistAtEnd = false;
        const first = this.getFirstVisibleElement() - 1;
        this.scrollToTab(first, "center");
    }
    scrollRight() {
        this.tablistAtStart = false;
        const last = this.getLastVisibleElement() + 1;
        this.scrollToTab(last, "center");
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-theme-turva": this.theme === "turva",
                "duet-theme-default": this.theme === "default",
            } }, this.hasCollapseButtonLabelSlot && (hAsync("div", { class: {
                collapse: true,
                hide: !this.isTabContentSmallerThanWrapper && !this.collapsed,
            } }, hAsync("duet-button", { variation: "plain", margin: "none", "center-text": true, onClick: () => this.collapsedOnClick() }, hAsync("slot", { name: "collapse-button-label" })))), hAsync("div", { class: {
                "duet-scrollable-items": true,
                buttons: this.buttons,
                center: this.center,
            } }, hAsync("button", { part: `${this.identifier}-button-left`, "aria-hidden": "true", class: {
                "duet-scrollable-button": true,
                "duet-scrollable-button--left": true,
                "duet-scrollable-button--occluded": !this.isTabContentSmallerThanWrapper,
            }, onClick: () => this.scrollLeft(), disabled: this.tablistAtStart, tabindex: "-1", hidden: !this.buttons }, hAsync("duet-icon", { name: "action-arrow-left-small", size: "small", margin: "none" })), hAsync("div", { class: {
                [this.tabListClass]: true,
                collapsed: this.collapsed,
            }, onScroll: () => this.updateScrollButtons(), ref: element => (this.tabListElement = element) }, hAsync("slot", null)), hAsync("button", { part: `${this.identifier}-button-right`, "aria-hidden": "true", class: {
                "duet-scrollable-button": true,
                "duet-scrollable-button--right": true,
                "duet-scrollable-button--occluded": !this.isTabContentSmallerThanWrapper,
            }, onClick: () => this.scrollRight(), disabled: this.tablistAtEnd, tabindex: "-1", hidden: !this.buttons }, hAsync("duet-icon", { name: "action-arrow-right-small", size: "small", margin: "none" })))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "selected": ["watchPropHandler"]
    }; }
    static get style() { return duetScrollableCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-scrollable",
        "$members$": {
            "theme": [1025],
            "identifier": [1],
            "collapsed": [1540],
            "buttons": [4],
            "center": [4],
            "selected": [1026],
            "tablistAtStart": [32],
            "isTabContentSmallerThanWrapper": [32],
            "tablistAtEnd": [32],
            "childrenData": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["collapsed", "collapsed"]]
    }; }
}

const duetSectionLayoutCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-section-layout,*.sc-duet-section-layout::after,*.sc-duet-section-layout::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-section-layout-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;flex:1 0 auto;width:100%}/*!@:host(.duet-middle)*/.duet-middle.sc-duet-section-layout-h{display:flex}/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-section-layout-h .duet-layout.sc-duet-section-layout{padding:36px 28px !important}@media (min-width: 36em){/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-section-layout-h .duet-layout.sc-duet-section-layout{padding:48px 36px !important}}@media (min-width: 62em){/*!@:host(.duet-middle) .duet-layout*/.duet-middle.sc-duet-section-layout-h .duet-layout.sc-duet-section-layout{padding:56px !important}}/*!@:host(.duet-ie)*/.duet-ie.sc-duet-section-layout-h{height:100%}/*!@:host(.duet-middle.duet-ie)*/.duet-middle.duet-ie.sc-duet-section-layout-h{height:auto}/*!@.duet-layout*/.duet-layout.sc-duet-section-layout{position:relative;padding:0 16px;margin:48px auto 36px}@media (min-width: 36em){/*!@.duet-layout*/.duet-layout.sc-duet-section-layout{margin-top:72px}}/*!@.duet-layout.duet-m-0*/.duet-layout.duet-m-0.sc-duet-section-layout{margin-top:0 !important;margin-bottom:0 !important}@media (min-width: 36em){/*!@.duet-layout*/.duet-layout.sc-duet-section-layout{padding:0 28px}}@media (min-width: 62em){/*!@.duet-layout*/.duet-layout.sc-duet-section-layout{display:flex;flex-direction:row;padding:0 56px;margin-bottom:48px}}@media (min-width: 76.25em){/*!@.duet-layout*/.duet-layout.sc-duet-section-layout{max-width:1110px;padding:0}}/*!@.duet-main*/.duet-main.sc-duet-section-layout{display:block;width:100%}@media (min-width: 62em){/*!@.duet-main*/.duet-main.sc-duet-section-layout{min-width:600px;margin:0 auto}/*!@.has-sidebar .duet-main*/.has-sidebar.sc-duet-section-layout .duet-main.sc-duet-section-layout{max-width:734px;margin-right:20px}}";

class DuetSectionLayout {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.margin = "auto";
        this.middle = false;
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-middle": this.middle,
                "duet-ie": isInternetExplorer(),
            } }, hAsync("div", { class: {
                "duet-layout": true,
                "duet-m-0": this.margin === "none",
            } }, hAsync("section", { class: "duet-main" }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSectionLayoutCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-section-layout",
        "$members$": {
            "margin": [1],
            "middle": [4]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetSelectCss = "*.sc-duet-select,*.sc-duet-select::after,*.sc-duet-select::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-select-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;max-width:100%;vertical-align:bottom}.sc-duet-select-h:last-child,.sc-duet-select-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-select-h{width:calc(50% - 16px - 3px)}.duet-expand.sc-duet-select-h{width:100% !important}}.duet-select-variation-tiny.sc-duet-select-h,.duet-select-variation-compact.sc-duet-select-h{position:relative;top:-2px;width:72px;margin:0 !important;vertical-align:baseline}.duet-select-variation-compact.sc-duet-select-h{width:auto}.duet-m-0.sc-duet-select-h{margin:0 !important}duet-tooltip.sc-duet-select{position:absolute;top:12px;right:0}@media (min-width: 48em){duet-tooltip.sc-duet-select{position:relative;top:4px;right:auto}}.duet-select-placeholder.sc-duet-select{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}.duet-select-container.sc-duet-select{position:relative;width:100%}.duet-select-container.duet-select-variation-tiny.sc-duet-select{width:72px}.duet-select-wrapper.sc-duet-select{position:relative;width:100%;padding:15px 14px !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.25}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}.duet-select-variation-tiny.sc-duet-select .duet-select-wrapper.sc-duet-select{width:81px;padding:0 !important}.duet-select-variation-compact.sc-duet-select .duet-select-wrapper.sc-duet-select{padding:0 !important;line-height:1}.duet-select-wrapper.sc-duet-select select.sc-duet-select{position:absolute;top:0;right:0;bottom:0;left:0;z-index:200;width:100%;height:100%;padding:0;margin:0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;cursor:pointer;border:0;outline:none;opacity:0}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}.duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{border-color:rgb(144, 149, 153);box-shadow:0 0 0 1px #909599}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{border-color:rgb(116, 116, 117);box-shadow:0 0 0 1px #747475}.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #e55039}.duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{border-color:rgb(0, 119, 179);outline:0;box-shadow:0 0 0 1px #0077b3 !important;transition:none}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px #171c3a !important}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(23, 28, 58)}.duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(0, 119, 179)}.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #e55039}.duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select{cursor:default !important}.duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select+.duet-select.sc-duet-select{color:rgb(0, 41, 77) !important;cursor:default !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important;box-shadow:none !important;opacity:1 !important;-webkit-text-fill-color:rgb(0, 41, 77) !important}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select+.duet-select.sc-duet-select{color:rgb(23, 28, 58) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important;-webkit-text-fill-color:rgb(23, 28, 58) !important}.duet-select-wrapper.sc-duet-select span.duet-keep-container-height.sc-duet-select{opacity:0}.duet-select-variation-compact.sc-duet-select .duet-select-wrapper.sc-duet-select span.duet-keep-container-height.sc-duet-select{display:none}.duet-select.sc-duet-select{position:absolute;top:0;right:0;bottom:0;left:0;z-index:100;display:block;width:100%;min-width:8rem;padding:12px 14px !important;padding-right:48px !important;overflow:hidden;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);text-align:left;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:4px;transition:150ms ease}.has-error.sc-duet-select .duet-select.sc-duet-select{border-color:rgb(222, 35, 98) !important}.has-error.sc-duet-select .duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(222, 35, 98) !important}.duet-theme-turva.has-error.sc-duet-select .duet-select.sc-duet-select{border-color:rgb(224, 42, 13) !important}.duet-theme-turva.has-error.sc-duet-select .duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(224, 42, 13) !important}.duet-theme-turva.sc-duet-select .duet-select.sc-duet-select{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(116, 116, 117)}.duet-select.sc-duet-select svg.sc-duet-select{position:absolute;top:50%;right:16px;z-index:200;width:20px;height:20px;color:rgb(0, 41, 77);pointer-events:none;transform:translateY(-50%)}.duet-theme-turva.sc-duet-select .duet-select.sc-duet-select svg.sc-duet-select{color:rgb(23, 28, 58)}.duet-select-variation-tiny.sc-duet-select .duet-select.sc-duet-select,.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select{width:72px;min-width:inherit;padding:0 !important;margin-bottom:-4px;overflow:visible;font-weight:600;text-align:center}.duet-select-variation-tiny.sc-duet-select .duet-select.sc-duet-select duet-icon.sc-duet-select,.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select duet-icon.sc-duet-select{padding-left:10px}.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select{position:relative;width:fit-content;padding:7px 16px !important;font-size:0.875rem;line-height:1.1;text-align:right;border-radius:8px}.duet-select-help.sc-duet-select{display:block;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(101, 119, 135);border-radius:4px}.duet-select-help.sc-duet-select span.sc-duet-select{display:block;margin-top:8px}.duet-theme-turva.sc-duet-select .duet-select-help.sc-duet-select{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(116, 116, 117)}.has-error.sc-duet-select .duet-select-help.sc-duet-select{color:rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-select .duet-select-help.sc-duet-select{color:rgb(224, 42, 13)}.duet-label-hidden.sc-duet-select duet-label.sc-duet-select{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}";

function isOptionGroup(item) {
    return "options" in item;
}
function findOptionByValue(items, value) {
    for (var i = 0; i < items.length; i++) {
        let item = items[i];
        if (isOptionGroup(item)) {
            item = findOptionByValue(item.options, value);
        }
        if (item && item.value === value) {
            return item;
        }
    }
}
class DuetSelect {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        /**
         * Own Properties
         */
        this.selectId = createID("DuetSelect");
        this.errorId = createID("DuetError");
        this.labelId = createID("DuetLabel");
        this.topCaptionId = createID("DuetCaptionTop");
        this.topCaptionPlaceholderId = createID("DuetCaptionPlaceholderTop");
        /**
         * Component event handling.
         */
        this.onClick = (ev) => {
            ev.stopPropagation();
        };
        this.onChange = () => {
            this.value = this.nativeSelect.value;
            this.duetChange.emit({
                value: this.value,
                component: "duet-select",
            });
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-select",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-select",
            });
        };
        this.getDescribedBy = () => {
            const describedBy = [];
            if (this.isCaptionVisible && this.topCaptionId) {
                describedBy.push(this.topCaptionId);
            }
            if (this.accessibleDescribedBy) {
                describedBy.push(this.accessibleDescribedBy);
            }
            if (this.error) {
                describedBy.push(this.errorId);
            }
            return describedBy.length > 0 ? describedBy.join(" ") : null;
        };
        this.processedItems = null;
        this.variation = "default";
        this.accessibleActiveDescendant = undefined;
        this.accessibleDescribedBy = undefined;
        this.margin = "auto";
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.error = "";
        this.accessibleLiveError = "polite";
        this.expand = false;
        this.value = undefined;
        this.theme = "";
        this.labelHidden = false;
        this.identifier = undefined;
        this.name = undefined;
        this.placeholder = "";
        this.caption = undefined;
        this.echoPlaceholder = false;
        this.items = undefined;
        this.disabled = false;
        this.required = false;
        this.label = "label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.role = undefined;
        this.tooltip = "";
        this.tooltipDirection = "auto";
    }
    valueChanged() {
        if (this.nativeSelect) {
            this.nativeSelect.value = this.value;
        }
        this.isCaptionVisible = !!this.caption;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.isCaptionVisible = !!this.caption;
        this.refresh();
    }
    /**
     * Sets focus on the specified `duet-select`. Use this method instead of the global
     * `select.focus()`.
     */
    async setFocus(options) {
        if (this.nativeSelect) {
            this.nativeSelect.focus(options);
        }
    }
    /**
     * Local methods.
     */
    async refresh() {
        this.processedItems = parsePossibleJSON(this.items);
    }
    getSelectedItemLabel() {
        let item;
        if (this.processedItems) {
            item = findOptionByValue(this.processedItems, this.value);
        }
        return item ? item.label : this.placeholder || "";
    }
    renderOption(option) {
        return (hAsync("option", { "aria-label": option.ariaLabel, value: option.value, key: option.value, selected: this.value === option.value, disabled: option.disabled }, option.label));
    }
    renderOptionGroup(group) {
        return (hAsync("optgroup", { key: group.label, label: group.label, disabled: group.disabled }, group.options.map(option => this.renderOption(option))));
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "value": ["valueChanged"],
        "items": ["refresh"]
    }; }
    static get style() { return duetSelectCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-select",
        "$members$": {
            "variation": [1],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "margin": [1],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "error": [1],
            "accessibleLiveError": [1, "accessible-live-error"],
            "expand": [4],
            "value": [1537],
            "theme": [1025],
            "labelHidden": [4, "label-hidden"],
            "identifier": [1],
            "name": [1],
            "placeholder": [1],
            "caption": [1],
            "echoPlaceholder": [4, "echo-placeholder"],
            "items": [1],
            "disabled": [516],
            "required": [4],
            "label": [1],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "role": [1],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "processedItems": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["value", "value"], ["disabled", "disabled"]]
    }; }
}

const duetShapedImageCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-shaped-image,*.sc-duet-shaped-image::after,*.sc-duet-shaped-image::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-shaped-image-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;width:100%;height:100%;margin:5%}/*!@:host(.duet-theme-turva)*/.duet-theme-turva.sc-duet-shaped-image-h{margin:3%}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-shaped-image-h{margin:0}/*!@.shaped-image*/.shaped-image.sc-duet-shaped-image{position:relative;display:inline-block;width:100%;height:100%}/*!@.shaped-image .shaped-image-mask*/.shaped-image.sc-duet-shaped-image .shaped-image-mask.sc-duet-shaped-image{position:relative;display:block;width:100%;height:100%;overflow:hidden;border-radius:25%;transform:rotate(var(--rotation))}/*!@.shaped-image .shaped-image-mask .shaped-image-img*/.shaped-image.sc-duet-shaped-image .shaped-image-mask.sc-duet-shaped-image .shaped-image-img.sc-duet-shaped-image{position:relative;display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:center;background-size:cover;transform:scale(1.07) rotate(calc(-1 * var(--rotation)));transform-origin:center}/*!@:host(.duet-theme-turva) .shaped-image .shaped-image-mask*/.duet-theme-turva.sc-duet-shaped-image-h .shaped-image.sc-duet-shaped-image .shaped-image-mask.sc-duet-shaped-image{transform:none;-webkit-mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");-webkit-mask-repeat:no-repeat;mask-image:url(\"data:image/svg+xml,%3Csvg%20fill%3D%22currentColor%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%220%200%20160%20140%22%3E%3Cpath%20d%3D%22M87.8%20139.6a57.3%2057.3%200%2000-18.4-3.3c-8-.5-16.3-2.5-24.6-6-16.7-7-29-18.7-37.1-35.3a73.5%2073.5%200%2001-5-52.4c1.7-4%203-6.7%204-7.8a33%2033%200%20004-7.8C33.4%203.5%2063.2-4.3%20100%203.2c30.5%204%2049.7%2019.9%2057.6%2047.4l1.6%2024c4.4%2036-11.5%2056-47.5%2060.3-4%202.4-12%203.9-24%204.7%22%20fill-rule%3D%22nonzero%22%2F%3E%3C%2Fsvg%3E\");mask-repeat:no-repeat}/*!@:host(.duet-theme-turva) .shaped-image .shaped-image-mask .shaped-image-img*/.duet-theme-turva.sc-duet-shaped-image-h .shaped-image.sc-duet-shaped-image .shaped-image-mask.sc-duet-shaped-image .shaped-image-img.sc-duet-shaped-image{transform:none}";

class DuetShapedImage {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.accessibleLabel = undefined;
        this.margin = "auto";
        this.src = undefined;
        this.rotation = 7;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one of the class.
     */
    render() {
        const style = {
            "--rotation": `${this.rotation}deg`,
        };
        return (hAsync(Host, { class: { "duet-theme-turva": this.theme === "turva", "duet-m-0": this.margin === "none" } }, hAsync("span", { class: {
                "shaped-image": true,
            }, role: "img", "aria-label": this.accessibleLabel, style: style }, hAsync("span", { class: "shaped-image-mask", role: "presentation" }, hAsync("span", { class: "shaped-image-img", role: "presentation", style: { backgroundImage: `url("${this.src}")` } })))));
    }
    static get style() { return duetShapedImageCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-shaped-image",
        "$members$": {
            "theme": [1025],
            "accessibleLabel": [1, "accessible-label"],
            "margin": [1],
            "src": [1],
            "rotation": [2]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetShowMoreCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-show-more,*.sc-duet-show-more::after,*.sc-duet-show-more::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-show-more-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block}/*!@.duet-show-more*/.duet-show-more.sc-duet-show-more{margin-bottom:16px !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77)}/*!@.duet-show-more.duet-m-0*/.duet-show-more.duet-m-0.sc-duet-show-more{margin:0 !important}/*!@.duet-show-more .slotted-content*/.duet-show-more.sc-duet-show-more .slotted-content.sc-duet-show-more{display:none}/*!@.duet-show-more.open .slotted-content*/.duet-show-more.open.sc-duet-show-more .slotted-content.sc-duet-show-more{display:block}/*!@.duet-show-more.duet-theme-turva*/.duet-show-more.duet-theme-turva.sc-duet-show-more{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}";

class DuetShowMore {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetToggle = createEvent$2(this, "duetToggle", 7);
        this.contentId = createID("DuetShowMore");
        this.buttonId = createID("DuetShowMoreButton");
        this.handleKeyDown = (e) => {
            if (isKeyboardClick(e)) {
                this.handleClick(e);
            }
        };
        this.handleClick = (e) => {
            e.preventDefault();
            const open = !this.open;
            this.open = open;
            if (open) {
                setTimeout(() => {
                    this.contentElement.focus();
                }, 100);
                setTimeout(() => {
                    this.buttonAriaOpen = open;
                }, 500);
            }
            else {
                this.buttonAriaOpen = open;
            }
            this.duetToggle.emit({
                component: "duet-show-more",
                originalEvent: e,
            });
        };
        this.buttonAriaOpen = false;
        this.theme = "";
        this.language = getLanguage();
        this.showMoreLabelDefaults = {
            fi: "Näytä lisää",
            sv: "Visa mer",
            en: "Show more",
        };
        this.showMoreLabel = getLocaleString(this.showMoreLabelDefaults);
        this.showLessLabelDefaults = {
            fi: "Näytä vähemmän",
            sv: "Visa mindre",
            en: "Show less",
        };
        this.showLessLabel = getLocaleString(this.showLessLabelDefaults);
        this.showMoreAccessibleLabelDefaults = {
            fi: "Näytä lisää tästä aiheesta",
            sv: "Visa mer om detta ämne",
            en: "Show more about this subject",
        };
        this.showMoreAccessibleLabel = getLocaleString(this.showMoreAccessibleLabelDefaults);
        this.showLessAccessibleLabelDefaults = {
            fi: "Näytä vähemmän tästä aiheesta",
            sv: "Visa mindre om detta ämne",
            en: "Show less about this subject",
        };
        this.showLessAccessibleLabel = getLocaleString(this.showLessAccessibleLabelDefaults);
        this.margin = "auto";
        this.buttonMargin = "auto";
        this.buttonPadding = "auto";
        this.open = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.buttonAriaOpen = this.open;
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, [
            { prop: "showMoreLabel", defaults: "showMoreLabelDefaults" },
            { prop: "showLessLabel", defaults: "showLessLabelDefaults" },
            { prop: "showMoreAccessibleLabel", defaults: "showMoreAccessibleLabelDefaults" },
            { prop: "showLessAccessibleLabel", defaults: "showLessAccessibleLabelDefaults" },
        ]);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * render() function
     * Always the last one of the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-show-more": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-m-0": this.margin === "none",
                open: this.open,
            } }, hAsync("div", { ref: ref => (this.contentElement = ref), class: { content: true }, id: this.contentId, tabindex: this.open ? "0" : "" }, hAsync("div", { class: { "slotted-content": true } }, hAsync("slot", null))), hAsync("duet-button", { id: this.buttonId, variation: "plain", "accessible-label": this.buttonAriaOpen ? this.showLessAccessibleLabel : this.showMoreAccessibleLabel, "accessible-expanded": this.buttonAriaOpen ? "true" : "false", "accessible-controls": this.contentId, onClick: this.handleClick, onKeyDown: this.handleKeyDown, "icon-right": true, icon: this.open ? "action-arrow-up-small" : "action-arrow-down-small", "icon-size": "medium-small", size: "small", margin: this.buttonMargin, padding: this.buttonPadding, theme: this.theme === "turva" ? "turva" : "default" }, this.open ? this.showLessLabel : this.showMoreLabel))));
    }
    get element() { return getElement(this); }
    static get style() { return duetShowMoreCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-show-more",
        "$members$": {
            "theme": [1025],
            "language": [1537],
            "showMoreLabelDefaults": [16],
            "showMoreLabel": [1537, "show-more-label"],
            "showLessLabelDefaults": [16],
            "showLessLabel": [1537, "show-less-label"],
            "showMoreAccessibleLabelDefaults": [16],
            "showMoreAccessibleLabel": [1537, "show-more-accessible-label"],
            "showLessAccessibleLabelDefaults": [16],
            "showLessAccessibleLabel": [1537, "show-less-accessible-label"],
            "margin": [1],
            "buttonMargin": [1, "button-margin"],
            "buttonPadding": [1, "button-padding"],
            "open": [1540],
            "buttonAriaOpen": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["language", "language"], ["showMoreLabel", "show-more-label"], ["showLessLabel", "show-less-label"], ["showMoreAccessibleLabel", "show-more-accessible-label"], ["showLessAccessibleLabel", "show-less-accessible-label"], ["open", "open"]]
    }; }
}

const duetSlideoutCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-slideout,*.sc-duet-slideout::after,*.sc-duet-slideout::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-slideout-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute;height:100%}/*!@::slotted(*)*/.sc-duet-slideout-s>*{position:relative;width:100%;visibility:hidden;opacity:0}/*!@:host([open]) ::slotted(*)*/.sc-duet-slideout-h[open] .sc-duet-slideout-s>*{visibility:visible;opacity:1}/*!@:host(:not([open])) ::slotted(duet-slideout-panel)*/.sc-duet-slideout-h:not([open]) .sc-duet-slideout-s>duet-slideout-panel{display:none}/*!@.duet-slideout*/.duet-slideout.sc-duet-slideout{display:flex;align-items:center;height:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77)}/*!@.duet-slideout.duet-theme-turva*/.duet-slideout.duet-theme-turva.sc-duet-slideout{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-slideout .desktop-bg*/.duet-slideout.sc-duet-slideout .desktop-bg.sc-duet-slideout{display:none}@media (min-width: 62em){/*!@.duet-slideout .desktop-bg*/.duet-slideout.sc-duet-slideout .desktop-bg.sc-duet-slideout{position:fixed;top:0;left:0;z-index:400;display:block;width:100%;height:100%;visibility:hidden;background:rgba(0, 41, 77, 0.6);opacity:0;transition:600ms ease}/*!@.duet-slideout .desktop-bg:not(.hidden)*/.duet-slideout.sc-duet-slideout .desktop-bg.sc-duet-slideout:not(.hidden){visibility:visible;opacity:1;transition:600ms ease}}@media (min-width: 62em){/*!@.duet-slideout.duet-theme-turva .desktop-bg*/.duet-slideout.duet-theme-turva.sc-duet-slideout .desktop-bg.sc-duet-slideout{background:rgba(23, 28, 58, 0.6)}}/*!@.duet-slideout .dialog*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout{position:fixed;top:0;bottom:0;left:0;z-index:400;width:100%;height:100%;padding-bottom:75px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1) inset}@media (min-width: 62em){/*!@.duet-slideout .dialog*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout{right:0;left:auto;width:500px;padding-bottom:0;transition:right 300ms ease;transition-delay:0s}}/*!@.duet-slideout .dialog .top-container.has-sticky-header-slot*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top-container.has-sticky-header-slot.sc-duet-slideout{position:sticky;top:0;z-index:200}/*!@.duet-slideout .dialog .top-container.has-sticky-header-slot .top*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top-container.has-sticky-header-slot.sc-duet-slideout .top.sc-duet-slideout{background:rgb(243, 249, 252)}/*!@.duet-slideout .dialog .top-container.has-sticky-header-slot .sticky-header*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top-container.has-sticky-header-slot.sc-duet-slideout .sticky-header.sc-duet-slideout{display:block}/*!@.duet-slideout .dialog .top*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top.sc-duet-slideout{position:relative;z-index:1;display:flex;align-items:center;justify-content:flex-end;padding:4px}/*!@.duet-slideout .dialog .top button*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top.sc-duet-slideout button.sc-duet-slideout{cursor:pointer}/*!@.duet-slideout .dialog .top button:focus*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top.sc-duet-slideout button.sc-duet-slideout:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-slideout .dialog .top duet-icon*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .top.sc-duet-slideout duet-icon.sc-duet-slideout{padding:16px}/*!@.duet-slideout .dialog .sticky-header*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .sticky-header.sc-duet-slideout{display:none;width:100%;padding:0 1.5rem;margin-bottom:20px;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-slideout .dialog .items*/.duet-slideout.sc-duet-slideout .dialog.sc-duet-slideout .items.sc-duet-slideout{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;padding:0 1.5rem}/*!@.duet-slideout .dialog.hidden*/.duet-slideout.sc-duet-slideout .dialog.hidden.sc-duet-slideout{pointer-events:none;visibility:hidden}@media (min-width: 62em){/*!@.duet-slideout .dialog.hidden*/.duet-slideout.sc-duet-slideout .dialog.hidden.sc-duet-slideout{right:-500px;transition:300ms ease}}/*!@.duet-slideout.duet-theme-turva .dialog*/.duet-slideout.duet-theme-turva.sc-duet-slideout .dialog.sc-duet-slideout{box-shadow:0 3px 6px 0 rgba(23, 28, 58, 0.1) inset}/*!@.duet-slideout.duet-theme-turva button*/.duet-slideout.duet-theme-turva.sc-duet-slideout button.sc-duet-slideout{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-slideout.duet-theme-turva button:focus*/.duet-slideout.duet-theme-turva.sc-duet-slideout button.sc-duet-slideout:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-slideout.duet-theme-turva button.active*/.duet-slideout.duet-theme-turva.sc-duet-slideout button.active.sc-duet-slideout{color:rgb(198, 12, 48)}/*!@.duet-slideout.duet-theme-turva button.active::after*/.duet-slideout.duet-theme-turva.sc-duet-slideout button.active.sc-duet-slideout::after{background:rgb(198, 12, 48)}/*!@.duet-slideout.duet-theme-turva .has-sticky-header-slot .top*/.duet-slideout.duet-theme-turva.sc-duet-slideout .has-sticky-header-slot.sc-duet-slideout .top.sc-duet-slideout{background:rgb(245, 245, 247)}/*!@.duet-slideout.duet-theme-turva .has-sticky-header-slot .sticky-header*/.duet-slideout.duet-theme-turva.sc-duet-slideout .has-sticky-header-slot.sc-duet-slideout .sticky-header.sc-duet-slideout{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}/*!@.duet-slideout.duet-theme-turva .dialog .top button:focus*/.duet-slideout.duet-theme-turva.sc-duet-slideout .dialog.sc-duet-slideout .top.sc-duet-slideout button.sc-duet-slideout:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@slot*/slot.sc-duet-slideout{color:rgb(0, 41, 77)}/*!@.duet-theme-turva slot*/.duet-theme-turva.sc-duet-slideout slot.sc-duet-slideout{color:rgb(23, 28, 58)}";

/**
 * @slot sticky-header - Content will be fixed to the top of the modal when scrolling.
 */
class DuetSlideout {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetSlideoutEvent = createEvent$2(this, "duetSlideoutEvent", 7);
        this.exitLangObject = {
            en: "Exit the menu",
            fi: "Poistu valikosta",
            sv: "Avsluta menyn",
        };
        this.topLevelOpenMenuBarLangObject = {
            en: "Exit this menu to find top level items",
            fi: "Poistu tästä valikosta löytääksesi ylätason kohteet",
            sv: "Stäng den här menyn för att hitta objekt på toppnivå",
        };
        this.isSafariBrowser = /^((?!chrome|android).)*safari/i.test(navigator === null || navigator === void 0 ? void 0 : navigator.userAgent);
        this.hasStickyHeaderSlot = false;
        this.handleBodyScrolling = () => {
            if (this.displaying && this.open) {
                disableBodyScroll(this.dialog, { reserveScrollBarGap: true });
            }
            else {
                enableBodyScroll(this.dialog);
            }
        };
        this.setOpenButton = (element) => {
            if (!element) {
                return;
            }
            try {
                const button = element;
                button.accessiblePopup = "true";
                button.accessibleExpanded = false;
                this.openButton = button;
            }
            catch (_e) { }
        };
        this.openButtonEventListener = (e) => {
            e.stopPropagation();
            e.preventDefault();
            this.onClick(e);
        };
        this.getOpenPanel = () => {
            return this.element.querySelector("duet-slideout-panel[open]");
        };
        this.toggleMenu = (e) => {
            this.open = !this.open;
            if (this.openButton) {
                this.openButton.accessibleExpanded = this.open;
            }
            this.duetSlideoutEvent.emit({
                originalEvent: e,
                data: { element: this.element, open: this.open },
                component: "duet-slideout",
            });
            if (this.open) {
                const openPanel = this.getOpenPanel();
                this.teleport.go(true);
                if (openPanel) {
                    openPanel.setFocus();
                    this.handleBodyScrolling();
                }
                else {
                    setTimeout(() => {
                        this.closeButton.focus();
                        this.handleBodyScrolling();
                    }, 200);
                }
            }
            else {
                setTimeout(() => {
                    focusElement(this.openButton);
                    this.handleBodyScrolling();
                    this.teleport.resume();
                }, 200);
            }
        };
        this.bgOnClick = (e) => {
            if (this.open) {
                this.toggleMenu(e);
            }
        };
        this.onClick = (e) => {
            this.toggleMenu(e);
        };
        this.language = getLanguage();
        this.displaying = false;
        this.openPanel = false;
        this.theme = "";
        this.accessibleRole = "menubar";
        this.open = false;
        this.opener = undefined;
        this.backgroundColor = "gray-lightest";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasStickyHeaderSlot = hasSlot(this.element, "sticky-header");
        this.teleport = new Teleport(this.element);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
        {
            return;
        }
    }
    componentDidRender() {
        {
            return;
        }
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        enableBodyScroll(this.dialog);
        if (this.intersectionObserver) {
            this.intersectionObserver.disconnect();
        }
        if (this.mutationObserver) {
            this.mutationObserver.disconnect();
        }
        if (this.openButton) {
            this.openButton.removeEventListener("click", this.openButtonEventListener);
        }
    }
    /**
     * Component event handling.
     */
    handleKeyUp(ev) {
        // When Esc is pressed
        if (isEscapeKey(ev)) {
            if (this.open) {
                this.toggleMenu(ev);
            }
        }
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        var _a;
        (_a = this.openButton) === null || _a === void 0 ? void 0 : _a.focus(options);
    }
    /**
     * Toggles the slideout.
     */
    async toggle() {
        const event = new CustomEvent("toggle");
        this.toggleMenu(event);
        setTimeout(() => {
            this.closeButton.focus();
        }, 200);
    }
    /**
     * Shows the slideout. Additionally saves the element (DuetButton or DuetMenuBarButton) that triggered
     * the slideout so that focus can be moved back to this specific element when
     * the slideout dialog is closed.
     */
    async show() {
        if (this.open) {
            return;
        }
        this.setOpenButton(document.activeElement);
        this.toggleMenu(new CustomEvent("toggle"));
    }
    /**
     * Hides the slideout dialog and puts focus back to the original element
     * that triggered the slideout (if we’re still in the same view).
     */
    async hide() {
        if (!this.open) {
            return;
        }
        this.toggleMenu(new CustomEvent("toggle"));
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const styles = {
            background: getColorByName(this.backgroundColor, this.theme),
        };
        const topLevelOpenMenuBarTranslation = getLocaleString(this.topLevelOpenMenuBarLangObject);
        const exitTranslation = getLocaleString(this.exitLangObject);
        return (hAsync(Host, null, hAsync("div", { class: { "duet-slideout": true, "duet-theme-turva": this.theme === "turva" } }, hAsync("div", { class: {
                "desktop-bg": true,
                hidden: !this.open,
            }, onClick: this.bgOnClick }), hAsync("div", { ref: element => (this.dialog = element), tabindex: "-1", role: "dialog", id: "dialog", "aria-labelledby": "button", "aria-modal": this.isSafariBrowser ? false : true, "aria-flowto": "slot-container", class: {
                dialog: true,
                hidden: !this.open,
            }, style: styles }, hAsync(FocusGuard, { moveFocusTo: this.closeButton }), hAsync("div", { class: { "top-container": true, "has-sticky-header-slot": this.hasStickyHeaderSlot } }, hAsync("div", { class: "top" }, hAsync("button", { ref: element => (this.closeButton = element), "aria-haspopup": "dialog", "aria-controls": "dialog", "aria-expanded": this.open ? "true" : "false", "aria-label": `${exitTranslation}`, type: "button", class: {
                "slideout-close": true,
                active: this.open,
            }, onClick: this.onClick, inert: this.openPanel }, hAsync("duet-icon", { name: "navigation-close", size: "small", margin: "none", color: "secondary" }))), hAsync("div", { class: "sticky-header" }, hAsync("slot", { name: "sticky-header" }))), hAsync("div", { id: "slot-container", role: this.accessibleRole, "aria-label": this.openPanel ? topLevelOpenMenuBarTranslation : null, class: {
                items: true,
            } }, hAsync("slot", null)), hAsync(FocusGuard, { moveFocusTo: this.closeButton })))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSlideoutCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-slideout",
        "$members$": {
            "theme": [1025],
            "accessibleRole": [1, "accessible-role"],
            "open": [1540],
            "opener": [1],
            "backgroundColor": [1537, "background-color"],
            "language": [32],
            "displaying": [32],
            "openPanel": [32],
            "setFocus": [64],
            "toggle": [64],
            "show": [64],
            "hide": [64]
        },
        "$listeners$": [[8, "keyup", "handleKeyUp"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"], ["backgroundColor", "background-color"]]
    }; }
}

const duetSlideoutLangCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-slideout-lang,*.sc-duet-slideout-lang::after,*.sc-duet-slideout-lang::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-slideout-lang-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-slideout-lang*/.duet-slideout-lang.sc-duet-slideout-lang{display:flex;gap:20px;align-items:center;justify-content:flex-start;width:min-content}/*!@::slotted(*)*/.sc-duet-slideout-lang-s>*{position:relative}/*!@::slotted(:not(:first-child))*/.sc-duet-slideout-lang-s>:not(:first-child){padding-right:0;padding-left:0.5rem}/*!@::slotted(:not(:last-child))::after*/.sc-duet-slideout-lang-s>:not(:last-child)::after{position:absolute;top:15%;right:-16px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:16px;font-weight:600;line-height:150%;color:rgb(0, 41, 77);content:\"|\"}/*!@.duet-theme-turva ::slotted(:not(:last-child))::after*/.duet-theme-turva .sc-duet-slideout-lang-s>:not(:last-child)::after{color:rgb(23, 28, 58)}";

class DuetSlideoutLang {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.chooseLangObject = {
            en: "Choose language",
            fi: "Valitse kieli",
            sv: "Välj språk",
        };
        this.language = getLanguage();
        this.theme = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const langTranslation = getLocaleString(this.chooseLangObject);
        return (hAsync(Host, null, hAsync("div", { class: "duet-slideout-lang", role: "group", "aria-label": langTranslation }, hAsync("duet-icon", { name: "navigation-language", margin: "none", color: "secondary" }), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSlideoutLangCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-slideout-lang",
        "$members$": {
            "theme": [1025],
            "language": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetSlideoutLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-slideout-link,*.sc-duet-slideout-link::after,*.sc-duet-slideout-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-slideout-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}/*!@.duet-slideout-link*/.duet-slideout-link.sc-duet-slideout-link{position:relative;display:flex;gap:20px;align-items:center;justify-content:flex-start;width:100%;height:100%;padding:8px 0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:inherit;font-weight:inherit;line-height:1.25;color:inherit;text-align:left;text-decoration:none}/*!@.duet-slideout-link:focus*/.duet-slideout-link.sc-duet-slideout-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-slideout-link:focus, .duet-slideout-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-slideout-link .duet-slideout-link.sc-duet-slideout-link:focus,.duet-slideout-link.sc-duet-slideout-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-slideout-link.duet-theme-turva*/.duet-slideout-link.duet-theme-turva.sc-duet-slideout-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}/*!@.duet-slideout-link.active span*/.duet-slideout-link.active.sc-duet-slideout-link span.sc-duet-slideout-link{position:relative}/*!@.duet-slideout-link.active span::after*/.duet-slideout-link.active.sc-duet-slideout-link span.sc-duet-slideout-link::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:var(--active-height, 2px);content:\"\";background:rgb(0, 119, 179);transform:var(--active-translate-y, translateY(2px))}/*!@.duet-slideout-link.active.duet-theme-turva span::after*/.duet-slideout-link.active.duet-theme-turva.sc-duet-slideout-link span.sc-duet-slideout-link::after{background:rgb(198, 12, 48)}/*!@.duet-slideout-link.small*/.duet-slideout-link.small.sc-duet-slideout-link{font-size:1rem;font-weight:600}/*!@.duet-slideout-link.small span::after*/.duet-slideout-link.small.sc-duet-slideout-link span.sc-duet-slideout-link::after{--active-height:1px;--active-translate-y:1px}/*!@.duet-slideout-link.medium*/.duet-slideout-link.medium.sc-duet-slideout-link{font-size:1.25rem;font-weight:600}/*!@.duet-slideout-link.large*/.duet-slideout-link.large.sc-duet-slideout-link{font-size:1.5rem;font-weight:800}/*!@.duet-slideout-link .label*/.duet-slideout-link.sc-duet-slideout-link .label.sc-duet-slideout-link{display:flex;gap:0.5rem;align-items:center;justify-content:space-between;width:100%}/*!@slot[name=description]::slotted(*)*/slot[name=description].sc-duet-slideout-link-s>*{display:block;padding:8px 0 0;font-size:1rem;font-size:1.25;font-weight:400;color:rgb(101, 119, 135)}/*!@.duet-theme-turva slot[name=description]::slotted(*)*/.duet-theme-turva slot[name=description].sc-duet-slideout-link-s>*{color:rgb(68, 68, 69)}";

class DuetSlideoutLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.accessibleLabel = undefined;
        this.theme = "";
        this.targetLanguage = undefined;
        this.active = false;
        this.href = "#";
        this.icon = undefined;
        this.size = "inherit";
        this.caret = false;
        this.menuItem = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-slideout-link": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.active,
                [this.size]: true,
            }, href: this.href, "aria-current": this.active ? "true" : "false", lang: this.targetLanguage, hreflang: this.targetLanguage, "aria-label": this.accessibleLabel }, this.icon && (hAsync("duet-icon", { name: this.icon, color: "secondary", size: this.menuItem ? "x-small" : "medium", margin: "none" })), hAsync("div", { class: "label" }, hAsync("span", null, hAsync("slot", null), hAsync("slot", { name: "description" })), this.caret && (hAsync("duet-icon", { name: "action-arrow-right", color: "secondary", size: "x-small", margin: "none" }))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSlideoutLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-slideout-link",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "targetLanguage": [1, "target-language"],
            "active": [1028],
            "href": [1025],
            "icon": [1537],
            "size": [1537],
            "caret": [1028],
            "menuItem": [4, "menu-item"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"], ["size", "size"]]
    }; }
}

const duetSlideoutPanelCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-slideout-panel,*.sc-duet-slideout-panel::after,*.sc-duet-slideout-panel::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-slideout-panel-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}/*!@:host slot:not([name=label])::slotted(*)*/.sc-duet-slideout-panel-h slot:not([name=label]).sc-duet-slideout-panel-s>*{position:relative;top:0.5rem;opacity:0;transition:top 0.3s ease-in, opacity 0.3s ease-in}/*!@:host([open]) slot:not([name=label])::slotted(*)*/.sc-duet-slideout-panel-h[open] slot:not([name=label]).sc-duet-slideout-panel-s>*{top:0;opacity:1}/*!@.duet-slideout-panel*/.duet-slideout-panel.sc-duet-slideout-panel{position:relative;height:100%}/*!@.duet-slideout-panel .link*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel{position:relative;display:flex;gap:20px;align-items:center;justify-content:flex-start;width:100%;height:100%;padding:8px 0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1.5rem;font-weight:800;line-height:1.25;color:rgb(0, 41, 77);text-align:left;text-decoration:none;cursor:pointer}/*!@.duet-slideout-panel .link .label*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel .label.sc-duet-slideout-panel{display:flex;gap:0.5rem;align-items:center;justify-content:space-between;width:100%}/*!@.duet-slideout-panel .link .label-text.small*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel .label-text.small.sc-duet-slideout-panel{font-size:1rem;font-weight:600}/*!@.duet-slideout-panel .link .label-text.medium*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel .label-text.medium.sc-duet-slideout-panel{font-size:1.25rem;font-weight:600}/*!@.duet-slideout-panel .link .label-text.large*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel .label-text.large.sc-duet-slideout-panel{font-size:1.5rem;font-weight:800}/*!@.duet-slideout-panel .link:focus*/.duet-slideout-panel.sc-duet-slideout-panel .link.sc-duet-slideout-panel:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-slideout-panel .link.active .label-text*/.duet-slideout-panel.sc-duet-slideout-panel .link.active.sc-duet-slideout-panel .label-text.sc-duet-slideout-panel{position:relative}/*!@.duet-slideout-panel .link.active .label-text.small::after*/.duet-slideout-panel.sc-duet-slideout-panel .link.active.sc-duet-slideout-panel .label-text.small.sc-duet-slideout-panel::after{height:1px;transform:translateY(1px)}/*!@.duet-slideout-panel .link.active .label-text::after*/.duet-slideout-panel.sc-duet-slideout-panel .link.active.sc-duet-slideout-panel .label-text.sc-duet-slideout-panel::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:2px;content:\"\";background:rgb(0, 119, 179);transform:translateY(2px)}/*!@.duet-slideout-panel .dialog*/.duet-slideout-panel.sc-duet-slideout-panel .dialog.sc-duet-slideout-panel{position:fixed;top:0;left:0;z-index:600;width:100%;height:100%;overflow-y:auto;visibility:visible}/*!@.duet-slideout-panel .dialog.hidden*/.duet-slideout-panel.sc-duet-slideout-panel .dialog.hidden.sc-duet-slideout-panel{visibility:hidden}/*!@.duet-slideout-panel .dialog.hidden .top .back,\n.duet-slideout-panel .dialog.hidden .top span*/.duet-slideout-panel.sc-duet-slideout-panel .dialog.hidden.sc-duet-slideout-panel .top.sc-duet-slideout-panel .back.sc-duet-slideout-panel,.duet-slideout-panel.sc-duet-slideout-panel .dialog.hidden.sc-duet-slideout-panel .top.sc-duet-slideout-panel span.sc-duet-slideout-panel{opacity:0}/*!@.duet-slideout-panel .top*/.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel{display:flex;align-items:center;justify-content:space-between;padding:4px}/*!@.duet-slideout-panel .top .back*/.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel .back.sc-duet-slideout-panel{opacity:1;transition:top 0.3s ease-in, opacity 0.3s ease-in}/*!@.duet-slideout-panel .top .back:focus,\n.duet-slideout-panel .top .close:focus*/.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel .back.sc-duet-slideout-panel:focus,.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel .close.sc-duet-slideout-panel:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-slideout-panel .top duet-icon*/.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel duet-icon.sc-duet-slideout-panel{padding:16px}/*!@.duet-slideout-panel .top span*/.duet-slideout-panel.sc-duet-slideout-panel .top.sc-duet-slideout-panel span.sc-duet-slideout-panel{font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.5;color:rgb(0, 41, 77);opacity:1;transition:top 0.3s ease-in, opacity 0.3s ease-in}/*!@.duet-slideout-panel .items*/.duet-slideout-panel.sc-duet-slideout-panel .items.sc-duet-slideout-panel{display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-start;padding:1rem 16px;overflow-y:auto;color:rgb(0, 41, 77)}/*!@.duet-slideout-panel.duet-theme-turva .link*/.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .link.sc-duet-slideout-panel{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-slideout-panel.duet-theme-turva .link:focus*/.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .link.sc-duet-slideout-panel:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-slideout-panel.duet-theme-turva .link.active .label-text::after*/.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .link.active.sc-duet-slideout-panel .label-text.sc-duet-slideout-panel::after{background:rgb(198, 12, 48)}/*!@.duet-slideout-panel.duet-theme-turva .top .back:focus,\n.duet-slideout-panel.duet-theme-turva .top .close:focus*/.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .top.sc-duet-slideout-panel .back.sc-duet-slideout-panel:focus,.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .top.sc-duet-slideout-panel .close.sc-duet-slideout-panel:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-slideout-panel.duet-theme-turva .top span*/.duet-slideout-panel.duet-theme-turva.sc-duet-slideout-panel .top.sc-duet-slideout-panel span.sc-duet-slideout-panel{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@slot:not([name=label])*/slot.sc-duet-slideout-panel:not([name=label]){--active-height:1px;--active-translate-y:translateY(1px);font-size:1rem;font-weight:600;color:rgb(0, 41, 77)}/*!@.duet-theme-turva slot:not([name=label])*/.duet-theme-turva.sc-duet-slideout-panel slot.sc-duet-slideout-panel:not([name=label]){color:rgb(23, 28, 58)}";

class DuetSlideoutPanel {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.exitLangObject = {
            en: "Exit the menu",
            fi: "Poistu valikosta",
            sv: "Avsluta menyn",
        };
        this.backLangObject = {
            en: "Back to main menu",
            fi: "Takaisin päävalikkoon",
            sv: "Tillbaka till huvudmenyn",
        };
        this.updateLabel = () => {
            const labelSlotElement = this.element.querySelector("[slot='label']");
            this.label = labelSlotElement;
        };
        this.onToggleClick = () => {
            const toggle = !this.open;
            this.open = toggle;
            if (toggle) {
                setTimeout(() => {
                    const siblings = Array.from(this.element.parentElement.children);
                    siblings.forEach(sibling => {
                        if (sibling !== this.element) {
                            sibling.inert = true;
                        }
                    });
                    this.closeButton.focus();
                }, 200);
            }
            else {
                setTimeout(() => {
                    const siblings = Array.from(this.element.parentElement.children);
                    siblings.forEach(sibling => {
                        sibling.inert = false;
                    });
                    this.openButton.focus();
                }, 200);
            }
        };
        this.onCloseClick = e => {
            e.stopPropagation();
            const parentElement = this.element.parentElement;
            if (parentElement.tagName === "DUET-SLIDEOUT") {
                const slideout = this.element.parentElement;
                slideout.toggle();
            }
        };
        this.label = undefined;
        this.language = getLanguage();
        this.theme = "";
        this.active = false;
        this.open = false;
        this.icon = undefined;
        this.labelSize = "medium";
        this.backgroundColor = "primary-lightest";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.updateLabel();
    }
    connectedCallback() {
        connectLanguageChangeObserver(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        if (this.open) {
            setTimeout(() => {
                this.closeButton.focus(options);
            }, 200);
        }
        else {
            setTimeout(() => {
                this.openButton.focus(options);
            }, 200);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const defaultBackgroundColor = this.backgroundColor === "primary-lightest"
            ? this.theme === "turva"
                ? "gray-lighter"
                : this.backgroundColor
            : this.backgroundColor;
        const styles = {
            background: getColorByName(defaultBackgroundColor, this.theme),
        };
        const exitTranslation = getLocaleString(this.exitLangObject);
        const backTranslation = getLocaleString(this.backLangObject);
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-slideout-panel": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.open,
            } }, hAsync("button", { ref: element => (this.openButton = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", "aria-current": this.active ? "true" : "false", id: "button", type: "button", class: {
                link: true,
                active: this.active,
            }, onClick: this.onToggleClick, inert: this.open }, this.icon && hAsync("duet-icon", { name: this.icon, size: "medium", margin: "none", color: "secondary" }), hAsync("div", { class: "label" }, hAsync("span", { class: { "label-text": true, [this.labelSize]: true } }, hAsync("slot", { name: "label" })), hAsync("duet-icon", { class: "caret", name: "action-arrow-right", margin: "none", size: "x-small", color: "secondary" }))), hAsync("div", { class: {
                dialog: true,
                hidden: !this.open,
            }, style: styles }, hAsync(FocusGuard, { moveFocusTo: this.closeButton }), hAsync("div", { class: "top" }, hAsync("button", { ref: element => (this.closeButton = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", "aria-label": `${backTranslation}`, type: "button", class: {
                back: true,
            }, onClick: this.onToggleClick }, hAsync("duet-icon", { class: "caret", name: "action-arrow-left", margin: "none", size: "small", color: "secondary" })), hAsync("span", null, this.label.innerHTML), hAsync("button", { class: "close", type: "button", onClick: this.onCloseClick, "aria-label": `${exitTranslation}` }, hAsync("duet-icon", { name: "navigation-close", size: "small", margin: "none", color: "secondary" }))), hAsync("div", { tabindex: "-1", role: "menu", id: "menu", "aria-labelledby": "button", class: {
                items: true,
            } }, hAsync("slot", null)), hAsync(FocusGuard, { moveFocusTo: this.closeButton })))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSlideoutPanelCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-slideout-panel",
        "$members$": {
            "theme": [1025],
            "active": [1540],
            "open": [1540],
            "icon": [1537],
            "labelSize": [1537, "label-size"],
            "backgroundColor": [1537, "background-color"],
            "label": [32],
            "language": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["active", "active"], ["open", "open"], ["icon", "icon"], ["labelSize", "label-size"], ["backgroundColor", "background-color"]]
    }; }
}

const duetSlideoutPanelDropdownCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-slideout-panel-dropdown,*.sc-duet-slideout-panel-dropdown::after,*.sc-duet-slideout-panel-dropdown::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-slideout-panel-dropdown-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}/*!@:host slot:not([name=label])::slotted(*)*/.sc-duet-slideout-panel-dropdown-h slot:not([name=label]).sc-duet-slideout-panel-dropdown-s>*{position:relative;top:-0.5rem;opacity:0;transition:top 0.3s ease-in, opacity 0.3s ease-in}/*!@:host([open]) slot:not([name=label])::slotted(*)*/.sc-duet-slideout-panel-dropdown-h[open] slot:not([name=label]).sc-duet-slideout-panel-dropdown-s>*{top:0;opacity:1}/*!@.duet-slideout-panel-dropdown*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown{position:relative;width:100%;height:100%}/*!@.duet-slideout-panel-dropdown button*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown button.sc-duet-slideout-panel-dropdown{position:relative;display:flex;gap:20px;align-items:center;justify-content:flex-start;width:100%;height:100%;padding:8px 0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1.25rem;font-weight:800;line-height:1.25;color:rgb(0, 41, 77);text-align:center;text-decoration:none;cursor:pointer}/*!@.duet-slideout-panel-dropdown button .label*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown button.sc-duet-slideout-panel-dropdown .label.sc-duet-slideout-panel-dropdown{position:relative;display:flex;gap:0.5rem;align-items:center;justify-content:center}/*!@.duet-slideout-panel-dropdown button:focus*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown button.sc-duet-slideout-panel-dropdown:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-slideout-panel-dropdown button.active .label::after*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown button.active.sc-duet-slideout-panel-dropdown .label.sc-duet-slideout-panel-dropdown::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:calc(100% - 18px);height:1px;content:\"\";background:rgb(0, 119, 179);transform:translateY(1px)}/*!@.duet-slideout-panel-dropdown .items*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown .items.sc-duet-slideout-panel-dropdown{display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;max-height:1000px;padding:4px 20px 8px 44px;overflow-y:auto;visibility:visible;transition:max-height 0.3s ease-in, padding-bottom 0.3s ease-in;-ms-overflow-style:none;scrollbar-width:none}/*!@.duet-slideout-panel-dropdown .items::-webkit-scrollbar*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown .items.sc-duet-slideout-panel-dropdown::-webkit-scrollbar{display:none}/*!@.duet-slideout-panel-dropdown .items.hidden*/.duet-slideout-panel-dropdown.sc-duet-slideout-panel-dropdown .items.hidden.sc-duet-slideout-panel-dropdown{max-height:0;padding:0;overflow:hidden;visibility:hidden;transition:max-height 0.3s ease-out, padding-bottom 0.3s ease-out}/*!@.duet-slideout-panel-dropdown.duet-theme-turva button*/.duet-slideout-panel-dropdown.duet-theme-turva.sc-duet-slideout-panel-dropdown button.sc-duet-slideout-panel-dropdown{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-slideout-panel-dropdown.duet-theme-turva button:focus*/.duet-slideout-panel-dropdown.duet-theme-turva.sc-duet-slideout-panel-dropdown button.sc-duet-slideout-panel-dropdown:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-slideout-panel-dropdown.duet-theme-turva button.active .label::after*/.duet-slideout-panel-dropdown.duet-theme-turva.sc-duet-slideout-panel-dropdown button.active.sc-duet-slideout-panel-dropdown .label.sc-duet-slideout-panel-dropdown::after{background:rgb(198, 12, 48)}/*!@slot*/slot.sc-duet-slideout-panel-dropdown{--active-height:1px;--active-translate-y:translateY(1px);font-size:1rem;font-weight:400;color:rgb(0, 41, 77)}/*!@.duet-theme-turva slot*/.duet-theme-turva.sc-duet-slideout-panel-dropdown slot.sc-duet-slideout-panel-dropdown{color:rgb(23, 28, 58)}/*!@slot[name=label]*/slot[name=label].sc-duet-slideout-panel-dropdown{font-size:1rem;font-weight:600}";

class DuetSlideoutPanelDropdown {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.onClick = () => {
            this.open = !this.open;
        };
        this.theme = "";
        this.active = false;
        this.open = false;
        this.icon = undefined;
    }
    handleFocus(e) {
        const isClickOutside = e.composedPath().every(node => node !== this.element);
        if (isClickOutside) {
            this.open = false;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        const links = this.element.querySelectorAll("duet-slideout-link");
        links.forEach(link => {
            link.menuItem = true;
        });
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        this.button.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-slideout-panel-dropdown": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.open,
            } }, hAsync("button", { ref: element => (this.button = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", "aria-current": this.active ? "true" : "false", id: "button", type: "button", class: {
                active: this.active,
            }, onClick: this.onClick }, this.icon && hAsync("duet-icon", { name: this.icon, size: "medium", margin: "none", color: "secondary" }), hAsync("div", { class: "label" }, hAsync("slot", { name: "label" }), hAsync("duet-icon", { class: "caret", name: "action-arrow-down-small", margin: "none", size: "xx-small", color: "secondary" }))), hAsync("div", { tabindex: "-1", role: "menu", id: "menu", "aria-labelledby": "button", class: {
                items: true,
                hidden: !this.open,
            } }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSlideoutPanelDropdownCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-slideout-panel-dropdown",
        "$members$": {
            "theme": [1025],
            "active": [1540],
            "open": [1540],
            "icon": [1537],
            "setFocus": [64]
        },
        "$listeners$": [[8, "click", "handleFocus"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["active", "active"], ["open", "open"], ["icon", "icon"]]
    }; }
}

const duetSpacerCss = "/*!@:host*/.sc-duet-spacer-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:relative;display:block;width:12px;min-width:12px;height:12px}@media (min-width: 36em){/*!@:host*/.sc-duet-spacer-h{width:16px;min-width:16px;height:16px}}/*!@:host(.duet-spacer-horizontal)*/.duet-spacer-horizontal.sc-duet-spacer-h{display:inline-block;height:100% !important}/*!@:host(.duet-spacer-horizontal.xx-small)*/.duet-spacer-horizontal.xx-small.sc-duet-spacer-h{width:4px;min-width:4px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.xx-small)*/.duet-spacer-horizontal.xx-small.sc-duet-spacer-h{width:4px;min-width:4px}}/*!@:host(.duet-spacer-horizontal.x-small)*/.duet-spacer-horizontal.x-small.sc-duet-spacer-h{width:4px;min-width:4px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.x-small)*/.duet-spacer-horizontal.x-small.sc-duet-spacer-h{width:8px;min-width:8px}}/*!@:host(.duet-spacer-horizontal.small)*/.duet-spacer-horizontal.small.sc-duet-spacer-h{width:8px;min-width:8px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.small)*/.duet-spacer-horizontal.small.sc-duet-spacer-h{width:12px;min-width:12px}}/*!@:host(.duet-spacer-horizontal.medium)*/.duet-spacer-horizontal.medium.sc-duet-spacer-h{height:100%}/*!@:host(.duet-spacer-horizontal.large)*/.duet-spacer-horizontal.large.sc-duet-spacer-h{width:16px;min-width:16px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.large)*/.duet-spacer-horizontal.large.sc-duet-spacer-h{width:20px;min-width:20px}}/*!@:host(.duet-spacer-horizontal.x-large)*/.duet-spacer-horizontal.x-large.sc-duet-spacer-h{width:20px;min-width:20px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.x-large)*/.duet-spacer-horizontal.x-large.sc-duet-spacer-h{width:28px;min-width:28px}}/*!@:host(.duet-spacer-horizontal.xx-large)*/.duet-spacer-horizontal.xx-large.sc-duet-spacer-h{width:28px;min-width:28px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.xx-large)*/.duet-spacer-horizontal.xx-large.sc-duet-spacer-h{width:36px;min-width:36px}}/*!@:host(.duet-spacer-horizontal.xxx-large)*/.duet-spacer-horizontal.xxx-large.sc-duet-spacer-h{width:36px;min-width:36px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.xxx-large)*/.duet-spacer-horizontal.xxx-large.sc-duet-spacer-h{width:48px;min-width:48px}}/*!@:host(.duet-spacer-horizontal.xxxx-large)*/.duet-spacer-horizontal.xxxx-large.sc-duet-spacer-h{width:48px;min-width:48px;height:100%}@media (min-width: 36em){/*!@:host(.duet-spacer-horizontal.xxxx-large)*/.duet-spacer-horizontal.xxxx-large.sc-duet-spacer-h{width:72px;min-width:72px}}/*!@:host(.duet-spacer-vertical.xx-small)*/.duet-spacer-vertical.xx-small.sc-duet-spacer-h{width:100%;height:4px;min-height:4px}/*!@:host(.duet-spacer-vertical.x-small)*/.duet-spacer-vertical.x-small.sc-duet-spacer-h{width:100%;height:4px;min-height:4px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.x-small)*/.duet-spacer-vertical.x-small.sc-duet-spacer-h{height:8px;min-height:8px}}/*!@:host(.duet-spacer-vertical.small)*/.duet-spacer-vertical.small.sc-duet-spacer-h{width:100%;height:8px;min-height:8px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.small)*/.duet-spacer-vertical.small.sc-duet-spacer-h{height:12px;min-height:12px}}/*!@:host(.duet-spacer-vertical.medium)*/.duet-spacer-vertical.medium.sc-duet-spacer-h{width:100%}/*!@:host(.duet-spacer-vertical.large)*/.duet-spacer-vertical.large.sc-duet-spacer-h{width:100%;height:16px;min-height:16px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.large)*/.duet-spacer-vertical.large.sc-duet-spacer-h{height:20px;min-height:20px}}/*!@:host(.duet-spacer-vertical.x-large)*/.duet-spacer-vertical.x-large.sc-duet-spacer-h{width:100%;height:20px;min-height:20px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.x-large)*/.duet-spacer-vertical.x-large.sc-duet-spacer-h{height:28px;min-height:28px}}/*!@:host(.duet-spacer-vertical.xx-large)*/.duet-spacer-vertical.xx-large.sc-duet-spacer-h{width:100%;height:28px;min-height:28px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.xx-large)*/.duet-spacer-vertical.xx-large.sc-duet-spacer-h{height:36px;min-height:36px}}/*!@:host(.duet-spacer-vertical.xxx-large)*/.duet-spacer-vertical.xxx-large.sc-duet-spacer-h{width:100%;height:36px;min-height:36px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.xxx-large)*/.duet-spacer-vertical.xxx-large.sc-duet-spacer-h{height:48px;min-height:48px}}/*!@:host(.duet-spacer-vertical.xxxx-large)*/.duet-spacer-vertical.xxxx-large.sc-duet-spacer-h{width:100%;height:48px;min-height:48px}@media (min-width: 36em){/*!@:host(.duet-spacer-vertical.xxxx-large)*/.duet-spacer-vertical.xxxx-large.sc-duet-spacer-h{height:72px;min-height:72px}}/*!@:host(.duet-spacer-xx-small)*/.duet-spacer-xx-small.sc-duet-spacer-h{display:none}@media (max-width: 22.5em){/*!@:host(.duet-spacer-xx-small)*/.duet-spacer-xx-small.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-x-small)*/.duet-spacer-x-small.sc-duet-spacer-h{display:none}@media (max-width: 35.9375em){/*!@:host(.duet-spacer-x-small)*/.duet-spacer-x-small.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-small)*/.duet-spacer-small.sc-duet-spacer-h{display:none}@media (min-width: 36em){/*!@:host(.duet-spacer-small)*/.duet-spacer-small.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-medium)*/.duet-spacer-medium.sc-duet-spacer-h{display:none}@media (min-width: 48em){/*!@:host(.duet-spacer-medium)*/.duet-spacer-medium.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-large)*/.duet-spacer-large.sc-duet-spacer-h{display:none}@media (min-width: 62em){/*!@:host(.duet-spacer-large)*/.duet-spacer-large.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-x-large)*/.duet-spacer-x-large.sc-duet-spacer-h{display:none}@media (min-width: 64.0625em){/*!@:host(.duet-spacer-x-large)*/.duet-spacer-x-large.sc-duet-spacer-h{display:block}}/*!@:host(.duet-spacer-xx-large)*/.duet-spacer-xx-large.sc-duet-spacer-h{display:none}@media (min-width: 76.25em){/*!@:host(.duet-spacer-xx-large)*/.duet-spacer-xx-large.sc-duet-spacer-h{display:block}}";

class DuetSpacer {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.size = "medium";
        this.direction = "vertical";
        this.breakpoint = "";
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: {
                "duet-spacer": true,
                "duet-spacer-xx-small": this.breakpoint === "xx-small",
                "duet-spacer-x-small": this.breakpoint === "x-small",
                "duet-spacer-small": this.breakpoint === "small",
                "duet-spacer-medium": this.breakpoint === "medium",
                "duet-spacer-large": this.breakpoint === "large",
                "duet-spacer-x-large": this.breakpoint === "x-large",
                "duet-spacer-xx-large": this.breakpoint === "xx-large",
                [this.size]: true,
                [`duet-spacer-${this.direction}`]: true,
            } }));
    }
    static get style() { return duetSpacerCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-spacer",
        "$members$": {
            "size": [1],
            "direction": [1],
            "breakpoint": [1]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetSpinnerCss = "/*!@:host*/.sc-duet-spinner-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute;top:50%;left:50%;z-index:800;max-width:100%}/*!@:host(.duet-theme-default) .duet-spinner*/.duet-theme-default.sc-duet-spinner-h .duet-spinner.sc-duet-spinner{color:rgb(0, 119, 179) !important}/*!@:host(.duet-theme-turva) .duet-spinner*/.duet-theme-turva.sc-duet-spinner-h .duet-spinner.sc-duet-spinner{color:rgb(198, 12, 48) !important}/*!@:host(.duet-custom-color)*/.duet-custom-color.sc-duet-spinner-h{color:inherit}/*!@*,\n*::after,\n*::before*/*.sc-duet-spinner,*.sc-duet-spinner::after,*.sc-duet-spinner::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-spinner*/.duet-spinner.sc-duet-spinner{-webkit-user-select:none;user-select:none;position:absolute;top:50%;left:50%;z-index:800;width:24px;height:24px;color:rgb(0, 119, 179);border:2px solid transparent;border-left:2px solid currentColor;border-radius:50%;transform:translateZ(0) translateX(-50%) translateY(-50%);transform-origin:0% 0%;animation:duetRotate 0.6s linear infinite}/*!@.duet-spinner::after*/.duet-spinner.sc-duet-spinner::after{position:absolute;top:50%;left:50%;z-index:200;box-sizing:content-box;width:100%;height:100%;overflow:hidden;content:\"\";border:2px solid currentColor;border-radius:50%;opacity:0.3;transform:translateZ(0) translateX(-50%) translateY(-50%);transform-origin:0% 0%}/*!@.duet-spinner.medium*/.duet-spinner.medium.sc-duet-spinner{width:36px;height:36px;border-width:4px}/*!@.duet-spinner.medium::after*/.duet-spinner.medium.sc-duet-spinner::after{border-width:4px}/*!@.duet-spinner.large*/.duet-spinner.large.sc-duet-spinner{width:72px;height:72px;border-width:8px}/*!@.duet-spinner.large::after*/.duet-spinner.large.sc-duet-spinner::after{border-width:8px}@keyframes duetRotate{0%{transform:translateZ(0) rotate(0deg) translateX(-50%) translateY(-50%)}100%{transform:translateZ(0) rotate(360deg) translateX(-50%) translateY(-50%)}}";

class DuetSpinner {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.accessibleLabel = undefined;
        this.color = "gray-lightest";
        this.size = "small";
        this.theme = "";
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const color = this.color === "currentColor" ? "currentColor" : getColorByName(this.color);
        return (hAsync(Host, { class: {
                "duet-custom-color": this.color !== "currentColor" && this.theme !== "turva" && this.theme !== "default",
                "duet-theme-turva": this.theme === "turva" && this.color !== "currentColor",
                "duet-theme-default": this.theme === "default" && this.color !== "currentColor",
            } }, hAsync("div", { class: {
                "duet-spinner": true,
                [this.size]: true,
            }, style: { color }, "aria-label": this.accessibleLabel })));
    }
    static get style() { return duetSpinnerCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-spinner",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "color": [1],
            "size": [1],
            "theme": [1025]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

var actionEdit2={"title":"action-edit-2","tags":"action edit 2 pen pencil","svg":"<svg fill=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\"><path d=\"M.748 24a.755.755 0 0 1-.531-.22.754.754 0 0 1-.196-.716l1.77-6.905a.84.84 0 0 1 .045-.121.73.73 0 0 1 .151-.223L16.513 1.289A4.355 4.355 0 0 1 19.611 0c1.178 0 2.277.454 3.106 1.279l.029.029a4.367 4.367 0 0 1 1.251 3.121 4.356 4.356 0 0 1-1.32 3.087L8.183 22.01a.735.735 0 0 1-.231.154.784.784 0 0 1-.111.042L.933 23.978A.773.773 0 0 1 .748 24zm1.041-1.791 4.41-1.131-3.281-3.275zm5.868-1.795 13.02-13.02-4.074-4.074L3.58 16.344zM21.736 6.332a2.893 2.893 0 0 0-.059-3.972l-.02-.02a2.872 2.872 0 0 0-2.037-.84v-.375l-.001.375a2.873 2.873 0 0 0-1.954.762z\"/></svg>"};

const duetStepCss = "*.sc-duet-step,*.sc-duet-step::after,*.sc-duet-step::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-step-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block}.duet-step.sc-duet-step{padding:20px !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;background:rgb(255, 255, 255);box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)}.duet-step.duet-theme-turva.sc-duet-step{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";box-shadow:0 2px 6px 0 rgba(117, 117, 117, 0.13), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)}.duet-step.rounded-top.sc-duet-step{border-top-left-radius:4px;border-top-right-radius:4px}.duet-step.rounded-bottom.sc-duet-step{margin-bottom:20px !important;border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (min-width: 36em){.duet-step.rounded-bottom.sc-duet-step{margin-bottom:0 !important}}@media (min-width: 36em){.duet-step.sc-duet-step{padding:0 20px 0 0 !important;margin:0 !important;font-size:1.25rem;box-shadow:none !important}}.duet-step-heading.sc-duet-step{display:flex;align-items:center;border-radius:4px}.duet-step-heading[aria-disabled=false].sc-duet-step{cursor:pointer}.duet-step-heading.sc-duet-step:focus{outline:0}.duet-step-heading.sc-duet-step:active{opacity:0.75}.user-is-tabbing.sc-duet-step-h .duet-step-heading.sc-duet-step:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.user-is-tabbing.sc-duet-step-h .duet-theme-turva.sc-duet-step .duet-step-heading.sc-duet-step:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.is-complete.sc-duet-step .duet-step-heading.sc-duet-step:hover .duet-step-counter.sc-duet-step,.is-disabled.sc-duet-step .duet-step-heading.sc-duet-step:hover .duet-step-counter.sc-duet-step{background-color:#005f8f}.duet-theme-turva.is-complete.sc-duet-step .duet-step-heading.sc-duet-step:hover .duet-step-counter.sc-duet-step,.duet-theme-turva.is-disabled.sc-duet-step .duet-step-heading.sc-duet-step:hover .duet-step-counter.sc-duet-step{background-color:#9e0a26}.is-current.sc-duet-step .duet-step-heading.sc-duet-step{margin-bottom:20px}@media (min-width: 36em){.duet-step-heading.sc-duet-step{margin-top:8px;margin-bottom:8px !important}.sc-duet-step-h:first-of-type .duet-step-heading.sc-duet-step{margin-top:0}.sc-duet-step-h:last-of-type .duet-step-heading.sc-duet-step{margin-bottom:0 !important}}.duet-step-counter.sc-duet-step{-webkit-user-select:none;user-select:none;display:flex;align-items:center;justify-content:center;width:30px;height:30px;line-height:30px;color:rgb(255, 255, 255);text-align:center;border-radius:50%;transition:background-color 300ms ease}@media (min-width: 36em){.duet-step-counter.sc-duet-step{width:40px;height:40px;line-height:40px}}.is-complete.sc-duet-step .duet-step-counter.sc-duet-step,.is-current.sc-duet-step .duet-step-counter.sc-duet-step,.is-disabled.sc-duet-step .duet-step-counter.sc-duet-step{background-color:rgb(0, 119, 179)}.duet-theme-turva.is-complete.sc-duet-step .duet-step-counter.sc-duet-step,.duet-theme-turva.is-current.sc-duet-step .duet-step-counter.sc-duet-step,.duet-theme-turva.is-disabled.sc-duet-step .duet-step-counter.sc-duet-step{background-color:rgb(198, 12, 48)}.is-incomplete.sc-duet-step .duet-step-counter.sc-duet-step{background-color:rgb(101, 119, 135)}.duet-theme-turva.is-incomplete.sc-duet-step .duet-step-counter.sc-duet-step{background-color:rgb(116, 116, 117)}.duet-step-icon.sc-duet-step{display:flex;align-items:center;justify-content:center;width:16px;height:16px}@media (min-width: 36em){.duet-step-icon.sc-duet-step{width:20px;height:20px}}.duet-step-icon.sc-duet-step duet-icon.sc-duet-step{width:16px;height:16px}@media (min-width: 36em){.duet-step-icon.sc-duet-step duet-icon.sc-duet-step{width:20px;height:20px}}@media (min-width: 36em){.duet-step-content-wrapper.sc-duet-step{min-height:20px;padding-left:40px;margin-left:19px;border-left:2px solid rgb(225, 227, 230)}.duet-theme-turva.sc-duet-step .duet-step-content-wrapper.sc-duet-step{border-color:rgb(228, 228, 230)}.sc-duet-step-h:last-of-type .duet-step-content-wrapper.sc-duet-step{min-height:0;border:transparent}}.duet-step-content.sc-duet-step{display:none;padding-bottom:16px}@media (min-width: 36em){.duet-step-content.sc-duet-step{padding-bottom:28px}}.is-current.sc-duet-step .duet-step-content.sc-duet-step{display:block}.duet-step-heading-slot.sc-duet-step{display:none;margin-top:2px}@media (min-width: 48em){.duet-step-heading-slot.sc-duet-step{display:block}}";

/**
 * @slot unnamed default slot - The component’s primary content. All child nodes that do not have a slot attribute defined are inserted into this primary slot.
 * @slot heading-content - Step heading content. Use this slot to show additional content next to step heading.
 */
class DuetStep {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetStepClick = createEvent$2(this, "duetStepClick", 7);
        this.buttonId = createID("DuetStepButton");
        this.contentId = createID("DuetStepContent");
        this.handleKeyDown = (e) => {
            if (this.isClickDisabled()) {
                return;
            }
            if (isKeyboardClick(e)) {
                e.preventDefault();
                this.handleStepClick(e);
            }
        };
        this.handleClick = (e) => {
            if (this.isClickDisabled()) {
                return;
            }
            this.handleStepClick(e);
        };
        this.theme = "";
        this.heading = undefined;
        this.headingLevel = undefined;
        this.stepIndex = undefined;
        this.state = undefined;
        this.roundedTop = false;
        this.roundedBottom = false;
    }
    handleStepClick(e) {
        this.duetStepClick.emit({
            originalEvent: e,
            component: "duet-step",
            stepIndex: this.stepIndex,
        });
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * Programmatically shift focus to the step's heading.
     */
    async setFocus(options = { preventScroll: true }) {
        this.buttonElement.focus(options);
    }
    isClickDisabled() {
        return this.state !== "complete";
    }
    headingColor() {
        if (this.state !== "incomplete") {
            return "";
        }
        if (this.theme !== "turva") {
            return "gray-darker";
        }
        else {
            return "gray-dark-turva";
        }
    }
    renderStepCounter() {
        if (this.state === "complete" || this.state === "disabled") {
            return (hAsync("div", { class: "duet-step-icon" }, hAsync("duet-icon", { margin: "none", size: "auto", color: "gray-lightest", icon: actionEdit2.svg })));
        }
        return `${this.stepIndex + 1} `;
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetStepCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-step",
        "$members$": {
            "theme": [1025],
            "heading": [1],
            "headingLevel": [1, "heading-level"],
            "stepIndex": [2, "step-index"],
            "state": [1],
            "roundedTop": [4, "rounded-top"],
            "roundedBottom": [4, "rounded-bottom"],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

function groupBy(prop, items) {
    const result = {};
    items.forEach(item => {
        const value = item[prop];
        if (!result[value]) {
            result[value] = [];
        }
        result[value].push(item);
    });
    return result;
}

const duetStepperCss = "/*!@:host*/.sc-duet-stepper-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:20px !important;display:block;width:100%}/*!@:host(.duet-m-0)*/.duet-m-0.sc-duet-stepper-h{margin:0 !important}/*!@.duet-stepper*/.duet-stepper.sc-duet-stepper{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}@media (min-width: 36em){/*!@.duet-stepper*/.duet-stepper.sc-duet-stepper{padding:28px !important;padding-top:36px !important;padding-bottom:36px !important;background:rgb(255, 255, 255);border-radius:4px;box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07), 0 -1px 0 0 rgba(0, 0, 0, 0.09), -1px 0 0 0 rgba(0, 0, 0, 0.07), 1px 0 0 0 rgba(0, 0, 0, 0.07), 0 1px 0 0 rgba(0, 0, 0, 0.07)}}";

class DuetStepper {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetStepChange = createEvent$2(this, "duetStepChange", 7);
        this.theme = "";
        this.accessibleLive = "Lista jossa {total} kohtaa. Olet kohdassa {current}.";
        this.margin = "auto";
        this.backDisabled = false;
        this.selected = 0;
    }
    currentStepChanged(nextStep) {
        if (isNaN(nextStep)) {
            throw new Error(`step must be a number. got: ${nextStep}`);
        }
        if (nextStep < 0) {
            throw new Error(`step must be not be less than zero. got: ${nextStep}`);
        }
        if (nextStep > this.getSteps().length) {
            throw new Error(`step must not exceed total number of steps`);
        }
        this.updateStepState();
        // Shifting focus would occasionally fail if done immediately.
        // This may be due to re-render happening at the same time.
        // So we defer shifting focus, to ensure it always works.
        setTimeout(() => this.setStepFocus(), 50);
    }
    currentStepInvokedDisable() {
        this.updateStepState();
    }
    onDuetStepClick(e) {
        this.duetStepChange.emit({
            fromStep: this.selected,
            toStep: e.detail.stepIndex,
            component: "duet-stepper",
        });
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    async connectedCallback() {
        this.updateStepState();
    }
    getSteps() {
        return Array.from(this.element.querySelectorAll("duet-step"));
    }
    setStepFocus() {
        const steps = this.getSteps();
        const step = steps[this.selected];
        step.setFocus();
    }
    updateStepState() {
        const steps = this.getSteps();
        steps.forEach((step, index) => {
            let state;
            if (index < this.selected) {
                state = this.backDisabled ? "disabled" : "complete";
            }
            else if (index > this.selected) {
                state = "incomplete";
            }
            else {
                state = "current";
            }
            step.theme = this.theme;
            step.state = state;
            step.stepIndex = index;
        });
        const stepsByState = groupBy("state", steps);
        Object.values(stepsByState).forEach(steps => {
            steps.forEach((step, i) => {
                step.roundedTop = i === 0;
                step.roundedBottom = i === steps.length - 1;
            });
        });
    }
    formatAnnouncement() {
        const steps = this.getSteps();
        const current = (this.selected + 1).toString(10);
        const total = steps.length.toString(10);
        return this.accessibleLive.replace("{current}", current).replace("{total}", total);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("div", { class: { "duet-stepper": true, "duet-theme-turva": this.theme === "turva" } }, hAsync("duet-visually-hidden", { "aria-live": "polite", "aria-atomic": "true", "aria-relevant": "all" }, this.formatAnnouncement()), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "selected": ["currentStepChanged"],
        "backDisabled": ["currentStepInvokedDisable"]
    }; }
    static get style() { return duetStepperCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-stepper",
        "$members$": {
            "theme": [1025],
            "accessibleLive": [1, "accessible-live"],
            "margin": [1],
            "backDisabled": [4, "back-disabled"],
            "selected": [1538]
        },
        "$listeners$": [[0, "duetStepClick", "onDuetStepClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["selected", "selected"]]
    }; }
}

const duetSubmenuBarCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-submenu-bar,*.sc-duet-submenu-bar::after,*.sc-duet-submenu-bar::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-submenu-bar-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%}/*!@:host(:not([open])) ::slotted(duet-submenu-bar-dropdown)*/.sc-duet-submenu-bar-h:not([open]) .sc-duet-submenu-bar-s>duet-submenu-bar-dropdown{display:none}@media (min-width: 62em){/*!@:host(:not([open])) ::slotted(duet-submenu-bar-dropdown)*/.sc-duet-submenu-bar-h:not([open]) .sc-duet-submenu-bar-s>duet-submenu-bar-dropdown{display:inherit}}/*!@.duet-submenu-bar*/.duet-submenu-bar.sc-duet-submenu-bar{position:relative;background:rgb(243, 249, 252)}@media (min-width: 62em){/*!@.duet-submenu-bar*/.duet-submenu-bar.sc-duet-submenu-bar{border-bottom:1px solid rgb(205, 229, 241)}}/*!@.duet-submenu-bar button*/.duet-submenu-bar.sc-duet-submenu-bar button.sc-duet-submenu-bar{display:flex;align-items:center;justify-content:center;width:100%;padding:12px 0;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77)}/*!@.duet-submenu-bar button.active .caret*/.duet-submenu-bar.sc-duet-submenu-bar button.active.sc-duet-submenu-bar .caret.sc-duet-submenu-bar{transform:rotate(180deg)}/*!@.duet-submenu-bar button:focus*/.duet-submenu-bar.sc-duet-submenu-bar button.sc-duet-submenu-bar:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-submenu-bar button .label*/.duet-submenu-bar.sc-duet-submenu-bar button.sc-duet-submenu-bar .label.sc-duet-submenu-bar{position:relative;display:flex;gap:8px;align-items:center;justify-content:center}@media (min-width: 62em){/*!@.duet-submenu-bar button*/.duet-submenu-bar.sc-duet-submenu-bar button.sc-duet-submenu-bar{display:none}}/*!@.duet-submenu-bar .menu-container*/.duet-submenu-bar.sc-duet-submenu-bar .menu-container.sc-duet-submenu-bar{position:absolute;z-index:399;width:100%}/*!@.duet-submenu-bar .menu-container.hidden*/.duet-submenu-bar.sc-duet-submenu-bar .menu-container.hidden.sc-duet-submenu-bar{max-height:0;overflow:hidden;visibility:hidden}@media (min-width: 62em){/*!@.duet-submenu-bar .menu-container, .duet-submenu-bar .menu-container.hidden*/.duet-submenu-bar.sc-duet-submenu-bar .menu-container.sc-duet-submenu-bar,.duet-submenu-bar.sc-duet-submenu-bar .menu-container.hidden.sc-duet-submenu-bar{position:static;z-index:auto;max-height:unset;overflow:visible;visibility:visible}}/*!@.duet-submenu-bar .items*/.duet-submenu-bar.sc-duet-submenu-bar .items.sc-duet-submenu-bar{width:100%;height:70vh;overflow-y:scroll;visibility:visible;background:rgb(243, 249, 252);border-bottom:1px solid rgb(207, 210, 212)}/*!@.duet-submenu-bar .items ::slotted(*)*/.duet-submenu-bar .items .sc-duet-submenu-bar-s>*{position:relative}/*!@.duet-submenu-bar .items.hidden*/.duet-submenu-bar.sc-duet-submenu-bar .items.hidden.sc-duet-submenu-bar{max-height:0;overflow:hidden;visibility:hidden;border-bottom:0 solid rgb(207, 210, 212)}/*!@.duet-submenu-bar .items .list-padding*/.duet-submenu-bar.sc-duet-submenu-bar .items.sc-duet-submenu-bar .list-padding.sc-duet-submenu-bar{padding-bottom:188px}@media (min-width: 62em){/*!@.duet-submenu-bar .items .list*/.duet-submenu-bar.sc-duet-submenu-bar .items.sc-duet-submenu-bar .list.sc-duet-submenu-bar{display:flex;align-items:center;justify-content:space-between;height:100%}/*!@.duet-submenu-bar .items, .duet-submenu-bar .items.hidden*/.duet-submenu-bar.sc-duet-submenu-bar .items.sc-duet-submenu-bar,.duet-submenu-bar.sc-duet-submenu-bar .items.hidden.sc-duet-submenu-bar{position:static;z-index:auto;display:flex;flex-direction:row;align-items:center;justify-content:center;height:auto;max-height:unset;overflow:visible;visibility:visible;border:0}/*!@.duet-submenu-bar .items .list-padding*/.duet-submenu-bar.sc-duet-submenu-bar .items.sc-duet-submenu-bar .list-padding.sc-duet-submenu-bar{display:none;padding-bottom:0}}/*!@.duet-submenu-bar .mobile-background*/.duet-submenu-bar.sc-duet-submenu-bar .mobile-background.sc-duet-submenu-bar{position:absolute;width:100%;height:100%;background:rgba(0, 41, 77, 0.6)}@media (min-width: 62em){/*!@.duet-submenu-bar .mobile-background*/.duet-submenu-bar.sc-duet-submenu-bar .mobile-background.sc-duet-submenu-bar{display:none}}/*!@.duet-submenu-bar.duet-theme-turva*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}/*!@.duet-submenu-bar.duet-theme-turva button:focus*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar button.sc-duet-submenu-bar:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-submenu-bar.duet-theme-turva .items*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar .items.sc-duet-submenu-bar{background:rgb(245, 245, 247)}/*!@.duet-submenu-bar.duet-theme-turva .mobile-background*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar .mobile-background.sc-duet-submenu-bar{background:rgba(23, 28, 58, 0.6)}/*!@.duet-submenu-bar.duet-theme-turva .shadow-container .top-shadow*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar .shadow-container.sc-duet-submenu-bar .top-shadow.sc-duet-submenu-bar{box-shadow:0 2px 6px 0 rgba(23, 28, 58, 0.07)}@media (min-width: 62em){/*!@.duet-submenu-bar.duet-theme-turva .shadow-container .top-shadow*/.duet-submenu-bar.duet-theme-turva.sc-duet-submenu-bar .shadow-container.sc-duet-submenu-bar .top-shadow.sc-duet-submenu-bar{box-shadow:0 3px 6px 0 rgba(23, 28, 58, 0.1)}}";

class DuetSubmenuBar {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.handleMobileView = () => {
            if (this.mql[0].matches) {
                this.mobile = false;
                this.enableBodyScroll();
            }
            else {
                this.mobile = true;
                if (!this.bodyScroll) {
                    this.disableBodyScroll();
                }
            }
        };
        this.onClick = () => {
            this.open = !this.open;
        };
        this.enableBodyScroll = () => {
            if (this.nav) {
                enableBodyScroll(this.nav);
            }
            if (this.itemsContainer) {
                enableBodyScroll(this.itemsContainer);
            }
        };
        this.disableBodyScroll = () => {
            if (this.nav) {
                disableBodyScroll(this.nav, { reserveScrollBarGap: true });
            }
            if (this.itemsContainer) {
                disableBodyScroll(this.itemsContainer, { reserveScrollBarGap: true });
            }
        };
        this.checkIfHasItems = () => {
            const hasDropdownLinks = !!this.element.querySelector("duet-submenu-bar-dropdown-link");
            const hasLinks = !!this.element.querySelector("duet-submenu-bar-link");
            return hasDropdownLinks || hasLinks;
        };
        this.mobile = true;
        this.bodyScroll = true;
        this.theme = "";
        this.open = false;
        this.accessibleLabel = undefined;
    }
    watchOpenStateHandler(newValue) {
        const open = newValue;
        if (open) {
            this.bodyScroll = false;
            this.disableBodyScroll();
        }
        else {
            this.enableBodyScroll();
            this.bodyScroll = true;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        const children = Array.from(this.element.children).filter(child => !child.hasAttribute("slot"));
        for (const child of children) {
            child.setAttribute("role", "listitem");
        }
    }
    connectedCallback() {
        this.nav = document.querySelector("duet-nav > [slot='mobile']");
        this.hasItems = this.checkIfHasItems();
        this.handleMobileView();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.handleMobileView.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
        this.enableBodyScroll();
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        this.button.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("nav", { class: { "duet-submenu-bar": true, "duet-theme-turva": this.theme === "turva" }, "aria-label": this.accessibleLabel }, this.hasItems && (hAsync("button", { ref: element => (this.button = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", id: "button", type: "button", class: {
                active: this.open,
            }, onClick: this.onClick }, hAsync("div", { class: "label" }, hAsync("slot", { name: "label" }), hAsync("duet-icon", { theme: this.theme, class: "caret", name: "action-arrow-down-small", margin: "none", size: "xxx-small", color: "currentColor" })))), hAsync("div", { class: {
                "menu-container": true,
                hidden: !this.open,
            }, role: "presentation" }, hAsync("div", { role: this.mobile ? "menu" : null, id: "menu", "aria-labelledby": this.mobile ? "button" : null, "aria-expanded": this.mobile ? (this.open ? "true" : "false") : null, class: {
                items: true,
                hidden: !this.open,
            }, ref: element => (this.itemsContainer = element) }, hAsync("div", { class: "list", role: this.mobile ? "presentation" : "list" }, hAsync("slot", null), hAsync("div", { class: "list-padding" }))), hAsync("div", { class: "mobile-background" })))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "open": ["watchOpenStateHandler"]
    }; }
    static get style() { return duetSubmenuBarCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-submenu-bar",
        "$members$": {
            "theme": [1025],
            "open": [1540],
            "accessibleLabel": [1, "accessible-label"],
            "mobile": [32],
            "bodyScroll": [32],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"]]
    }; }
}

const duetSubmenuBarDropdownCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-submenu-bar-dropdown,*.sc-duet-submenu-bar-dropdown::after,*.sc-duet-submenu-bar-dropdown::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-submenu-bar-dropdown-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}@media (min-width: 62em){/*!@:host*/.sc-duet-submenu-bar-dropdown-h{width:auto}}/*!@.duet-submenu-bar-dropdown*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown{position:relative;height:100%}/*!@.duet-submenu-bar-dropdown button*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown{position:relative;display:flex;flex-direction:row;gap:16px;align-items:center;justify-content:flex-start;width:100%;height:100%;padding:12px 1.5rem;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);text-align:center;text-decoration:none;cursor:pointer}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown button*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown{flex-direction:column;gap:5px;align-items:center;justify-content:center;width:auto;font-size:0.875rem;color:rgb(0, 77, 128)}}/*!@.duet-submenu-bar-dropdown button .label*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown .label.sc-duet-submenu-bar-dropdown{display:flex;gap:5px;align-items:center;justify-content:center}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown button.open*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown{background:rgb(230, 242, 248)}}/*!@.duet-submenu-bar-dropdown button.open .caret*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown .caret.sc-duet-submenu-bar-dropdown{transform:rotate(180deg)}/*!@.duet-submenu-bar-dropdown button:focus*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-submenu-bar-dropdown button.active .label-text*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown .label-text.sc-duet-submenu-bar-dropdown{position:relative}/*!@.duet-submenu-bar-dropdown button.active .label-text::after*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown .label-text.sc-duet-submenu-bar-dropdown::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transform:1px}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown button.active .label-text::after*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown .label-text.sc-duet-submenu-bar-dropdown::after{display:none}}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown button .caret*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown .caret.sc-duet-submenu-bar-dropdown{position:absolute;right:12px}/*!@.duet-submenu-bar-dropdown button:hover*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:hover{color:rgb(0, 41, 77);background:rgb(230, 242, 248)}/*!@.duet-submenu-bar-dropdown button:hover.active*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:hover.active{color:rgb(0, 41, 77)}/*!@.duet-theme-turva .duet-submenu-bar-dropdown button:hover.active*/.duet-theme-turva.sc-duet-submenu-bar-dropdown .duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:hover.active{color:rgb(23, 28, 58)}/*!@.duet-submenu-bar-dropdown button.active*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown{color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-submenu-bar-dropdown button.active*/.duet-theme-turva.sc-duet-submenu-bar-dropdown .duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown{color:rgb(198, 12, 48)}/*!@.duet-submenu-bar-dropdown button.active::after, .duet-submenu-bar-dropdown button.open::after*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown::after,.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(1px)}/*!@.duet-theme-turva .duet-submenu-bar-dropdown button.active::after, .duet-theme-turva .duet-submenu-bar-dropdown button.open::after*/.duet-theme-turva.sc-duet-submenu-bar-dropdown .duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown::after,.duet-theme-turva.sc-duet-submenu-bar-dropdown .duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown::after{background:rgb(198, 12, 48)}}/*!@.duet-submenu-bar-dropdown .items*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown .items.sc-duet-submenu-bar-dropdown{display:flex;flex-direction:column;align-items:center;justify-content:center;max-height:1000px;padding:4px 0 16px;overflow-y:auto;color:rgb(0, 41, 77);visibility:visible;transition:max-height 0.3s ease-in, padding 0.3s ease-in;-ms-overflow-style:none;scrollbar-width:none}/*!@.duet-submenu-bar-dropdown .items::-webkit-scrollbar*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown .items.sc-duet-submenu-bar-dropdown::-webkit-scrollbar{display:none}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown .items*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown .items.sc-duet-submenu-bar-dropdown{position:absolute;top:93%;z-index:600;min-width:320px;padding:8px;background:rgb(255, 255, 255);border-radius:8px;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.07), 0 4px 10px 0 rgba(0, 41, 77, 0.15);transition:none}}/*!@.duet-submenu-bar-dropdown .items.hidden*/.duet-submenu-bar-dropdown.sc-duet-submenu-bar-dropdown .items.hidden.sc-duet-submenu-bar-dropdown{max-height:0;padding:0;overflow:hidden;visibility:hidden;transition:max-height 0.3s ease-in, padding 0.3s ease-in}/*!@.duet-submenu-bar-dropdown.duet-theme-turva button*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown.duet-theme-turva button:hover*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:hover{background:rgb(228, 228, 230)}}/*!@.duet-submenu-bar-dropdown.duet-theme-turva button:focus*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.sc-duet-submenu-bar-dropdown:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-submenu-bar-dropdown.duet-theme-turva button.active .label-text::after, .duet-submenu-bar-dropdown.duet-theme-turva button.open .label-text::after*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown .label-text.sc-duet-submenu-bar-dropdown::after,.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown .label-text.sc-duet-submenu-bar-dropdown::after{background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown.duet-theme-turva button.active, .duet-submenu-bar-dropdown.duet-theme-turva button.open*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown,.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown{color:rgb(148, 9, 37)}}/*!@.duet-submenu-bar-dropdown.duet-theme-turva button.active::after, .duet-submenu-bar-dropdown.duet-theme-turva button.open::after*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.active.sc-duet-submenu-bar-dropdown::after,.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown::after{background:rgb(148, 9, 37)}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown.duet-theme-turva button.open*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown button.open.sc-duet-submenu-bar-dropdown{background:rgb(228, 228, 230)}}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown.duet-theme-turva .items*/.duet-submenu-bar-dropdown.duet-theme-turva.sc-duet-submenu-bar-dropdown .items.sc-duet-submenu-bar-dropdown{background:rgb(255, 255, 255)}}";

class DuetSubmenuBarDropdown {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.checkIsDesktop = () => {
            if (this.mql[0].matches) {
                this.isDesktop = true;
                this.iconSize = "x-small";
            }
            else {
                this.isDesktop = false;
                this.iconSize = "small";
            }
        };
        this.onClick = () => {
            const open = this.open;
            if (!this.isDesktop) {
                const dropdowns = Array.from(this.element.parentElement.querySelectorAll("duet-submenu-bar-dropdown"));
                for (const dropdown of dropdowns) {
                    dropdown.open = false;
                }
            }
            if (open) {
                this.open = false;
            }
            else {
                this.open = true;
            }
        };
        this.isDesktop = false;
        this.iconSize = "small";
        this.theme = "";
        this.active = false;
        this.open = false;
        this.icon = undefined;
    }
    handleFocus(e) {
        const isClickOutside = e.composedPath().every(node => node !== this.element);
        if (isClickOutside && this.isDesktop) {
            this.open = false;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        this.checkIsDesktop();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.checkIsDesktop.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            if (this.open) {
                this.open = false;
            }
            else {
                const dropdown = this.element.closest("duet-submenu-bar");
                dropdown.open = false;
                dropdown.setFocus();
            }
        }
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        this.button.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-submenu-bar-dropdown": true,
                "duet-theme-turva": this.theme === "turva",
                open: this.open,
                active: this.active,
            } }, hAsync("button", { ref: element => (this.button = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", "aria-current": this.active ? "true" : "false", id: "button", type: "button", class: {
                open: this.open,
                active: this.active,
            }, onClick: this.onClick, onKeyUp: e => this.handleEscape(e) }, this.icon && (hAsync("duet-icon", { theme: this.theme, name: this.icon, size: this.iconSize, margin: "none", color: "currentColor" })), hAsync("div", { class: "label" }, hAsync("span", { class: "label-text" }, hAsync("slot", { name: "label" })), hAsync("duet-icon", { class: "caret", theme: this.theme, name: "action-arrow-down-small", margin: "none", size: "xxx-small", color: "currentColor" }))), hAsync("div", { tabindex: "-1", role: "menu", id: "menu", "aria-labelledby": "button", class: {
                items: true,
                hidden: !this.open,
            } }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSubmenuBarDropdownCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-submenu-bar-dropdown",
        "$members$": {
            "theme": [1025],
            "active": [1028],
            "open": [1540],
            "icon": [1537],
            "isDesktop": [32],
            "iconSize": [32],
            "setFocus": [64]
        },
        "$listeners$": [[8, "click", "handleFocus"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["open", "open"], ["icon", "icon"]]
    }; }
}

const duetSubmenuBarDropdownLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-submenu-bar-dropdown-link,*.sc-duet-submenu-bar-dropdown-link::after,*.sc-duet-submenu-bar-dropdown-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-submenu-bar-dropdown-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}/*!@.duet-submenu-bar-dropdown-link*/.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link{display:flex;flex-direction:row;gap:12px;align-items:center;justify-content:flex-start;height:100%;padding:8px 20px 8px 60px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);text-align:left;text-decoration:none}/*!@.duet-submenu-bar-dropdown-link:focus*/.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-submenu-bar-dropdown-link:focus, .duet-submenu-bar-dropdown-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-submenu-bar-dropdown-link .duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link:focus,.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown-link*/.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link{padding:0.5rem 8px;font-size:1rem;line-height:1.5}}/*!@.duet-submenu-bar-dropdown-link.active .label*/.duet-submenu-bar-dropdown-link.active.sc-duet-submenu-bar-dropdown-link .label.sc-duet-submenu-bar-dropdown-link{position:relative}/*!@.duet-submenu-bar-dropdown-link.active .label::after*/.duet-submenu-bar-dropdown-link.active.sc-duet-submenu-bar-dropdown-link .label.sc-duet-submenu-bar-dropdown-link::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transform:1px}/*!@.duet-submenu-bar-dropdown-link.duet-theme-turva*/.duet-submenu-bar-dropdown-link.duet-theme-turva.sc-duet-submenu-bar-dropdown-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-submenu-bar-dropdown-link.duet-theme-turva.active .label::after*/.duet-submenu-bar-dropdown-link.duet-theme-turva.active.sc-duet-submenu-bar-dropdown-link .label.sc-duet-submenu-bar-dropdown-link::after{background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-submenu-bar-dropdown-link.active*/.duet-submenu-bar-dropdown-link.active.sc-duet-submenu-bar-dropdown-link{background:rgb(243, 249, 252)}/*!@.duet-submenu-bar-dropdown-link.active .label::after*/.duet-submenu-bar-dropdown-link.active.sc-duet-submenu-bar-dropdown-link .label.sc-duet-submenu-bar-dropdown-link::after{display:none}/*!@.duet-submenu-bar-dropdown-link.active.duet-theme-turva*/.duet-submenu-bar-dropdown-link.active.duet-theme-turva.sc-duet-submenu-bar-dropdown-link{background:rgb(245, 245, 247)}/*!@.duet-submenu-bar-dropdown-link:hover*/.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link:hover{background:rgb(230, 242, 248)}/*!@.duet-submenu-bar-dropdown-link:hover.duet-theme-turva*/.duet-submenu-bar-dropdown-link.sc-duet-submenu-bar-dropdown-link:hover.duet-theme-turva{background:rgb(228, 228, 230)}}/*!@.duet-submenu-bar-dropdown-link.highlight*/.duet-submenu-bar-dropdown-link.highlight.sc-duet-submenu-bar-dropdown-link{color:rgb(0, 119, 179)}/*!@.duet-submenu-bar-dropdown-link.highlight.duet-theme-turva*/.duet-submenu-bar-dropdown-link.highlight.duet-theme-turva.sc-duet-submenu-bar-dropdown-link{color:rgb(148, 9, 37)}";

class DuetSubmenuBarDropdownLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.active = false;
        this.href = "#";
        this.icon = undefined;
        this.caret = false;
        this.highlight = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            const dropdown = this.element.closest("duet-submenu-bar-dropdown");
            dropdown.open = false;
            dropdown.setFocus();
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-submenu-bar-dropdown-link": true,
                "duet-theme-turva": this.theme === "turva",
                highlight: this.highlight,
                active: this.active,
            }, "aria-current": this.active ? "true" : "false", href: this.href, onKeyUp: e => this.handleEscape(e) }, this.icon && hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none", color: "currentColor" }), hAsync("span", { class: "label" }, hAsync("slot", null)), this.caret && hAsync("duet-icon", { name: "action-arrow-right-small", size: "xxx-small", margin: "none" }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSubmenuBarDropdownLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-submenu-bar-dropdown-link",
        "$members$": {
            "theme": [1025],
            "active": [1028],
            "href": [1025],
            "icon": [1537],
            "caret": [1028],
            "highlight": [1028]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetSubmenuBarLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-submenu-bar-link,*.sc-duet-submenu-bar-link::after,*.sc-duet-submenu-bar-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-submenu-bar-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}@media (min-width: 62em){/*!@:host*/.sc-duet-submenu-bar-link-h{width:auto}}/*!@.duet-submenu-bar-link*/.duet-submenu-bar-link.sc-duet-submenu-bar-link{display:flex;flex-direction:row;gap:16px;align-items:center;justify-content:flex-start;height:100%;padding:12px 1.5rem;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);text-align:center;text-decoration:none}/*!@.duet-submenu-bar-link:focus*/.duet-submenu-bar-link.sc-duet-submenu-bar-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-submenu-bar-link:focus, .duet-submenu-bar-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-submenu-bar-link .duet-submenu-bar-link.sc-duet-submenu-bar-link:focus,.duet-submenu-bar-link.sc-duet-submenu-bar-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}@media (min-width: 62em){/*!@.duet-submenu-bar-link*/.duet-submenu-bar-link.sc-duet-submenu-bar-link{flex-direction:column;gap:5px;align-items:center;justify-content:center;font-size:0.875rem;color:rgb(0, 77, 128)}}@media (min-width: 62em){/*!@.duet-submenu-bar-link.active*/.duet-submenu-bar-link.active.sc-duet-submenu-bar-link{color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-submenu-bar-link.active*/.duet-theme-turva.sc-duet-submenu-bar-link .duet-submenu-bar-link.active.sc-duet-submenu-bar-link{color:rgb(198, 12, 48)}}/*!@.duet-submenu-bar-link.active .label*/.duet-submenu-bar-link.active.sc-duet-submenu-bar-link .label.sc-duet-submenu-bar-link{position:relative}/*!@.duet-submenu-bar-link.active .label::after*/.duet-submenu-bar-link.active.sc-duet-submenu-bar-link .label.sc-duet-submenu-bar-link::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transform:1px}@media (min-width: 62em){/*!@.duet-submenu-bar-link.active .label::after*/.duet-submenu-bar-link.active.sc-duet-submenu-bar-link .label.sc-duet-submenu-bar-link::after{display:none}/*!@.duet-submenu-bar-link.active::after*/.duet-submenu-bar-link.active.sc-duet-submenu-bar-link::after{position:absolute;top:auto;bottom:0;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(1px)}}/*!@.duet-submenu-bar-link.duet-theme-turva*/.duet-submenu-bar-link.duet-theme-turva.sc-duet-submenu-bar-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-submenu-bar-link.duet-theme-turva.active .label::after*/.duet-submenu-bar-link.duet-theme-turva.active.sc-duet-submenu-bar-link .label.sc-duet-submenu-bar-link::after{background:rgb(198, 12, 48)}/*!@.duet-submenu-bar-link.duet-theme-turva.active::after*/.duet-submenu-bar-link.duet-theme-turva.active.sc-duet-submenu-bar-link::after{background:rgb(198, 12, 48)}@media (min-width: 62em){/*!@.duet-submenu-bar-link:hover*/.duet-submenu-bar-link.sc-duet-submenu-bar-link:hover{color:rgb(0, 41, 77);background:rgb(230, 242, 248)}/*!@.duet-submenu-bar-link:hover.duet-theme-turva*/.duet-submenu-bar-link.sc-duet-submenu-bar-link:hover.duet-theme-turva{color:rgb(23, 28, 58);background:rgb(228, 228, 230)}}";

class DuetSubmenuBarLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.mql = [window.matchMedia(media_query_large.replace(/'/g, ""))];
        this.boundMqlFunctions = [];
        this.changeIconSize = () => {
            if (this.mql[0].matches) {
                this.iconSize = "x-small";
            }
            else {
                this.iconSize = "small";
            }
        };
        this.iconSize = "small";
        this.theme = "";
        this.active = false;
        this.href = "#";
        this.icon = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        this.changeIconSize();
        for (let i = 0; i < this.mql.length; i++) {
            // addEventListener is not available in Stencil hydrate
            if (this.mql[i].addEventListener) {
                const bound = this.changeIconSize.bind(this);
                this.mql[i].addEventListener("change", bound);
                this.boundMqlFunctions[i] = bound;
            }
        }
    }
    disconnectedCallback() {
        for (let i = 0; i < this.mql.length; i++) {
            // removeEventListener is not available in Stencil hydrate
            if (this.mql[i].removeEventListener) {
                this.mql[i].removeEventListener("change", this.boundMqlFunctions[i]);
            }
        }
        this.boundMqlFunctions = [];
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            const dropdown = this.element.closest("duet-submenu-bar");
            dropdown.open = false;
            dropdown.setFocus();
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: { "duet-submenu-bar-link": true, "duet-theme-turva": this.theme === "turva", active: this.active }, href: this.href, onKeyUp: e => this.handleEscape(e), "aria-current": this.active ? "true" : "false" }, this.icon && (hAsync("duet-icon", { theme: this.theme, name: this.icon, size: this.iconSize, margin: "none", color: "currentColor" })), hAsync("span", { class: "label" }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetSubmenuBarLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-submenu-bar-link",
        "$members$": {
            "theme": [1025],
            "active": [1028],
            "href": [1025],
            "icon": [1537],
            "iconSize": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetTabCss = ".sc-duet-tab-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}.duet-tab.sc-duet-tab{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:none;width:100%}.duet-tab.selected.sc-duet-tab{display:block}";

class DuetTab {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.label = undefined;
        this.caption = undefined;
        this.selected = undefined;
        this.accessibleDescriptionDefault = null;
        this.accessibleDescription = this
            .accessibleDescriptionDefault
            ? getLocaleString(this.accessibleDescriptionDefault)
            : null;
        this.accessibleLabelledBy = undefined;
    }
    /**
     * Component lifecycle events.
     */
    connectedCallback() {
        connectLanguageChangeObserver(this, { prop: "accessibleDescription", defaults: "accessibleDescriptionDefault" });
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get style() { return duetTabCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-tab",
        "$members$": {
            "label": [513],
            "caption": [513],
            "selected": [516],
            "accessibleDescriptionDefault": [1, "accessible-description-defaults"],
            "accessibleDescription": [1025, "accessible-description"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["label", "label"], ["caption", "caption"], ["selected", "selected"]]
    }; }
}

const duetTabGroupCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-tab-group,*.sc-duet-tab-group::after,*.sc-duet-tab-group::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-tab-group-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;-webkit-tap-highlight-color:transparent;display:block;width:100%}/*!@.duet-tab-group-tabs*/.duet-tab-group-tabs.sc-duet-tab-group{margin-bottom:28px !important;display:block;width:100%;max-width:100%;padding-top:2px;list-style:none}/*!@.duet-tab-group-tabs.duet-m-0*/.duet-tab-group-tabs.duet-m-0.sc-duet-tab-group{margin:0 !important}/*!@.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden*/.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden.sc-duet-tab-group{display:none}@media (min-width: 36em){/*!@.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden*/.duet-tab-group-tabs.duet-tab-group-collapses.duet-tab-group-hidden.sc-duet-tab-group{display:block}}/*!@.duet-tab-variation-plain .duet-tab-group-tabs*/.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-theme-turva.duet-tab-variation-plain .duet-tab-group-tabs*/.duet-theme-turva.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{border-bottom-color:rgb(228, 228, 230)}/*!@.duet-tab-variation-checked .duet-tab-group-tabs*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{display:flex;gap:4px;padding-right:12px;padding-left:12px;overflow-x:scroll;-ms-overflow-style:none;scrollbar-width:none}/*!@.duet-tab-variation-checked .duet-tab-group-tabs::-webkit-scrollbar*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group::-webkit-scrollbar{display:none}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-group-tabs*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{gap:8px;padding-right:16px;padding-left:16px;overflow:visible}}/*!@.duet-tab-plain-scrolling .duet-tab-group-tabs*/.duet-tab-plain-scrolling.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{display:flex;overflow-x:scroll;scroll-behavior:smooth;-ms-overflow-style:none;scrollbar-width:none}/*!@.duet-tab-plain-scrolling .duet-tab-group-tabs::-webkit-scrollbar*/.duet-tab-plain-scrolling.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group::-webkit-scrollbar{display:none}@media (min-width: 36em){/*!@.duet-tab-plain-scrolling .duet-tab-group-tabs*/.duet-tab-plain-scrolling.sc-duet-tab-group .duet-tab-group-tabs.sc-duet-tab-group{display:block;overflow:auto}}@media (min-width: 36em){/*!@duet-select*/duet-select.sc-duet-tab-group{display:none !important}}/*!@.duet-tab-button*/.duet-tab-button.sc-duet-tab-group{-webkit-user-select:none;user-select:none;position:relative;z-index:100;display:block;width:100%;padding:20px;margin-top:-2px;overflow:visible;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.1;color:rgb(0, 41, 77);text-align:left;text-decoration:none;cursor:pointer;background:rgb(255, 255, 255);border:2px solid rgb(225, 227, 230);border-radius:0;transition:150ms ease}/*!@.duet-tab-button.duet-p-0*/.duet-tab-button.duet-p-0.sc-duet-tab-group{padding:0 !important}/*!@.duet-tab-button.duet-m-0*/.duet-tab-button.duet-m-0.sc-duet-tab-group{margin:0 !important}/*!@.duet-theme-turva .duet-tab-button*/.duet-theme-turva.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(228, 228, 230)}/*!@.duet-tab-button.duet-p-0*/.duet-tab-button.duet-p-0.sc-duet-tab-group{padding:0 !important}@media (min-width: 36em){/*!@.duet-tab-button*/.duet-tab-button.sc-duet-tab-group{display:inline-block;width:auto;margin-left:-2px;border-right:2px solid rgb(225, 227, 230);border-radius:0}}/*!@.duet-tab-button:hover*/.duet-tab-button.sc-duet-tab-group:hover{z-index:200;border-color:rgb(144, 149, 153)}/*!@.duet-theme-turva .duet-tab-button:hover*/.duet-theme-turva.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group:hover{border-color:rgb(116, 116, 117)}/*!@.duet-tab-button:active*/.duet-tab-button.sc-duet-tab-group:active{opacity:0.75;transition:none}/*!@.duet-tab-button.selected*/.duet-tab-button.selected.sc-duet-tab-group{z-index:201;color:rgb(255, 255, 255);background:rgb(0, 41, 77);border-color:rgb(0, 41, 77);outline:0;box-shadow:none !important}/*!@.duet-theme-turva .duet-tab-button.selected*/.duet-theme-turva.sc-duet-tab-group .duet-tab-button.selected.sc-duet-tab-group{color:rgb(255, 255, 255);background-color:rgb(23, 28, 58);border-color:rgb(23, 28, 58)}/*!@.duet-tab-button:focus*/.duet-tab-button.sc-duet-tab-group:focus{z-index:200;outline:0}/*!@:host(.user-is-tabbing) .duet-tab-button:focus*/.user-is-tabbing.sc-duet-tab-group-h .duet-tab-button.sc-duet-tab-group:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3 !important}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-tab-button:focus*/.user-is-tabbing.sc-duet-tab-group-h .duet-theme-turva.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a !important}/*!@.duet-tab-button:first-child*/.duet-tab-button.sc-duet-tab-group:first-child{border-top-left-radius:4px;border-top-right-radius:4px}@media (min-width: 36em){/*!@.duet-tab-button:first-child*/.duet-tab-button.sc-duet-tab-group:first-child{border-top-right-radius:0;border-bottom-left-radius:4px}}/*!@.duet-tab-button:last-child*/.duet-tab-button.sc-duet-tab-group:last-child{border-bottom-right-radius:4px;border-bottom-left-radius:4px}@media (min-width: 36em){/*!@.duet-tab-button:last-child*/.duet-tab-button.sc-duet-tab-group:last-child{border-radius:0;border-top-right-radius:4px;border-bottom-right-radius:4px}}/*!@.duet-tab-variation-plain .duet-tab-button*/.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group{display:inline-block;width:auto;padding-right:0;padding-left:0;margin-left:0;border:0;border-radius:0;transition:none}/*!@.duet-tab-variation-plain .duet-tab-button + .duet-tab-button*/.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group+.duet-tab-button.sc-duet-tab-group{margin-left:36px}/*!@.duet-tab-variation-plain .duet-tab-button.selected*/.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-button.selected.sc-duet-tab-group{color:rgb(0, 119, 179);background:rgb(255, 255, 255);border-bottom:3px solid rgb(0, 119, 179)}/*!@.duet-theme-turva.duet-tab-variation-plain .duet-tab-button.selected*/.duet-theme-turva.duet-tab-variation-plain.sc-duet-tab-group .duet-tab-button.selected.sc-duet-tab-group{color:rgb(198, 12, 48);border-bottom-color:rgb(198, 12, 48)}/*!@.duet-tab-variation-checked .duet-tab-button*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group{position:relative;display:inline-block;flex-basis:0;flex-grow:1;width:200px;min-width:200px;padding:8px 4px;border-color:rgb(207, 210, 212);border-bottom-color:rgb(0, 119, 179);border-radius:4px 4px 0 0;transition:none}/*!@.duet-theme-turva.duet-tab-variation-checked .duet-tab-button*/.duet-theme-turva.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group{border-color:rgb(207, 210, 212);border-bottom-color:rgb(68, 68, 69)}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-button*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group{min-width:0;padding:16px}}/*!@.duet-tab-variation-checked .duet-tab-button.stackable-tab*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.stackable-tab.sc-duet-tab-group{min-width:0}/*!@.duet-tab-variation-checked .duet-tab-button:first-child*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group:first-child{margin-left:auto}/*!@.duet-tab-variation-checked .duet-tab-button:last-child*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group:last-child{margin-right:auto}/*!@.duet-tab-variation-checked .duet-tab-button:active*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group:active{opacity:1;transition:none}/*!@.duet-tab-variation-checked .duet-tab-button.selected*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.selected.sc-duet-tab-group{color:rgb(0, 119, 179);background:linear-gradient(180deg, rgb(243, 249, 252) 0%, rgb(255, 255, 255) 100%);border-color:rgb(0, 119, 179);border-bottom-color:#fff}/*!@.duet-theme-turva.duet-tab-variation-checked .duet-tab-button.selected*/.duet-theme-turva.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.selected.sc-duet-tab-group{color:rgb(23, 28, 58);background:linear-gradient(180deg, rgb(245, 245, 247) 0%, rgb(255, 255, 255) 100%);border-color:rgb(68, 68, 69);border-bottom-color:#fff}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group{display:flex;flex-direction:row;justify-content:space-between}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content.stackable-checked-tab-content*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.stackable-checked-tab-content.sc-duet-tab-group{flex-direction:column;height:100%}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content.stackable-checked-tab-content*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.stackable-checked-tab-content.sc-duet-tab-group{flex-direction:row}}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group{display:flex;flex-direction:column;overflow:hidden;overflow-wrap:break-word}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description.stackable-description*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.stackable-description.sc-duet-tab-group{text-align:center}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description.stackable-description*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.stackable-description.sc-duet-tab-group{text-align:left}}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description .tab-caption*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group .tab-caption.sc-duet-tab-group{margin-top:4px;font-size:0.875rem;font-weight:400;color:rgb(101, 119, 135)}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description .tab-caption*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group .tab-caption.sc-duet-tab-group{font-size:1rem;text-align:left}}/*!@.duet-theme-turva.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description .tab-caption*/.duet-theme-turva.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group .tab-caption.sc-duet-tab-group{color:rgb(68, 68, 69)}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description .tab-caption.selected*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group .tab-caption.selected.sc-duet-tab-group{color:rgb(0, 119, 179)}/*!@.duet-theme-turva.duet-tab-variation-checked .duet-tab-button .checked-tab-content .checked-tab-description .tab-caption.selected*/.duet-theme-turva.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .checked-tab-description.sc-duet-tab-group .tab-caption.selected.sc-duet-tab-group{color:rgb(68, 68, 69)}/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .stackable-checkmark*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .stackable-checkmark.sc-duet-tab-group{order:-1;margin-top:8px;margin-bottom:8px}@media (min-width: 36em){/*!@.duet-tab-variation-checked .duet-tab-button .checked-tab-content .stackable-checkmark*/.duet-tab-variation-checked.sc-duet-tab-group .duet-tab-button.sc-duet-tab-group .checked-tab-content.sc-duet-tab-group .stackable-checkmark.sc-duet-tab-group{order:1}}/*!@.duet-tab-group-content*/.duet-tab-group-content.sc-duet-tab-group{position:relative;width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:left}/*!@.duet-tab-group-content:focus*/.duet-tab-group-content.sc-duet-tab-group:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3 !important}/*!@.duet-theme-turva .duet-tab-group-content:focus, .duet-tab-group-content:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-tab-group .duet-tab-group-content.sc-duet-tab-group:focus,.duet-tab-group-content.sc-duet-tab-group:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a !important}/*!@.duet-tab-group-content.checked-group-content*/.duet-tab-group-content.checked-group-content.sc-duet-tab-group{padding:28px 0 28px 0}/*!@.duet-tab-group-content.checked-group-content::after*/.duet-tab-group-content.checked-group-content.sc-duet-tab-group::after{position:absolute;top:-2px;left:0;width:100%;height:2px;content:\" \";background-color:rgb(0, 119, 179)}/*!@.duet-theme-turva .duet-tab-group-content*/.duet-theme-turva.sc-duet-tab-group .duet-tab-group-content.sc-duet-tab-group{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-theme-turva .duet-tab-group-content.checked-group-content::after*/.duet-theme-turva.sc-duet-tab-group .duet-tab-group-content.checked-group-content.sc-duet-tab-group::after{background-color:rgb(68, 68, 69)}";

/**
 * @part ${identifier}-button - piercing selector for styling tab buttons
 * @part ${identifier}-button--selected - piercing selector for styling selected tab button
 */
class DuetTabGroup {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetTabChange = createEvent$2(this, "duetTabChange", 7);
        this.duetTabChangeRequested = createEvent$2(this, "duetTabChangeRequested", 7);
        this.id = createID("DuetTabGroup");
        /**
         * Component event handling.
         */
        this.handleKeyDown = ev => {
            let button;
            if (isArrowLeftKey(ev) || isArrowUpKey(ev)) {
                button = ev.target.previousElementSibling;
            }
            else if (isArrowRightKey(ev) || isArrowDownKey(ev)) {
                button = ev.target.nextElementSibling;
            }
            if (button) {
                ev.preventDefault();
                button.click();
                button.focus();
            }
        };
        this.onTabSelect = (tabIndex) => {
            if (this.tabChangeConfirm) {
                if (tabIndex !== this.selected) {
                    const event = {
                        value: tabIndex,
                        component: "duet-tab-group",
                    };
                    this.duetTabChangeRequested.emit(event);
                }
            }
            else {
                this.openTab(tabIndex);
            }
        };
        this.scrollToActive = () => {
            if (this.variation === "checked" || this.variation === "plain-scrolling") {
                setTimeout(() => {
                    const active = this.tabsContainer.querySelector(".selected");
                    if (active) {
                        active.scrollIntoView({ behavior: "smooth", inline: "center", block: "nearest" });
                    }
                }, 50);
            }
        };
        this.renderTab = () => {
            const renderedTabs = this.tabs.map((element, index) => {
                return (hAsync("button", { role: "tab", id: this.getButtonId(index), "aria-selected": element.selected ? "true" : "false", "aria-description": this.getAccessibleDescription(index), tabindex: index === 0 ? "0" : "-1", part: `${this.identifier}-button ${element.selected ? `${this.identifier}-button--selected` : ""}`, type: "button", class: {
                        "duet-p-0": this.padding === "none",
                        "duet-tab-button": true,
                        "stackable-tab": this.variation === "checked" && this.tabs.length <= 3,
                        selected: element.selected,
                    }, onClick: () => this.onTabSelect(index), onKeyDown: ev => this.handleKeyDown(ev) }, this.variation === "checked" ? (hAsync("div", { class: { "checked-tab-content": true, "stackable-checked-tab-content": this.tabs.length <= 3 } }, hAsync("div", { class: { "checked-tab-description": true, "stackable-description": this.tabs.length <= 3 } }, hAsync("p", null, element.label), hAsync("p", { class: { "tab-caption": true, selected: element.selected } }, element.caption)), hAsync("div", { class: { "stackable-checkmark": this.tabs.length <= 3 } }, hAsync("duet-checkmark", { theme: this.theme, checked: element.selected, type: "radio", "presentation-only": true, center: true })))) : (element.label)));
            });
            if (this.scrolls) {
                return (hAsync("duet-scrollable", { selected: this.selected, identifier: this.identifier }, renderedTabs));
            }
            return renderedTabs;
        };
        this.tabs = [];
        this.selected = undefined;
        this.theme = "";
        this.scrolls = false;
        this.collapses = true;
        this.accessibleLabel = undefined;
        this.variation = "default";
        this.language = getLanguage();
        this.labelDefaults = {
            fi: "Valitse",
            en: "Choose",
            sv: "Välj",
        };
        this.label = getLocaleString(this.labelDefaults, this.language);
        this.labelHidden = true;
        this.identifier = this.id;
        this.margin = "auto";
        this.padding = "auto";
        this.setTabIndex = true;
        this.tabChangeConfirm = false;
    }
    /**
     * Component lifecycle events.
     */
    async connectedCallback() {
        if (typeof MutationObserver !== "undefined") {
            this.mutationO = new MutationObserver(() => {
                this.updateTabs();
            });
            this.mutationO.observe(this.element, {
                attributes: true,
                attributeFilter: ["label"],
                childList: true,
                characterData: true,
                subtree: true,
            });
        }
        await this.updateTabs();
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        if (this.mutationO) {
            this.mutationO.disconnect();
            this.mutationO = undefined;
        }
        unsubscribeTabbingChange(this);
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    componentDidLoad() {
        this.scrollToActive();
    }
    /**
     * This method allows you to open any of the tabs by calling the method and
     * passing the index of the tab. Please note that index starts from zero.
     */
    async openTab(tabIndex) {
        if (tabIndex >= this.tabs.length) {
            throw new Error(`[duet-tabs] Index ${tabIndex} is out of bounds of tabs length`);
        }
        this.selected = tabIndex;
        this.tabs.forEach((tab, i) => {
            tab.selected = i === tabIndex;
        });
        this.scrollToActive();
        const event = {
            value: tabIndex,
            component: "duet-tab-group",
        };
        this.duetChange.emit(event);
        this.duetTabChange.emit(event);
    }
    /**
     * This method used to refresh the contents of the tab group
     * but is now deprecated as this is done automatically.
     * @deprecated
     */
    async refresh() {
        console.log("[duet-tabs] Refresh method is deprecated and will be removed in the future version.");
    }
    /**
     * Local methods.
     */
    getTabs() {
        const allTabs = Array.from(this.element.querySelectorAll("duet-tab"));
        const localTabs = allTabs.filter(tab => tab.closest("duet-tab-group") === this.element);
        if (localTabs.length === 0) {
            throw new Error("[duet-tabs] Must have at least one tab");
        }
        // filter out any nested tabs
        return localTabs;
    }
    getButtonId(index) {
        return `${this.id}-button-${index}`;
    }
    getTabId(index) {
        return `${this.id}-tab-${index}`;
    }
    getAccessibleDescription(index) {
        const description = this.tabs[index].getAttribute("accessible-description") || null;
        return description;
    }
    async updateTabs() {
        this.selected = undefined;
        this.tabs = this.getTabs();
        this.tabs.forEach((tab, index) => {
            tab.id = this.getTabId(index);
            if (tab.selected) {
                if (this.selected === undefined) {
                    this.selected = index;
                }
                else {
                    tab.selected = false;
                }
            }
        });
        if (this.selected === undefined) {
            this.selected = 0;
            this.tabs[0].selected = true;
        }
        return;
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const variationClass = this.variation === "plain-scrolling" ? "duet-tab-variation-plain" : `duet-tab-variation-${this.variation}`;
        const isSwipeScrollable = this.variation === "checked" || this.variation === "plain-scrolling";
        return (hAsync("div", { class: {
                "duet-tab-group": true,
                "duet-theme-turva": this.theme === "turva",
                [variationClass]: true,
                "duet-tab-plain-scrolling": this.variation === "plain-scrolling",
                "duet-tab-group-scrolls": this.scrolls,
                "duet-tab-group-collapses": this.collapses,
            }, "aria-label": this.accessibleLabel }, !isSwipeScrollable && this.tabs.length > 3 && this.collapses && (hAsync("duet-select", { value: this.selected.toString(), expand: true, label: this.label, labelHidden: this.labelHidden, theme: this.theme, onDuetChange: event => this.onTabSelect(Number(event.detail.value)), items: this.tabs.map((tab, index) => {
                return { label: tab.label, value: index.toString() };
            }) })), hAsync("div", { role: "tablist", class: {
                "duet-m-0": this.margin === "none" || this.variation === "checked",
                "duet-tab-group-tabs": true,
                "duet-tab-group-hidden": this.tabs.length > 3 && !isSwipeScrollable,
                "duet-tab-group-collapses": this.collapses,
            }, ref: el => {
                this.tabsContainer = el;
            } }, this.renderTab()), hAsync("div", { role: "tabpanel", tabindex: this.setTabIndex ? "0" : null, class: {
                "duet-tab-group-content": true,
                "duet-m-0": this.margin === "none",
                "checked-group-content": this.variation === "checked",
            } }, hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetTabGroupCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-tab-group",
        "$members$": {
            "theme": [1025],
            "scrolls": [4],
            "collapses": [4],
            "accessibleLabel": [1, "accessible-label"],
            "variation": [1],
            "language": [1025],
            "labelDefaults": [1, "label-default"],
            "label": [1],
            "labelHidden": [4, "label-hidden"],
            "identifier": [1],
            "margin": [1],
            "padding": [1],
            "setTabIndex": [4, "set-tab-index"],
            "tabChangeConfirm": [4, "tab-change-confirm"],
            "tabs": [32],
            "selected": [32],
            "openTab": [64],
            "refresh": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetTableCss = "duet-table{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-bottom:20px !important;display:block;font-variant-numeric:tabular-nums}duet-table table,duet-table thead,duet-table tbody,duet-table tfoot,duet-table th,duet-table td,duet-table tr{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}duet-table.duet-m-0{margin:0 !important}duet-table table{width:100%;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;text-align:left;border-spacing:0;border-collapse:separate}duet-table.duet-table-hide-head-visually.duet-table-hide-head-visually thead,duet-table.duet-table-hide-head-visually.duet-table-hide-head-visually thead *{position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}duet-table.duet-theme-turva table{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}duet-table td{-webkit-hyphens:auto;hyphens:auto;color:rgb(0, 41, 77)}duet-table.duet-theme-turva td{color:rgb(23, 28, 58)}duet-table th{font-weight:600;line-height:1.25;color:rgb(101, 119, 135);text-align:left}duet-table.duet-theme-turva th{color:rgb(116, 116, 117)}duet-table tbody th{font-weight:600;color:rgb(0, 41, 77)}duet-table.duet-theme-turva tbody th{color:rgb(23, 28, 58)}duet-table .duet-table-action-row td:last-child{justify-self:end;padding-right:20px !important;white-space:nowrap}duet-table span.duet-table-cell-heading{display:none}.duet-table-flattened table,.duet-table-flattened thead,.duet-table-flattened tbody,.duet-table-flattened tfoot,.duet-table-flattened th,.duet-table-flattened td,.duet-table-flattened tr{display:block}.duet-table-flattened thead tr{position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}.duet-table-flattened td{line-height:1.25}.duet-table-flattened td:not(:last-child){margin-bottom:16px !important}.duet-table-flattened td span.duet-table-cell-heading{margin-bottom:4px !important;display:block;font-size:1rem;font-weight:600;color:rgb(0, 41, 77)}.duet-table-flattened.duet-theme-turva td span.duet-table-cell-heading{color:rgb(23, 28, 58)}.duet-table-flattened tbody td,.duet-table-flattened tbody th,.duet-table-flattened tfoot td{padding:0 !important;text-align:left !important}.duet-table-flattened tbody th{font-weight:600;line-height:1.25;color:rgb(101, 119, 135);text-align:left}.duet-table-sticky thead th{position:sticky;top:0;background:rgb(255, 255, 255)}.duet-table-striped td,.duet-table-striped th{padding:20px !important}@media (max-width: 35.9375em){.duet-table-striped td,.duet-table-striped th{padding:20px 12px !important}}.duet-table-striped tbody th{background:rgb(255, 255, 255)}.duet-table-striped.duet-table-sticky thead th{border-bottom:1px solid rgb(225, 227, 230)}.duet-table-striped.duet-table-sticky.duet-theme-turva thead th{border-bottom-color:rgb(228, 228, 230)}.duet-table-striped tbody:not(:first-of-type) th{padding-top:40px !important}.duet-table-striped tbody:only-of-type tr:nth-of-type(odd){background:rgba(0, 80, 128, 0.04)}.duet-table-striped.duet-theme-turva tbody:only-of-type tr:nth-of-type(odd){background:rgba(23, 28, 58, 0.04)}.duet-table-striped tbody:not(:only-of-type) tr:nth-of-type(even){background:rgba(0, 80, 128, 0.04)}.duet-table-striped.duet-theme-turva tbody:not(:only-of-type) tr:nth-of-type(even){background:rgba(23, 28, 58, 0.04)}.duet-table-striped tfoot td{border-top:1px solid rgb(225, 227, 230)}.duet-table-striped.duet-theme-turva tfoot td{border-top-color:rgb(228, 228, 230)}.duet-table-striped.duet-table-flattened tbody:not(:first-of-type) th{padding-top:20px !important}.duet-table-striped.duet-table-flattened tr{padding:20px !important}.duet-table-striped.duet-table-flattened tfoot td{border-top:0}.duet-table-striped.duet-table-flattened tfoot tr{border-top:1px solid rgb(225, 227, 230)}.duet-table-striped.duet-table-flattened.duet-theme-turva tfoot tr{border-top-color:rgb(228, 228, 230)}.duet-table-fixed th,.duet-table-minimal th,.duet-table-plain th{padding:16px !important;border-bottom:1px solid rgb(101, 119, 135)}.duet-table-fixed th:first-child,.duet-table-minimal th:first-child,.duet-table-plain th:first-child{padding-left:0 !important}.duet-table-fixed th:last-child,.duet-table-minimal th:last-child,.duet-table-plain th:last-child{padding-right:0 !important}.duet-theme-turva.duet-table-fixed th,.duet-theme-turva.duet-table-minimal th,.duet-theme-turva.duet-table-plain th{border-bottom-color:rgb(68, 68, 69)}.duet-table-fixed tbody th,.duet-table-minimal tbody th,.duet-table-plain tbody th{padding-top:40px !important;border-bottom-color:rgb(225, 227, 230)}.duet-theme-turva.duet-table-fixed tbody th,.duet-theme-turva.duet-table-minimal tbody th,.duet-theme-turva.duet-table-plain tbody th{border-bottom-color:rgb(228, 228, 230)}.duet-table-fixed td,.duet-table-minimal td,.duet-table-plain td{padding:16px !important}.duet-table-fixed td:first-child,.duet-table-minimal td:first-child,.duet-table-plain td:first-child{padding-left:0 !important}.duet-table-fixed td:last-child,.duet-table-minimal td:last-child,.duet-table-plain td:last-child{padding-right:0 !important}.duet-table-fixed tbody td,.duet-table-minimal tbody td,.duet-table-plain tbody td{border-bottom:1px solid rgb(225, 227, 230)}.duet-theme-turva.duet-table-fixed tbody td,.duet-theme-turva.duet-table-minimal tbody td,.duet-theme-turva.duet-table-plain tbody td{border-bottom-color:rgb(228, 228, 230)}.duet-table-flattened.duet-table-fixed tbody:first-of-type th,.duet-table-flattened.duet-table-minimal tbody:first-of-type th,.duet-table-flattened.duet-table-plain tbody:first-of-type th{padding-top:0 !important}.duet-table-flattened.duet-table-fixed td,.duet-table-flattened.duet-table-minimal td,.duet-table-flattened.duet-table-plain td,.duet-table-flattened.duet-table-fixed tbody th,.duet-table-flattened.duet-table-minimal tbody th,.duet-table-flattened.duet-table-plain tbody th{border-bottom:0}.duet-table-flattened.duet-table-fixed tr,.duet-table-flattened.duet-table-minimal tr,.duet-table-flattened.duet-table-plain tr{padding:20px 0 !important}.duet-table-flattened.duet-table-fixed tbody th,.duet-table-flattened.duet-table-minimal tbody th,.duet-table-flattened.duet-table-plain tbody th{padding-top:20px !important}.duet-table-flattened.duet-table-fixed tfoot td,.duet-table-flattened.duet-table-minimal tfoot td,.duet-table-flattened.duet-table-plain tfoot td{margin-bottom:4px !important}.duet-table-flattened.duet-table-fixed tbody:not(:only-of-type) tr:first-child,.duet-table-flattened.duet-table-minimal tbody:not(:only-of-type) tr:first-child,.duet-table-flattened.duet-table-plain tbody:not(:only-of-type) tr:first-child{border-bottom:0}.duet-table-plain.duet-table-flattened tbody tr{border-bottom:1px solid rgb(225, 227, 230)}.duet-table-plain.duet-table-flattened.duet-theme-turva tbody tr{border-bottom-color:rgb(228, 228, 230)}.duet-table-minimal tbody tr,.duet-table-minimal tbody tr td{vertical-align:top;border-bottom:0 none}.duet-table-minimal tbody tr:last-of-type,.duet-table-minimal tbody tr:last-of-type td{border-bottom:1px solid rgb(225, 227, 230)}.duet-table-minimal.duet-table-flattened tbody tr,.duet-table-minimal.duet-table-flattened tbody tr td{border-bottom:0 none}.duet-table-minimal.duet-table-flattened tbody tr td[data-heading]::before{display:none}.duet-table-minimal.duet-table-flattened tfoot{border-top:1px solid rgb(225, 227, 230)}.duet-table-minimal.duet-table-flattened.duet-theme-turva tfoot{border-top-color:rgb(228, 228, 230)}.duet-table-fixed table{table-layout:fixed}.duet-table-fixed tbody tr,.duet-table-fixed tbody tr td,.duet-table-fixed tbody tr td:first-child{padding:4px !important;vertical-align:text-bottom;border-bottom:0 none}.duet-table-fixed thead{display:none}.duet-table-fixed tbody tr,.duet-table-fixed tbody tr td{border-bottom:0 none}.duet-table-fixed:not(.duet-table-flattened) tfoot{border-top:1px solid rgb(225, 227, 230)}.duet-table-fixed:not(.duet-table-flattened).duet-theme-turva tfoot{border-top-color:rgb(228, 228, 230)}.duet-table-scrollable{position:relative;width:100%;overflow-x:auto;background:linear-gradient(90deg, #fff 0%, rgba(255, 255, 255, 0)), linear-gradient(-90deg, #fff 0%, rgba(255, 255, 255, 0)) 100% 0, radial-gradient(farthest-side at 0% 50%, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0)), radial-gradient(farthest-side at 100% 50%, rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0)) 100% 0%;background-repeat:no-repeat;background-attachment:local, local, scroll, scroll;background-size:100px 100%, 100px 100%, 12px 100%, 12px 100%}.duet-table-selected-column{background:rgba(0, 119, 179, 0.08)}.duet-theme-turva .duet-table-selected-column{background:rgba(68, 68, 69, 0.08)}.duet-table-sortable tbody tr td:first-child,.duet-table-sortable thead tr th:first-child{padding:20px}.duet-table-sortable:not(.duet-table-flattened) tfoot{border-top:1px solid rgb(225, 227, 230)}.duet-table-sortable:not(.duet-table-flattened).duet-theme-turva tfoot{border-top-color:rgb(228, 228, 230)}.duet-table-actions table{table-layout:auto}.duet-table-actions thead th:last-child{width:1px;white-space:nowrap}.duet-editable-table-table.duet-table-flattened tr{display:grid;grid-template-columns:repeat(2, 1fr);grid-auto-rows:auto;gap:10px}.duet-editable-table-table.duet-table-flattened tr.duet-table-action-row td:last-child::before{padding:0;content:\"\"}.duet-editable-table-table.duet-table-flattened td{grid-column:1/2}.duet-editable-table-table.duet-table-flattened td:first-child{grid-row:1;grid-column:1}.duet-editable-table-table.duet-table-flattened td:last-child{grid-row:1;grid-column:2}";

const stickyTopValues = {
    none: 0,
    "with-links": parseFloat(sizeNavigation) * 16, // convert rem -> px
    "without-links": parseFloat(sizeHeader) * 16,
};
/**
 * @slot dot-menu- If this slot is populated - the content will be displayed together with a ... type menu to the far right in the tsble header
 * @slot header - Header slot for the table
 * @slot footer - Footer slot for the table
 */
class DuetTable {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.headingSelector = "thead tr > :not(*.duet-editable-table-actions-menu)";
        this.handleMediaQueryChange = (mq) => {
            this.matchesBreakpoint = breakpointTokensUpTo.includes(this.breakpoint) ? !mq.matches : mq.matches;
        };
        this.matchesBreakpoint = true;
        this.language = getLanguage();
        this.theme = undefined;
        this.margin = "auto";
        this.variation = "striped";
        this.sticky = false;
        this.stickyDistance = "with-links";
        this.breakpoint = "small";
        this.hideHeadVisually = false;
    }
    watchLanguageStateHandler(newValue, oldValue) {
        if (newValue !== oldValue) {
            setTimeout(() => this.copyHeadingsToCells(), 50);
        }
    }
    connectedCallback() {
        {
            return;
        }
    }
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.copyHeadingsToCells();
        if (this.sticky && this.breakpoint === "none-scrollable") {
            console.warn(`[DUET WARNING]: sticky and breakpoint="none-scrollable" are incompatible. Scrollable takes precedence`);
        }
        if (this.sticky) {
            const stickyTop = stickyTopValues[this.stickyDistance];
            const headingElements = this.element.querySelectorAll(this.headingSelector);
            headingElements.forEach(th => (th.style.top = `${stickyTop}px`));
        }
    }
    componentDidLoad() {
        {
            return;
        }
    }
    disconnectedCallback() {
        {
            return;
        }
    }
    /**
     * Local methods.
     */
    copyHeadingsToCells() {
        {
            return;
        }
    }
    render() {
        return (hAsync(Host, { class: {
                [`duet-table-${this.variation}`]: true,
                "duet-table-flattened": !this.matchesBreakpoint,
                // sticky only valid when in regular table layout
                "duet-table-sticky": this.matchesBreakpoint && this.sticky,
                "duet-table-scrollable": this.breakpoint === "none-scrollable",
                "duet-m-0": this.margin === "none",
                "duet-theme-turva": this.theme === "turva",
                "duet-table-hide-head-visually": this.hideHeadVisually,
            } }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "language": ["watchLanguageStateHandler"]
    }; }
    static get style() { return duetTableCss; }
    static get cmpMeta() { return {
        "$flags$": 4,
        "$tagName$": "duet-table",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "variation": [1],
            "sticky": [4],
            "stickyDistance": [1, "sticky-distance"],
            "breakpoint": [1],
            "hideHeadVisually": [4, "hide-head-visually"],
            "matchesBreakpoint": [32],
            "language": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetTextareaCss = "*.sc-duet-textarea,*.sc-duet-textarea::after,*.sc-duet-textarea::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-textarea-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:block;width:100%;max-width:100%;text-align:left}.sc-duet-textarea-h:last-child,.sc-duet-textarea-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-textarea-h{width:calc(50% - 16px - 3px)}.duet-expand.sc-duet-textarea-h{width:100% !important}}.duet-m-0.sc-duet-textarea-h{margin:0 !important}duet-tooltip.sc-duet-textarea{position:absolute;top:12px;right:0}@media (min-width: 48em){duet-tooltip.sc-duet-textarea{position:relative;top:4px;right:auto}}.duet-textarea-container.sc-duet-textarea{position:relative;width:100%;height:100%}.duet-textarea-container.sc-duet-textarea .duet-input-top-caption.sc-duet-textarea{display:none}.duet-textarea-container.duet-input-top-caption-shown.sc-duet-textarea .duet-input-top-caption.sc-duet-textarea{display:flex !important}.duet-textarea-wrapper.sc-duet-textarea{position:relative}.duet-textarea-placeholder.sc-duet-textarea{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}.duet-textarea.sc-duet-textarea{padding:15px !important;position:relative;z-index:100;display:block;width:100%;min-width:8rem;min-height:160px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);resize:vertical;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:4px;transition:150ms ease}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(116, 116, 117)}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea{border-color:rgb(222, 35, 98) !important}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea{border-color:rgb(224, 42, 13) !important}.duet-textarea.sc-duet-textarea::-webkit-input-placeholder{color:rgb(101, 119, 135);opacity:1 !important;transition:color 300ms ease}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea::-webkit-input-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus::-webkit-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus::-webkit-input-placeholder{color:rgb(207, 207, 209)}.duet-textarea.sc-duet-textarea::-moz-placeholder{color:rgb(101, 119, 135);opacity:1 !important}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea::-moz-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus::-moz-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus::-moz-placeholder{color:rgb(207, 207, 209)}.duet-textarea.sc-duet-textarea:-ms-input-placeholder{color:rgb(101, 119, 135)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:-ms-input-placeholder{color:rgb(116, 116, 117)}.duet-textarea.sc-duet-textarea:focus:-ms-input-placeholder{color:rgb(207, 210, 212)}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus:-ms-input-placeholder{color:rgb(207, 207, 209)}.duet-textarea[disabled].sc-duet-textarea{color:rgb(101, 119, 135) !important;cursor:not-allowed !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important}.duet-theme-turva.sc-duet-textarea .duet-textarea[disabled].sc-duet-textarea{color:rgb(116, 116, 117) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important}.duet-textarea[disabled].sc-duet-textarea::-webkit-input-placeholder{color:rgb(0, 41, 77);opacity:1 !important;transition:color 300ms ease}.duet-theme-turva.sc-duet-textarea .duet-textarea[disabled].sc-duet-textarea::-webkit-input-placeholder{color:rgb(23, 28, 58)}.duet-textarea[disabled].sc-duet-textarea::-moz-placeholder{color:rgb(0, 41, 77);opacity:1 !important}.duet-theme-turva.sc-duet-textarea .duet-textarea[disabled].sc-duet-textarea::-moz-placeholder{color:rgb(23, 28, 58)}.duet-textarea[disabled].sc-duet-textarea:-ms-input-placeholder{color:rgb(0, 41, 77)}.duet-theme-turva.sc-duet-textarea .duet-textarea[disabled].sc-duet-textarea:-ms-input-placeholder{color:rgb(23, 28, 58)}.duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px #909599}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px #747475}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:hover:not(:disabled){box-shadow:0 0 0 1px #e55039}.duet-textarea.sc-duet-textarea:focus{border-color:rgb(0, 119, 179);outline:0;box-shadow:0 0 0 1px #0077b3 !important;transition:none}.duet-theme-turva.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px #171c3a !important}.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea.sc-duet-textarea:focus{box-shadow:0 0 0 1px #e55039}.duet-textarea.sc-duet-textarea:not(:focus):not(:hover):invalid{box-shadow:none}.duet-textarea-help.sc-duet-textarea{font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;line-height:1.25}.duet-textarea-help.sc-duet-textarea span.sc-duet-textarea{display:block;margin-top:8px}.duet-theme-turva.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(116, 116, 117)}.has-error.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{color:rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-textarea .duet-textarea-help.sc-duet-textarea{color:rgb(224, 42, 13)}.duet-label-hidden.sc-duet-textarea duet-label.sc-duet-textarea{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}.duet-character-count.sc-duet-textarea{display:block;margin:8px 0 0 auto}";

class DuetTextarea {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetInput = createEvent$2(this, "duetInput", 7);
        this.duetChange = createEvent$2(this, "duetChange", 7);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        /**
         * Own Properties
         */
        this.textareaId = createID("DuetTextarea");
        this.topCaptionId = createID("DuetCaptionTop");
        this.topCaptionPlaceholderId = createID("DuetCaptionPlaceholderTop");
        this.labelId = createID("DuetLabel");
        this.errorId = createID("DuetError");
        this.characterCountId = createID("DuetCharacterCount");
        this.disallowPatternRegex = null;
        /**
         * Component event handling.
         */
        this.handleInput = (ev) => {
            if (this.disallowPatternRegex) {
                cleanValue(this.nativeInput, this.disallowPatternRegex);
            }
            this.value = this.nativeInput.value;
            this.isCaptionVisible = !!this.caption;
            this.duetInput.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-textarea",
            });
        };
        this.handleChange = (ev) => {
            this.value = this.nativeInput.value;
            this.duetChange.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-textarea",
            });
        };
        this.handleBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-textarea",
            });
        };
        this.handleFocus = (ev) => {
            if (this.counter) {
                this.hiddenCounterLabel.textContent = `${Math.max(this.maxlength - this.value.length, 0)}/${this.maxlength} ${this.counterLabel}`;
            }
            this.duetFocus.emit({
                originalEvent: ev,
                value: this.value,
                component: "duet-textarea",
            });
        };
        this.getDescribedBy = () => {
            const describedBy = [];
            if (this.isCaptionVisible && this.topCaptionId) {
                describedBy.push(this.topCaptionId);
            }
            if (this.accessibleDescribedBy) {
                describedBy.push(this.accessibleDescribedBy);
            }
            if (this.error) {
                describedBy.push(this.errorId);
            }
            if (this.counter) {
                describedBy.push(this.characterCountId);
            }
            return describedBy.length > 0 ? describedBy.join(" ") : null;
        };
        this.margin = "auto";
        this.accessibleActiveDescendant = undefined;
        this.accessibleAutocomplete = undefined;
        this.accessibleControls = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.accessibleLiveError = "polite";
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.theme = "";
        this.expand = false;
        this.disabled = false;
        this.identifier = undefined;
        this.required = false;
        this.label = "label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.labelHidden = false;
        this.name = undefined;
        this.placeholder = undefined;
        this.caption = undefined;
        this.echoPlaceholder = false;
        this.maxlength = undefined;
        this.minlength = undefined;
        this.error = "";
        this.role = undefined;
        this.tooltip = "";
        this.tooltipDirection = "auto";
        this.value = "";
        this.disallowPattern = null;
        this.counter = false;
        this.counterLabel = undefined;
    }
    disallowedPatternChange() {
        this.disallowPatternRegex = this.disallowPattern ? new RegExp(this.disallowPattern, "gu") : null;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.disallowedPatternChange();
        this.isCaptionVisible = !!this.caption;
        if (this.counter && this.maxlength == null) {
            console.warn("[DUET WARNING]: counter will only take effect if maxlength is set");
        }
        if (!this.counter && this.counterLabel != null) {
            console.warn("[DUET WARNING]: counter-label is redundant unless used with counter");
        }
        if (this.counter && !this.counterLabel) {
            console.warn("[DUET WARNING]: counter requires counter-label to be set");
        }
    }
    /**
     * Sets focus on the specified `duet-textarea`. Use this method instead of the global
     * `textarea.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "disallowPattern": ["disallowedPatternChange"]
    }; }
    static get style() { return duetTextareaCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-textarea",
        "$members$": {
            "margin": [1],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleAutocomplete": [1, "accessible-autocomplete"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "accessibleLiveError": [1, "accessible-live-error"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "theme": [1025],
            "expand": [4],
            "disabled": [516],
            "identifier": [1],
            "required": [4],
            "label": [1],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "labelHidden": [4, "label-hidden"],
            "name": [1],
            "placeholder": [1],
            "caption": [1],
            "echoPlaceholder": [4, "echo-placeholder"],
            "maxlength": [2],
            "minlength": [2],
            "error": [1],
            "role": [1],
            "tooltip": [1],
            "tooltipDirection": [1, "tooltip-direction"],
            "value": [1025],
            "disallowPattern": [1, "disallow-pattern"],
            "counter": [4],
            "counterLabel": [1, "counter-label"],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"]]
    }; }
}

const duetToggleCss = "*.sc-duet-toggle,*.sc-duet-toggle::after,*.sc-duet-toggle::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-toggle-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:8px !important;margin-bottom:12px !important;-webkit-user-select:none;user-select:none;display:inline-flex;width:100%;vertical-align:bottom;-webkit-tap-highlight-color:transparent}.sc-duet-toggle-h:last-child,.sc-duet-toggle-h:last-of-type{margin-right:0 !important}.duet-m-0.sc-duet-toggle-h{margin:0 !important}duet-label.sc-duet-toggle{display:block !important;width:100% !important}.duet-side-label.sc-duet-toggle{display:flex;gap:12px;align-items:center}.duet-side-label.sc-duet-toggle duet-label.sc-duet-toggle{width:auto !important}.duet-reverse-label.sc-duet-toggle{flex-direction:row-reverse}.duet-switch.sc-duet-toggle{position:relative;display:block;width:48px;height:28px}.duet-switch.sc-duet-toggle input.sc-duet-toggle{position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}.duet-switch.sc-duet-toggle input.sc-duet-toggle:checked+.duet-slider.sc-duet-toggle{background-color:rgb(0, 119, 179);box-shadow:none}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:checked+.duet-slider.sc-duet-toggle{background-color:rgb(198, 12, 48)}.duet-switch.sc-duet-toggle input.sc-duet-toggle:checked+.duet-slider.sc-duet-toggle::before{background-color:rgb(255, 255, 255);box-shadow:-1px 0 2px #004467;transform:translateX(20px)}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:checked+.duet-slider.sc-duet-toggle::before{background-color:rgb(255, 255, 255);box-shadow:-1px 0 2px #660619}.duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled+.duet-slider.sc-duet-toggle{cursor:default}.duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled+.duet-slider.sc-duet-toggle::before{box-shadow:none}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled+.duet-slider.sc-duet-toggle::before{box-shadow:none}.duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:not(:checked)+.duet-slider.sc-duet-toggle{background:#c8cacc}.duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:not(:checked)+.duet-slider.sc-duet-toggle::before{background:rgb(255, 255, 255);box-shadow:none}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:not(:checked)+.duet-slider.sc-duet-toggle{background:#bababa}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:not(:checked)+.duet-slider.sc-duet-toggle::before{background:rgb(255, 255, 255)}.duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:checked+.duet-slider.sc-duet-toggle{background:#80bbd9}.duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:disabled:checked+.duet-slider.sc-duet-toggle{background:#e38698}.user-is-tabbing.sc-duet-toggle-h .duet-switch.sc-duet-toggle input.sc-duet-toggle:focus+.duet-slider.sc-duet-toggle{box-shadow:0 0 0 1px #fff, 0 0 0 3px rgba(0, 119, 179, 0.75)}.user-is-tabbing.sc-duet-toggle-h .duet-theme-turva.sc-duet-toggle .duet-switch.sc-duet-toggle input.sc-duet-toggle:focus+.duet-slider.sc-duet-toggle{box-shadow:0 0 0 1px #fff, 0 0 0 3px rgba(23, 28, 58, 0.75)}.duet-slider.sc-duet-toggle{position:absolute;top:0;right:0;bottom:0;left:0;cursor:pointer;background-color:rgb(144, 149, 153);border-radius:24px;transition:background-color 300ms ease}.duet-slider.sc-duet-toggle::before{position:absolute;bottom:2px;left:2px;width:24px;height:24px;content:\"\";background-color:rgb(255, 255, 255);border-radius:50%;box-shadow:1px 0 2px 0 #5d6266;transition:300ms ease}.duet-theme-turva.sc-duet-toggle .duet-slider.sc-duet-toggle{background-color:rgb(116, 116, 117)}.duet-theme-turva.sc-duet-toggle .duet-slider.sc-duet-toggle::before{background-color:rgb(255, 255, 255);box-shadow:1px 0 2px 0 #00334d}";

class DuetToggle {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        /**
         * Own Properties
         */
        this.toggleId = createID("DuetToggle");
        /**
         * Component event handling.
         */
        this.onClick = (ev) => {
            ev.preventDefault();
            this.setFocus();
            this.checked = !this.checked;
        };
        this.theme = "";
        this.margin = "auto";
        this.accessibleActiveDescendant = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleDetails = undefined;
        this.accessibleLabelledBy = undefined;
        this.accessibleDescription = undefined;
        this.label = "label";
        this.labelColor = undefined;
        this.labelWeight = undefined;
        this.labelPosition = "top";
        this.required = false;
        this.disabled = false;
        this.checked = false;
        this.value = undefined;
        this.identifier = undefined;
        this.name = undefined;
        this.role = undefined;
    }
    checkedChanged(isChecked) {
        this.duetChange.emit({
            checked: isChecked,
            value: this.value,
            component: "duet-toggle",
        });
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        if (this.value === undefined) {
            this.value = this.identifier;
        }
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    /**
     * Sets focus on the specified `duet-toggle`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        this.nativeInput.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "checked": ["checkedChanged"]
    }; }
    static get style() { return duetToggleCss; }
    static get cmpMeta() { return {
        "$flags$": 2,
        "$tagName$": "duet-toggle",
        "$members$": {
            "theme": [1025],
            "margin": [1],
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleDetails": [1, "accessible-details"],
            "accessibleLabelledBy": [1, "accessible-labelled-by"],
            "accessibleDescription": [1, "accessible-description"],
            "label": [1],
            "labelColor": [1025, "label-color"],
            "labelWeight": [1025, "label-weight"],
            "labelPosition": [1, "label-position"],
            "required": [4],
            "disabled": [516],
            "checked": [1540],
            "value": [1537],
            "identifier": [1],
            "name": [1],
            "role": [1],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"], ["checked", "checked"], ["value", "value"]]
    }; }
}

const duetToolbarCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-toolbar,*.sc-duet-toolbar::after,*.sc-duet-toolbar::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-toolbar-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%}/*!@.duet-toolbar*/.duet-toolbar.sc-duet-toolbar{position:relative;z-index:2;display:flex;align-items:center;justify-content:center;background:rgb(255, 255, 255)}/*!@.duet-toolbar .container*/.duet-toolbar.sc-duet-toolbar .container.sc-duet-toolbar{display:flex;align-items:center;justify-content:space-between;width:100%;max-width:1384px;height:36px;margin:0 28px;border-bottom:1px solid rgb(225, 227, 230)}/*!@.duet-toolbar .list*/.duet-toolbar.sc-duet-toolbar .list.sc-duet-toolbar{display:flex;align-items:center;justify-content:space-between;height:100%;list-style-type:none}/*!@.duet-toolbar ::slotted(*)*/.duet-toolbar .sc-duet-toolbar-s>*{display:flex;align-items:center;justify-content:center;height:100%}/*!@.duet-toolbar.negative*/.duet-toolbar.negative.sc-duet-toolbar{background:rgb(0, 119, 179)}/*!@.duet-toolbar.negative .container*/.duet-toolbar.negative.sc-duet-toolbar .container.sc-duet-toolbar{border-bottom:0}/*!@.duet-toolbar.duet-theme-turva*/.duet-toolbar.duet-theme-turva.sc-duet-toolbar{background:rgb(255, 255, 255)}/*!@.duet-toolbar.duet-theme-turva .container*/.duet-toolbar.duet-theme-turva.sc-duet-toolbar .container.sc-duet-toolbar{border-bottom:1px solid rgb(228, 228, 230)}/*!@.duet-toolbar.duet-theme-turva.negative*/.duet-toolbar.duet-theme-turva.negative.sc-duet-toolbar{background:rgb(198, 12, 48)}/*!@.duet-toolbar.duet-theme-turva.negative .container*/.duet-toolbar.duet-theme-turva.negative.sc-duet-toolbar .container.sc-duet-toolbar{border-bottom:0}";

/**
 * @slot left - Slot for content in left side.
 * @slot right - Slot for content in right side.
 */
class DuetToolbar {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.variation = "default";
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        const children = Array.from(this.element.children);
        for (const child of children) {
            if (child.getAttribute("slot") === "left") {
                for (const slotChild of Array.from(child.children)) {
                    slotChild.setAttribute("role", "listitem");
                }
            }
            else if (child.getAttribute("slot") === "right") {
                for (const slotChild of Array.from(child.children)) {
                    slotChild.setAttribute("role", "listitem");
                }
            }
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const variation = this.variation === "negative" ? "negative" : "default";
        return (hAsync(Host, null, hAsync("nav", { class: { "duet-toolbar": true, "duet-theme-turva": this.theme === "turva", [variation]: true }, "aria-label": this.accessibleLabel }, hAsync("div", { class: "container" }, hAsync("div", { class: "list", role: "list" }, hAsync("slot", { name: "left" })), hAsync("div", { class: "list", role: "list" }, hAsync("slot", { name: "right" }))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetToolbarCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-toolbar",
        "$members$": {
            "theme": [1025],
            "variation": [1025],
            "accessibleLabel": [1, "accessible-label"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetToolbarDropdownCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-toolbar-dropdown,*.sc-duet-toolbar-dropdown::after,*.sc-duet-toolbar-dropdown::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-toolbar-dropdown-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}/*!@.duet-toolbar-dropdown*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown{position:relative;height:100%}/*!@.duet-toolbar-dropdown button*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown{position:relative;display:flex;gap:8px;align-items:center;justify-content:center;height:100%;padding:0 16px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 77, 128);text-align:center;text-decoration:none;cursor:pointer}/*!@.duet-toolbar-dropdown button .label*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown .label.sc-duet-toolbar-dropdown{display:flex;gap:0.5rem;align-items:center;justify-content:center}/*!@.duet-toolbar-dropdown button:hover*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:hover{color:rgb(0, 41, 77);background:rgb(243, 249, 252)}/*!@.duet-toolbar-dropdown button.open .caret*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown .caret.sc-duet-toolbar-dropdown{transform:rotate(180deg)}/*!@.duet-toolbar-dropdown button:focus*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-toolbar-dropdown button.active, .duet-toolbar-dropdown button.open*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown,.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown{color:rgb(0, 41, 77)}/*!@.duet-toolbar-dropdown button.active::after, .duet-toolbar-dropdown button.open::after*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown::after,.duet-toolbar-dropdown.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown::after{position:absolute;top:auto;bottom:1px;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(1px)}/*!@.duet-toolbar-dropdown .items*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown .items.sc-duet-toolbar-dropdown{position:absolute;top:93%;right:0%;left:auto;z-index:600;display:flex;flex-direction:column;align-items:center;justify-content:center;min-width:175px;padding:8px;color:rgb(0, 41, 77);background:rgb(255, 255, 255);border-radius:8px;box-shadow:0 0 0 1px rgba(0, 0, 0, 0.07), 0 4px 10px 0 rgba(0, 41, 77, 0.15)}/*!@.duet-toolbar-dropdown .items.hidden*/.duet-toolbar-dropdown.sc-duet-toolbar-dropdown .items.hidden.sc-duet-toolbar-dropdown{display:none}/*!@.duet-toolbar-dropdown.right .items*/.duet-toolbar-dropdown.right.sc-duet-toolbar-dropdown .items.sc-duet-toolbar-dropdown{right:auto;left:0%}/*!@.duet-toolbar-dropdown.duet-theme-turva button*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-toolbar-dropdown.duet-theme-turva button:hover*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:hover{color:rgb(23, 28, 58);background:rgb(245, 245, 247)}/*!@.duet-toolbar-dropdown.duet-theme-turva button:focus*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-toolbar-dropdown.duet-theme-turva button.active, .duet-toolbar-dropdown.duet-theme-turva button.open*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown,.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown{color:rgb(23, 28, 58)}/*!@.duet-toolbar-dropdown.duet-theme-turva button.active::after, .duet-toolbar-dropdown.duet-theme-turva button.open::after*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown::after,.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown::after{background:rgb(198, 12, 48)}/*!@.duet-toolbar-dropdown.duet-theme-turva .items*/.duet-toolbar-dropdown.duet-theme-turva.sc-duet-toolbar-dropdown .items.sc-duet-toolbar-dropdown{background:rgb(245, 245, 247)}/*!@.duet-toolbar-dropdown.negative button*/.duet-toolbar-dropdown.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown{color:rgb(255, 255, 255)}/*!@.duet-toolbar-dropdown.negative button:hover*/.duet-toolbar-dropdown.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:hover{color:rgb(255, 255, 255);background:rgba(0, 41, 77, 0.2)}/*!@.duet-toolbar-dropdown.negative button.active*/.duet-toolbar-dropdown.negative.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown{font-weight:600;color:rgb(255, 255, 255);background:rgba(0, 41, 77, 0.2)}/*!@.duet-toolbar-dropdown.negative button.open*/.duet-toolbar-dropdown.negative.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown{color:rgb(255, 255, 255);background:rgba(0, 41, 77, 0.2)}/*!@.duet-toolbar-dropdown.negative button duet-icon*/.duet-toolbar-dropdown.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown duet-icon.sc-duet-toolbar-dropdown{color:rgb(205, 229, 241)}/*!@.duet-toolbar-dropdown.duet-theme-turva.negative button*/.duet-toolbar-dropdown.duet-theme-turva.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown{color:rgb(255, 255, 255)}/*!@.duet-toolbar-dropdown.duet-theme-turva.negative button:hover*/.duet-toolbar-dropdown.duet-theme-turva.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown:hover{color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}/*!@.duet-toolbar-dropdown.duet-theme-turva.negative button.active*/.duet-toolbar-dropdown.duet-theme-turva.negative.sc-duet-toolbar-dropdown button.active.sc-duet-toolbar-dropdown{font-weight:600;color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}/*!@.duet-toolbar-dropdown.duet-theme-turva.negative button.open*/.duet-toolbar-dropdown.duet-theme-turva.negative.sc-duet-toolbar-dropdown button.open.sc-duet-toolbar-dropdown{color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}/*!@.duet-toolbar-dropdown.duet-theme-turva.negative button duet-icon*/.duet-toolbar-dropdown.duet-theme-turva.negative.sc-duet-toolbar-dropdown button.sc-duet-toolbar-dropdown duet-icon.sc-duet-toolbar-dropdown{color:rgb(244, 207, 214)}";

class DuetToolbarDropdown {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.onClick = () => {
            this.open = !this.open;
        };
        this.theme = "";
        this.variation = "default";
        this.accessibleLabel = undefined;
        this.active = false;
        this.open = false;
        this.icon = undefined;
    }
    handleFocus(e) {
        const isClickOutside = e.composedPath().every(node => node !== this.element);
        if (isClickOutside) {
            this.open = false;
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            this.open = false;
            this.setFocus();
        }
    }
    /**
     * Sets focus. Use this method instead of the global focus().
     */
    async setFocus(options) {
        this.button.focus(options);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        let itemsAlign = "right";
        if (this.element && this.element.parentElement) {
            itemsAlign = this.element.parentElement.getAttribute("slot") === "left" ? "right" : "left";
        }
        const variation = this.variation === "negative" ? "negative" : "white";
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-toolbar-dropdown": true,
                "duet-theme-turva": this.theme === "turva",
                [itemsAlign]: true,
                [variation]: true,
            } }, hAsync("button", { ref: element => (this.button = element), "aria-haspopup": "menu", "aria-controls": "menu", "aria-expanded": this.open ? "true" : "false", "aria-current": this.active ? "true" : "false", "aria-label": this.accessibleLabel, id: "button", type: "button", class: {
                active: this.active,
                open: this.open,
            }, onClick: this.onClick, onKeyUp: e => this.handleEscape(e) }, this.icon && (hAsync("duet-icon", { theme: this.theme, name: this.icon, size: "x-small", margin: "none", color: "currentColor" })), hAsync("div", { class: "label" }, hAsync("slot", { name: "label" }), hAsync("duet-icon", { class: "caret", theme: this.theme, name: "action-arrow-down-small", margin: "none", size: "xxx-small", color: "currentColor" }))), hAsync("div", { tabindex: "-1", role: "menu", id: "menu", "aria-labelledby": "button", class: {
                items: true,
                hidden: !this.open,
            } }, hAsync("slot", null)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetToolbarDropdownCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-toolbar-dropdown",
        "$members$": {
            "theme": [1025],
            "variation": [1025],
            "accessibleLabel": [1, "accessible-label"],
            "active": [1540],
            "open": [1540],
            "icon": [1537],
            "setFocus": [64]
        },
        "$listeners$": [[8, "click", "handleFocus"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["active", "active"], ["open", "open"], ["icon", "icon"]]
    }; }
}

const duetToolbarDropdownLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-toolbar-dropdown-link,*.sc-duet-toolbar-dropdown-link::after,*.sc-duet-toolbar-dropdown-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-toolbar-dropdown-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;width:100%;height:100%}/*!@.duet-toolbar-dropdown-link*/.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link{display:flex;flex-direction:row;gap:12px;align-items:center;justify-content:flex-start;height:100%;padding:0.5rem 8px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);text-align:center;text-decoration:none}/*!@.duet-toolbar-dropdown-link:focus*/.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-toolbar-dropdown-link:focus, .duet-toolbar-dropdown-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-toolbar-dropdown-link .duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link:focus,.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-toolbar-dropdown-link .label*/.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link .label.sc-duet-toolbar-dropdown-link{flex:1;text-align:left}/*!@.duet-toolbar-dropdown-link.duet-theme-turva*/.duet-toolbar-dropdown-link.duet-theme-turva.sc-duet-toolbar-dropdown-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-toolbar-dropdown-link.active*/.duet-toolbar-dropdown-link.active.sc-duet-toolbar-dropdown-link{background:rgb(243, 249, 252)}/*!@.duet-toolbar-dropdown-link.active.duet-theme-turva*/.duet-toolbar-dropdown-link.active.duet-theme-turva.sc-duet-toolbar-dropdown-link{background:rgb(245, 245, 247)}/*!@.duet-toolbar-dropdown-link:hover*/.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link:hover{background:rgb(230, 242, 248)}/*!@.duet-toolbar-dropdown-link:hover.duet-theme-turva*/.duet-toolbar-dropdown-link.sc-duet-toolbar-dropdown-link:hover.duet-theme-turva{background:rgb(228, 228, 230)}";

class DuetToolbarDropdownLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.accessibleLabel = undefined;
        this.theme = "";
        this.targetLanguage = undefined;
        this.href = "#";
        this.icon = undefined;
        this.active = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    handleEscape(e) {
        if (isEscapeKey(e)) {
            const dropdown = this.element.closest("duet-toolbar-dropdown");
            dropdown.open = false;
            dropdown.setFocus();
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-toolbar-dropdown-link": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.active,
            }, href: this.href, lang: this.targetLanguage, hreflang: this.targetLanguage, role: "menuitem", "aria-label": this.accessibleLabel, "aria-current": this.active ? "true" : "false", onKeyUp: e => this.handleEscape(e) }, this.icon && hAsync("duet-icon", { name: this.icon, size: "x-small", margin: "none" }), hAsync("span", { class: "label" }, hAsync("slot", null)), this.active && (hAsync("duet-icon", { name: "messaging-checked-small", size: "xx-small", margin: "none", color: "currentColor" })))));
    }
    get element() { return getElement(this); }
    static get style() { return duetToolbarDropdownLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-toolbar-dropdown-link",
        "$members$": {
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "targetLanguage": [1, "target-language"],
            "href": [1025],
            "icon": [1537],
            "active": [1028]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetToolbarLinkCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-toolbar-link,*.sc-duet-toolbar-link::after,*.sc-duet-toolbar-link::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-toolbar-link-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;height:100%}/*!@.duet-toolbar-link*/.duet-toolbar-link.sc-duet-toolbar-link{position:relative;display:flex;gap:8px;align-items:center;justify-content:center;height:100%;padding:0 16px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 77, 128);text-align:center;text-decoration:none;white-space:nowrap}/*!@.duet-toolbar-link:focus*/.duet-toolbar-link.sc-duet-toolbar-link:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@.duet-theme-turva .duet-toolbar-link:focus, .duet-toolbar-link:focus.duet-theme-turva*/.duet-theme-turva.sc-duet-toolbar-link .duet-toolbar-link.sc-duet-toolbar-link:focus,.duet-toolbar-link.sc-duet-toolbar-link:focus.duet-theme-turva{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-toolbar-link.negative*/.duet-toolbar-link.negative.sc-duet-toolbar-link{color:rgb(255, 255, 255)}/*!@.duet-toolbar-link.negative duet-icon*/.duet-toolbar-link.negative.sc-duet-toolbar-link duet-icon.sc-duet-toolbar-link{color:rgb(205, 229, 241)}/*!@.duet-toolbar-link.duet-theme-turva*/.duet-toolbar-link.duet-theme-turva.sc-duet-toolbar-link{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58)}/*!@.duet-toolbar-link.duet-theme-turva.negative*/.duet-toolbar-link.duet-theme-turva.negative.sc-duet-toolbar-link{color:rgb(255, 255, 255)}/*!@.duet-toolbar-link.duet-theme-turva.negative duet-icon*/.duet-toolbar-link.duet-theme-turva.negative.sc-duet-toolbar-link duet-icon.sc-duet-toolbar-link{color:rgb(244, 207, 214)}/*!@.duet-toolbar-link:hover*/.duet-toolbar-link.sc-duet-toolbar-link:hover{color:rgb(0, 41, 77);background:rgb(243, 249, 252)}/*!@.duet-toolbar-link:hover.negative*/.duet-toolbar-link.sc-duet-toolbar-link:hover.negative{color:rgb(255, 255, 255);background:rgba(0, 41, 77, 0.2)}/*!@.duet-toolbar-link:hover.duet-theme-turva*/.duet-toolbar-link.sc-duet-toolbar-link:hover.duet-theme-turva{color:rgb(23, 28, 58);background:rgb(245, 245, 247)}/*!@.duet-toolbar-link:hover.duet-theme-turva.negative*/.duet-toolbar-link.sc-duet-toolbar-link:hover.duet-theme-turva.negative{color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}/*!@.duet-toolbar-link.active*/.duet-toolbar-link.active.sc-duet-toolbar-link{color:rgb(0, 41, 77)}/*!@.duet-toolbar-link.active.negative*/.duet-toolbar-link.active.negative.sc-duet-toolbar-link{font-weight:600;color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}/*!@.duet-toolbar-link.active.negative::after*/.duet-toolbar-link.active.negative.sc-duet-toolbar-link::after{display:none}/*!@.duet-toolbar-link.active::after*/.duet-toolbar-link.active.sc-duet-toolbar-link::after{position:absolute;top:auto;bottom:1px;left:0;display:block;width:100%;height:1px;content:\"\";background:rgb(0, 119, 179);transition:300ms ease;transform:translateY(1px)}/*!@.duet-toolbar-link.active::after.duet-theme-turva*/.duet-toolbar-link.active.sc-duet-toolbar-link::after.duet-theme-turva{background:rgb(198, 12, 48)}/*!@.duet-toolbar-link.active.duet-theme-turva*/.duet-toolbar-link.active.duet-theme-turva.sc-duet-toolbar-link{color:rgb(23, 28, 58)}/*!@.duet-toolbar-link.active.duet-theme-turva::after*/.duet-toolbar-link.active.duet-theme-turva.sc-duet-toolbar-link::after{background:rgb(198, 12, 48)}/*!@.duet-toolbar-link.active.duet-theme-turva.negative*/.duet-toolbar-link.active.duet-theme-turva.negative.sc-duet-toolbar-link{color:rgb(255, 255, 255);background:rgba(23, 28, 58, 0.2)}";

class DuetToolbarLink {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.theme = "";
        this.variation = "default";
        this.active = false;
        this.href = "#";
        this.icon = undefined;
        this.accessibleLabel = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const variation = this.variation === "negative" ? "negative" : "white";
        return (hAsync(Host, null, hAsync("a", { class: {
                "duet-toolbar-link": true,
                "duet-theme-turva": this.theme === "turva",
                active: this.active,
                [variation]: true,
            }, href: this.href, "aria-current": this.active ? "true" : "false", "aria-label": this.accessibleLabel }, this.icon && (hAsync("duet-icon", { size: "x-small", name: this.icon, margin: "none", theme: this.theme, color: "currentColor" })), hAsync("slot", null))));
    }
    get element() { return getElement(this); }
    static get style() { return duetToolbarLinkCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-toolbar-link",
        "$members$": {
            "theme": [1025],
            "variation": [1025],
            "active": [1028],
            "href": [1025],
            "icon": [1537],
            "accessibleLabel": [1, "accessible-label"]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["icon", "icon"]]
    }; }
}

const duetTooltipCss = "*.sc-duet-tooltip,*.sc-duet-tooltip::after,*.sc-duet-tooltip::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-tooltip-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;z-index:200;display:inline-flex;width:auto;margin-top:-16px !important;margin-left:-3px !important;-webkit-tap-highlight-color:transparent}duet-tooltip-button.sc-duet-tooltip{position:relative}duet-tooltip-popup.sc-duet-tooltip{position:absolute}";

class DuetTooltip {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.mql = [
            window.matchMedia(media_query_medium.replace(/'/g, "")),
            window.matchMedia(media_query_large.replace(/'/g, "")),
        ];
        this.tooltipId = createID("DuetTooltip");
        this.aboutString = {
            fi: "aiheesta",
            en: "about",
            sv: "om",
        };
        /**
         * Local methods
         */
        this.openTooltip = () => {
            this.active = true;
            this.focusTarget = "tooltip";
        };
        this.closeTooltip = (moveFocusToButton = false) => {
            this.active = false;
            if (moveFocusToButton) {
                this.focusTarget = "trigger";
            }
            setTimeout(() => {
                this.updatePlacement();
            }, 200);
        };
        this.toggleOpen = () => {
            this.active ? this.closeTooltip() : this.openTooltip();
        };
        this.updatePlacement = async () => {
            var _a, _b;
            let preferRight = true;
            if (this.breakpoint === "large" && !this.mql[1].matches) {
                preferRight = false;
            }
            else if (this.breakpoint === "medium" && !this.mql[0].matches) {
                preferRight = false;
            }
            let placement = preferRight ? "top-start" : "top-end";
            if (this.direction === "left") {
                placement = "top-end";
            }
            else if (this.direction === "right") {
                placement = "top-start";
            }
            const position = await computePosition(this.buttonEl, this.popupElement, {
                placement,
                middleware: [flip(), shift({ padding: 5 }), arrow({ element: this.arrowEl })],
            });
            this.tooltipY = position.y;
            this.tooltipX = position.x;
            this.placement = position.placement;
            this.arrowY = (_a = position.middlewareData.arrow) === null || _a === void 0 ? void 0 : _a.y;
            this.arrowX = (_b = position.middlewareData.arrow) === null || _b === void 0 ? void 0 : _b.x;
        };
        this.placement = "bottom";
        this.tooltipY = undefined;
        this.tooltipX = undefined;
        this.arrowX = undefined;
        this.arrowY = undefined;
        this.theme = "";
        this.language = getLanguage();
        this.accessibleLabelDefault = {
            fi: "Näytä lisätietoja",
            en: "Show more information",
            sv: "Visa mer tilläggsuppgifter",
        };
        this.accessibleLabel = getLocaleString(this.accessibleLabelDefault, this.language);
        this.accessibleAboutLabel = undefined;
        this.accessibleInputLabel = undefined;
        this.accessibleCloseLabelDefault = {
            fi: "Sulje lisätiedot",
            en: "Close details",
            sv: "Stäng tilläggsuppgifter",
        };
        this.accessibleCloseLabel = getLocaleString(this.accessibleCloseLabelDefault, this.language);
        this.label = "";
        this.breakpoint = "medium";
        this.direction = "auto";
        this.positionVertical = "0";
        this.positionHorizontal = "0";
        this.active = false;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    async componentDidLoad() {
        {
            return;
        }
    }
    componentDidUpdate() {
        switch (this.focusTarget) {
            case "tooltip":
                // delay focus so button is correctly announced as "expanded"
                setTimeout(() => this.contentEl.focus({ preventScroll: true }));
                break;
            case "trigger":
                // delay focus so button is correctly announced as "collapsed"
                setTimeout(() => this.buttonEl.setFocus({ preventScroll: true }));
                break;
        }
        this.focusTarget = null;
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, [
            { prop: "accessibleLabel", defaults: "accessibleLabelDefault" },
            { prop: "accessibleCloseLabel", defaults: "accessibleCloseLabelDefault" },
        ]);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
    }
    /**
     * Component event handling.
     */
    onScroll() {
        clearTimeout(this.scrollTimer);
        this.scrollTimer = setTimeout(() => {
            if (this.active) {
                this.updatePlacement();
            }
        }, 100);
    }
    handleWindowResize() {
        clearTimeout(this.resizeTimer);
        this.resizeTimer = setTimeout(() => {
            this.updatePlacement();
        }, 100);
    }
    handleDocumentClick(e) {
        if (!this.active) {
            return;
        }
        const path = e.composedPath();
        const isClickOutside = path.every(el => el !== this.element && el !== this.contentEl);
        if (isClickOutside) {
            this.closeTooltip();
        }
    }
    handleKeyDown(e) {
        if (this.active && isEscapeKey(e)) {
            this.closeTooltip(true);
        }
    }
    handlePopupClose() {
        if (this.active) {
            this.closeTooltip(true);
        }
    }
    async handleActiveChange(newActiveValue) {
        if (newActiveValue) {
            setTimeout(() => this.updatePlacement(), 10);
        }
        else {
            setTimeout(() => this.updatePlacement(), 300);
        }
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        {
            return;
        }
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "active": ["handleActiveChange"]
    }; }
    static get style() { return duetTooltipCss; }
    static get cmpMeta() { return {
        "$flags$": 6,
        "$tagName$": "duet-tooltip",
        "$members$": {
            "theme": [1025],
            "language": [1025],
            "accessibleLabelDefault": [1, "accessible-label-default"],
            "accessibleLabel": [1025, "accessible-label"],
            "accessibleAboutLabel": [1, "accessible-about-label"],
            "accessibleInputLabel": [1, "accessible-input-label"],
            "accessibleCloseLabelDefault": [1, "accessible-close-label-default"],
            "accessibleCloseLabel": [1025, "accessible-close-label"],
            "label": [1],
            "breakpoint": [1],
            "direction": [1],
            "positionVertical": [513, "position-vertical"],
            "positionHorizontal": [513, "position-horizontal"],
            "active": [1540],
            "placement": [32],
            "tooltipY": [32],
            "tooltipX": [32],
            "arrowX": [32],
            "arrowY": [32]
        },
        "$listeners$": [[9, "scroll", "onScroll"], [9, "resize", "handleWindowResize"], [4, "click", "handleDocumentClick"], [4, "keydown", "handleKeyDown"], [4, "tooltipPopupClosed", "handlePopupClose"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["positionVertical", "position-vertical"], ["positionHorizontal", "position-horizontal"], ["active", "active"]]
    }; }
}

const duetTooltipButtonCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-tooltip-button,*.sc-duet-tooltip-button::after,*.sc-duet-tooltip-button::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-tooltip-button-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-tooltip-button*/.duet-tooltip-button.sc-duet-tooltip-button{z-index:100;display:inline-block;align-items:center;justify-content:center;min-width:48px;height:48px;padding:0 !important;margin-right:-12px;line-height:normal !important;color:rgb(0, 119, 179);white-space:nowrap;cursor:pointer;background:transparent !important;border-radius:4px}/*!@.duet-tooltip-button.duet-theme-turva*/.duet-tooltip-button.duet-theme-turva.sc-duet-tooltip-button{color:rgb(198, 12, 48)}/*!@.duet-tooltip-button:hover*/.duet-tooltip-button.sc-duet-tooltip-button:hover{color:rgb(0, 77, 128)}/*!@.duet-tooltip-button:hover.duet-theme-turva*/.duet-tooltip-button.sc-duet-tooltip-button:hover.duet-theme-turva{color:rgb(148, 9, 37)}/*!@.duet-tooltip-button:focus*/.duet-tooltip-button.sc-duet-tooltip-button:focus{background:transparent !important;outline:0}/*!@:host(.user-is-tabbing) .duet-tooltip-button:focus*/.user-is-tabbing.sc-duet-tooltip-button-h .duet-tooltip-button.sc-duet-tooltip-button:focus{background:transparent !important;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3 !important}/*!@:host(.user-is-tabbing) .duet-tooltip-button.duet-theme-turva:focus*/.user-is-tabbing.sc-duet-tooltip-button-h .duet-tooltip-button.duet-theme-turva.sc-duet-tooltip-button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a !important}/*!@.duet-tooltip-button svg*/.duet-tooltip-button.sc-duet-tooltip-button svg.sc-duet-tooltip-button{width:20px;height:20px;pointer-events:none}/*!@.duet-tooltip-button-has-label*/.duet-tooltip-button-has-label.sc-duet-tooltip-button{margin-right:0}/*!@.duet-tooltip-label*/.duet-tooltip-label.sc-duet-tooltip-button{position:relative;z-index:100;display:inline-block;max-width:calc(100% - 30px);margin-left:12px !important;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:600;line-height:1.25;text-align:left;white-space:normal;vertical-align:top}/*!@.duet-theme-turva .duet-tooltip-label*/.duet-theme-turva.sc-duet-tooltip-button .duet-tooltip-label.sc-duet-tooltip-button{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\"}";

/**
 * @internal
 * This component is solely for internal use by duet-tooltip.
 */
class DuetTooltipButton {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.label = "";
        this.accessibleLabel = undefined;
        this.theme = "";
        this.active = undefined;
        this.tooltipId = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    async setFocus(options) {
        if (this.buttonElement) {
            this.buttonElement.focus(options);
        }
    }
    /**
     * render() function.
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, null, hAsync("button", { ref: el => (this.buttonElement = el), "aria-controls": this.tooltipId, "aria-expanded": this.active ? "true" : "false", type: "button", class: {
                "duet-tooltip-button": true,
                "duet-tooltip-button-has-label": !!this.label,
                "duet-theme-turva": this.theme === "turva",
            } }, hAsync("svg", { "aria-hidden": "true", role: "img", fill: "currentColor", viewBox: "0 0 24 24", xmlns: "http://www.w3.org/2000/svg" }, hAsync("path", { d: "m13.5 17.25c-1.241 0-2.25-1.009-2.25-2.25v-3.75h-.75c-.414 0-.75-.336-.75-.75s.336-.75.75-.75h.75c.827 0 1.5.673 1.5 1.5v3.75c0 .414.336.75.75.75h.75c.414 0 .75.336.75.75s-.336.75-.75.75z" }), hAsync("circle", { cx: "11.625", cy: "7.125", r: "1.125" }), hAsync("path", { d: "m12 24c-6.617 0-12-5.383-12-12s5.383-12 12-12 12 5.383 12 12-5.383 12-12 12zm0-22.5c-5.79 0-10.5 4.71-10.5 10.5s4.71 10.5 10.5 10.5 10.5-4.71 10.5-10.5-4.71-10.5-10.5-10.5z" })), this.label ? (hAsync("span", { class: "duet-tooltip-label" }, this.label)) : (hAsync("duet-visually-hidden", null, this.accessibleLabel)))));
    }
    get element() { return getElement(this); }
    static get style() { return duetTooltipButtonCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-tooltip-button",
        "$members$": {
            "label": [1],
            "accessibleLabel": [1, "accessible-label"],
            "theme": [1025],
            "active": [4],
            "tooltipId": [1, "tooltip-id"],
            "setFocus": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetTooltipPopupCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-tooltip-popup,*.sc-duet-tooltip-popup::after,*.sc-duet-tooltip-popup::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-tooltip-popup-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute;z-index:950}/*!@.duet-tooltip*/.duet-tooltip.sc-duet-tooltip-popup{position:relative;width:282px;min-height:48px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);visibility:hidden;background:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;box-shadow:0 2px 10px 0 rgba(0, 41, 77, 0.07);opacity:0;transition:300ms ease;transform-origin:100% 100%}/*!@.duet-tooltip.duet-theme-turva*/.duet-tooltip.duet-theme-turva.sc-duet-tooltip-popup{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);border-color:rgb(228, 228, 230);box-shadow:0 2px 10px 0 rgba(117, 117, 117, 0.13)}/*!@.duet-tooltip .arrow*/.duet-tooltip.sc-duet-tooltip-popup .arrow.sc-duet-tooltip-popup{position:absolute;width:22px;height:22px;pointer-events:none}/*!@.duet-tooltip .arrow.bottom, .duet-tooltip .arrow.bottom-start, .duet-tooltip .arrow.bottom-end*/.duet-tooltip.sc-duet-tooltip-popup .arrow.bottom.sc-duet-tooltip-popup,.duet-tooltip.sc-duet-tooltip-popup .arrow.bottom-start.sc-duet-tooltip-popup,.duet-tooltip.sc-duet-tooltip-popup .arrow.bottom-end.sc-duet-tooltip-popup{top:-20px}/*!@.duet-tooltip .arrow-container*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.sc-duet-tooltip-popup{position:relative;left:4px;width:100%;height:100%;pointer-events:none}/*!@.duet-tooltip .arrow-container::after*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.sc-duet-tooltip-popup::after{position:absolute;z-index:200;width:0;height:0;pointer-events:none;content:\"\"}/*!@.duet-tooltip .arrow-container::before*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.sc-duet-tooltip-popup::before{position:absolute;z-index:100;width:0;height:0;pointer-events:none;content:\"\"}/*!@.duet-tooltip .arrow-container.top::after, .duet-tooltip .arrow-container.top-start::after, .duet-tooltip .arrow-container.top-end::after*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top.sc-duet-tooltip-popup::after,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-start.sc-duet-tooltip-popup::after,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-end.sc-duet-tooltip-popup::after{bottom:2px;left:2px;border:10px solid transparent;border-top:10px solid rgb(255, 255, 255)}/*!@.duet-tooltip .arrow-container.top::before, .duet-tooltip .arrow-container.top-start::before, .duet-tooltip .arrow-container.top-end::before*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top.sc-duet-tooltip-popup::before,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-start.sc-duet-tooltip-popup::before,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-end.sc-duet-tooltip-popup::before{bottom:-1px;left:1px;border:11px solid transparent;border-top:11px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-tooltip .arrow-container.top::before, .duet-theme-turva .duet-tooltip .arrow-container.top-start::before, .duet-theme-turva .duet-tooltip .arrow-container.top-end::before*/.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.top.sc-duet-tooltip-popup::before,.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-start.sc-duet-tooltip-popup::before,.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.top-end.sc-duet-tooltip-popup::before{border-top:11px solid rgb(228, 228, 230)}/*!@.duet-tooltip .arrow-container.bottom::after, .duet-tooltip .arrow-container.bottom-start::after, .duet-tooltip .arrow-container.bottom-end::after*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom.sc-duet-tooltip-popup::after,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-start.sc-duet-tooltip-popup::after,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-end.sc-duet-tooltip-popup::after{bottom:1px;left:2px;border:10px solid transparent;border-bottom:10px solid rgb(255, 255, 255)}/*!@.duet-tooltip .arrow-container.bottom::before, .duet-tooltip .arrow-container.bottom-start::before, .duet-tooltip .arrow-container.bottom-end::before*/.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom.sc-duet-tooltip-popup::before,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-start.sc-duet-tooltip-popup::before,.duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-end.sc-duet-tooltip-popup::before{bottom:1px;left:1px;border:11px solid transparent;border-bottom:11px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-tooltip .arrow-container.bottom::before, .duet-theme-turva .duet-tooltip .arrow-container.bottom-start::before, .duet-theme-turva .duet-tooltip .arrow-container.bottom-end::before*/.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom.sc-duet-tooltip-popup::before,.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-start.sc-duet-tooltip-popup::before,.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip.sc-duet-tooltip-popup .arrow-container.bottom-end.sc-duet-tooltip-popup::before{border-top:11px solid rgb(228, 228, 230)}/*!@.duet-tooltip.duet-tooltip-has-label*/.duet-tooltip.duet-tooltip-has-label.sc-duet-tooltip-popup{right:auto !important;left:0;width:282px !important;transform-origin:0 0 !important}/*!@.duet-tooltip.duet-tooltip-active*/.duet-tooltip.duet-tooltip-active.sc-duet-tooltip-popup{visibility:visible;opacity:1;transition-property:transform, opacity}/*!@.duet-tooltip-content-area*/.duet-tooltip-content-area.sc-duet-tooltip-popup{padding:20px !important;width:100%;padding-right:25px !important;overflow-y:auto;-webkit-hyphens:auto;hyphens:auto;border-radius:4px;-webkit-overflow-scrolling:touch}/*!@.duet-tooltip-content-area:focus*/.duet-tooltip-content-area.sc-duet-tooltip-popup:focus{outline:none}/*!@:host(.user-is-tabbing) .duet-tooltip-content-area:focus*/.user-is-tabbing.sc-duet-tooltip-popup-h .duet-tooltip-content-area.sc-duet-tooltip-popup:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-tooltip-content-area:focus*/.user-is-tabbing.sc-duet-tooltip-popup-h .duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip-content-area.sc-duet-tooltip-popup:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-tooltip-content-area::-webkit-scrollbar*/.duet-tooltip-content-area.sc-duet-tooltip-popup::-webkit-scrollbar{width:4px}/*!@.duet-tooltip-content-area::-webkit-scrollbar-track*/.duet-tooltip-content-area.sc-duet-tooltip-popup::-webkit-scrollbar-track{border-radius:4px}/*!@.duet-tooltip-content-area::-webkit-scrollbar-thumb*/.duet-tooltip-content-area.sc-duet-tooltip-popup::-webkit-scrollbar-thumb{background:rgb(225, 227, 230);border-radius:4px}/*!@.duet-theme-turva .duet-tooltip-content-area::-webkit-scrollbar-thumb*/.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip-content-area.sc-duet-tooltip-popup::-webkit-scrollbar-thumb{background:rgb(228, 228, 230)}/*!@.duet-tooltip-close*/.duet-tooltip-close.sc-duet-tooltip-popup{position:absolute;top:8px;right:8px;display:flex;align-items:center;justify-content:center;width:17px;height:17px;min-height:0 !important;padding:0 !important;margin:0 !important;line-height:normal;color:rgb(0, 41, 77);cursor:pointer;background:rgb(245, 248, 250);border-radius:50%;-webkit-appearance:none;appearance:none}/*!@.duet-tooltip-close:focus*/.duet-tooltip-close.sc-duet-tooltip-popup:focus{outline:none;box-shadow:0 0 0 2px #0077b3 !important}/*!@.duet-theme-turva .duet-tooltip-close:focus*/.duet-theme-turva.sc-duet-tooltip-popup .duet-tooltip-close.sc-duet-tooltip-popup:focus{color:rgb(23, 28, 58);box-shadow:0 0 0 2px #171c3a !important}";

/**
 * @internal
 * This component is solely for internal use by duet-tooltip.
 */
class DuetTooltipPopup {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.tooltipPopupClosed = createEvent$2(this, "tooltipPopupClosed", 7);
        this.handleCloseClick = () => {
            this.tooltipPopupClosed.emit();
        };
        this.theme = "";
        this.active = undefined;
        this.tooltipId = undefined;
        this.arrowStyles = undefined;
        this.placement = undefined;
        this.accessibleCloseLabel = undefined;
    }
    handleActiveChange() {
        if (this.active) {
            this.teleport.go();
        }
        else {
            this.teleport.resume(200);
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.teleport = new Teleport(this.element);
    }
    connectedCallback() {
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        unsubscribeTabbingChange(this);
    }
    async getArrowElement() {
        return this.arrowEl;
    }
    async getContentElement() {
        return this.contentEl;
    }
    async setFocusOnContentElement() {
        this.contentEl.focus();
    }
    render() {
        return (hAsync(Host, null, hAsync("div", { class: {
                "duet-tooltip": true,
                "duet-theme-turva": this.theme === "turva",
                "duet-tooltip-active": this.active === true,
            } }, hAsync(FocusGuard, { moveFocusTo: this.buttonEl }), hAsync("div", { ref: element => (this.contentEl = element), class: "duet-tooltip-content-area", tabindex: 0, id: this.tooltipId }, hAsync("slot", null)), hAsync("div", { ref: element => (this.arrowEl = element), class: { arrow: true, [this.placement]: true }, style: this.arrowStyles }, hAsync("div", { class: { "arrow-container": true, [this.placement]: true } })), hAsync("button", { type: "button", class: "duet-tooltip-close", onClick: this.handleCloseClick, ref: el => (this.buttonEl = el) }, hAsync("duet-icon", { name: "navigation-close-small", margin: "none", color: "currentColor", size: "xxx-small" }), hAsync("duet-visually-hidden", null, this.accessibleCloseLabel)), hAsync(FocusGuard, { moveFocusTo: this.contentEl }))));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "active": ["handleActiveChange"]
    }; }
    static get style() { return duetTooltipPopupCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-tooltip-popup",
        "$members$": {
            "theme": [1025],
            "active": [4],
            "tooltipId": [1, "tooltip-id"],
            "arrowStyles": [16],
            "placement": [1],
            "accessibleCloseLabel": [1, "accessible-close-label"],
            "getArrowElement": [64],
            "getContentElement": [64],
            "setFocusOnContentElement": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetTrayCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-tray,*.sc-duet-tray::after,*.sc-duet-tray::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-tray-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:block;width:100%}/*!@.duet-tray*/.duet-tray.sc-duet-tray{position:fixed;top:4rem;right:0;left:0;z-index:399;display:flex;flex-direction:column;max-height:calc(100% - 8rem);padding:16px 20px 16px 24px;font-family:\"localtapiola-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77);visibility:hidden;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230);box-shadow:0 2px 6px 0 rgba(0, 41, 77, 0.07);opacity:0;transition:opacity 600ms ease, visibility 600ms ease, transform 600ms ease;transform:translateY(-4rem)}@media (min-width: 62em){/*!@.duet-tray*/.duet-tray.sc-duet-tray{padding:16px 36px}}@media (min-width: 106.25em){/*!@.duet-tray*/.duet-tray.sc-duet-tray{padding:16px 52px 16px 60px}}/*!@.duet-tray:focus*/.duet-tray.sc-duet-tray:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-tray:focus*/.user-is-tabbing.sc-duet-tray-h .duet-tray.sc-duet-tray:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-tray.duet-theme-turva:focus*/.user-is-tabbing.sc-duet-tray-h .duet-tray.duet-theme-turva.sc-duet-tray:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-tray.duet-theme-turva*/.duet-tray.duet-theme-turva.sc-duet-tray{font-family:\"turva-sans\", -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Helvetica, Arial, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\";color:rgb(23, 28, 58);background:rgb(245, 245, 247);border-color:rgb(228, 228, 230)}/*!@.duet-tray.duet-tray-is-active*/.duet-tray.duet-tray-is-active.sc-duet-tray{visibility:visible;opacity:1;transform:translateY(0)}/*!@.duet-tray.duet-tray-is-hidden*/.duet-tray.duet-tray-is-hidden.sc-duet-tray{visibility:hidden;opacity:0;transform:translateY(-4rem)}@media (min-width: 62em){/*!@.duet-tray.duet-tray-is-responsive*/.duet-tray.duet-tray-is-responsive.sc-duet-tray{display:none !important}}/*!@.duet-tray.duet-tray-is-expandable*/.duet-tray.duet-tray-is-expandable.sc-duet-tray{padding-right:66px}@media (min-width: 62em){/*!@.duet-tray.duet-tray-is-expandable*/.duet-tray.duet-tray-is-expandable.sc-duet-tray{padding-right:78px}}@media (min-width: 106.25em){/*!@.duet-tray.duet-tray-is-expandable*/.duet-tray.duet-tray-is-expandable.sc-duet-tray{padding-right:94px}}/*!@.duet-tray-expandable*/.duet-tray-expandable.sc-duet-tray{position:relative;z-index:100;width:calc(100% + 46px);max-height:0;overflow-y:auto;visibility:hidden;opacity:0;transition:opacity 600ms ease, visibility 600ms ease, max-height 600ms ease;scrollbar-width:none}/*!@.duet-tray-expandable::-webkit-scrollbar*/.duet-tray-expandable.sc-duet-tray::-webkit-scrollbar{display:none}/*!@.duet-tray-expandable.active*/.duet-tray-expandable.active.sc-duet-tray{max-height:500px;visibility:visible;opacity:1}/*!@.duet-tray-expandable-content*/.duet-tray-expandable-content.sc-duet-tray{width:100%;margin-top:16px;border-top:1px solid rgb(225, 227, 230)}/*!@.duet-theme-turva .duet-tray-expandable-content*/.duet-theme-turva.sc-duet-tray .duet-tray-expandable-content.sc-duet-tray{border-color:rgb(228, 228, 230)}/*!@.duet-tray-button*/.duet-tray-button.sc-duet-tray{-webkit-user-select:none;user-select:none;padding:20px !important;position:absolute;top:-2px;right:0;z-index:200;color:rgb(0, 41, 77);text-align:center;cursor:pointer;border-radius:4px;transition:transform 300ms ease;-webkit-tap-highlight-color:transparent}@media (min-width: 62em){/*!@.duet-tray-button*/.duet-tray-button.sc-duet-tray{margin-right:16px}}@media (min-width: 106.25em){/*!@.duet-tray-button*/.duet-tray-button.sc-duet-tray{margin-right:36px}}/*!@.duet-theme-turva .duet-tray-button*/.duet-theme-turva.sc-duet-tray .duet-tray-button.sc-duet-tray{color:rgb(23, 28, 58)}/*!@.duet-tray-button.duet-tray-is-expanded*/.duet-tray-button.duet-tray-is-expanded.sc-duet-tray{transform:rotate(-180deg)}/*!@.duet-tray-button:focus*/.duet-tray-button.sc-duet-tray:focus{outline:0}/*!@:host(.user-is-tabbing) .duet-tray-button:focus*/.user-is-tabbing.sc-duet-tray-h .duet-tray-button.sc-duet-tray:focus{box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}/*!@:host(.user-is-tabbing) .duet-theme-turva .duet-tray-button:focus*/.user-is-tabbing.sc-duet-tray-h .duet-theme-turva.sc-duet-tray .duet-tray-button.sc-duet-tray:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}/*!@.duet-tray-button:active*/.duet-tray-button.sc-duet-tray:active{box-shadow:none;opacity:0.75}";

const topOffset = parseFloat(sizeHeader) * 2 * 16; // convert rem -> px
/**
 * @slot unnamed default slot - The component’s primary content. All child nodes that do not have a slot attribute defined are inserted into this primary slot.
 * @slot additional - Additional content. Anything inserted into this slot is displayed in an expandable section.
 */
class DuetTray {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Own Properties.
         */
        this.isTicking = false;
        this.expandableId = createID("DuetTray");
        /**
         * Local methods.
         */
        this.animationLoop = () => {
            this.hiddenState = window.pageYOffset < topOffset;
            this.isTicking = false;
        };
        this.toggleExpandable = ev => {
            ev.preventDefault();
            this.expanded = !this.expanded;
        };
        this.expanded = false;
        this.hiddenState = false;
        this.language = getLanguage();
        this.accessibleCloseLabelDefaults = {
            fi: "Sulje",
            en: "Close",
            sv: "Stäng",
        };
        this.accessibleCloseLabel = getLocaleString(this.accessibleCloseLabelDefaults, this.language);
        this.accessibleOpenLabelDefaults = {
            fi: "Avaa",
            en: "Open",
            sv: "Öppna",
        };
        this.accessibleOpenLabel = getLocaleString(this.accessibleOpenLabelDefaults, this.language);
        this.theme = "";
        this.active = false;
        this.autoHide = true;
        this.responsive = true;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
        this.hasAdditionalContent = !!this.element.querySelector("[slot='additional']");
    }
    connectedCallback() {
        connectLanguageChangeObserver(this, [
            { prop: "accessibleOpenLabel", defaults: "accessibleOpenLabelDefaults" },
            { prop: "accessibleCloseLabel", defaults: "accessibleCloseLabelDefaults" },
        ]);
        subscribeTabbingChange(this);
    }
    disconnectedCallback() {
        disconnectLanguageChangeObserver(this);
        unsubscribeTabbingChange(this);
    }
    /**
     * Component event handling.
     */
    getFrame() {
        if (!this.isTicking && this.autoHide && this.active) {
            requestAnimationFrame(this.animationLoop);
            this.isTicking = true;
        }
    }
    handleBodyClick(e) {
        if (this.expanded) {
            this.expanded = this.element.contains(e.target);
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync("div", { class: {
                "duet-tray": true,
                "duet-tray-is-active": this.active,
                "duet-tray-is-hidden": this.hiddenState,
                "duet-tray-is-responsive": this.responsive,
                "duet-theme-turva": this.theme === "turva",
                "duet-tray-is-expandable": this.hasAdditionalContent,
            } }, hAsync("div", { class: "duet-tray-default-content", role: "status" }, hAsync("slot", null)), this.hasAdditionalContent && (hAsync(Fragment, null, hAsync("button", { "aria-expanded": this.expanded ? "true" : "false", "aria-controls": this.expandableId, onClick: ev => this.toggleExpandable(ev), class: { "duet-tray-button": true, "duet-tray-is-expanded": this.expanded } }, hAsync("duet-icon", { name: "action-arrow-down", size: "small", color: "currentColor", margin: "none" }), hAsync("duet-visually-hidden", null, this.expanded ? this.accessibleCloseLabel : this.accessibleOpenLabel)), hAsync("div", { id: this.expandableId, class: { "duet-tray-expandable": true, active: this.expanded } }, hAsync("div", { class: "duet-tray-expandable-content" }, hAsync("slot", { name: "additional" })))))));
    }
    get element() { return getElement(this); }
    static get style() { return duetTrayCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-tray",
        "$members$": {
            "language": [1025],
            "accessibleCloseLabelDefaults": [1, "accessible-close-label-default"],
            "accessibleCloseLabel": [1025, "accessible-close-label"],
            "accessibleOpenLabelDefaults": [1, "accessible-open-label-default"],
            "accessibleOpenLabel": [1025, "accessible-open-label"],
            "theme": [1025],
            "active": [516],
            "autoHide": [4, "auto-hide"],
            "responsive": [4],
            "expanded": [32],
            "hiddenState": [32]
        },
        "$listeners$": [[9, "scroll", "getFrame"], [16, "click", "handleBodyClick"]],
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["active", "active"]]
    }; }
}

var errorCodes = [
	{
		type: "default",
		system_message: "unknown error",
		message: {
			fi: "Tapahtui tuntematon virhe, ole hyvä ja yritä uudelleen.",
			sv: "Ett okänt fel uppstod, försök igen.",
			en: "An unknown error occured, please try again."
		}
	},
	{
		type: "400",
		system_message: "Bad Request: The server could not understand the request due to invalid syntax.",
		message: {
			fi: "Tiedostoa ei hyväksytty.",
			sv: "Servern avvisade din fil.",
			en: "The server rejected your file."
		}
	},
	{
		type: "401",
		system_message: "Not Authenticated: The client must authenticate itself to get the requested response...",
		message: {
			fi: "Vain kirjautunut käyttäjä voi lähettää tiedostoja.",
			sv: "Du måste vara inloggad för att ladda upp filer.",
			en: "You need to be logged in to upload files."
		}
	},
	{
		type: "403",
		system_message: "No Access: The client does not have access rights to the content.",
		message: {
			fi: "Ei oikeuksia lähettää tiedostoja.",
			sv: "Du har inte rätt åtkomsträttigheter för att ladda upp filer.",
			en: "You do not have the correct access rights to upload files."
		}
	},
	{
		type: "413",
		system_message: "Payload too large",
		message: {
			fi: "Tiedosto oli liian vastaanotettavaksi.",
			sv: "Filen var för stor för servern att hantera.",
			en: "The file was to large for the server to handle."
		}
	},
	{
		type: "415",
		system_message: "Unsupported media type",
		message: {
			fi: "Tiedoston tyyppi oli väärä.",
			sv: "Servern avvisade filen eftersom den hade fel typ.",
			en: "The server rejected the file because it had the wrong type."
		}
	},
	{
		type: "429",
		system_message: "Too many request from same address",
		message: {
			fi: "Liian monta yritystä, ole hyvä ja yritä myöhemmin uudelleen.",
			sv: "Servern har fått många förfrågningar från dig, försök igen senare.",
			en: "The server has received to many request from you, please try again later."
		}
	},
	{
		type: "500",
		system_message: "Internal Server Error",
		message: {
			fi: "Palvelin ilmoitti tuntemattomasta virheestä ja lataus epäonnistui.",
			sv: "Servern rapporterade ett okänt fel och uppladdningen misslyckades.",
			en: "The server reported an unknown error and the upload failed."
		}
	},
	{
		type: "duet-upload-100",
		system_message: "File extension not allowed",
		message: {
			fi: "Tiedoston tyyppi ei ole sallittu.",
			sv: "Du kan inte ladda upp filer av den type.",
			en: "You cannot upload files with that extension."
		}
	},
	{
		type: "duet-upload-001",
		system_message: "File transfer failed",
		message: {
			fi: "Tiedoston lähetys keskeytyi, ole hyvä ja yritä uudelleen.",
			sv: "Din anslutning till servern avbröts, försök igen.",
			en: "Your connection to the server was interrupted, try again."
		}
	},
	{
		type: "duet-upload-101",
		system_message: "File mimetype not allowed",
		message: {
			fi: "Tiedoston tyyppi ei ole sallittu.",
			sv: "Du kan inte ladda upp filer av den typ.",
			en: "You cannot upload files of that type."
		}
	},
	{
		type: "duet-upload-201",
		system_message: "File is too large",
		message: {
			fi: "Tiedosto on liian iso.",
			sv: "Filen är större än tillåtet.",
			en: "The file is larger than permitted."
		}
	},
	{
		type: "duet-upload-202",
		system_message: "The combined size of all files is too large",
		message: {
			fi: "Tiedostojen yhteenlaskettu koko on liian iso.",
			sv: "Du har nått den maximala kombinerade filstorleken.",
			en: "You have reached the maximum combined filesize."
		}
	},
	{
		type: "duet-upload-203",
		system_message: "Files to upload exceed total byte size limit",
		message: {
			fi: "Yritit lisätä tiedostoja, jotka ylittäisivät suurimman sallitun yhteenlasketun koon.",
			sv: "Du försökte lägga till filer som skulle överskrida den maximala kombinerade storleken.",
			en: "You tried to add files that would exceed the maximum combined size."
		}
	},
	{
		type: "duet-upload-301",
		system_message: "The maximum file limit has been reached",
		message: {
			fi: "Liitteiden maksimimäärä saavutettu.",
			sv: "Maximalt antal bilagor har uppnåtts.",
			en: "Maximum number of attachments reached."
		}
	},
	{
		type: "duet-upload-302",
		system_message: "Files to upload exceeds limits",
		message: {
			fi: "Et voi lähettää enempää kuin enimmäismäärän liitteitä.",
			sv: "Du kan inte ladda upp fler än det maximala antalet bilagor.",
			en: "You can't upload more than maximum number of attachments."
		}
	}
];

const getError = (code, errorCodes) => {
    let error = {
        type: undefined,
        system_message: undefined,
        message: undefined,
    };
    errorCodes = parsePossibleJSON(errorCodes);
    error = errorCodes.filter(errorItem => {
        // the == is intentional we may be comparing numbers to strings - and that is ok here
        return errorItem.type == code;
    })[0];
    if (!error) {
        error = errorCodes.filter(errorItem => {
            return errorItem.type === "default";
        })[0];
    }
    return error;
};
const getI18nError = (errorCode, errorCodes) => {
    const errorFromJson = getError(errorCode, errorCodes);
    const i18String = getLocaleString(errorFromJson.message);
    if (i18String === "" || !i18String) {
        return errorFromJson.system_message;
    }
    else {
        return i18String;
    }
};

const headerAriaLabel = {
    fi: "Liiteluettelo",
    sv: "Lista över bilagor",
    en: "Attachments list",
};
const UploadItemHeader = ({ label, categoryLabel }) => {
    return (hAsync("div", { class: "items-header", tabindex: "-1", "aria-label": getLocaleString(headerAriaLabel) },
        categoryLabel && (hAsync("duet-heading", { class: "category-header", border: "solid", color: "gray-darker", level: "h3", "visual-level": "h6", weight: "semibold", margin: "none", "aria-hidden": "true" }, getLocaleString(categoryLabel))),
        hAsync("duet-heading", { class: { "filename-header": true, "no-category": !categoryLabel }, border: "solid", color: "gray-darker", level: "h3", "visual-level": "h6", weight: "semibold", margin: "none", "aria-hidden": "true" }, getLocaleString(label))));
};

const validateFileExtension = (name, allowedExtensions) => {
    if (!allowedExtensions) {
        return true;
    }
    const ext = name.split(".");
    const validExtension = allowedExtensions.split(",");
    const extension = ext[ext.length - 1];
    return validExtension.includes(extension);
};
const validateFileMime = (type, allowedMimetypes) => {
    if (!allowedMimetypes || !type) {
        return true;
    }
    const validMimeTypes = allowedMimetypes.split(",");
    let valid = false;
    validMimeTypes.forEach(mimeType => {
        const allowedTypes = mimeType.split("/");
        const fileType = type.split("/");
        if (allowedTypes[0] === fileType[0] && (allowedTypes[1] === fileType[1] || allowedTypes[1] === "*")) {
            valid = true;
        }
    });
    return valid;
};
const validateFileSize = (size, maxBytes) => {
    if (!maxBytes || !size) {
        return true;
    }
    return maxBytes >= size;
};
const validateFile = (item, validators, errorCodes) => {
    const { allowedMimetypes, allowedExtensions, maxBytes } = validators;
    let valid = false;
    let errorMessage = getError("default", errorCodes);
    if (item) {
        const { name, type, size } = item;
        const mime = validateFileMime(type, allowedMimetypes);
        const ext = allowedExtensions === "all" ||
            allowedExtensions === "" ||
            allowedExtensions === " " ||
            allowedExtensions === undefined
            ? true
            : validateFileExtension(name.toLowerCase(), allowedExtensions);
        const bytes = validateFileSize(size, maxBytes);
        if (!mime) {
            errorMessage = getError("duet-upload-101", errorCodes);
        }
        if (!ext) {
            errorMessage = getError("duet-upload-100", errorCodes);
        }
        if (!bytes) {
            errorMessage = getError("duet-upload-201", errorCodes);
        }
        valid = mime && ext && bytes;
    }
    else {
        valid = false;
    }
    return {
        valid,
        errorMessage: valid ? undefined : getLocaleString(errorMessage.message),
        errorSystem: valid ? undefined : errorMessage.system_message,
        errorType: valid ? undefined : errorMessage.type,
    };
};
const validateTotalSizeIsAboveMax = (filelist, maxTotalBytes) => {
    let total = 0;
    if (maxTotalBytes) {
        filelist.forEach(item => {
            if (item.valid && item.size) {
                total += item.size;
            }
        });
        if (total >= maxTotalBytes) {
            return true;
        }
    }
    return false;
};
const validateTotalAmountIsAboveMax = (filelist, maxFiles) => {
    let total = 0;
    if (maxFiles) {
        filelist.forEach(item => {
            if (item.valid) {
                total++;
            }
        });
        if (total >= maxFiles) {
            return true;
        }
    }
    return false;
};
const filesToUploadCountAboveMax = (currentFilesCount, filesToUploadCount, maxFiles) => {
    if (currentFilesCount + filesToUploadCount > maxFiles) {
        return true;
    }
    return false;
};
const filesToUploadTotalSizeIsAboveMax = (currentFiles, filesToUpload, maxTotalBytes) => {
    let total = 0;
    if (maxTotalBytes) {
        currentFiles.forEach(item => {
            if (item.valid && item.size) {
                total += item.size;
            }
        });
        filesToUpload.forEach(item => {
            if (item.size) {
                total += item.size;
            }
        });
        if (total >= maxTotalBytes) {
            return true;
        }
    }
    return false;
};

const makeXhrRequest = ({ payload, options, onFailure, onSuccess, onProgress }) => {
    // @ts-ignore
    const { type = "POST", xhr, uri, argument = null, headers = null } = options;
    xhr.open(type, `${uri}${argument || ""}`, true);
    const { data, name } = payload;
    // headers must be added after open
    if (headers) {
        Object.keys(headers).forEach(key => {
            xhr.setRequestHeader(key, headers[key]);
        });
    }
    if (type === "POST") {
        xhr.onreadystatechange = () => {
            // Call a function when the state changes.
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status >= 200 && xhr.status < 300) {
                // Request finished without errors
                onSuccess(xhr, name, xhr.status);
            }
            if (xhr.readyState === XMLHttpRequest.DONE && xhr.status >= 300 && xhr.status < 999) {
                // Request finished with errors
                onFailure(xhr, name, xhr.status);
            }
        };
        onProgress(name);
    }
    xhr.send(data);
    return xhr;
};

const duetUploadCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-upload,*.sc-duet-upload::after,*.sc-duet-upload::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@:host*/.sc-duet-upload-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@::slotted([slot=header])*/.sc-duet-upload-s>[slot=header]{margin-bottom:16px}/*!@::slotted([slot=fileheader])*/.sc-duet-upload-s>[slot=fileheader]{margin:16px 0 0 0}/*!@::slotted([slot=filefooter])*/.sc-duet-upload-s>[slot=filefooter]{margin-top:16px}/*!@::slotted([slot=uploadfooter])*/.sc-duet-upload-s>[slot=uploadfooter]{margin-top:20px}/*!@.duet-upload*/.duet-upload.sc-duet-upload{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.duet-upload-item-size*/.duet-upload-item-size.sc-duet-upload{font-size:0.75rem;font-weight:400}/*!@.duet-upload-filelist*/.duet-upload-filelist.sc-duet-upload{margin-bottom:25px}/*!@.duet-upload-filelist-empty*/.duet-upload-filelist-empty.sc-duet-upload{display:flex;align-items:center;justify-content:center;width:100%;height:75px;margin:0 auto;font-size:1rem;font-weight:400;background-color:rgb(245, 248, 250)}/*!@.duet-upload-filelist-empty-label*/.duet-upload-filelist-empty-label.sc-duet-upload{font-size:1rem;font-weight:400}/*!@.duet-upload-editable-table-header-hidden*/.duet-upload-editable-table-header-hidden.sc-duet-upload{display:none}/*!@.duet-upload-editable-table tbody .duet-upload-editable-table-data*/.duet-upload-editable-table.sc-duet-upload tbody.sc-duet-upload .duet-upload-editable-table-data.sc-duet-upload{padding:0 !important;border:0}/*!@.duet-upload-editable-table duet-editable-table tfoot,\n.duet-upload-editable-table duet-editable-table thead*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload tfoot.sc-duet-upload,.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload thead.sc-duet-upload{display:none}/*!@.duet-upload-editable-table duet-editable-table .duet-editable-table-content*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-content.sc-duet-upload{padding-right:0 !important;padding-left:0 !important}/*!@.duet-upload-editable-table duet-editable-table duet-table .duet-table-action-row td*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload duet-table.sc-duet-upload .duet-table-action-row.sc-duet-upload td.sc-duet-upload{padding:1rem 0 !important}/*!@.duet-upload-editable-table duet-editable-table duet-table .duet-table-action-row td:last-child*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload duet-table.sc-duet-upload .duet-table-action-row.sc-duet-upload td.sc-duet-upload:last-child{padding-right:0 !important}/*!@.duet-upload-editable-table duet-editable-table .duet-editable-table-row-inprogress, .duet-upload-editable-table duet-editable-table .duet-editable-table-row-pending*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-inprogress.sc-duet-upload,.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-pending.sc-duet-upload{position:relative}/*!@.duet-upload-editable-table duet-editable-table .duet-editable-table-row-inprogress duet-progress, .duet-upload-editable-table duet-editable-table .duet-editable-table-row-pending duet-progress*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-inprogress.sc-duet-upload duet-progress.sc-duet-upload,.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-pending.sc-duet-upload duet-progress.sc-duet-upload{position:absolute;bottom:0;width:100%}/*!@.duet-upload-editable-table duet-editable-table .duet-editable-table-row-inprogress duet-action-button::part(button), .duet-upload-editable-table duet-editable-table .duet-editable-table-row-pending duet-action-button::part(button)*/.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-inprogress.sc-duet-upload duet-action-button.sc-duet-upload::part(button),.duet-upload-editable-table.sc-duet-upload duet-editable-table.sc-duet-upload .duet-editable-table-row-pending.sc-duet-upload duet-action-button.sc-duet-upload::part(button){border:0}/*!@duet-paragraph::part(duet-paragraph)*/duet-paragraph.sc-duet-upload::part(duet-paragraph){word-break:break-word}/*!@duet-editable-table tfoot*/duet-editable-table.sc-duet-upload tfoot.sc-duet-upload{display:none}/*!@.upload-bottom-caption*/.upload-bottom-caption.sc-duet-upload{margin-top:12px;margin-bottom:16px;line-height:1.4rem}/*!@.items-header*/.items-header.sc-duet-upload{display:none;flex-direction:row;margin-bottom:0}@media (min-width: 36em){/*!@.items-header*/.items-header.sc-duet-upload{display:flex}}/*!@.items-header:not(:last-child), .items-header:not(:first-child)*/.items-header.sc-duet-upload:not(:last-child),.items-header.sc-duet-upload:not(:first-child){margin-top:12px}/*!@.items-header .category-header*/.items-header.sc-duet-upload .category-header.sc-duet-upload{width:35%}/*!@.items-header .filename-header*/.items-header.sc-duet-upload .filename-header.sc-duet-upload{width:65%}/*!@.items-header .filename-header.no-category*/.items-header.sc-duet-upload .filename-header.no-category.sc-duet-upload{width:100%}/*!@.upload-item-row*/.upload-item-row.sc-duet-upload{display:flex;flex-direction:column;gap:16px;align-content:center;align-items:center;padding:16px 0 16px 0;border-bottom:1px solid rgb(225, 227, 230)}@media (min-width: 36em){/*!@.upload-item-row*/.upload-item-row.sc-duet-upload{flex-direction:row;gap:10px}}/*!@.upload-item-row .item-categories*/.upload-item-row.sc-duet-upload .item-categories.sc-duet-upload{width:100%}@media (min-width: 36em){/*!@.upload-item-row .item-categories*/.upload-item-row.sc-duet-upload .item-categories.sc-duet-upload{width:35%}}/*!@.upload-item-row .item-name*/.upload-item-row.sc-duet-upload .item-name.sc-duet-upload{position:relative;bottom:2px;width:100%;text-align:left}@media (min-width: 36em){/*!@.upload-item-row .item-name*/.upload-item-row.sc-duet-upload .item-name.sc-duet-upload{width:50%}/*!@.upload-item-row .item-name.no-category*/.upload-item-row.sc-duet-upload .item-name.no-category.sc-duet-upload{width:85%}}/*!@.upload-item-row .item-categories .heading,\n.upload-item-row .item-name .heading*/.upload-item-row.sc-duet-upload .item-categories.sc-duet-upload .heading.sc-duet-upload,.upload-item-row.sc-duet-upload .item-name.sc-duet-upload .heading.sc-duet-upload{display:block}@media (min-width: 36em){/*!@.upload-item-row .item-categories .heading,\n  .upload-item-row .item-name .heading*/.upload-item-row.sc-duet-upload .item-categories.sc-duet-upload .heading.sc-duet-upload,.upload-item-row.sc-duet-upload .item-name.sc-duet-upload .heading.sc-duet-upload{display:none}}/*!@.upload-item-row .item-actions*/.upload-item-row.sc-duet-upload .item-actions.sc-duet-upload{width:100%;margin-left:-8px;text-align:left}@media (min-width: 36em){/*!@.upload-item-row .item-actions*/.upload-item-row.sc-duet-upload .item-actions.sc-duet-upload{width:15%;padding-top:0;margin-left:auto;text-align:right}}/*!@.upload-item-row .duet-upload-item-name duet-icon*/.upload-item-row.sc-duet-upload .duet-upload-item-name.sc-duet-upload duet-icon.sc-duet-upload{position:relative;top:4px}/*!@.upload-item-row .duet-upload-item-name duet-progress*/.upload-item-row.sc-duet-upload .duet-upload-item-name.sc-duet-upload duet-progress.sc-duet-upload{display:block;margin-top:16px}";

/**
 * @slot header  - named slot - to place content after description / caption (if caption is on top)
 * @slot fileheader - named slot - to place content above "filelist" (only displayed when "filelist" contains items)
 * @slot filefooter - named slot - to place content below "filelist" (only displayed when "filelist" contains items)
 * @slot uploadfooter - named slot - to place content below filefooter
 * @slot afterfooter - named slot - to place content below "footer" / caption (if caption is on bottom)
 * @part ${this.identifier}-empty-state : duet-upload-empty-state - named part - can be used to style the empty notification area or hide it completely
 * @part ${this.identifier}-editable-table : duet-upload-editable-table - named part - can be used to style the editable-table
 * @part ${this.identifier}-error-notification : duet-upload-error-notification - named part - can be used to style any error notifications occurring internally
 */
class DuetUpload {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.duetBlur = createEvent$2(this, "duetBlur", 7);
        this.duetFocus = createEvent$2(this, "duetFocus", 7);
        this.duetReady = createEvent$2(this, "duetReady", 7);
        this.duetDone = createEvent$2(this, "duetDone", 3);
        this.duetState = createEvent$2(this, "duetState", 3);
        this.duetDelete = createEvent$2(this, "duetDelete", 3);
        this.duetCancel = createEvent$2(this, "duetCancel", 3);
        this.duetProgress = createEvent$2(this, "duetProgress", 3);
        this.duetUpload = createEvent$2(this, "duetUpload", 3);
        this.linkClick = createEvent$2(this, "linkClick", 3);
        /**
         * Own Properties
         */
        this.buttonId = createID("DuetButton");
        this.labelId = createID("DuetLabel");
        this.uploadId = createID("DuetUpload");
        this.filesInProgress = new Map();
        this.fileMaxReached = false;
        this.bytesMaxReached = false;
        this.filesToUploadExceedsLimit = false;
        this.filesToUploadTotalSizeIsAboveMax = false;
        this.internalStatusMessageLabel = undefined;
        this.itemRefs = new Map();
        /**
         * Properties
         */
        this.DefaultGroups = {
            inprogress: "inprogress",
            success: "success",
            pending: "pending",
            failure: "failure",
        };
        this.kick = debounce(() => {
            this.tick = Date.now();
        }, 30); // will trigger re-render
        this.categoryLabel = {
            en: "Category",
            sv: "Filtyp",
            fi: "Tiedostotyyppi",
        };
        /**
         * Private functions
         */
        this.listenForActionEvents = () => {
            this.element.addEventListener("duetActionEvent", (e) => {
                const detail = e.detail;
                const { action, id, originalEvent } = detail;
                switch (action) {
                    case "delete":
                        this.onDelete(id, originalEvent);
                        break;
                    case "cancel":
                        this.onCancel(id, originalEvent);
                        break;
                    // code block
                }
            });
        };
        this.verifyValidity = () => {
            const { invalid, valid } = this.getFilesAsArray();
            const oldValid = this.valid;
            this.valid = invalid.length === 0 && valid.length !== 0;
            if (this.valid !== oldValid) {
                this.duetState.emit({
                    originalEvent: undefined,
                    data: { valid: this.valid, from: "componentWillRender" },
                    component: "duet-upload",
                });
            }
        };
        this.getGroupFromItemData = (item) => {
            if (item.valid && item.progress === 100) {
                // if the item has a group, move the file to that group instead
                // of into the standard success group
                return this.DefaultGroups.success;
            }
            else if (item.progress > 0 && item.progress !== 100) {
                return this.DefaultGroups.inprogress;
            }
            else if (!item.valid) {
                return this.DefaultGroups.failure;
            }
            else if (item.pending) {
                return this.DefaultGroups.pending;
            }
            else if (item.group) {
                return item.group;
            }
            else {
                return "none";
            }
        };
        this.mapFilesToUploadItems = (data, group, showCategory, filteredActions) => {
            if (group === this.DefaultGroups.success) {
                return (hAsync("duet-upload-item", { theme: this.theme, actions: this.getActions(group, filteredActions), type: "success", data: data, showLinks: this.showLinks, linkClickEvent: this.emitEvent ? this.linkClick : undefined, categoryLabel: this.categoryLabel, label: this.uploadedItemsHeaderLabel, showCategory: showCategory, ref: item => {
                        this.itemRefs.set(data.uid, item);
                    } }));
            }
            else if (group === this.DefaultGroups.inprogress) {
                return (hAsync("duet-upload-item", { theme: this.theme, actions: this.getActions(group, filteredActions), type: "inprogress", data: data, showLinks: this.showLinks, categoryLabel: this.categoryLabel, label: this.uploadedItemsHeaderLabel, showCategory: showCategory, ref: item => {
                        this.itemRefs.set(data.uid, item);
                    } }));
            }
            else if (group === this.DefaultGroups.pending) {
                return (hAsync("duet-upload-item", { theme: this.theme, actions: this.getActions(group, filteredActions), type: "pending", data: data, showLinks: this.showLinks, categoryLabel: this.categoryLabel, label: this.uploadedItemsHeaderLabel, showCategory: showCategory, ref: item => {
                        this.itemRefs.set(data.uid, item);
                    } }));
            }
            else if (group === this.DefaultGroups.failure) {
                return (hAsync("duet-upload-item", { theme: this.theme, actions: this.getActions(group, filteredActions), type: "failure", data: data, showLinks: this.showLinks, errorCodes: this.errorCodes, categoryLabel: this.categoryLabel, label: this.uploadedItemsHeaderLabel, showCategory: showCategory, ref: item => {
                        this.itemRefs.set(data.uid, item);
                    } }));
            }
            else if (data.group) {
                return data.html;
            }
            else {
                return "none";
            }
        };
        this.genHashName = () => Date.now().toString(36) + Math.random();
        this.updateValueInMap = (item, key, value, kick = true) => {
            try {
                const fileItem = this.files.get(item);
                fileItem[key] = value;
                this.files.set(item, fileItem);
                if (this.external && key !== "url") {
                    this.trackProgress(item, key === "uploaded");
                }
            }
            catch (e) {
                // if a users tries to update entries on a file that doesn't exist,
                // this will blow up - so we're swallowing the errors here on purpose
                // console.warn("operation on missing items")
            }
            if (kick) {
                this.kick();
            }
        };
        this.updateProgress = (ev, name) => {
            const updateProgressHelper = percentComplete => {
                this.updateValueInMap(name, "progress", percentComplete);
                this.onProgress(name, percentComplete, ev);
            };
            if (ev.lengthComputable) {
                const percentComplete = (ev.loaded / ev.total) * 100;
                updateProgressHelper(percentComplete);
            }
            else {
                console.log("cant read progress");
            }
        };
        this.trackProgress = (name, remove = false) => {
            if (remove) {
                this.filesInProgress.delete(name);
            }
            else {
                this.filesInProgress.set(name, "inprogress");
            }
            if (this.filesInProgress.size === 0) {
                this.onDone();
            }
        };
        this.getFilesAsArray = () => {
            const filesInQueue = [];
            const filesInError = [];
            this.files.forEach(value => {
                if (value.valid && !value.deleted) {
                    filesInQueue.push(value);
                }
                else if (!value.valid && !value.deleted) {
                    filesInError.push(value);
                }
            });
            return { valid: filesInQueue, invalid: filesInError };
        };
        this.resetFormFields = () => {
            /**
             * You cannot modify a FileList, nor remove single items from it
             * This completely removes all items in the FileList
             * We reset the form fields to always be able to re-upload files
             * and because we handle all uploads and states internally in the component (not relying on native form elements)
             */
            /* TODO: it may be a good idea to just update the list so that this always matches what is in the files map,
             * TODO: this would remove the capability of Re-uploading, unless we can catch and remove the user file from the form filelist before the upload is canceled by the browser
             * TODO: but for now we'll just reset the form fields
             */
            this.nativeInput.value = "";
        };
        this.startUpload = async (ev, metaData = undefined) => {
            // validate that we haven't hit any maxfiles or maxbytes limits before we upload
            const { bytesMaxReached, fileMaxReached } = this.validateTotals();
            if (bytesMaxReached || fileMaxReached) {
                this.kick();
                return;
            }
            this.metaData = metaData;
            this.nativeInput.click();
            this.onUpload(ev, metaData);
            ev.stopPropagation();
            ev.preventDefault();
            return;
        };
        /**
         * Eventlisteners for the XHR requests
         */
        this.transferComplete = name => {
            this.updateValueInMap(name, "progress", 100, false);
            this.trackProgress(name, true);
        };
        this.transferDone = (xhr, name, status) => {
            this.updateValueInMap(name, "status", status, false);
            this.updateValueInMap(name, "uploaded", true, false);
            try {
                const response = JSON.parse(xhr.response);
                this.updateValueInMap(name, "url", response.url);
            }
            catch (e) {
                this.updateValueInMap(name, "url", null);
                console.error("Server did not respond with expected response {url: string}");
            }
            return;
        };
        this.transferDoneWithFailure = (xhr, name, status) => {
            try {
                const { error } = JSON.parse(xhr.response);
                this.updateValueInMap(name, "error", { message: error.message, type: error.type }, false);
            }
            catch (e) {
                console.error("Server did not respond with expected response error:{message: string, type: int}");
                this.updateValueInMap(name, "error", { type: status }, false);
            }
            this.updateValueInMap(name, "valid", false, true);
        };
        this.transferFailed = name => {
            this.updateValueInMap(name, "error", getI18nError("duet-upload-001", this.errorCodes));
        };
        this.transferCanceled = name => {
            this.files.delete(name);
            this.validateTotals(name);
            this.kick();
        };
        this.validateTotals = (name) => {
            const isTotalSizeOverMaxSize = validateTotalSizeIsAboveMax(this.files, this.maxBytesTotal);
            const isTotalFileAmountAboveMax = validateTotalAmountIsAboveMax(this.files, this.maxFiles);
            if (isTotalSizeOverMaxSize && name) {
                this.updateValueInMap(name, "error", getI18nError("duet-upload-202", this.errorCodes), false);
            }
            if (isTotalFileAmountAboveMax && name) {
                this.updateValueInMap(name, "error", getI18nError("duet-upload-301", this.errorCodes), false);
            }
            this.bytesMaxReached = isTotalSizeOverMaxSize;
            this.fileMaxReached = isTotalFileAmountAboveMax;
            return {
                bytesMaxReached: isTotalSizeOverMaxSize,
                fileMaxReached: isTotalFileAmountAboveMax,
            };
        };
        this.uploadFile = async (fileListItem, force = false, key) => {
            if (!force && this.deferUpload) {
                this.updateValueInMap(fileListItem.item.name, "pending", true, false);
                this.updateValueInMap(fileListItem.item.name, "group", "pending", true);
            }
            else if (force) {
                this.updateValueInMap(fileListItem.item.name, "pending", false, false);
                this.updateValueInMap(fileListItem.item.name, "group", undefined, true);
            }
            try {
                if (!this.deferUpload || force) {
                    // if all is well AND external file upload handling has not been set, start upload
                    const data = new FormData();
                    data.append("file", fileListItem.item);
                    if (key) {
                        data.append("key", key);
                    }
                    data.append("uid", fileListItem.uid);
                    data.append("name", fileListItem.item.name);
                    data.append("metadata", JSON.stringify({
                        uid: fileListItem.uid,
                        url: this.uri,
                        size: fileListItem.item.size,
                        meta: fileListItem.meta,
                    }));
                    fileListItem.xhr = await this.makeXHRPostRequest(data);
                }
            }
            catch (e) {
                // in case one of the global maxes have been reached, invalidate the file
                this.updateValueInMap(fileListItem.item.name, "valid", false, false);
            }
        };
        this.uploadPendingFiles = () => {
            for (const [key, value] of Array.from(this.files.entries())) {
                if (value.group === "pending" && value.pending === true) {
                    this.uploadFile(value, true, key);
                }
            }
        };
        this.getItemFromUID = (uid) => {
            for (const [key, value] of Array.from(this.files.entries())) {
                if (value.uid === uid) {
                    return { value, key };
                }
            }
            return null;
        };
        this.handleExternalUploadButton = (bytesMaxReached, fileMaxReached) => {
            if (this.externalUploadButton) {
                if (bytesMaxReached || fileMaxReached) {
                    this.externalUploadButton.disabled = true;
                }
                else {
                    this.externalUploadButton.disabled = false;
                }
            }
        };
        this.onDelete = (key, ev) => {
            const item = this.getItemFromUID(key);
            const retrievedKey = item.key;
            const deletedItem = this.files.get(retrievedKey);
            this.files.delete(retrievedKey);
            const { bytesMaxReached, fileMaxReached } = this.validateTotals();
            this.handleExternalUploadButton(bytesMaxReached, fileMaxReached);
            this.kick();
            this.duetDelete.emit({
                originalEvent: ev,
                data: { deletion: deletedItem },
                component: "duet-upload",
            });
            // don't send a xhr request if the item was pending, just remove it from the list
            if (!this.external && !deletedItem.pending) {
                this.makeXHRDeleteRequest(deletedItem);
            }
            this.resetFormFields();
        };
        this.onCancel = (key, ev) => {
            const retrievedKey = this.getItemFromUID(key).key;
            const cancelledItem = this.files.get(retrievedKey);
            this.files.delete(retrievedKey);
            const { bytesMaxReached, fileMaxReached } = this.validateTotals();
            this.handleExternalUploadButton(bytesMaxReached, fileMaxReached);
            if (!this.external) {
                const { xhr } = cancelledItem;
                if (xhr) {
                    xhr.abort();
                }
            }
            this.kick();
            this.resetFormFields();
            this.duetCancel.emit({
                originalEvent: ev,
                data: { cancelled: cancelledItem },
                component: "duet-upload",
            });
        };
        this.onUpload = (ev, metaData) => {
            this.duetUpload.emit({
                originalEvent: ev,
                metaData,
                component: "duet-upload",
            });
        };
        this.onBlur = (ev) => {
            this.duetBlur.emit({
                originalEvent: ev,
                component: "duet-upload",
            });
        };
        this.onProgress = (key, percentComplete, ev) => {
            this.duetChange.emit({
                originalEvent: ev,
                data: {
                    key,
                    percentComplete,
                },
                component: "duet-upload",
            });
        };
        this.onFocus = (ev) => {
            this.duetFocus.emit({
                originalEvent: ev,
                component: "duet-upload",
            });
        };
        this.onReady = () => {
            this.duetReady.emit({
                component: "duet-upload",
            });
        };
        this.onDone = () => {
            this.duetDone.emit({
                component: "duet-upload",
                data: { files: this.files },
            });
        };
        /**
         * @description This functions return sorted map items byg condition which are:
         */
        this.filterMap = () => {
            const all = Array.from(this.files.values());
            const inprogress = [];
            const failure = [];
            const pending = [];
            const success = [];
            let hasCategory = false;
            all.forEach(data => {
                const group = this.getGroupFromItemData(data);
                // const item = mapFn(data, group)
                // const category = <UploadCategory meta={data.meta} />
                // const categories = data.meta?.badges?.join(",")
                if (data.meta && !!data.meta.badges) {
                    hasCategory = true;
                }
                if (group === this.DefaultGroups.success) {
                    success.push({
                        uid: data.uid,
                        data,
                    });
                }
                else if (group === this.DefaultGroups.inprogress) {
                    inprogress.push({
                        uid: data.uid,
                        data,
                    });
                }
                else if (group === this.DefaultGroups.pending) {
                    pending.push({
                        uid: data.uid,
                        data,
                    });
                }
                else if (group === this.DefaultGroups.failure) {
                    failure.push({
                        uid: data.uid,
                        data,
                    });
                }
                else if (data.group) {
                    inprogress.push({
                        uid: data.uid,
                        data,
                    });
                }
            });
            return {
                pending,
                failure,
                success,
                inprogress,
                hasCategory,
            };
        };
        this.getActions = (id, actions) => {
            return actions.filter(item => item.map.includes(id));
        };
        this.renderUploadedItems = () => {
            this.itemRefs.clear();
            const filteredItems = this.filterMap();
            const hasCategory = filteredItems.hasCategory;
            const filteredActions = this.hideCancelButton
                ? this.actions.filter(action => action.name !== "cancel")
                : this.actions;
            const ItemRows = this.groups.map(group => {
                const currentItems = filteredItems[group.id];
                if (!(currentItems === null || currentItems === void 0 ? void 0 : currentItems.length)) {
                    return;
                }
                return (hAsync(Fragment, null, !this.hideGroups && (hAsync(UploadItemHeader, { categoryLabel: hasCategory ? this.categoryLabel : undefined, label: group.label })), currentItems.map(item => this.mapFilesToUploadItems(item.data, group.id, hasCategory, filteredActions))));
            });
            return (hAsync(Fragment, null, this.showUploadedItemsHeader && (hAsync(UploadItemHeader, { categoryLabel: hasCategory ? this.categoryLabel : undefined, label: this.uploadedItemsHeaderLabel })), ItemRows));
        };
        this.tick = Date.now();
        this.accessibleActiveDescendant = undefined;
        this.accessibleDescribedBy = undefined;
        this.accessibleControls = undefined;
        this.accessibleOwns = undefined;
        this.external = false;
        this.middleware = null;
        this.deferUpload = false;
        this.hideButton = false;
        this.actions = [
            {
                icon: "action-delete",
                color: "color-danger",
                size: "x-small",
                background: "gray-lightest",
                name: "delete",
                map: ["success", "failure"],
                label: {
                    fi: "Poista tiedosto",
                    en: "Delete the file",
                    sv: "Ta bort filen",
                },
            },
            {
                icon: "navigation-close",
                color: "primary",
                size: "x-small",
                background: "gray-lightest",
                name: "cancel",
                map: ["inprogress", "pending"],
                label: {
                    fi: "Keskeytä lähetys",
                    en: "Cancel the upload",
                    sv: "Stop överföringen",
                },
            },
        ];
        this.uri = undefined;
        this.showLinks = false;
        this.caption = undefined;
        this.statusLabelDefaults = {
            fi: {
                inProgress: "Lähetetään {filesUploaded}, yhteensä lähetettävänä {filesTotal}.",
                inProgressWithErrors: "Lähetetään {filesInProgress}, lähetetty {filesUploaded}, yhteensä lähetettävänä {filesTotal}, {filesWithErrors} epäonnistui",
                done: "Lähetys valmis, {filesTotal} lisätty onnistuneesti",
                doneWithErrors: "Lähetys valmis, {filesUploaded} lisätty onnistuneesti, {filesWithErrors} epäonnistui",
                files: "tiedostoa",
                file: "tiedosto",
            },
            sv: {
                inProgress: "Laddar upp {filesUploaded} av {filesTotal}",
                inProgressWithErrors: "Laddar upp {filesInProgress}, {filesUploaded} uppladdad av {filesTotal}, {filesWithErrors} misslyckades",
                done: "Uppladdningen slutförd, {filesTotal} har lagts till",
                doneWithErrors: "Uppladdningen slutförd, {filesUploaded} har lagts till, {filesWithErrors} misslyckades",
                files: "filer",
                file: "fil",
            },
            en: {
                inProgress: "Uploading {filesUploaded} of {filesTotal}",
                inProgressWithErrors: "Uploading {filesInProgress}, {filesUploaded} uploaded of {filesTotal}, {filesWithErrors} failed",
                done: "Upload completed, {filesTotal} added successfully",
                doneWithErrors: "Upload completed, {filesUploaded} added successfully, {filesWithErrors} failed.",
                files: "files",
                file: "file",
            },
        };
        this.statusMessageLabel = getLocaleString(this.statusLabelDefaults);
        this.buttonLabelDefaults = {
            fi: "Lisää liite",
            sv: "Lägg till en bilaga",
            en: "Add an attachment",
        };
        this.buttonLabel = getLocaleString(this.buttonLabelDefaults);
        this.accessibleButtonLabel = undefined;
        this.theme = "";
        this.disabled = false;
        this.identifier = undefined;
        this.margin = "auto";
        this.required = false;
        this.alignment = "middle";
        this.hideGroups = false;
        this.files = new Map();
        this.valid = !this.required;
        this.labelDefaults = {
            fi: "Lisää liite",
            sv: "Lägg till en bilaga",
            en: "Add attachments",
        };
        this.label = getLocaleString(this.labelDefaults);
        this.descriptionDefaults = {
            en: "You may attach the following filetypes: {filetypes} - as well as the most common video files. You can upload {maxbytestotal} of files at a time, and add up to {maxfiles} attachments at a time each no larger than {maxbytes}.",
            sv: "Du kan bifoga följande filtyper: {filetypes} - samt de vanligaste videofilerna. Du kan ladda upp {maxbytestotal} av filer åt gången, och lägga till upp till {maxfiles} bilagor åt gången varje inte större än {maxbytes}.",
            fi: "Voit liittää seuraavat tiedostotyypit: {filetypes} - sekä yleisimmät videotiedostot. Voit lähettää {maxbytestotal} tiedostoa kerrallaan, ja lisätä enintään {maxfiles} liitettä kerrallaan, jokainen enintään {maxbytes} kokoisena.",
        };
        this.description = getLocaleString(this.descriptionDefaults);
        this.fileListEmptyDefaults = {
            fi: "Ei vielä lisättyjä tiedostoja.",
            sv: "Inga filer har lagts till ännu.",
            en: "No files added yet.",
        };
        this.fileListEmpty = getLocaleString(this.fileListEmptyDefaults);
        this.error = "";
        this.errorCodes = errorCodes;
        this.name = undefined;
        this.maxBytes = 200000000;
        this.maxBytesTotal = undefined;
        this.maxFiles = 99;
        this.allowedExtensions = "all";
        this.allowedMimetypes = "";
        this.multiple = true;
        this.limitSelection = false;
        this.hideCancelButton = false;
        this.value = undefined;
        this.externalUploadButtonId = undefined;
        this.captionOnBottom = false;
        this.showUploadedItemsHeader = false;
        this.uploadedItemsHeaderLabel = {
            fi: "Ladattu tiedosto",
            sv: "Lägg till en bilaga",
            en: "Uploaded file",
        };
        this.headerHeadingLevel = "h3";
        this.hideHeader = false;
        this.emitEvent = false;
        this.groups = [
            {
                id: this.DefaultGroups.success,
                label: {
                    fi: "Valmiit tiedostot",
                    sv: "Files success",
                    en: "Files success",
                },
            },
            {
                id: this.DefaultGroups.failure,
                label: {
                    fi: "Tiedostot, joissa on virheitä",
                    sv: "Filer med fel",
                    en: "Files with errors",
                },
            },
            {
                id: this.DefaultGroups.inprogress,
                label: {
                    fi: "Kesken olevat tiedostot",
                    sv: "Filer inprogress",
                    en: "Files inprogress",
                },
            },
            {
                id: this.DefaultGroups.pending,
                label: {
                    en: "Files to upload",
                    sv: "Filer att ladda",
                    fi: "Ladattavat tiedostot",
                },
            },
        ];
    }
    watchValidHandler(newValue, oldValue) {
        if (newValue !== oldValue) {
            this.kick();
        }
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        if (typeof this.statusMessageLabel === "string") {
            this.internalStatusMessageLabel = sanitizeString(this.groups);
        }
        else {
            this.internalStatusMessageLabel = this.statusMessageLabel;
        }
        inheritGlobalTheme(this);
        this.listenForActionEvents();
        this.onReady();
        this.externalUploadButton = document.querySelector(`#${this.externalUploadButtonId}`);
    }
    componentWillRender() {
        // listen to the events from the component
        this.verifyValidity();
    }
    /**
     * Sets focus on the specified `duet-input`. Use this method instead of the global
     * `input.focus()`.
     */
    async setFocus(options) {
        if (this.nativeInput) {
            this.nativeInput.focus(options);
        }
        return;
    }
    /**
     * Method for invoking the upload sequence
     */
    async upload(metaData = undefined) {
        // validate that we haven't hit any maxfiles or maxbytes limits before we upload
        const { bytesMaxReached, fileMaxReached } = this.validateTotals();
        if (bytesMaxReached || fileMaxReached) {
            this.handleExternalUploadButton(bytesMaxReached, fileMaxReached);
            this.kick();
            return;
        }
        this.metaData = metaData;
        this.nativeInput.click();
        return;
    }
    /**
     * Method for uploading pending files
     */
    async uploadPending() {
        this.uploadPendingFiles();
    }
    /**
     * Method for forcing a render of the upload list, element.files can be changed externally
     * But it will only rerender on a new Map or a top Level change - this can be used to update
     * the tabular data if the automatic re-render is no sufficient
     */
    async refresh() {
        this.kick();
        await this.setFocus();
    }
    /**
     * Get list of files, divided in errors and valid sections
     */
    async getFiles() {
        if (!this.files || this.files.size === 0) {
            return false;
        }
        return this.getFilesAsArray();
    }
    /**
     * Convenience method for updating the value of a key:value inside an item in the files attribute
     */
    async updateValue(item, key, value) {
        this.updateValueInMap(item, key, value);
    }
    /**
     * focusActionButton.
     */
    async focusActionButton(uid) {
        var _a;
        await ((_a = this.itemRefs.get(uid)) === null || _a === void 0 ? void 0 : _a.focusActionButton());
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        const identifier = this.identifier || this.uploadId;
        const maxMegaBytesTotal = Math.round((this.maxBytesTotal ? this.maxBytesTotal : this.maxBytes * this.maxFiles) / 1024 / 1024);
        const maxMegaBytesPrFile = Math.round(this.maxBytes / 1024 / 1024);
        let caption = this.description.replace(/{maxfiles}/g, this.maxFiles.toString());
        caption = caption.replace(/{maxbytes}/g, `${maxMegaBytesPrFile.toString()} MB`);
        caption = caption.replace(/{maxbytestotal}/g, `${maxMegaBytesTotal.toString()} MB`);
        caption = caption.replace(/{filetypes}/g, this.allowedExtensions.split(",").join(", "));
        if (this.externalUploadButton) {
            this.externalUploadButton.accessibleLabel = caption;
        }
        // @ts-ignore
        return (hAsync(Host, { class: { "duet-m-0": this.margin === "none" } }, hAsync("duet-fieldset", { "label-heading-level": this.headerHeadingLevel, "label-hidden": this.hideHeader, label: this.label, caption: !this.captionOnBottom ? caption : undefined }, hAsync("slot", { name: "header" }), !this.files.size && (hAsync("duet-empty-state", { id: this.labelId, part: this.identifier ? `${this.identifier}-empty-state` : "duet-upload-empty-state", icon: "messaging-attachment" }, hAsync("duet-paragraph", { margin: "none" }, this.fileListEmpty))), !!this.files.size && hAsync("slot", { name: "fileheader" }), !!this.files.size && (hAsync("duet-upload-aria-status", { invalid: this.getFilesAsArray().invalid.length, valid: this.getFilesAsArray().valid.length, inprogress: this.filesInProgress.size, total: this.files.size, statusMessageLabel: this.internalStatusMessageLabel })), !!this.files.size && this.renderUploadedItems(), !!this.files.size && hAsync("slot", { name: "filefooter" }), hAsync("slot", { name: "uploadfooter" }), this.captionOnBottom && (hAsync("duet-caption", { margin: "none", size: "small" }, hAsync("div", { class: "upload-bottom-caption" }, caption))), hAsync("slot", { name: "afterfooter" }), !this.hideButton && (hAsync(Fragment, null, hAsync("duet-spacer", { size: "large" }), hAsync("duet-button", { id: this.buttonId, onClick: this.startUpload, "accessible-controls": identifier, disabled: this.fileMaxReached, "accessible-label": this.accessibleButtonLabel, "accessible-owns": identifier, size: "small", variation: "secondary", fixed: true, icon: "action-add-circle", part: this.identifier ? `${this.identifier}-button-upload` : "duet-upload-button-upload" }, this.buttonLabel))), (this.fileMaxReached ||
            this.bytesMaxReached ||
            this.filesToUploadExceedsLimit ||
            this.filesToUploadTotalSizeIsAboveMax) && (hAsync(Fragment, null, hAsync("duet-spacer", { size: "medium" }), hAsync("duet-alert", { part: this.identifier ? `${this.identifier}-error-notification` : "duet-upload-error-notification" }, this.fileMaxReached && getI18nError("duet-upload-301", this.errorCodes), this.bytesMaxReached && getI18nError("duet-upload-202", this.errorCodes), this.filesToUploadExceedsLimit && getI18nError("duet-upload-302", this.errorCodes), this.filesToUploadTotalSizeIsAboveMax && getI18nError("duet-upload-203", this.errorCodes)))), hAsync("duet-visually-hidden", { "aria-hidden": "true" }, hAsync("input", { ref: input => {
                this.nativeInput = input;
            }, accept: !this.limitSelection ? undefined : `${this.allowedMimetypes},${this.allowedExtensions}`, onBlur: this.onBlur, onFocus: this.onFocus, onChange: e => this.onChange(e), type: "file", class: {
                "duet-upload": true,
            }, disabled: this.disabled, "aria-hidden": "true", required: this.required, name: this.name, id: this.identifier, multiple: this.multiple, tabIndex: -1 })))));
    }
    /**
     * XHR request utilities
     */
    makeXHRPostRequest(data) {
        const xhr = new XMLHttpRequest();
        const name = data.get("name");
        xhr.upload.addEventListener("progress", ev => {
            this.updateProgress(ev, name);
        });
        xhr.upload.addEventListener("load", () => {
            this.transferComplete(name);
        });
        xhr.upload.addEventListener("error", () => {
            this.transferFailed(name);
        });
        xhr.upload.addEventListener("abort", () => {
            this.transferCanceled(name);
        });
        let options = {
            payload: { data, name },
            options: { type: "POST", uri: this.uri, xhr, argument: null, headers: undefined },
            onFailure: this.transferDoneWithFailure,
            onSuccess: this.transferDone,
            onProgress: this.trackProgress,
        };
        if (this.middleware) {
            options = this.middleware(options);
        }
        return makeXhrRequest(options);
    }
    makeXHRDeleteRequest(data) {
        const { uid, item } = data;
        const xhr = new XMLHttpRequest();
        const headers = {
            "x-fileuid": uid,
            "x-filename": item.name,
        };
        let options = {
            payload: { data: null, name },
            options: {
                type: "DELETE",
                xhr,
                uri: this.uri,
                argument: `?key=${uid}&name=${item.name}`,
                headers,
            },
            onFailure: this.transferDoneWithFailure,
            onSuccess: this.transferDone,
            onProgress: this.trackProgress,
        };
        if (this.middleware) {
            options = this.middleware(options);
        }
        // don't present server issues to user on deletes, just remove them from the visible list
        return makeXhrRequest(options);
    }
    /**
     * Component event handling.
     */
    async onChange(ev) {
        var _a;
        const selectedFiles = Array.from((_a = this.nativeInput) === null || _a === void 0 ? void 0 : _a.files);
        // FileList is a nice array like structure but
        // to ensure uniqueness of files we use a mapping structure and
        // key to the name (makes it easier to delete as well)
        this.filesToUploadExceedsLimit = false;
        if (filesToUploadCountAboveMax(this.files.size, selectedFiles.length, this.maxFiles)) {
            this.filesToUploadExceedsLimit = true;
            this.kick();
            return;
        }
        this.filesToUploadTotalSizeIsAboveMax = false;
        if (filesToUploadTotalSizeIsAboveMax(this.files, selectedFiles, this.maxBytesTotal)) {
            this.filesToUploadTotalSizeIsAboveMax = true;
            this.kick();
            return;
        }
        if (selectedFiles) {
            for (const item of selectedFiles) {
                const { valid, errorMessage, errorType, errorSystem } = validateFile(item, {
                    maxBytes: this.maxBytes,
                    allowedExtensions: this.allowedExtensions,
                    allowedMimetypes: this.allowedMimetypes,
                }, this.errorCodes);
                const uid = this.genHashName();
                const fileListItem = {
                    uid,
                    item: item,
                    size: item.size,
                    meta: this.metaData,
                    uploaded: false,
                    valid,
                    error: {
                        type: valid ? undefined : errorType,
                        message: valid ? undefined : errorMessage,
                        system_message: valid ? undefined : errorSystem,
                    },
                    progress: 0,
                    deleted: false,
                    xhr: false,
                    url: false,
                };
                this.files.set(item.name, fileListItem);
                if (valid && !this.external) {
                    await this.uploadFile(fileListItem);
                }
                else if (valid && this.external) {
                    this.updateValueInMap(fileListItem.item.name, "pending", true, false);
                    this.updateValueInMap(fileListItem.item.name, "group", "pending", true);
                }
                else if (!valid) {
                    this.updateValueInMap(item.name, "valid", false, true);
                }
                // kick the stat to force update
                this.kick();
            }
        }
        // reset the form, so that a user may upload a file again (with the same name)
        this.resetFormFields();
        // reset the internal metaData state
        this.metaData = undefined;
        this.duetChange.emit({
            originalEvent: ev,
            data: { files: this.files },
            component: "duet-upload",
        });
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "valid": ["watchValidHandler"]
    }; }
    static get style() { return duetUploadCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-upload",
        "$members$": {
            "accessibleActiveDescendant": [1, "accessible-active-descendant"],
            "accessibleDescribedBy": [1, "accessible-described-by"],
            "accessibleControls": [1, "accessible-controls"],
            "accessibleOwns": [1, "accessible-owns"],
            "external": [4],
            "middleware": [16],
            "deferUpload": [4, "defer-upload"],
            "hideButton": [4, "hide-upload-button"],
            "actions": [16],
            "uri": [1],
            "showLinks": [4, "show-links"],
            "caption": [1],
            "statusLabelDefaults": [1, "status-label-default"],
            "statusMessageLabel": [1, "status-message-label"],
            "buttonLabelDefaults": [1, "button-label-default"],
            "buttonLabel": [1, "button-label"],
            "accessibleButtonLabel": [1, "accessible-button-label"],
            "theme": [1025],
            "disabled": [516],
            "identifier": [1],
            "margin": [1],
            "required": [4],
            "alignment": [1],
            "hideGroups": [4, "hide-table-labels"],
            "files": [1040],
            "valid": [1540],
            "labelDefaults": [1, "label-default"],
            "label": [1],
            "descriptionDefaults": [1, "description-default"],
            "description": [1],
            "fileListEmptyDefaults": [1, "list-empty-default"],
            "fileListEmpty": [1, "file-list-empty"],
            "error": [1],
            "errorCodes": [16],
            "name": [1],
            "maxBytes": [2, "max-bytes"],
            "maxBytesTotal": [2, "max-bytes-total"],
            "maxFiles": [2, "max-files"],
            "allowedExtensions": [1, "allowed-extensions"],
            "allowedMimetypes": [1, "allowed-mimetypes"],
            "multiple": [4],
            "limitSelection": [4, "limit-selection"],
            "hideCancelButton": [4, "hide-cancel-button"],
            "value": [1025],
            "externalUploadButtonId": [1, "external-upload-button-id"],
            "captionOnBottom": [4, "caption-on-bottom"],
            "showUploadedItemsHeader": [4, "show-uploaded-items-header"],
            "uploadedItemsHeaderLabel": [16],
            "headerHeadingLevel": [1, "header-heading-level"],
            "hideHeader": [4, "hide-header"],
            "emitEvent": [4, "link-click-event"],
            "groups": [16],
            "tick": [32],
            "setFocus": [64],
            "upload": [64],
            "uploadPending": [64],
            "refresh": [64],
            "getFiles": [64],
            "updateValue": [64],
            "focusActionButton": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": [["disabled", "disabled"], ["valid", "valid"]]
    }; }
}

class DuetUploadAriaStatus {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        /**
         * Private functions
         */
        this.replacePlaceHolders = (statusString) => {
            const addFiles = (amount) => {
                return amount > 1 ? `${amount} ${this.statusMessageLabel.files}` : `${amount} ${this.statusMessageLabel.file}`;
            };
            return statusString
                .replace("{filesUploaded}", addFiles(this.valid))
                .replace("{filesInProgress}", addFiles(this.inprogress))
                .replace("{filesTotal}", addFiles(this.total))
                .replace("{filesWithErrors}", addFiles(this.invalid));
        };
        this.getStatusMessage = () => {
            const { done, inProgress, doneWithErrors, inProgressWithErrors } = this.statusMessageLabel;
            const hasErrors = this.invalid > 0;
            const isInProgress = this.inprogress > 0;
            const isInProgressWithErrors = this.inprogress > 0 && hasErrors;
            const isDone = this.valid === this.total && !isInProgress && !hasErrors;
            const isDoneWithErrors = this.valid + this.invalid === this.total && !isInProgress;
            if (isDone) {
                this.statusMessage = this.replacePlaceHolders(done);
                return;
            }
            else if (isInProgressWithErrors) {
                this.statusMessage = this.replacePlaceHolders(inProgressWithErrors);
                return;
            }
            else if (isInProgress) {
                this.statusMessage = this.replacePlaceHolders(inProgress);
                return;
            }
            else if (isDoneWithErrors) {
                this.statusMessage = this.replacePlaceHolders(doneWithErrors);
                return;
            }
            return;
        };
        this.statusMessage = null;
        this.statusMessageLabel = null;
        this.accessibleAriaLive = "polite";
        this.valid = undefined;
        this.total = undefined;
        this.invalid = undefined;
        this.inprogress = undefined;
    }
    watchHandler(newValue, oldValue) {
        if (newValue !== oldValue) {
            this.getStatusMessage();
        }
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { role: "status", "aria-live": "assertive", "aria-atomic": "true", "aria-relevant": "all" }, hAsync("duet-visually-hidden", null, this.statusMessage)));
    }
    get element() { return getElement(this); }
    static get watchers() { return {
        "valid": ["watchHandler"],
        "invalid": ["watchHandler"],
        "inprogress": ["watchHandler"],
        "total": ["watchHandler"]
    }; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-upload-aria-status",
        "$members$": {
            "statusMessageLabel": [16],
            "accessibleAriaLive": [1, "accessible-aria-live"],
            "valid": [2],
            "total": [2],
            "invalid": [2],
            "inprogress": [2],
            "statusMessage": [32]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetFileChooserCss = "/*!@*,\n*::after,\n*::before*/*.sc-duet-file-chooser,*.sc-duet-file-chooser::after,*.sc-duet-file-chooser::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}/*!@.container*/.container.sc-duet-file-chooser{display:flex;flex-direction:row;gap:8px;align-items:center}/*!@.container .label*/.container.sc-duet-file-chooser .label.sc-duet-file-chooser{margin-bottom:8px}";

class DuetUploadItem$1 {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.duetChange = createEvent$2(this, "duetChange", 3);
        this.onChange = (ev) => {
            ev.preventDefault();
            ev.stopPropagation();
            this.duetChange.emit({
                originalEvent: ev,
                data: { files: this.nativeInput.files },
                component: "duet-file-chooser",
            });
        };
        this.theme = "";
        this.multiple = false;
        this.accept = undefined;
    }
    /**
     * Opens file choose dialog.
     */
    async open() {
        var _a;
        (_a = this.nativeInput) === null || _a === void 0 ? void 0 : _a.click();
    }
    /**
     * Returns actually selected files in file chooser.
     */
    async getFiles() {
        return this.nativeInput.files;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    render() {
        return (hAsync(Host, null, hAsync("duet-visually-hidden", { "aria-hidden": "true" }, hAsync("input", { ref: input => {
                this.nativeInput = input;
            }, type: "file", class: {
                "duet-upload": true,
            }, "aria-hidden": "true", tabIndex: -1, onChange: this.onChange, multiple: this.multiple, accept: this.accept }))));
    }
    static get style() { return duetFileChooserCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-file-chooser",
        "$members$": {
            "theme": [1025],
            "multiple": [4],
            "accept": [1],
            "open": [64],
            "getFiles": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const formatBytes = (bytes, decimals = 2) => {
    if (bytes === 0) {
        return "0 Bytes";
    }
    const k = 1024;
    const dm = decimals < 0 ? 0 : decimals;
    const sizes = ["Bytes", "KB", "MB", "GB", "TB", "PB", "EB", "ZB", "YB"];
    const i = Math.floor(Math.log(bytes) / Math.log(k));
    return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + " " + sizes[i];
};

const duetUploadItemCss = ".file-link::part(duet-link){text-decoration:none}";

class DuetUploadItem {
    constructor(hostRef) {
        registerInstance(this, hostRef);
        this.fileUploadingInfo = {
            fi: "Tiedosto latautuu",
            sv: "Filen laddas upp",
            en: "File is uploading",
        };
        this.onLinkClick = (event) => {
            const { url, meta } = this.data;
            if (!!this.linkClickEvent) {
                event.preventDefault();
                this.linkClickEvent.emit({
                    component: "duet-upload",
                    data: { name: this.data.item.name, url, meta },
                });
            }
        };
        this.theme = "";
        this.data = undefined;
        this.type = undefined;
        this.showLinks = undefined;
        this.actions = undefined;
        this.label = undefined;
        this.categoryLabel = undefined;
        this.errorCodes = undefined;
        this.showCategory = undefined;
        this.linkClickEvent = undefined;
    }
    /**
     * Component lifecycle events.
     */
    componentWillLoad() {
        inheritGlobalTheme(this);
    }
    /**
     * focusActionButton.
     */
    async focusActionButton() {
        if (this.actionButton) {
            await this.actionButton.setFocus({ preventScroll: true });
            this.actionButton.scrollIntoView({ behavior: "smooth", block: "center", inline: "nearest" });
        }
    }
    getFileNameLine() {
        const { item, size, uploaded, url, progress, error } = this.data;
        const { name } = item;
        const ContentName = (hAsync("span", { class: "duet-upload-item-name" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: "messaging-attachment" }), hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), name));
        const SizeText = (hAsync("span", { class: "duet-upload-item-size", style: { fontSize: "14px", fontWeight: "400" } }, "(", formatBytes(size), ")"));
        switch (this.type) {
            case "inprogress":
                return (hAsync("span", { class: "duet-upload-item-name", role: "status" }, hAsync("duet-paragraph", { class: "duet-upload-item-name", color: "gray-darker", margin: "none", weight: "semi-bold" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: "messaging-attachment" }), hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), name), hAsync("duet-visually-hidden", null, hAsync("duet-paragraph", null, getLocaleString(this.fileUploadingInfo))), hAsync("duet-progress", { progress: Math.ceil(progress), "aria-hidden": true })));
            case "pending":
                return (hAsync("span", { class: "duet-upload-item-name" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: "messaging-attachment" }), hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), name));
            case "failure":
                return (hAsync("span", { class: "duet-upload-item-error", role: "status" }, hAsync("duet-paragraph", { class: "duet-upload-item-name", color: "danger", margin: "none", weight: "semi-bold" }, hAsync("duet-icon", { margin: "none", size: "x-small", name: "messaging-attachment" }), hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), name), hAsync("duet-paragraph", { class: "duet-upload-item-error-label", size: "small", margin: "none", color: "danger" }, getI18nError(error.type, this.errorCodes))));
            default:
                return uploaded && url && this.showLinks ? (hAsync("duet-paragraph", { color: "secondary", margin: "none", weight: "semi-bold" }, hAsync("duet-link", { class: "file-link", onClick: this.onLinkClick, url: url }, ContentName), hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), SizeText)) : (hAsync("duet-paragraph", { color: "secondary", margin: "none", weight: "semi-bold" }, ContentName, hAsync("duet-spacer", { size: "xx-small", direction: "horizontal" }), SizeText));
        }
    }
    render() {
        const { uid, meta, item } = this.data;
        const Badges = meta && meta.badges ? (hAsync("span", null, meta.badges.map(badgeText => (hAsync("duet-badge", { color: "primary" }, badgeText))))) : undefined;
        const actionDescription = `${meta && meta.badges ? meta.badges.join(",") : ""} ${item.name}`;
        return (hAsync("div", { class: {
                "upload-item-row": true,
            } }, this.showCategory && (hAsync("div", { class: "item-categories" }, hAsync("duet-heading", { class: "heading", color: "color-secondary", level: "h6", weight: "semibold" }, getLocaleString(this.categoryLabel)), Badges)), hAsync("div", { class: { "item-name": true, "no-category": !this.showCategory } }, !!this.label && (hAsync("duet-heading", { class: "heading", color: "color-secondary", level: "h6", weight: "semibold" }, getLocaleString(this.label))), this.getFileNameLine()), hAsync("div", { class: "item-actions" }, this.actions.map(actionItem => {
            return (hAsync("duet-action-button", { actionMeta: Object.assign({}, meta || {}), actionId: uid || null, actionName: actionItem.name, theme: this.theme, iconName: actionItem.icon, iconColor: actionItem.color, iconSize: actionItem.size, background: actionItem.background, "accessible-label": `${actionDescription} ${getLocaleString(actionItem.label)} `, accessibleTitle: false, ref: button => (this.actionButton = button) }));
        }))));
    }
    get element() { return getElement(this); }
    static get style() { return duetUploadItemCss; }
    static get cmpMeta() { return {
        "$flags$": 0,
        "$tagName$": "duet-upload-item",
        "$members$": {
            "theme": [1025],
            "data": [16],
            "type": [1],
            "showLinks": [4, "show-links"],
            "actions": [8],
            "label": [16],
            "categoryLabel": [16],
            "errorCodes": [16],
            "showCategory": [4, "show-category"],
            "linkClickEvent": [16],
            "focusActionButton": [64]
        },
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

const duetVisuallyHiddenCss = "/*!@:host*/.sc-duet-visually-hidden-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute !important;top:0;width:1px !important;height:1px !important;padding:0 !important;overflow:hidden !important;clip:rect(1px, 1px, 1px, 1px) !important;border:0 !important}";

class DuetVisuallyHidden {
    constructor(hostRef) {
        registerInstance(this, hostRef);
    }
    /**
     * render() function
     * Always the last one in the class.
     */
    render() {
        return (hAsync(Host, { class: "duet-visually-hidden" }, hAsync("slot", null)));
    }
    get element() { return getElement(this); }
    static get style() { return duetVisuallyHiddenCss; }
    static get cmpMeta() { return {
        "$flags$": 9,
        "$tagName$": "duet-visually-hidden",
        "$members$": undefined,
        "$listeners$": undefined,
        "$lazyBundleId$": "-",
        "$attrsToReflect$": []
    }; }
}

registerComponents([
  DuetActionButton,
  DuetAlert,
  DuetBadge,
  DuetBanner,
  DuetBreadcrumb,
  DuetBreadcrumbs,
  DuetButton,
  DuetCallout,
  DuetCaption,
  DuetCard,
  DuetCheckbox,
  DuetCheckmark,
  DuetChip,
  DuetChoice,
  DuetChoiceGroup,
  DuetCollapsible,
  DuetCombobox,
  DuetContactCard,
  DuetCookieConsent,
  DuetDatePicker,
  DuetDivider,
  DuetEditableTable,
  DuetEmptyState,
  DuetFieldset,
  DuetFooter,
  DuetGrid,
  DuetGridItem,
  DuetHeader,
  DuetHeading,
  DuetHero,
  DuetIcon,
  DuetInput,
  DuetLabel,
  DuetLayout,
  DuetLink,
  DuetList,
  DuetListItem,
  DuetLogo,
  DuetMenuBar,
  DuetMenuBarButton,
  DuetMenuBarDropdown,
  DuetMenuBarDropdownLink,
  DuetMenuBarLink,
  DuetModal,
  DuetMultiselect,
  DuetNav,
  DuetNotification,
  DuetNotificationDrawer,
  DuetNumberInput,
  DuetPageHeading,
  DuetPagination,
  DuetParagraph,
  DuetPopupMenu,
  DuetPopupMenuItem,
  DuetProgress,
  DuetPromoCard,
  DuetRadio,
  DuetRadioGroup,
  DuetRangeSlider,
  DuetRangeStepper,
  DuetScrollable,
  DuetSectionLayout,
  DuetSelect,
  DuetShapedImage,
  DuetShowMore,
  DuetSlideout,
  DuetSlideoutLang,
  DuetSlideoutLink,
  DuetSlideoutPanel,
  DuetSlideoutPanelDropdown,
  DuetSpacer,
  DuetSpinner,
  DuetStep,
  DuetStepper,
  DuetSubmenuBar,
  DuetSubmenuBarDropdown,
  DuetSubmenuBarDropdownLink,
  DuetSubmenuBarLink,
  DuetTab,
  DuetTabGroup,
  DuetTable,
  DuetTextarea,
  DuetToggle,
  DuetToolbar,
  DuetToolbarDropdown,
  DuetToolbarDropdownLink,
  DuetToolbarLink,
  DuetTooltip,
  DuetTooltipButton,
  DuetTooltipPopup,
  DuetTray,
  DuetUpload,
  DuetUploadAriaStatus,
  DuetUploadItem$1,
  DuetUploadItem,
  DuetVisuallyHidden,
]);

exports.hydrateApp = hydrateApp;


    /*hydrateAppClosure end*/
    hydrateApp(window, $stencilHydrateOpts, $stencilHydrateResults, $stencilAfterHydrate, $stencilHydrateResolve);
  }

  hydrateAppClosure($stencilWindow);
}

function createWindowFromHtml(e, t) {
 let r = templateWindows.get(t);
 return null == r && (r = new MockWindow(e), templateWindows.set(t, r)), cloneWindow(r);
}

function inspectElement(e, t, r) {
 const s = t.children;
 for (let t = 0, n = s.length; t < n; t++) {
  const n = s[t], o = n.nodeName.toLowerCase();
  if (o.includes("-")) {
   const t = e.components.find((e => e.tag === o));
   null != t && (t.count++, r > t.depth && (t.depth = r));
  } else switch (o) {
  case "a":
   const t = collectAttributes(n);
   t.href = n.href, "string" == typeof t.href && (e.anchors.some((e => e.href === t.href)) || e.anchors.push(t));
   break;

  case "img":
   const r = collectAttributes(n);
   r.src = n.src, "string" == typeof r.src && (e.imgs.some((e => e.src === r.src)) || e.imgs.push(r));
   break;

  case "link":
   const s = collectAttributes(n);
   s.href = n.href, "string" == typeof s.rel && "stylesheet" === s.rel.toLowerCase() && "string" == typeof s.href && (e.styles.some((e => e.link === s.href)) || (delete s.rel, 
   delete s.type, e.styles.push(s)));
   break;

  case "script":
   const o = collectAttributes(n);
   if (n.hasAttribute("src")) o.src = n.src, "string" == typeof o.src && (e.scripts.some((e => e.src === o.src)) || e.scripts.push(o)); else {
    const t = n.getAttribute("data-stencil-static");
    t && e.staticData.push({
     id: t,
     type: n.getAttribute("type"),
     content: n.textContent
    });
   }
  }
  inspectElement(e, n, ++r);
 }
}

function collectAttributes(e) {
 const t = {}, r = e.attributes;
 for (let e = 0, s = r.length; e < s; e++) {
  const s = r.item(e), n = s.nodeName.toLowerCase();
  if (SKIP_ATTRS.has(n)) continue;
  const o = s.nodeValue;
  "class" === n && "" === o || (t[n] = o);
 }
 return t;
}

function patchDomImplementation(e, t) {
 let r;
 if (null != e.defaultView ? (t.destroyWindow = !0, patchWindow(e.defaultView), r = e.defaultView) : (t.destroyWindow = !0, 
 t.destroyDocument = !1, r = new MockWindow(!1)), r.document !== e && (r.document = e), 
 e.defaultView !== r && (e.defaultView = r), "function" != typeof e.documentElement.constructor.prototype.getRootNode && (e.createElement("unknown-element").constructor.prototype.getRootNode = getRootNode), 
 "function" == typeof e.createEvent) {
  const t = e.createEvent("CustomEvent").constructor;
  r.CustomEvent !== t && (r.CustomEvent = t);
 }
 try {
  r.__stencil_baseURI = e.baseURI;
 } catch (t) {
  Object.defineProperty(e, "baseURI", {
   get() {
    const t = e.querySelector("base[href]");
    return t ? new URL(t.getAttribute("href"), r.location.href).href : r.location.href;
   }
  });
 }
 return r;
}

function getRootNode(e) {
 const t = null != e && !0 === e.composed;
 let r = this;
 for (;null != r.parentNode; ) r = r.parentNode, !0 === t && null == r.parentNode && null != r.host && (r = r.host);
 return r;
}

function normalizeHydrateOptions(e) {
 const t = Object.assign({
  serializeToHtml: !1,
  destroyWindow: !1,
  destroyDocument: !1
 }, e || {});
 return "boolean" != typeof t.clientHydrateAnnotations && (t.clientHydrateAnnotations = !0), 
 "boolean" != typeof t.constrainTimeouts && (t.constrainTimeouts = !0), "number" != typeof t.maxHydrateCount && (t.maxHydrateCount = 300), 
 "boolean" != typeof t.runtimeLogging && (t.runtimeLogging = !1), "number" != typeof t.timeout && (t.timeout = 15e3), 
 Array.isArray(t.excludeComponents) ? t.excludeComponents = t.excludeComponents.filter(filterValidTags).map(mapValidTags) : t.excludeComponents = [], 
 Array.isArray(t.staticComponents) ? t.staticComponents = t.staticComponents.filter(filterValidTags).map(mapValidTags) : t.staticComponents = [], 
 t;
}

function filterValidTags(e) {
 return "string" == typeof e && e.includes("-");
}

function mapValidTags(e) {
 return e.trim().toLowerCase();
}

function generateHydrateResults(e) {
 "string" != typeof e.url && (e.url = "https://hydrate.stenciljs.com/"), "string" != typeof e.buildId && (e.buildId = createHydrateBuildId());
 const t = {
  buildId: e.buildId,
  diagnostics: [],
  url: e.url,
  host: null,
  hostname: null,
  href: null,
  pathname: null,
  port: null,
  search: null,
  hash: null,
  html: null,
  httpStatus: null,
  hydratedCount: 0,
  anchors: [],
  components: [],
  imgs: [],
  scripts: [],
  staticData: [],
  styles: [],
  title: null
 };
 try {
  const r = new URL(e.url, "https://hydrate.stenciljs.com/");
  t.url = r.href, t.host = r.host, t.hostname = r.hostname, t.href = r.href, t.port = r.port, 
  t.pathname = r.pathname, t.search = r.search, t.hash = r.hash;
 } catch (e) {
  renderCatchError(t, e);
 }
 return t;
}

function renderBuildDiagnostic(e, t, r, s) {
 const n = {
  level: t,
  type: "build",
  header: r,
  messageText: s,
  relFilePath: void 0,
  absFilePath: void 0,
  lines: []
 };
 return e.pathname ? "/" !== e.pathname && (n.header += ": " + e.pathname) : e.url && (n.header += ": " + e.url), 
 e.diagnostics.push(n), n;
}

function renderBuildError(e, t) {
 return renderBuildDiagnostic(e, "error", "Hydrate Error", t);
}

function renderCatchError(e, t) {
 const r = renderBuildError(e, null);
 return null != t && (null != t.stack ? r.messageText = t.stack.toString() : null != t.message ? r.messageText = t.message.toString() : r.messageText = t.toString()), 
 r;
}

function runtimeLog(e, t, r) {
 global.console[t].apply(global.console, [ `[ ${e}  ${t} ] `, ...r ]);
}

function renderToString(e, t) {
 const r = normalizeHydrateOptions(t);
 return r.serializeToHtml = !0, new Promise((t => {
  let s;
  const n = generateHydrateResults(r);
  if (hasError(n.diagnostics)) t(n); else if ("string" == typeof e) try {
   r.destroyWindow = !0, r.destroyDocument = !0, s = new MockWindow(e), render(s, r, n, t);
  } catch (e) {
   s && s.close && s.close(), s = null, renderCatchError(n, e), t(n);
  } else if (isValidDocument(e)) try {
   r.destroyDocument = !1, s = patchDomImplementation(e, r), render(s, r, n, t);
  } catch (e) {
   s && s.close && s.close(), s = null, renderCatchError(n, e), t(n);
  } else renderBuildError(n, 'Invalid html or document. Must be either a valid "html" string, or DOM "document".'), 
  t(n);
 }));
}

function hydrateDocument(e, t) {
 const r = normalizeHydrateOptions(t);
 return r.serializeToHtml = !1, new Promise((t => {
  let s;
  const n = generateHydrateResults(r);
  if (hasError(n.diagnostics)) t(n); else if ("string" == typeof e) try {
   r.destroyWindow = !0, r.destroyDocument = !0, s = new MockWindow(e), render(s, r, n, t);
  } catch (e) {
   s && s.close && s.close(), s = null, renderCatchError(n, e), t(n);
  } else if (isValidDocument(e)) try {
   r.destroyDocument = !1, s = patchDomImplementation(e, r), render(s, r, n, t);
  } catch (e) {
   s && s.close && s.close(), s = null, renderCatchError(n, e), t(n);
  } else renderBuildError(n, 'Invalid html or document. Must be either a valid "html" string, or DOM "document".'), 
  t(n);
 }));
}

function render(e, t, r, s) {
 if (process.__stencilErrors || (process.__stencilErrors = !0, process.on("unhandledRejection", (e => {
  console.log("unhandledRejection", e);
 }))), function n(e, t, r, s) {
  try {
   e.location.href = r.url;
  } catch (e) {
   renderCatchError(s, e);
  }
  if ("string" == typeof r.userAgent) try {
   e.navigator.userAgent = r.userAgent;
  } catch (e) {}
  if ("string" == typeof r.cookie) try {
   t.cookie = r.cookie;
  } catch (e) {}
  if ("string" == typeof r.referrer) try {
   t.referrer = r.referrer;
  } catch (e) {}
  if ("string" == typeof r.direction) try {
   t.documentElement.setAttribute("dir", r.direction);
  } catch (e) {}
  if ("string" == typeof r.language) try {
   t.documentElement.setAttribute("lang", r.language);
  } catch (e) {}
  if ("string" == typeof r.buildId) try {
   t.documentElement.setAttribute("data-stencil-build", r.buildId);
  } catch (e) {}
  try {
   e.customElements = null;
  } catch (e) {}
  return r.constrainTimeouts && constrainTimeouts(e), function n(e, t, r) {
   try {
    const s = e.location.pathname;
    e.console.error = (...e) => {
     const n = e.reduce(((e, t) => {
      if (t) {
       if (null != t.stack) return e + " " + String(t.stack);
       if (null != t.message) return e + " " + String(t.message);
      }
      return String(t);
     }), "").trim();
     "" !== n && (renderCatchError(r, n), t.runtimeLogging && runtimeLog(s, "error", [ n ]));
    }, e.console.debug = (...e) => {
     renderBuildDiagnostic(r, "debug", "Hydrate Debug", [ ...e ].join(", ")), t.runtimeLogging && runtimeLog(s, "debug", e);
    }, t.runtimeLogging && [ "log", "warn", "assert", "info", "trace" ].forEach((t => {
     e.console[t] = (...e) => {
      runtimeLog(s, t, e);
     };
    }));
   } catch (e) {
    renderCatchError(r, e);
   }
  }(e, r, s), e;
 }(e, e.document, t, r), "function" == typeof t.beforeHydrate) try {
  const n = t.beforeHydrate(e.document);
  isPromise(n) ? n.then((() => {
   hydrateFactory(e, t, r, afterHydrate, s);
  })) : hydrateFactory(e, t, r, afterHydrate, s);
 } catch (n) {
  renderCatchError(r, n), finalizeHydrate(e, e.document, t, r, s);
 } else hydrateFactory(e, t, r, afterHydrate, s);
}

function afterHydrate(e, t, r, s) {
 if ("function" == typeof t.afterHydrate) try {
  const n = t.afterHydrate(e.document);
  isPromise(n) ? n.then((() => {
   finalizeHydrate(e, e.document, t, r, s);
  })) : finalizeHydrate(e, e.document, t, r, s);
 } catch (n) {
  renderCatchError(r, n), finalizeHydrate(e, e.document, t, r, s);
 } else finalizeHydrate(e, e.document, t, r, s);
}

function finalizeHydrate(e, t, r, s, n) {
 try {
  if (inspectElement(s, t.documentElement, 0), !1 !== r.removeUnusedStyles) try {
   removeUnusedStyles(t, s.diagnostics);
  } catch (e) {
   renderCatchError(s, e);
  }
  if ("string" == typeof r.title) try {
   t.title = r.title;
  } catch (e) {
   renderCatchError(s, e);
  }
  s.title = t.title, r.removeScripts && removeScripts(t.documentElement);
  try {
   updateCanonicalLink(t, r.canonicalUrl);
  } catch (e) {
   renderCatchError(s, e);
  }
  try {
   relocateMetaCharset(t);
  } catch (e) {}
  hasError(s.diagnostics) || (s.httpStatus = 200);
  try {
   const e = t.head.querySelector('meta[http-equiv="status"]');
   if (null != e) {
    const t = e.getAttribute("content");
    t && t.length > 0 && (s.httpStatus = parseInt(t, 10));
   }
  } catch (e) {}
  r.clientHydrateAnnotations && t.documentElement.classList.add("hydrated"), r.serializeToHtml && (s.html = serializeDocumentToString(t, r));
 } catch (e) {
  renderCatchError(s, e);
 }
 if (r.destroyWindow) try {
  r.destroyDocument || (e.document = null, t.defaultView = null), e.close && e.close();
 } catch (e) {
  renderCatchError(s, e);
 }
 n(s);
}

function serializeDocumentToString(e, t) {
 return serializeNodeToHtml(e, {
  approximateLineWidth: t.approximateLineWidth,
  outerHtml: !1,
  prettyHtml: t.prettyHtml,
  removeAttributeQuotes: t.removeAttributeQuotes,
  removeBooleanAttributeQuotes: t.removeBooleanAttributeQuotes,
  removeEmptyAttributes: t.removeEmptyAttributes,
  removeHtmlComments: t.removeHtmlComments,
  serializeShadowRoot: !1
 });
}

function isValidDocument(e) {
 return null != e && 9 === e.nodeType && null != e.documentElement && 1 === e.documentElement.nodeType && null != e.body && 1 === e.body.nodeType;
}

function removeScripts(e) {
 const t = e.children;
 for (let e = t.length - 1; e >= 0; e--) {
  const r = t[e];
  removeScripts(r), ("SCRIPT" === r.nodeName || "LINK" === r.nodeName && "modulepreload" === r.getAttribute("rel")) && r.remove();
 }
}

const templateWindows = new Map, isPromise = e => !!e && ("object" == typeof e || "function" == typeof e) && "function" == typeof e.then, hasError = e => null != e && 0 !== e.length && e.some((e => "error" === e.level && "runtime" !== e.type)), TASK_CANCELED_MSG = "task canceled", updateCanonicalLink = (e, t) => {
 let r = e.head.querySelector('link[rel="canonical"]');
 "string" == typeof t ? (null == r && (r = e.createElement("link"), r.setAttribute("rel", "canonical"), 
 e.head.appendChild(r)), r.setAttribute("href", t)) : null != r && (r.getAttribute("href") || r.parentNode.removeChild(r));
}, relocateMetaCharset = e => {
 const t = e.head;
 let r = t.querySelector("meta[charset]");
 null == r ? (r = e.createElement("meta"), r.setAttribute("charset", "utf-8")) : r.remove(), 
 t.insertBefore(r, t.firstChild);
}, parseCss = (e, t) => {
 let r = 1, s = 1;
 const n = [], o = e => {
  const t = e.match(/\n/g);
  t && (r += t.length);
  const n = e.lastIndexOf("\n");
  s = ~n ? e.length - n : s + e.length;
 }, i = () => {
  const e = {
   line: r,
   column: s
  };
  return t => (t.position = new A(e), m(), t);
 }, a = o => {
  const i = e.split("\n"), a = {
   level: "error",
   type: "css",
   language: "css",
   header: "CSS Parse",
   messageText: o,
   absFilePath: t,
   lines: [ {
    lineIndex: r - 1,
    lineNumber: r,
    errorCharStart: s,
    text: e[r - 1]
   } ]
  };
  if (r > 1) {
   const t = {
    lineIndex: r - 1,
    lineNumber: r - 1,
    text: e[r - 2],
    errorCharStart: -1,
    errorLength: -1
   };
   a.lines.unshift(t);
  }
  if (r + 2 < i.length) {
   const e = {
    lineIndex: r,
    lineNumber: r + 1,
    text: i[r],
    errorCharStart: -1,
    errorLength: -1
   };
   a.lines.push(e);
  }
  return n.push(a), null;
 }, l = () => u(/^{\s*/), c = () => u(/^}/), u = t => {
  const r = t.exec(e);
  if (!r) return;
  const s = r[0];
  return o(s), e = e.slice(s.length), r;
 }, d = () => {
  let t;
  const r = [];
  for (m(), h(r); e.length && "}" !== e.charAt(0) && (t = T() || w()); ) r.push(t), 
  h(r);
  return r;
 }, m = () => u(/^\s*/), h = e => {
  let t;
  for (e = e || []; t = p(); ) e.push(t);
  return e;
 }, p = () => {
  const t = i();
  if ("/" !== e.charAt(0) || "*" !== e.charAt(1)) return null;
  let r = 2;
  for (;"" !== e.charAt(r) && ("*" !== e.charAt(r) || "/" !== e.charAt(r + 1)); ) ++r;
  if (r += 2, "" === e.charAt(r - 1)) return a("End of comment missing");
  const n = e.slice(2, r - 2);
  return s += 2, o(n), e = e.slice(r), s += 2, t({
   type: 1,
   comment: n
  });
 }, f = () => {
  const e = u(/^([^{]+)/);
  return e ? trim(e[0]).replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*\/+/g, "").replace(/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'/g, (function(e) {
   return e.replace(/,/g, "‌");
  })).split(/\s*(?![^(]*\)),\s*/).map((function(e) {
   return e.replace(/\u200C/g, ",");
  })) : null;
 }, g = () => {
  const e = i();
  let t = u(/^(\*?[-#\/\*\\\w]+(\[[0-9a-z_-]+\])?)\s*/);
  if (!t) return null;
  if (t = trim(t[0]), !u(/^:\s*/)) return a("property missing ':'");
  const r = u(/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^\)]*?\)|[^};])+)/), s = e({
   type: 4,
   property: t.replace(commentre, ""),
   value: r ? trim(r[0]).replace(commentre, "") : ""
  });
  return u(/^[;\s]*/), s;
 }, y = () => {
  const e = [];
  if (!l()) return a("missing '{'");
  let t;
  for (h(e); t = g(); ) e.push(t), h(e);
  return c() ? e : a("missing '}'");
 }, C = () => {
  let e;
  const t = [], r = i();
  for (;e = u(/^((\d+\.\d+|\.\d+|\d+)%?|[a-z]+)\s*/); ) t.push(e[1]), u(/^,\s*/);
  return t.length ? r({
   type: 9,
   values: t,
   declarations: y()
  }) : null;
 }, S = (e, t) => {
  const r = new RegExp("^@" + e + "\\s*([^;]+);");
  return () => {
   const s = i(), n = u(r);
   if (!n) return null;
   const o = {
    type: t
   };
   return o[e] = n[1].trim(), s(o);
  };
 }, E = S("import", 7), b = S("charset", 0), v = S("namespace", 11), T = () => "@" !== e[0] ? null : (() => {
  const e = i();
  let t = u(/^@([-\w]+)?keyframes\s*/);
  if (!t) return null;
  const r = t[1];
  if (t = u(/^([-\w]+)\s*/), !t) return a("@keyframes missing name");
  const s = t[1];
  if (!l()) return a("@keyframes missing '{'");
  let n, o = h();
  for (;n = C(); ) o.push(n), o = o.concat(h());
  return c() ? e({
   type: 8,
   name: s,
   vendor: r,
   keyframes: o
  }) : a("@keyframes missing '}'");
 })() || (() => {
  const e = i(), t = u(/^@media *([^{]+)/);
  if (!t) return null;
  const r = trim(t[1]);
  if (!l()) return a("@media missing '{'");
  const s = h().concat(d());
  return c() ? e({
   type: 10,
   media: r,
   rules: s
  }) : a("@media missing '}'");
 })() || (() => {
  const e = i(), t = u(/^@custom-media\s+(--[^\s]+)\s*([^{;]+);/);
  return t ? e({
   type: 2,
   name: trim(t[1]),
   media: trim(t[2])
  }) : null;
 })() || (() => {
  const e = i(), t = u(/^@supports *([^{]+)/);
  if (!t) return null;
  const r = trim(t[1]);
  if (!l()) return a("@supports missing '{'");
  const s = h().concat(d());
  return c() ? e({
   type: 15,
   supports: r,
   rules: s
  }) : a("@supports missing '}'");
 })() || E() || b() || v() || (() => {
  const e = i(), t = u(/^@([-\w]+)?document *([^{]+)/);
  if (!t) return null;
  const r = trim(t[1]), s = trim(t[2]);
  if (!l()) return a("@document missing '{'");
  const n = h().concat(d());
  return c() ? e({
   type: 3,
   document: s,
   vendor: r,
   rules: n
  }) : a("@document missing '}'");
 })() || (() => {
  const e = i();
  if (!u(/^@page */)) return null;
  const t = f() || [];
  if (!l()) return a("@page missing '{'");
  let r, s = h();
  for (;r = g(); ) s.push(r), s = s.concat(h());
  return c() ? e({
   type: 12,
   selectors: t,
   declarations: s
  }) : a("@page missing '}'");
 })() || (() => {
  const e = i();
  if (!u(/^@host\s*/)) return null;
  if (!l()) return a("@host missing '{'");
  const t = h().concat(d());
  return c() ? e({
   type: 6,
   rules: t
  }) : a("@host missing '}'");
 })() || (() => {
  const e = i();
  if (!u(/^@font-face\s*/)) return null;
  if (!l()) return a("@font-face missing '{'");
  let t, r = h();
  for (;t = g(); ) r.push(t), r = r.concat(h());
  return c() ? e({
   type: 5,
   declarations: r
  }) : a("@font-face missing '}'");
 })(), w = () => {
  const e = i(), t = f();
  return t ? (h(), e({
   type: 13,
   selectors: t,
   declarations: y()
  })) : a("selector missing");
 };
 class A {
  constructor(e) {
   this.start = e, this.end = {
    line: r,
    column: s
   }, this.source = t;
  }
 }
 return A.prototype.content = e, {
  diagnostics: n,
  ...addParent((() => {
   const e = d();
   return {
    type: 14,
    stylesheet: {
     source: t,
     rules: e
    }
   };
  })())
 };
}, trim = e => e ? e.trim() : "", addParent = (e, t) => {
 const r = e && "string" == typeof e.type, s = r ? e : t;
 for (const t in e) {
  const r = e[t];
  Array.isArray(r) ? r.forEach((function(e) {
   addParent(e, s);
  })) : r && "object" == typeof r && addParent(r, s);
 }
 return r && Object.defineProperty(e, "parent", {
  configurable: !0,
  writable: !0,
  enumerable: !1,
  value: t || null
 }), e;
}, commentre = /\/\*[^*]*\*+([^/*][^*]*\*+)*\//g, getCssSelectors = e => {
 SELECTORS.all.length = SELECTORS.tags.length = SELECTORS.classNames.length = SELECTORS.ids.length = SELECTORS.attrs.length = 0;
 const t = (e = e.replace(/\./g, " .").replace(/\#/g, " #").replace(/\[/g, " [").replace(/\>/g, " > ").replace(/\+/g, " + ").replace(/\~/g, " ~ ").replace(/\*/g, " * ").replace(/\:not\((.*?)\)/g, " ")).split(" ");
 for (let e = 0, r = t.length; e < r; e++) t[e] = t[e].split(":")[0], 0 !== t[e].length && ("." === t[e].charAt(0) ? SELECTORS.classNames.push(t[e].slice(1)) : "#" === t[e].charAt(0) ? SELECTORS.ids.push(t[e].slice(1)) : "[" === t[e].charAt(0) ? (t[e] = t[e].slice(1).split("=")[0].split("]")[0].trim(), 
 SELECTORS.attrs.push(t[e].toLowerCase())) : /[a-z]/g.test(t[e].charAt(0)) && SELECTORS.tags.push(t[e].toLowerCase()));
 return SELECTORS.classNames = SELECTORS.classNames.sort(((e, t) => e.length < t.length ? -1 : e.length > t.length ? 1 : 0)), 
 SELECTORS;
}, SELECTORS = {
 all: [],
 tags: [],
 classNames: [],
 ids: [],
 attrs: []
}, serializeCssVisitNode = (e, t, r, s) => {
 var n;
 const o = t.type;
 return 4 === o ? serializeCssDeclaration(t, r, s) : 13 === o ? serializeCssRule(e, t) : 1 === o ? "!" === (null === (n = t.comment) || void 0 === n ? void 0 : n[0]) ? `/*${t.comment}*/` : "" : 10 === o ? serializeCssMedia(e, t) : 8 === o ? serializeCssKeyframes(e, t) : 9 === o ? serializeCssKeyframe(e, t) : 5 === o ? serializeCssFontFace(e, t) : 15 === o ? serializeCssSupports(e, t) : 7 === o ? "@import " + t.import + ";" : 0 === o ? "@charset " + t.charset + ";" : 12 === o ? serializeCssPage(e, t) : 6 === o ? "@host{" + serializeCssMapVisit(e, t.rules) + "}" : 2 === o ? "@custom-media " + t.name + " " + t.media + ";" : 3 === o ? serializeCssDocument(e, t) : 11 === o ? "@namespace " + t.namespace + ";" : "";
}, serializeCssRule = (e, t) => {
 var r, s;
 const n = t.declarations, o = e.usedSelectors, i = null !== (s = null === (r = t.selectors) || void 0 === r ? void 0 : r.slice()) && void 0 !== s ? s : [];
 if (null == n || 0 === n.length) return "";
 if (o) {
  let t, r, s = !0;
  for (t = i.length - 1; t >= 0; t--) {
   const n = getCssSelectors(i[t]);
   s = !0;
   let a = n.classNames.length;
   if (a > 0 && e.hasUsedClassNames) for (r = 0; r < a; r++) if (!o.classNames.has(n.classNames[r])) {
    s = !1;
    break;
   }
   if (s && e.hasUsedTags && (a = n.tags.length, a > 0)) for (r = 0; r < a; r++) if (!o.tags.has(n.tags[r])) {
    s = !1;
    break;
   }
   if (s && e.hasUsedAttrs && (a = n.attrs.length, a > 0)) for (r = 0; r < a; r++) if (!o.attrs.has(n.attrs[r])) {
    s = !1;
    break;
   }
   if (s && e.hasUsedIds && (a = n.ids.length, a > 0)) for (r = 0; r < a; r++) if (!o.ids.has(n.ids[r])) {
    s = !1;
    break;
   }
   s || i.splice(t, 1);
  }
 }
 if (0 === i.length) return "";
 const a = [];
 let l = "";
 if (t.selectors) for (const e of t.selectors) l = removeSelectorWhitespace(e), a.includes(l) || a.push(l);
 return `${a}{${serializeCssMapVisit(e, n)}}`;
}, serializeCssDeclaration = (e, t, r) => "" === e.value ? "" : r - 1 === t ? e.property + ":" + e.value : e.property + ":" + e.value + ";", serializeCssMedia = (e, t) => {
 const r = serializeCssMapVisit(e, t.rules);
 return "" === r ? "" : "@media " + removeMediaWhitespace(t.media) + "{" + r + "}";
}, serializeCssKeyframes = (e, t) => {
 const r = serializeCssMapVisit(e, t.keyframes);
 return "" === r ? "" : "@" + (t.vendor || "") + "keyframes " + t.name + "{" + r + "}";
}, serializeCssKeyframe = (e, t) => {
 var r, s;
 return (null !== (s = null === (r = t.values) || void 0 === r ? void 0 : r.join(",")) && void 0 !== s ? s : "") + "{" + serializeCssMapVisit(e, t.declarations) + "}";
}, serializeCssFontFace = (e, t) => {
 const r = serializeCssMapVisit(e, t.declarations);
 return "" === r ? "" : "@font-face{" + r + "}";
}, serializeCssSupports = (e, t) => {
 const r = serializeCssMapVisit(e, t.rules);
 return "" === r ? "" : "@supports " + t.supports + "{" + r + "}";
}, serializeCssPage = (e, t) => {
 var r, s;
 return "@page " + (null !== (s = null === (r = t.selectors) || void 0 === r ? void 0 : r.join(", ")) && void 0 !== s ? s : "") + "{" + serializeCssMapVisit(e, t.declarations) + "}";
}, serializeCssDocument = (e, t) => {
 const r = serializeCssMapVisit(e, t.rules), s = "@" + (t.vendor || "") + "document " + t.document;
 return "" === r ? "" : s + "{" + r + "}";
}, serializeCssMapVisit = (e, t) => {
 let r = "";
 if (t) for (let s = 0, n = t.length; s < n; s++) r += serializeCssVisitNode(e, t[s], s, n);
 return r;
}, removeSelectorWhitespace = e => {
 let t = "", r = "", s = !1;
 for (let n = 0, o = (e = e.trim()).length; n < o; n++) if (r = e[n], "[" === r && "\\" !== t[t.length - 1] ? s = !0 : "]" === r && "\\" !== t[t.length - 1] && (s = !1), 
 !s && CSS_WS_REG.test(r)) {
  if (CSS_NEXT_CHAR_REG.test(e[n + 1])) continue;
  if (CSS_PREV_CHAR_REG.test(t[t.length - 1])) continue;
  t += " ";
 } else t += r;
 return t;
}, removeMediaWhitespace = e => {
 var t;
 let r = "", s = "";
 for (let n = 0, o = (e = null !== (t = null == e ? void 0 : e.trim()) && void 0 !== t ? t : "").length; n < o; n++) if (s = e[n], 
 CSS_WS_REG.test(s)) {
  if (CSS_WS_REG.test(r[r.length - 1])) continue;
  r += " ";
 } else r += s;
 return r;
}, CSS_WS_REG = /\s/, CSS_NEXT_CHAR_REG = /[>\(\)\~\,\+\s]/, CSS_PREV_CHAR_REG = /[>\(\~\,\+]/, collectUsedSelectors = (e, t) => {
 if (null != t && 1 === t.nodeType) {
  const r = t.children, s = t.nodeName.toLowerCase();
  e.tags.add(s);
  const n = t.attributes;
  for (let r = 0, s = n.length; r < s; r++) {
   const s = n.item(r), o = s.name.toLowerCase();
   if (e.attrs.add(o), "class" === o) {
    const r = t.classList;
    for (let t = 0, s = r.length; t < s; t++) e.classNames.add(r.item(t));
   } else "id" === o && e.ids.add(s.value);
  }
  if (r) for (let t = 0, s = r.length; t < s; t++) collectUsedSelectors(e, r[t]);
 }
}, removeUnusedStyles = (e, t) => {
 try {
  const r = e.head.querySelectorAll("style[data-styles]"), s = r.length;
  if (s > 0) {
   const n = (e => {
    const t = {
     attrs: new Set,
     classNames: new Set,
     ids: new Set,
     tags: new Set
    };
    return collectUsedSelectors(t, e), t;
   })(e.documentElement);
   for (let e = 0; e < s; e++) removeUnusedStyleText(n, t, r[e]);
  }
 } catch (e) {
  ((e, t, r) => {
   const s = {
    level: "error",
    type: "build",
    header: "Build Error",
    messageText: "build error",
    lines: []
   };
   null != t && (null != t.stack ? s.messageText = t.stack.toString() : null != t.message ? s.messageText = t.message.length ? t.message : "UNKNOWN ERROR" : s.messageText = t.toString()), 
   null == e || (e => e === TASK_CANCELED_MSG)(s.messageText) || e.push(s);
  })(t, e);
 }
}, removeUnusedStyleText = (e, t, r) => {
 try {
  const s = parseCss(r.innerHTML);
  if (t.push(...s.diagnostics), hasError(t)) return;
  try {
   r.innerHTML = ((e, t) => {
    const r = t.usedSelectors || null, s = {
     usedSelectors: r || null,
     hasUsedAttrs: !!r && r.attrs.size > 0,
     hasUsedClassNames: !!r && r.classNames.size > 0,
     hasUsedIds: !!r && r.ids.size > 0,
     hasUsedTags: !!r && r.tags.size > 0
    }, n = e.rules;
    if (!n) return "";
    const o = n.length, i = [];
    for (let e = 0; e < o; e++) i.push(serializeCssVisitNode(s, n[e], e, o));
    return i.join("");
   })(s.stylesheet, {
    usedSelectors: e
   });
  } catch (e) {
   t.push({
    level: "warn",
    type: "css",
    header: "CSS Stringify",
    messageText: e,
    lines: []
   });
  }
 } catch (e) {
  t.push({
   level: "warn",
   type: "css",
   header: "CSS Parse",
   messageText: e,
   lines: []
  });
 }
}, SKIP_ATTRS = new Set([ "s-id", "c-id" ]), createHydrateBuildId = () => {
 let e = "abcdefghijklmnopqrstuvwxyz", t = "";
 for (;t.length < 8; ) t += e[Math.floor(Math.random() * e.length)], 1 === t.length && (e += "0123456789");
 return t;
};

exports.createWindowFromHtml = createWindowFromHtml;
exports.hydrateDocument = hydrateDocument;
exports.renderToString = renderToString;
exports.serializeDocumentToString = serializeDocumentToString;
