/*!
 * Built with Duet Design System
 */
'use strict';

const languageUtils = require('./language-utils-e8a527e5.js');
const stringUtils = require('./string-utils-053749ff.js');

const getError = (code, errorCodes) => {
    let error = {
        type: undefined,
        system_message: undefined,
        message: undefined,
    };
    errorCodes = stringUtils.parsePossibleJSON(errorCodes);
    error = errorCodes.filter(errorItem => {
        // the == is intentional we may be comparing numbers to strings - and that is ok here
        return errorItem.type == code;
    })[0];
    if (!error) {
        error = errorCodes.filter(errorItem => {
            return errorItem.type === "default";
        })[0];
    }
    return error;
};
const getI18nError = (errorCode, errorCodes) => {
    const errorFromJson = getError(errorCode, errorCodes);
    const i18String = languageUtils.getLocaleString(errorFromJson.message);
    if (i18String === "" || !i18String) {
        return errorFromJson.system_message;
    }
    else {
        return i18String;
    }
};

exports.getError = getError;
exports.getI18nError = getI18nError;
