/*!
 * Built with Duet Design System
 */
import { createPage } from "../../utils/test-utils";
describe("duet-card", () => {
    it("should render a card", async () => {
        const page = await createPage(`<duet-card></duet-card>`);
        const component = await page.find("duet-card");
        expect(component).not.toBeNull();
    });
    it("should provide a property that removes the margin of the component", async () => {
        const page = await createPage(`<duet-card margin="none">card</duet-card>`);
        const element = await page.find(".duet-m-0");
        expect(element).not.toBeNull();
    });
    it("should provide a property that removes the padding of the component", async () => {
        const page = await createPage(`<duet-card padding="none"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card");
        expect(element).toHaveClass("none");
    });
    it("should provide a property that switches the theme", async () => {
        const page = await createPage(`<duet-card theme="turva"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card");
        expect(element).toHaveClass("duet-theme-turva");
    });
    it("should provide a property that renders heading", async () => {
        const page = await createPage(`<duet-card heading="test"></duet-card>`);
        const element = await page.find("duet-card >>> h2");
        expect(element.innerText).toEqual("test");
    });
    it("should provide a property that renders the card as link", async () => {
        const page = await createPage(`<duet-card url="#test"></duet-card>`);
        const element = await page.find("duet-card >>> a");
        expect(element.getAttribute("href")).toEqual("#test");
    });
    it("should provide a property that changes the padding of the card", async () => {
        const page = await createPage(`<duet-card padding="large"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card");
        expect(element).toHaveClass("large");
    });
    it("should provide a property that sets icon for the heading", async () => {
        const page = await createPage(`<duet-card heading="test" icon="form-location"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-icon");
        expect(element).not.toBeNull();
    });
    it("should not add an icon for the heading if the prop isn’t used", async () => {
        const page = await createPage(`<duet-card heading="test" padding="large"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-icon");
        expect(element).toBeNull();
    });
    it("should provide a property that sets the level for the heading", async () => {
        const page = await createPage(`<duet-card heading="test" heading-level="h1"></duet-card>`);
        const element = await page.find("duet-card >>> h1");
        expect(element).not.toBeNull();
    });
    it("should render a h2 heading if no level is provided", async () => {
        const page = await createPage(`<duet-card heading="test"></duet-card>`);
        const element = await page.find("duet-card >>> h2");
        expect(element).not.toBeNull();
    });
    it("should render a block wrapper if div heading is provided", async () => {
        const page = await createPage(`<duet-card heading="test" heading-level="div"></duet-card>`);
        const element = await page.find("duet-card >>> div.duet-card-heading");
        expect(element.tagName).toEqual("DIV");
    });
    it("should provide a property that makes the card collapsible", async () => {
        const page = await createPage(`<duet-card collapsible heading="test"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-heading button");
        expect(element.getAttribute("aria-expanded")).toBe("true");
        await element.click();
        expect(element.getAttribute("aria-expanded")).toBe("false");
    });
    it("should allow the card to be initially collapsed", async () => {
        const page = await createPage(`<duet-card collapsible heading="test" open="false"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-heading button");
        expect(element.getAttribute("aria-expanded")).toBe("false");
        await element.click();
        expect(element.getAttribute("aria-expanded")).toBe("true");
    });
    it("should provide a property that adds an image", async () => {
        const IMAGE = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==";
        const page = await createPage(`<duet-card image=${IMAGE}></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-image");
        expect(element).not.toBeNull();
    });
    it("should not add image markup when image property isn’t used", async () => {
        const page = await createPage(`<duet-card heading="test"></duet-card>`);
        const element = await page.find("duet-card >>> .duet-card-image");
        expect(element).toBeNull();
    });
});
