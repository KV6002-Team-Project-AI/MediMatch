/*!
 * Built with Duet Design System
 */
import { createPage } from "../../utils/test-utils";
describe("duet-cookie-consent", () => {
    const generatePage = async (theme = "") => {
        return createPage(`
      <duet-cookie-consent accessible-label="Hyväksyn evästeiden käytön" theme=${theme}>
        Käytämme evästeitä. Käyttämällä verkkosivujamme hyväksyt evästeiden käyton.
        <a href="#" target="_blank" aria-label="Lue lisää evästeiden käytöstä sivustolla">Lue lisää</a>
      </duet-cookie-consent>
    `);
    };
    it("renders", async () => {
        const page = await generatePage();
        const cookieConsent = await page.find("duet-cookie-consent");
        expect(cookieConsent).toHaveClass("hydrated");
    });
    it("raises an event on button click", async () => {
        const page = await generatePage();
        const cookieConsent = await page.find("duet-cookie-consent");
        const eventSpy = await cookieConsent.spyOnEvent("duetCookieConsent");
        const button = await page.find("duet-cookie-consent >>> duet-button");
        await button.click();
        expect(eventSpy).toHaveReceivedEventTimes(1);
    });
});
