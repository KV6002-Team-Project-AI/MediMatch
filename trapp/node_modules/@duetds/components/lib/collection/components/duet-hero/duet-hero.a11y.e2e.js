/*!
 * Built with Duet Design System
 */
import { formatViolations, options as axeRunOptions, testWithAxe } from "../../utils/axe-core-utils";
describe("[a11y] duet-hero", () => {
    it("should render an accessible component", async () => {
        const result = await testWithAxe(`
        <duet-hero
          description="Tällä sivulla näet vakuutuksiisi liittyvät laskut. Voit myös
            vaihtaa e-laskutukseen klikkaamalla&nbsp;alta."
          image="https://cdn.duetds.com/api/assets/illustrations/placeholder-light.svg"
          button-label="Vaihda e-laskutukseen"
          button-url="#"
          >
          <div slot="heading">Laskut</div>
        </duet-hero>

        <script>
          // Select the above hero area component
          var hero = document.querySelector("duet-hero")

          // Set meta data that is passed when the CTA button is clicked
          hero.buttonData = {
            type: "action",
            message: "Hello World!",
          }
        </script>
      `, axeRunOptions);
        expect(result).not.toBeNull();
        expect(formatViolations(result.violations)).toEqual([]);
    });
    it("should render an accessible component in campaign variation", async () => {
        const result = await testWithAxe(`
        <duet-hero
          description="Lorem ipsum dolor sit amet consectetur. Dignissim et arcu sed dolor a rhoncus."
          image="https://www.duetds.com/assets/img/example-bg1.jpg"
            variation="campaign"
        >
          <div slot="heading">Terveys ensin</div>
          <div slot="subheading">Varmista oma ja perheesi toimeentulo vahingon varalta</div>
          <duet-button variation="primary" margin="none">Tutustu terveysvakuutuksiin</duet-button>
        </duet-hero>
      `, axeRunOptions);
        expect(result).not.toBeNull();
        expect(formatViolations(result.violations)).toEqual([]);
    });
    it("should render an accessible component in content variation", async () => {
        const result = await testWithAxe(`
        <duet-hero
          description="Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas mauris integer non sed viverra. Ultricies in ut neque id proin justo interdum sed. Tortor id suspendisse quis a aliquet tempus parturient cursus pretium. At nisl volutpat diam habitant elementum."
          image="https://www.duetds.com/assets/img/example-brand1.png"
            variation="content"
          left-align
          layout="narrow"
        >
          <span slot="pre-heading" style="display: inline-flex; align-items: center; justify-content: center;">
            Työelämä
            <span
              style="display: inline-block; width: 3px; height: 3px; border-radius: 100%; background: #0077B3; margin: 0 0.25rem;"
            ></span>
            21.3.2023
          </span>
          <div slot="heading">Lorem ipsum dolor sit</div>
          <duet-button variation="plain"  icon="action-arrow-right" icon-right margin="none">Link to service</duet-button>
        </duet-hero>
      `, axeRunOptions);
        expect(result).not.toBeNull();
        expect(formatViolations(result.violations)).toEqual([]);
    });
});
