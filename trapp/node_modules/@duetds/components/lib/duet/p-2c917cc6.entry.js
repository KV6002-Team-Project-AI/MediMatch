/*!
 * Built with Duet Design System
 */
import{r as e,h as t,g as i}from"./p-662da762.js";import{i as a}from"./p-a58bd561.js";import{g as s}from"./p-2e36d5bf.js";import{a as o}from"./p-fabb616b.js";import"./p-0e052642.js";const n=class{constructor(t){e(this,t),this.fileUploadingInfo={fi:"Tiedosto latautuu",sv:"Filen laddas upp",en:"File is uploading"},this.onLinkClick=e=>{const{url:t,meta:i}=this.data;this.linkClickEvent&&(e.preventDefault(),this.linkClickEvent.emit({component:"duet-upload",data:{name:this.data.item.name,url:t,meta:i}}))},this.theme="",this.data=void 0,this.type=void 0,this.showLinks=void 0,this.actions=void 0,this.label=void 0,this.categoryLabel=void 0,this.errorCodes=void 0,this.showCategory=void 0,this.linkClickEvent=void 0}componentWillLoad(){a(this)}async focusActionButton(){this.actionButton&&(await this.actionButton.setFocus({preventScroll:!0}),this.actionButton.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"}))}getFileNameLine(){const{item:e,size:i,uploaded:a,url:n,progress:r,error:l}=this.data,{name:d}=e,c=t("span",{class:"duet-upload-item-name"},t("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),t("duet-spacer",{size:"xx-small",direction:"horizontal"}),d),m=t("span",{class:"duet-upload-item-size",style:{fontSize:"14px",fontWeight:"400"}},"(",((e,t=2)=>{if(0===e)return"0 Bytes";const i=t<0?0:t,a=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,a)).toFixed(i))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]})(i),")");switch(this.type){case"inprogress":return t("span",{class:"duet-upload-item-name",role:"status"},t("duet-paragraph",{class:"duet-upload-item-name",color:"gray-darker",margin:"none",weight:"semi-bold"},t("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),t("duet-spacer",{size:"xx-small",direction:"horizontal"}),d),t("duet-visually-hidden",null,t("duet-paragraph",null,s(this.fileUploadingInfo))),t("duet-progress",{progress:Math.ceil(r),"aria-hidden":!0}));case"pending":return t("span",{class:"duet-upload-item-name"},t("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),t("duet-spacer",{size:"xx-small",direction:"horizontal"}),d);case"failure":return t("span",{class:"duet-upload-item-error",role:"status"},t("duet-paragraph",{class:"duet-upload-item-name",color:"danger",margin:"none",weight:"semi-bold"},t("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),t("duet-spacer",{size:"xx-small",direction:"horizontal"}),d),t("duet-paragraph",{class:"duet-upload-item-error-label",size:"small",margin:"none",color:"danger"},o(l.type,this.errorCodes)));default:return t("duet-paragraph",{color:"secondary",margin:"none",weight:"semi-bold"},a&&n&&this.showLinks?t("duet-link",{class:"file-link",onClick:this.onLinkClick,url:n},c):c,t("duet-spacer",{size:"xx-small",direction:"horizontal"}),m)}}render(){const{uid:e,meta:i,item:a}=this.data,o=i&&i.badges?t("span",null,i.badges.map((e=>t("duet-badge",{color:"primary"},e)))):void 0,n=`${i&&i.badges?i.badges.join(","):""} ${a.name}`;return t("div",{class:{"upload-item-row":!0}},this.showCategory&&t("div",{class:"item-categories"},t("duet-heading",{class:"heading",color:"color-secondary",level:"h6",weight:"semibold"},s(this.categoryLabel)),o),t("div",{class:{"item-name":!0,"no-category":!this.showCategory}},!!this.label&&t("duet-heading",{class:"heading",color:"color-secondary",level:"h6",weight:"semibold"},s(this.label)),this.getFileNameLine()),t("div",{class:"item-actions"},this.actions.map((a=>t("duet-action-button",{actionMeta:Object.assign({},i||{}),actionId:e||null,actionName:a.name,theme:this.theme,iconName:a.icon,iconColor:a.color,iconSize:a.size,background:a.background,"accessible-label":`${n} ${s(a.label)} `,accessibleTitle:!1,ref:e=>this.actionButton=e})))))}get element(){return i(this)}};n.style=".file-link::part(duet-link){text-decoration:none}";export{n as duet_upload_item}