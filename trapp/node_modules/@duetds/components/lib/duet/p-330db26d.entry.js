/*!
 * Built with Duet Design System
 */
import{r as t,c as i,h as e,F as a,H as s,g as n}from"./p-662da762.js";import{i as o}from"./p-a58bd561.js";import{c as r}from"./p-5e59e970.js";import{d as h}from"./p-9e371678.js";import{k as l,l as p,d,b as u,a as c,c as g,m,n as b}from"./p-2bb2b022.js";import{g as v,c as f,d as k}from"./p-2e36d5bf.js";import{p as y}from"./p-0e052642.js";import{b as w,a as x}from"./p-e5c0b71a.js";import"./p-b9157c7e.js";const S=class{constructor(e){t(this,e),this.duetPageChange=i(this,"duetPageChange",3),this.listId=r("duet-pagination-list"),this.firstRenderDone=!1,this.handleMediaQueryChange=t=>{this.matchesCompactBreakpoint=w.includes(this.compactBreakpoint)?t.matches:!t.matches},this.actionChain=async(t,i)=>{if(0===t)this.current=1;else if(t>this.totalPages)this.current=this.totalPages;else if(i!==t){const i=Math.ceil(t/this.visibleItems)-1;i!==this.internalSectionIndex&&(this.internalSectionIndex=i,await this.setFocus())}return!0},this.emitPageEvent=(t,i)=>{const e=Number(i||this.current);this.duetPageChange.emit({component:"duet-pagination",from:e*this.take,to:e*this.take+this.take,current:e,take:this.take,type:"page",originalEvent:t})},this.getEnteredNumber=h((t=>{this.emitPageEvent(t,this.numbersStore),this.current=Number(this.numbersStore),this.numbersStore="",this.duetPageChange.emit({component:"duet-pagination",from:this.current*this.take,to:this.current*this.take+this.take,current:this.current,take:this.take,type:"jump",originalEvent:t})}),500),this.processedPageLinks=null,this.numbersStore="",this.matchesCompactBreakpoint=!1,this.totalPages=10,this.internalSectionIndex=0,this.theme="",this.variation="default",this.accessibleDescribedBy=void 0,this.accessibleDetails=void 0,this.accessibleLabelledBy=void 0,this.accessibleDescription=void 0,this.accessibleLabelsDefaults={en:{next_page:"Next page",previous_page:"Previous page",first_page:"First page",last_page:"Last page",jump_to:"Jump to page",go_to:"Go to page",description:"You may use arrow keys to select page number",pagination_label:"Pagination, choose a number to jump to a page",select_label:"Total pages {0}, choose a number to jump to a page",prev_section:"Show previous {0} page numbers, screen reader user should use arrowkeys to navigate",next_section:"Show next {0} page numbers, screen reader user should use arrowkeys to navigate"},fi:{next_page:"Seuraava sivu",previous_page:"Edellinen sivu",first_page:"Ensimmäinen sivu",last_page:"Viimeinen sivu",jump_to:"Siirry sivulle",go_to:"Siirry sivulle",description:"Voit käyttää nuolinäppäimiä sivunumeron valitsemiseen",pagination_label:"Sivutus, valitse sivunumero siirtyäksesi sivulle",select_label:"Sivuja yhteensä {0}, valitse sivunumero siirtyäksesi sivulle",prev_section:"Näytä edelliset {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi",next_section:"Näytä seuraavat {0} sivunumerot, käyttäjän pitää käyttää nuolinäppäimiä navigoidaksesi"},sv:{next_page:"Nästa sida",previous_page:"Föregående sida",first_page:"Första sidan",last_page:"Sista sidan",jump_to:"Hoppa till sida",go_to:"Hoppa till sida",description:"Du kan använda piltangenterna för att välja sida",pagination_label:"Paginering, välj en siffra för att hoppa till en sida",select_label:"Totalt antal sidor {0}, välj en siffra för att hoppa till en sida",prev_section:"Visa föregående {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera",next_section:"Visa nästa {0} sidnummer, skrivbordsläsare ska använda piltangenterna för att navigera"}},this.accessibleLabels=v(this.accessibleLabelsDefaults),this.take=5,this.visibleItems=5,this.total=1e3,this.compactBreakpoint="x-small",this.ariaControls="",this.current=1,this.pageLinks=void 0}watchPropTotalHandler(){return this.calculatePageTake(),!0}watchStateHandler(t,i){return this.actionChain(t,i)}componentWillLoad(){this.internalSectionIndex=Math.ceil(this.current/this.visibleItems)-1,this.calculatePageTake(),o(this),this.refresh()}componentDidLoad(){this.firstRenderDone=!0}componentWillRender(){0!==this.internalSectionIndex&&this.internalSectionIndex!==this.totalPages&&this.calculatePageTake()}componentDidRender(){this.firstRenderDone&&!this.processedPageLinks&&this.setFocus()}connectedCallback(){this.mq=matchMedia("none"===this.compactBreakpoint?"all":x[this.compactBreakpoint]),this.mq.addEventListener("change",h(this.handleMediaQueryChange,50)),this.handleMediaQueryChange(this.mq),f(this,{prop:"accessibleLabels",defaults:"accessibleLabelsDefaults"})}disconnectedCallback(){this.mq.removeEventListener("change",this.handleMediaQueryChange),this.mq=null,this.matchesCompactBreakpoint=!1,k(this)}async refresh(){this.processedPageLinks=y(this.pageLinks)}calculatePageTake(){this.totalPages=Math.ceil(this.total/this.take)}async onMouseHandler(t,i){this.processedPageLinks||(t.preventDefault(),t.stopPropagation(),this.current=this.current+i),this.emitPageEvent(t)}async onKeyboardDown(t){let i=this.current;(d(t)||u(t))&&i--,(c(t)||g(t))&&i++,l(t)&&i<=this.totalPages&&(this.current=i,this.processedPageLinks?(this.emitPageEvent(t,i-1),window.open(this.processedPageLinks[i-1],"_self","")):this.emitPageEvent(t)),p(t)&&this.shouldDisplayNavigation()&&(this.numbersStore=this.numbersStore+t.key,Number(this.numbersStore)>this.totalPages&&(this.numbersStore=this.totalPages+""),this.getEnteredNumber(t))}async setFocus(){const t=this.nativeNav.querySelector(`[data-id='${this.current}']`);t&&await t.setFocus()}pageClickHandler(t){const i=Number(t.target.getAttribute("data-id"));this.processedPageLinks||(t.preventDefault(),this.current=i),this.emitPageEvent(t,i)}selectClickHandler(t){t.preventDefault();const i=Number(t.target.value);this.current=i,this.processedPageLinks?(this.emitPageEvent(t,i-1),window.open(this.processedPageLinks[i-1],"_self","")):this.emitPageEvent(t,i)}sectionClickHandler(t,i){t.preventDefault();let e=this.internalSectionIndex+i;e*(this.take*this.visibleItems)>this.total&&(e=this.internalSectionIndex),this.internalSectionIndex=e>=0?e:0}jumpToStart(t){this.processedPageLinks||(t.preventDefault(),this.internalSectionIndex=0,this.current=1),this.emitPageEvent(t)}jumpToEnd(t){this.processedPageLinks||(t.preventDefault(),this.internalSectionIndex=Math.ceil(this.totalPages/this.take-1),this.current=this.totalPages),this.emitPageEvent(t)}renderPageButton(t){return e("duet-button",{class:{"duet-pagination-link":!0},id:`page-${t}-button`,color:t!==this.current?"turva"!==this.theme?"secondary":"secondary-turva":"turva"!==this.theme?"primary":"primary-turva","data-id":t,"center-text":!0,variation:"plain",margin:"none",accessibleLabel:`${this.accessibleLabels.go_to} ${t}`,onClick:t=>this.pageClickHandler(t),theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[t-1]:void 0},e("div",{class:"duet-pagination-page-number","aria-hidden":!0},t))}renderPageNumbers(){const t=[];let i=this.internalSectionIndex*this.visibleItems;do{if(i++,i>this.totalPages)break;t.push(e("li",{class:{"duet-pagination-item":!0,"duet-pagination-item-is-active":i===this.current},role:"menuitem"},this.renderPageButton(i)))}while(i<this.visibleItems+this.internalSectionIndex*this.visibleItems);return t}renderSelect(){const t=[];for(let i=1;i<=this.totalPages;i++)t.push({value:i.toString(),label:i.toString()});const i=e("duet-select",{theme:this.theme,class:"duet-pagination-select",variation:"compact",items:JSON.stringify(t),value:this.current.toString(),label:this.accessibleLabels.select_label.replace("{0}",`${this.totalPages}`),labelHidden:!0,onDuetChange:t=>this.selectClickHandler(t)});return e("li",null,i,e("span",{class:"duet-pagination-total-pages","aria-hidden":"true"},"/ ",this.totalPages))}shouldDisplayNavigation(){return!("compact"===this.variation||this.matchesCompactBreakpoint||2*this.visibleItems>this.total/this.take)}render(){return e(s,{onKeyDown:t=>this.onKeyboardDown(t),class:{"duet-theme-turva":"turva"===this.theme}},e("nav",{role:"navigation","aria-labelledby":this.accessibleLabelledBy?`${this.accessibleLabelledBy} ${this.listId}`:this.listId,"aria-describedby":this.accessibleDescribedBy?`${this.accessibleDescribedBy} ${this.listId}`:this.listId,"aria-descriptions":this.accessibleDescription,"aria-details":this.accessibleDetails,ref:t=>this.nativeNav=t,"aria-controls":this.ariaControls,class:{"duet-pagination-nav":!0,[`duet-pagination-variation-${this.variation}`]:!0}},""!==this.numbersStore&&e("div",{"aria-live":"assertive","aria-relevant":"text",class:"duet-pagination-overlay","aria-label":`${this.accessibleLabels.jump_to} ${this.numbersStore}`,part:"navigation-overlay"},e("duet-badge",{theme:this.theme},"jump to page : ",this.numbersStore)),e("ol",{id:this.listId,class:{"duet-pagination":!0,"duet-pagination-is-dimmed":""!==this.numbersStore},role:"menubar","aria-label":this.accessibleLabels.pagination_label,"aria-description":this.accessibleLabels.description},("compact"===this.variation||this.matchesCompactBreakpoint)&&e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-first":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:0===this.internalSectionIndex&&this.current<=1,"data-direction":"back",accessibleLabel:this.accessibleLabels.first_page,title:this.accessibleLabels.first_page,onClick:t=>this.jumpToStart(t),"icon-name":"action-move-to-first",theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[0]:void 0})),e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-first":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:!!(0===this.internalSectionIndex&&this.current<=1||this.current<=1&&this.processedPageLinks),"data-direction":"back",onClick:t=>this.onMouseHandler(t,-1),"accessible-label":this.accessibleLabels.previous_page,title:this.accessibleLabels.previous_page,"icon-name":"action-arrow-left-small",theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[this.current-2]:void 0})),0!==this.internalSectionIndex&&this.shouldDisplayNavigation()&&e(a,null,e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-back","center-text":"true",variation:"plain",color:"turva"!==this.theme?"secondary":"secondary-turva",margin:"none",accessibleLabel:this.accessibleLabels.first_page,onClick:t=>this.jumpToStart(t),theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[0]:void 0},e("div",{class:"duet-pagination-page-number"},"1"))),e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-back","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.prev_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,-1),theme:this.theme},e("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"…")))),this.shouldDisplayNavigation()&&this.renderPageNumbers()||this.renderSelect(),(this.internalSectionIndex+1)*this.visibleItems<this.totalPages&&this.shouldDisplayNavigation()&&e(a,null,(this.internalSectionIndex+1)*this.visibleItems!=this.totalPages-1&&e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-section"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-dots-forward","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.next_section.replace("{0}",`${this.visibleItems}`),onClick:t=>this.sectionClickHandler(t,1),theme:this.theme},e("div",{class:"duet-pagination-page-number","aria-hidden":"true"},"…"))),e("li",{class:"duet-pagination-item",role:"menuitem",part:"navigation-jump"},e("duet-button",{class:"duet-pagination-link duet-pagination-link-jump-forward","center-text":"true",color:"turva"!==this.theme?"secondary":"secondary-turva",variation:"plain",margin:"none",accessibleLabel:this.accessibleLabels.last_page,onClick:t=>this.jumpToEnd(t),theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[this.processedPageLinks.length-1]:void 0},e("div",{class:"duet-pagination-page-number"},this.totalPages)))),e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-last":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:!!(this.current===this.totalPages&&this.internalSectionIndex===Math.ceil(this.totalPages/this.visibleItems)-1||this.current===this.totalPages&&this.processedPageLinks),class:"duet-date-dialog-next","accessible-label":this.accessibleLabels.next_page,title:this.accessibleLabels.next_page,onClick:t=>this.onMouseHandler(t,1),"icon-name":"action-move-to-next",theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[this.current]:void 0})),("compact"===this.variation||this.matchesCompactBreakpoint)&&e("li",{class:{"duet-pagination-page-button":!0,"duet-pagination-button-last":!0},role:"menuitem",part:"navigation-arrow"},e("duet-action-button",{disabled:this.current===this.totalPages&&this.internalSectionIndex===Math.ceil(this.totalPages/this.visibleItems)-1,accessibleLabel:this.accessibleLabels.last_page,title:this.accessibleLabels.last_page,onClick:t=>this.jumpToEnd(t),"icon-name":"action-move-to-last",theme:this.theme,url:this.processedPageLinks?this.processedPageLinks[this.totalPages-1]:void 0})))))}get element(){return n(this)}static get watchers(){return{total:["watchPropTotalHandler"],current:["watchStateHandler"],pageLinks:["refresh"]}}};S.style='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-pagination-nav{position:relative}.duet-pagination ::part(button){border:0}.duet-pagination,.duet-pagination li{display:flex;flex-wrap:wrap;gap:0.1rem;align-items:center}.duet-pagination-item-is-active .duet-pagination-page-number{border-bottom-color:inherit;border-bottom-style:solid;border-bottom-width:2px}.duet-pagination duet-button{width:30px;min-width:36px;font-weight:600;text-decoration:none;border-left-width:0}.duet-pagination-overlay{position:absolute;top:1rem;z-index:300;width:100%;text-align:center}.duet-pagination.duet-pagination-is-dimmed{opacity:0.5}.duet-pagination .duet-pagination-select{margin:0 4px 0 12px !important}.duet-pagination-total-pages{margin:0;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:600 !important;line-height:1.25;color:rgb(0, 41, 77);text-align:left}:host(.duet-theme-turva) .duet-pagination-total-pages{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}';const _=class{constructor(e){t(this,e),this.duetRangeStepUpdate=i(this,"duetRangeStepUpdate",7),this.leftBn=r("duetRangeStepper-left"),this.rightBn=r("duetRangeStepper-right"),this.handleClick=(t,i)=>{t.preventDefault(),this.stepIndex+=i,this.clampStepIndex(),this.handleStepClick(t)},this.theme="",this.stepIndex=1,this.stepSize=50,this.total=1e3,this.ariaLabelsDefaults={en:{next_increment:"Next range increment",previous_increment:"Previous range increment",x_of_y:"{0}–{1} of {2}"},fi:{next_increment:"Seuraava välillä",previous_increment:"Edellinen välillä",x_of_y:"{0}–{1} / {2}"},sv:{next_increment:"Nästa intervall",previous_increment:"Föregående intervall",x_of_y:"{0}–{1} av {2}"}},this.ariaLabels=v(this.ariaLabelsDefaults),this.ariaControls=""}watchStepIndexStateHandler(t){this.leftBnRef&&this.rightBnRef&&(t<=1?(this.element===document.activeElement&&this.rightBnRef.setFocus(),this.leftBnRef.setAttribute("disabled","")):this.leftBnRef.removeAttribute("disabled"),t>=this.total/this.stepSize?(this.element===document.activeElement&&this.leftBnRef.setFocus(),this.rightBnRef.setAttribute("disabled","")):this.rightBnRef.removeAttribute("disabled"))}watchStepSizeStateHandler(t,i){t!==i&&(this.stepIndex*t>this.total&&(this.stepIndex=Math.ceil(this.total/t)),this.watchStepIndexStateHandler(this.stepIndex))}handleStepClick(t){this.duetRangeStepUpdate.emit({originalEvent:t,component:"duet-range-stepper",from:this.getFrom(),to:this.getTo(),index:this.stepIndex})}componentWillLoad(){o(this),this.clampStepIndex()}componentDidLoad(){this.watchStepIndexStateHandler(this.stepIndex)}connectedCallback(){f(this,{prop:"ariaLabels",defaults:"ariaLabelsDefaults"})}disconnectedCallback(){k(this)}clampStepIndex(){this.stepIndex<1?this.stepIndex=1:this.stepIndex*this.stepSize>this.total&&(this.stepIndex=Math.ceil(this.total/this.stepSize))}getFrom(){return Math.floor((this.stepIndex-1)*this.stepSize)+1}getTo(){return Math.min(Math.floor(this.stepIndex*this.stepSize),this.total)}generateStepSize(){return this.ariaLabels.x_of_y.replace("{0}",String(this.getFrom())).replace("{1}",String(this.getTo())).replace("{2}",String(this.total))}generatePreviousIncrementLabel(){return 1===this.getFrom()?"":this.ariaLabels.x_of_y.replace("{0}",String(Math.max(this.getFrom()-this.stepSize,1))).replace("{1}",String(Math.min(this.getFrom()-1,this.total))).replace("{2}",String(this.total))}generateNextIncrementLabel(){return this.getTo()===this.total?"":this.ariaLabels.x_of_y.replace("{0}",String(this.getTo()+1)).replace("{1}",String(Math.min(this.getTo()+this.stepSize,this.total))).replace("{2}",String(this.total))}async onKeyboardDown(t){let i=this.stepIndex,e=1;(d(t)||u(t)||m(t))&&(i--,e=-1,this.leftBnRef.setFocus()),(c(t)||g(t)||b(t))&&(i++,e=1),l(t)&&i>0&&i*this.stepSize<=this.total&&this.handleClick(t,e)}render(){return e("div",{class:{"duet-range-stepper":!0,"duet-theme-turva":"turva"===this.theme},onKeyDown:t=>this.onKeyboardDown(t),"aria-controls":this.ariaControls},e("span",{class:"duet-range-step-counter",part:"range-numbers"},this.generateStepSize()),e("duet-action-button",{class:"duet-range-step-button duet-range-step-minus",onClick:t=>this.handleClick(t,-1),id:this.leftBn,"accessible-label":`${this.ariaLabels.previous_increment} ${this.generatePreviousIncrementLabel()}`,ref:t=>this.leftBnRef=t,part:"navigation-arrow",iconName:"action-arrow-left-small"}),e("duet-action-button",{class:"duet-range-step-button duet-range-step-plus",onClick:t=>this.handleClick(t,1),"accessible-label":`${this.ariaLabels.next_increment} ${this.generateNextIncrementLabel()}`,id:this.rightBn,ref:t=>this.rightBnRef=t,part:"navigation-arrow",iconName:"action-arrow-right-small"}))}get element(){return n(this)}static get watchers(){return{stepIndex:["watchStepIndexStateHandler"],stepSize:["watchStepSizeStateHandler"]}}};_.style="*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;display:inline-block;margin:0 auto}.duet-range-stepper{display:flex;flex-wrap:wrap;gap:0;align-items:baseline;justify-content:center;min-width:30px;min-height:30px;font-weight:600;text-decoration:none;border-left-width:0}.duet-range-stepper{white-space:nowrap}.duet-range-stepper .duet-range-step-counter{font-weight:600;color:rgb(0, 41, 77)}.duet-range-stepper ::part(button){border:0}";export{S as duet_pagination,_ as duet_range_stepper}