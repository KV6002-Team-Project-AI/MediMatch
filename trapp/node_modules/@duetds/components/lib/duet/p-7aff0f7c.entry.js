/*!
 * Built with Duet Design System
 */
import{r as t,c as e,h as d,g as i}from"./p-662da762.js";import{d as a,e as o}from"./p-141e14d0.js";import{i as s}from"./p-a58bd561.js";import{h as l}from"./p-11230037.js";import{c as n}from"./p-5e59e970.js";import{f as r,F as m}from"./p-16b80d3b.js";import{f as u}from"./p-2bb2b022.js";import{a as h,g as p,c as g,d as c}from"./p-2e36d5bf.js";import{T as b}from"./p-ccdff614.js";import"./p-0e052642.js";const y=class{constructor(d){var i,a;t(this,d),this.duetOpen=e(this,"duetOpen",7),this.duetClose=e(this,"duetClose",7),this.duetBeforeClose=e(this,"duetBeforeClose",7),this.modalId=n("DuetModal"),this.slotDefaultId=n("DuetModal-default-slot"),this.hasStickyHeader=!1,this.isAndroidDevice=(null===(a=null===(i=null===navigator||void 0===navigator?void 0:navigator.userAgent)||void 0===i?void 0:i.toLowerCase())||void 0===a?void 0:a.indexOf("android"))>-1||null,this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent),this.handleAndroidResizeEvents=()=>{"INPUT"==document.activeElement.tagName&&window.setTimeout((function(){var t;try{null===(t=null===document||void 0===document?void 0:document.activeElement)||void 0===t||t.scrollIntoViewIfNeeded(!0)}catch(t){}}),100)},this.open=!1,this.language=h(),this.accessibleCloseLabelDefaults={fi:"Sulje ikkuna",sv:"Stäng fönstret",en:"Close the dialog"},this.accessibleCloseLabel=p(this.accessibleCloseLabelDefaults,this.language),this.size="medium",this.accessibleDescribedBy=void 0,this.accessibleLabelledBy=void 0,this.accessibleLabel=void 0,this.accessibleDetails=void 0,this.accessibleDescription=void 0,this.variation="default",this.gutterSize="medium",this.theme="",this.heading="",this.headingLevel="h3",this.headingVisualLevel=void 0,this.icon="",this.color="",this.active=!1,this.closeOnBlur=!1}openChanged(){this.open?(this.modalEl&&this.modalEl.scrollTop&&(this.modalEl.scrollTop=0),this.focusedElBeforeOpen=document.activeElement,a(this.modalEl,{reserveScrollBarGap:!0}),this.teleport.go(!0),setTimeout((()=>{this.buttonEl.setFocus()}),600),setTimeout((()=>{this.modalEl.classList.add("duet-disable-transitions")}),800),this.isAndroidDevice&&window.addEventListener("resize",this.handleAndroidResizeEvents),this.duetOpen.emit()):(this.modalEl.classList.remove("duet-disable-transitions"),o(this.modalEl),this.duetClose.emit(),this.teleport.resume(600),setTimeout((()=>{r(this.focusedElBeforeOpen)}),600),this.isAndroidDevice&&window.removeEventListener("resize",this.handleAndroidResizeEvents))}activeChanged(){this.open=this.active}componentWillLoad(){this.hasStickyHeader=l(this.element,"sticky-header"),s(this)}componentDidLoad(){this.teleport=new b(this.element),this.active&&(this.open=!0,this.modalEl.classList.add("duet-disable-transitions"))}connectedCallback(){g(this,{prop:"accessibleCloseLabel",defaults:"accessibleCloseLabelDefaults"})}disconnectedCallback(){c(this),o(this.modalEl)}handleKeyUp(t){this.open&&u(t)&&this.closeModal(t)}async show(){this.open=!0}async hide(){this.open=!1}closeModal(t){this.duetBeforeClose.emit({originalEvent:t,component:"duet-modal"}),t.defaultPrevented||setTimeout((()=>{this.hide()}),1)}render(){var t;let e="primary",i="secondary";const a=d("div",{class:"duet-modal-close"},d("duet-button",{ref:t=>this.buttonEl=t,variation:"plain",accessibleLabel:this.accessibleCloseLabel,color:i,iconSize:"large",icon:"navigation-close",iconOnly:!0,margin:"none",theme:this.theme,onClick:t=>this.closeModal(t),fixed:!0}));return"turva"===this.theme&&(e="primary-turva",i="secondary-turva"),d("div",{ref:t=>this.modalEl=t,"aria-label":this.accessibleLabel,"aria-labelledby":!!this.heading&&this.modalId,"aria-details":this.accessibleDetails,"aria-description":this.accessibleDescription,"aria-describedby":this.accessibleDescribedBy,role:"dialog","aria-modal":!this.isSafariBrowser,tabindex:"-1","aria-flowto":this.slotDefaultId,class:{"duet-modal-overlay":!0,"duet-theme-turva":"turva"===this.theme,"duet-modal-active":this.open,"duet-modal-slide-up":"slide-up"===this.variation,"duet-modal-has-sticky-header":this.hasStickyHeader}},d(m,{moveFocusTo:this.buttonEl}),d("div",{ref:t=>this.modalInnerEl=t,class:{"duet-modal-inner":!0,[this.size]:!0,"duet-modal-slide-up":"slide-up"===this.variation},onClick:t=>{this.closeOnBlur&&(t.target||t.srcElement)===this.modalInnerEl&&this.closeModal(t)}},d("div",{class:{"duet-modal":!0,"duet-modal-has-sticky-header":this.hasStickyHeader,[this.size]:!0,[this.variation]:!0}},"none"!==this.gutterSize&&!this.hasStickyHeader&&d("duet-spacer",null),this.hasStickyHeader?d("div",{class:"duet-modal-sticky-header"},a,d("slot",{name:"sticky-header"})):a,d("div",{class:{"duet-modal-body":!0,"duet-modal-gutter-none":"none"===this.gutterSize,"duet-modal-gutter-small":"small"===this.gutterSize,"duet-modal-gutter-medium":"medium"===this.gutterSize,"duet-modal-gutter-large":"large"===this.gutterSize}},d("div",{class:"duet-modal-header"},d("span",{class:"duet-modal-inner-slot-top"},d("slot",{name:"top"})),this.icon&&d("duet-icon",{name:this.icon,size:"xx-large",color:this.color||e}),this.heading&&d("duet-heading",{"visual-level":null!==(t=this.headingVisualLevel)&&void 0!==t?t:this.headingLevel,level:this.headingLevel,theme:this.theme,id:this.modalId},this.heading)),d("span",{class:"duet-modal-inner-slot-default",id:this.slotDefaultId},d("slot",null))))),d(m,{moveFocusTo:this.buttonEl}))}get element(){return i(this)}static get watchers(){return{open:["openChanged"],active:["activeChanged"]}}};y.style='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.duet-modal-overlay{position:fixed;top:0;right:0;bottom:0;left:0;z-index:900;max-height:100vh;overflow-y:auto;visibility:hidden;background:rgba(0, 41, 77, 0.85);opacity:0;transition:300ms ease;transition-delay:200ms}.duet-modal-overlay.duet-theme-turva{background:rgba(23, 28, 58, 0.85)}.duet-modal-overlay.duet-modal-active{visibility:visible;opacity:1;transition:300ms ease;transition-delay:0s}.duet-modal-overlay.duet-disable-transitions{transition:none}.duet-modal-overlay.duet-modal-slide-up{overflow:hidden}::slotted(img){width:100%}.duet-modal-inner{display:flex;align-items:center;width:100%;min-height:100%;padding:20px 16px}@media (min-width: 36em){.duet-modal-inner{padding:48px 16px}}.duet-modal-inner.duet-modal-slide-up{align-items:stretch;justify-content:center;height:100%;padding-top:48px;padding-bottom:0;overflow:hidden}.duet-modal-inner.duet-modal-slide-up::after{position:absolute;bottom:0;z-index:300;display:block;width:100%;max-width:686px;height:48px;margin:auto;pointer-events:none;content:"";background:linear-gradient(rgba(255, 255, 255, 0), rgb(255, 255, 255))}.duet-modal-inner.duet-modal-slide-up::after.small{max-width:545px}.duet-modal-inner.duet-modal-slide-up::after.large{max-width:100%}@media (min-width: 36em){.duet-modal-inner.duet-modal-slide-up::after.large{max-width:1110px}}@media (max-width: 35.9375em){.duet-modal-inner.large{padding-right:0;padding-left:0}.duet-modal-inner.duet-modal-slide-up{padding:0;padding-top:28px}}.duet-modal{position:relative;width:100%;max-width:686px;margin:auto;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);background:rgb(255, 255, 255);border-radius:4px;opacity:0;transition:300ms ease;transition-delay:0ms;transform:scale(0.96)}.duet-theme-turva .duet-modal{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-modal-active .duet-modal{opacity:1;transition:300ms ease;transition-delay:200ms;transform:none}.duet-modal-active .duet-modal.slide-up{top:0;transition:top 600ms ease}.duet-disable-transitions .duet-modal{transition:none}.duet-modal.small{max-width:545px}.duet-modal.large{max-width:100%}@media (min-width: 36em){.duet-modal.large{max-width:1110px}}.duet-modal.slide-up{top:100vh;margin:0;border-radius:4px 4px 0 0;opacity:1;transition:top 600ms ease}@media (max-width: 35.9375em){.duet-modal.slide-up{border-radius:20px 20px 0 0}}.duet-modal.duet-modal-has-sticky-header{height:100%;overflow:auto}.duet-modal:focus{outline:0}.duet-modal-body,.duet-modal-sticky-header{width:100%;padding:36px 28px}.duet-modal-body.duet-modal-gutter-none,.duet-modal-sticky-header.duet-modal-gutter-none{padding:0 !important}.duet-modal-body.duet-modal-gutter-small,.duet-modal-sticky-header.duet-modal-gutter-small{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:48px 36px}@media (max-width: 22.5em){.duet-modal-body,.duet-modal-sticky-header{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:48px 28px}}@media (max-width: 35.9375em){.duet-modal-body,.duet-modal-sticky-header{padding:36px 20px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:48px 36px}}@media (min-width: 36em){.duet-modal-body,.duet-modal-sticky-header{padding:36px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:28px 72px}}@media (min-width: 48em){.duet-modal-body,.duet-modal-sticky-header{padding:36px 72px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:36px 72px}}@media (min-width: 76.25em){.duet-modal-body,.duet-modal-sticky-header{padding:36px 48px 48px}.duet-modal-body.duet-modal-gutter-large,.duet-modal-sticky-header.duet-modal-gutter-large{padding:48px 94px}.small .duet-modal-body,.small .duet-modal-sticky-header{padding:36px 48px}}.duet-modal-header{text-align:center}.duet-modal-sticky-header{position:sticky;top:0;z-index:200;display:block;padding-bottom:12px;text-align:left;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}.duet-theme-turva .duet-modal-sticky-header{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}.duet-modal-close{position:absolute;top:12px;right:12px}.duet-modal-heading{width:100%;padding-right:60px;overflow:hidden;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1.25rem;font-style:normal;font-weight:600;font-variant-numeric:tabular-nums;line-height:1.25;color:rgb(0, 41, 77);text-decoration:none;text-overflow:ellipsis;letter-spacing:-0.01rem;white-space:nowrap}.duet-modal-heading.duet-p-0{padding:0 !important}.duet-modal-heading.duet-m-0{margin:0 !important}';export{y as duet_modal}