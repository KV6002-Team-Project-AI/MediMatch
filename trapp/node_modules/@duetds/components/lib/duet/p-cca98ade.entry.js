/*!
 * Built with Duet Design System
 */
import{r as t,c as i,h as e,H as s,g as o}from"./p-662da762.js";import{d as a,e as d}from"./p-141e14d0.js";import{i as n}from"./p-a58bd561.js";import{h as l}from"./p-11230037.js";import{f as r,F as h}from"./p-16b80d3b.js";import{f as u}from"./p-2bb2b022.js";import{a as p,c,d as m,g}from"./p-2e36d5bf.js";import{T as b}from"./p-ccdff614.js";import{g as v}from"./p-e5c0b71a.js";import"./p-0e052642.js";import"./p-b9157c7e.js";const y=class{constructor(e){t(this,e),this.duetSlideoutEvent=i(this,"duetSlideoutEvent",7),this.exitLangObject={en:"Exit the menu",fi:"Poistu valikosta",sv:"Avsluta menyn"},this.topLevelOpenMenuBarLangObject={en:"Exit this menu to find top level items",fi:"Poistu tästä valikosta löytääksesi ylätason kohteet",sv:"Stäng den här menyn för att hitta objekt på toppnivå"},this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(null===navigator||void 0===navigator?void 0:navigator.userAgent),this.hasStickyHeaderSlot=!1,this.handleBodyScrolling=()=>{this.displaying&&this.open?a(this.dialog,{reserveScrollBarGap:!0}):d(this.dialog)},this.setOpenButton=t=>{if(t)try{const i=t;i.accessiblePopup="true",i.accessibleExpanded=!1,this.openButton=i}catch(t){}},this.openButtonEventListener=t=>{t.stopPropagation(),t.preventDefault(),this.onClick(t)},this.getOpenPanel=()=>this.element.querySelector("duet-slideout-panel[open]"),this.toggleMenu=t=>{if(this.open=!this.open,this.openButton&&(this.openButton.accessibleExpanded=this.open),this.duetSlideoutEvent.emit({originalEvent:t,data:{element:this.element,open:this.open},component:"duet-slideout"}),this.open){const t=this.getOpenPanel();this.teleport.go(!0),t?(t.setFocus(),this.handleBodyScrolling()):setTimeout((()=>{this.closeButton.focus(),this.handleBodyScrolling()}),200)}else setTimeout((()=>{r(this.openButton),this.handleBodyScrolling(),this.teleport.resume()}),200)},this.bgOnClick=t=>{this.open&&this.toggleMenu(t)},this.onClick=t=>{this.toggleMenu(t)},this.language=p(),this.displaying=!1,this.openPanel=!1,this.theme="",this.accessibleRole="menubar",this.open=!1,this.opener=void 0,this.backgroundColor="gray-lightest"}componentWillLoad(){n(this),this.hasStickyHeaderSlot=l(this.element,"sticky-header"),this.teleport=new b(this.element)}connectedCallback(){c(this),this.opener&&(this.setOpenButton(document.getElementById(this.opener)),this.openButton.addEventListener("click",this.openButtonEventListener)),this.mutationObserver=new MutationObserver((()=>{this.openPanel=!!this.getOpenPanel()})),this.mutationObserver.observe(this.element,{childList:!0,attributeFilter:["open"],subtree:!0})}componentDidRender(){this.intersectionObserver&&this.intersectionObserver.disconnect(),this.intersectionObserver=new IntersectionObserver((t=>{this.displaying=t[0].isIntersecting,this.handleBodyScrolling()})),this.intersectionObserver.observe(this.dialog)}disconnectedCallback(){m(this),d(this.dialog),this.intersectionObserver&&this.intersectionObserver.disconnect(),this.mutationObserver&&this.mutationObserver.disconnect(),this.openButton&&this.openButton.removeEventListener("click",this.openButtonEventListener)}handleKeyUp(t){u(t)&&this.open&&this.toggleMenu(t)}async setFocus(t){var i;null===(i=this.openButton)||void 0===i||i.focus(t)}async toggle(){const t=new CustomEvent("toggle");this.toggleMenu(t),setTimeout((()=>{this.closeButton.focus()}),200)}async show(){this.open||(this.setOpenButton(document.activeElement),this.toggleMenu(new CustomEvent("toggle")))}async hide(){this.open&&this.toggleMenu(new CustomEvent("toggle"))}render(){const t={background:v(this.backgroundColor,this.theme)},i=g(this.topLevelOpenMenuBarLangObject),o=g(this.exitLangObject);return e(s,null,e("div",{class:{"duet-slideout":!0,"duet-theme-turva":"turva"===this.theme}},e("div",{class:{"desktop-bg":!0,hidden:!this.open},onClick:this.bgOnClick}),e("div",{ref:t=>this.dialog=t,tabindex:"-1",role:"dialog",id:"dialog","aria-labelledby":"button","aria-modal":!this.isSafariBrowser,"aria-flowto":"slot-container",class:{dialog:!0,hidden:!this.open},style:t},e(h,{moveFocusTo:this.closeButton}),e("div",{class:{"top-container":!0,"has-sticky-header-slot":this.hasStickyHeaderSlot}},e("div",{class:"top"},e("button",{ref:t=>this.closeButton=t,"aria-haspopup":"dialog","aria-controls":"dialog","aria-expanded":this.open?"true":"false","aria-label":`${o}`,type:"button",class:{"slideout-close":!0,active:this.open},onClick:this.onClick,inert:this.openPanel},e("duet-icon",{name:"navigation-close",size:"small",margin:"none",color:"secondary"}))),e("div",{class:"sticky-header"},e("slot",{name:"sticky-header"}))),e("div",{id:"slot-container",role:this.accessibleRole,"aria-label":this.openPanel?i:null,class:{items:!0}},e("slot",null)),e(h,{moveFocusTo:this.closeButton}))))}get element(){return o(this)}};y.style='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute;height:100%}::slotted(*){position:relative;width:100%;visibility:hidden;opacity:0}:host([open]) ::slotted(*){visibility:visible;opacity:1}:host(:not([open])) ::slotted(duet-slideout-panel){display:none}.duet-slideout{display:flex;align-items:center;height:100%;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77)}.duet-slideout.duet-theme-turva{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout .desktop-bg{display:none}@media (min-width: 62em){.duet-slideout .desktop-bg{position:fixed;top:0;left:0;z-index:400;display:block;width:100%;height:100%;visibility:hidden;background:rgba(0, 41, 77, 0.6);opacity:0;transition:600ms ease}.duet-slideout .desktop-bg:not(.hidden){visibility:visible;opacity:1;transition:600ms ease}}@media (min-width: 62em){.duet-slideout.duet-theme-turva .desktop-bg{background:rgba(23, 28, 58, 0.6)}}.duet-slideout .dialog{position:fixed;top:0;bottom:0;left:0;z-index:400;width:100%;height:100%;padding-bottom:75px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1) inset}@media (min-width: 62em){.duet-slideout .dialog{right:0;left:auto;width:500px;padding-bottom:0;transition:right 300ms ease;transition-delay:0s}}.duet-slideout .dialog .top-container.has-sticky-header-slot{position:sticky;top:0;z-index:200}.duet-slideout .dialog .top-container.has-sticky-header-slot .top{background:rgb(243, 249, 252)}.duet-slideout .dialog .top-container.has-sticky-header-slot .sticky-header{display:block}.duet-slideout .dialog .top{position:relative;z-index:1;display:flex;align-items:center;justify-content:flex-end;padding:4px}.duet-slideout .dialog .top button{cursor:pointer}.duet-slideout .dialog .top button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.duet-slideout .dialog .top duet-icon{padding:16px}.duet-slideout .dialog .sticky-header{display:none;width:100%;padding:0 1.5rem;margin-bottom:20px;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}.duet-slideout .dialog .items{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;padding:0 1.5rem}.duet-slideout .dialog.hidden{pointer-events:none;visibility:hidden}@media (min-width: 62em){.duet-slideout .dialog.hidden{right:-500px;transition:300ms ease}}.duet-slideout.duet-theme-turva .dialog{box-shadow:0 3px 6px 0 rgba(23, 28, 58, 0.1) inset}.duet-slideout.duet-theme-turva button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-slideout.duet-theme-turva button.active{color:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva button.active::after{background:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva .has-sticky-header-slot .top{background:rgb(245, 245, 247)}.duet-slideout.duet-theme-turva .has-sticky-header-slot .sticky-header{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}.duet-slideout.duet-theme-turva .dialog .top button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}slot{color:rgb(0, 41, 77)}.duet-theme-turva slot{color:rgb(23, 28, 58)}';export{y as duet_slideout}