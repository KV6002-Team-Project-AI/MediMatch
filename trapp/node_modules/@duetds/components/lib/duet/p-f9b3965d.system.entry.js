var __awaiter=this&&this.__awaiter||function(e,t,n,i){function a(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,r){function s(e){try{u(i.next(e))}catch(e){r(e)}}function o(e){try{u(i["throw"](e))}catch(e){r(e)}}function u(e){e.done?n(e.value):a(e.value).then(s,o)}u((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(r[0]&1)throw r[1];return r[1]},trys:[],ops:[]},i,a,r,s;return s={next:o(0),throw:o(1),return:o(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function o(e){return function(t){return u([e,t])}}function u(o){if(i)throw new TypeError("Generator is already executing.");while(s&&(s=0,o[0]&&(n=0)),n)try{if(i=1,a&&(r=o[0]&2?a["return"]:o[0]?a["throw"]||((r=a["return"])&&r.call(a),0):a.next)&&!(r=r.call(a,o[1])).done)return r;if(a=0,r)o=[o[0]&2,r.value];switch(o[0]){case 0:case 1:r=o;break;case 4:n.label++;return{value:o[1],done:false};case 5:n.label++;a=o[1];o=[0];continue;case 7:o=n.ops.pop();n.trys.pop();continue;default:if(!(r=n.trys,r=r.length>0&&r[r.length-1])&&(o[0]===6||o[0]===2)){n=0;continue}if(o[0]===3&&(!r||o[1]>r[0]&&o[1]<r[3])){n.label=o[1];break}if(o[0]===6&&n.label<r[1]){n.label=r[1];r=o;break}if(r&&n.label<r[2]){n.label=r[2];n.ops.push(o);break}if(r[2])n.ops.pop();n.trys.pop();continue}o=t.call(e,n)}catch(e){o=[6,e];a=0}finally{i=r=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */System.register(["./p-610b364b.system.js","./p-50f4bca2.system.js","./p-224f6c46.system.js","./p-da20db91.system.js","./p-6ef75455.system.js"],(function(e){"use strict";var t,n,i,a,r,s;return{setters:[function(e){t=e.r;n=e.h;i=e.g},function(e){a=e.i},function(e){r=e.g},function(e){s=e.a},function(){}],execute:function(){var o=function(e,t){if(t===void 0){t=2}if(e===0){return"0 Bytes"}var n=1024;var i=t<0?0:t;var a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"];var r=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,r)).toFixed(i))+" "+a[r]};var u=".file-link::part(duet-link){text-decoration:none}";var c=e("duet_upload_item",function(){function e(e){var n=this;t(this,e);this.fileUploadingInfo={fi:"Tiedosto latautuu",sv:"Filen laddas upp",en:"File is uploading"};this.onLinkClick=function(e){var t=n.data,i=t.url,a=t.meta;if(!!n.linkClickEvent){e.preventDefault();n.linkClickEvent.emit({component:"duet-upload",data:{name:n.data.item.name,url:i,meta:a}})}};this.theme="";this.data=undefined;this.type=undefined;this.showLinks=undefined;this.actions=undefined;this.label=undefined;this.categoryLabel=undefined;this.errorCodes=undefined;this.showCategory=undefined;this.linkClickEvent=undefined}e.prototype.componentWillLoad=function(){a(this)};e.prototype.focusActionButton=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:if(!this.actionButton)return[3,2];return[4,this.actionButton.setFocus({preventScroll:true})];case 1:e.sent();this.actionButton.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"});e.label=2;case 2:return[2]}}))}))};e.prototype.getFileNameLine=function(){var e=this.data,t=e.item,i=e.size,a=e.uploaded,u=e.url,c=e.progress,l=e.error;var d=t.name;var h=n("span",{class:"duet-upload-item-name"},n("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),n("duet-spacer",{size:"xx-small",direction:"horizontal"}),d);var f=n("span",{class:"duet-upload-item-size",style:{fontSize:"14px",fontWeight:"400"}},"(",o(i),")");switch(this.type){case"inprogress":return n("span",{class:"duet-upload-item-name",role:"status"},n("duet-paragraph",{class:"duet-upload-item-name",color:"gray-darker",margin:"none",weight:"semi-bold"},n("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),n("duet-spacer",{size:"xx-small",direction:"horizontal"}),d),n("duet-visually-hidden",null,n("duet-paragraph",null,r(this.fileUploadingInfo))),n("duet-progress",{progress:Math.ceil(c),"aria-hidden":true}));case"pending":return n("span",{class:"duet-upload-item-name"},n("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),n("duet-spacer",{size:"xx-small",direction:"horizontal"}),d);case"failure":return n("span",{class:"duet-upload-item-error",role:"status"},n("duet-paragraph",{class:"duet-upload-item-name",color:"danger",margin:"none",weight:"semi-bold"},n("duet-icon",{margin:"none",size:"x-small",name:"messaging-attachment"}),n("duet-spacer",{size:"xx-small",direction:"horizontal"}),d),n("duet-paragraph",{class:"duet-upload-item-error-label",size:"small",margin:"none",color:"danger"},s(l.type,this.errorCodes)));default:return a&&u&&this.showLinks?n("duet-paragraph",{color:"secondary",margin:"none",weight:"semi-bold"},n("duet-link",{class:"file-link",onClick:this.onLinkClick,url:u},h),n("duet-spacer",{size:"xx-small",direction:"horizontal"}),f):n("duet-paragraph",{color:"secondary",margin:"none",weight:"semi-bold"},h,n("duet-spacer",{size:"xx-small",direction:"horizontal"}),f)}};e.prototype.render=function(){var e=this;var t=this.data,i=t.uid,a=t.meta,s=t.item;var o=a&&a.badges?n("span",null,a.badges.map((function(e){return n("duet-badge",{color:"primary"},e)}))):undefined;var u="".concat(a&&a.badges?a.badges.join(","):""," ").concat(s.name);return n("div",{class:{"upload-item-row":true}},this.showCategory&&n("div",{class:"item-categories"},n("duet-heading",{class:"heading",color:"color-secondary",level:"h6",weight:"semibold"},r(this.categoryLabel)),o),n("div",{class:{"item-name":true,"no-category":!this.showCategory}},!!this.label&&n("duet-heading",{class:"heading",color:"color-secondary",level:"h6",weight:"semibold"},r(this.label)),this.getFileNameLine()),n("div",{class:"item-actions"},this.actions.map((function(t){return n("duet-action-button",{actionMeta:Object.assign({},a||{}),actionId:i||null,actionName:t.name,theme:e.theme,iconName:t.icon,iconColor:t.color,iconSize:t.size,background:t.background,"accessible-label":"".concat(u," ").concat(r(t.label)," "),accessibleTitle:false,ref:function(t){return e.actionButton=t}})}))))};Object.defineProperty(e.prototype,"element",{get:function(){return i(this)},enumerable:false,configurable:true});return e}());c.style=u}}}));