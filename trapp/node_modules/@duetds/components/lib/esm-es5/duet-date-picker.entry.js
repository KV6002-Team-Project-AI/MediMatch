var __awaiter=this&&this.__awaiter||function(t,e,a,i){function r(t){return t instanceof a?t:new a((function(e){e(t)}))}return new(a||(a=Promise))((function(a,n){function o(t){try{s(i.next(t))}catch(t){n(t)}}function d(t){try{s(i["throw"](t))}catch(t){n(t)}}function s(t){t.done?a(t.value):r(t.value).then(o,d)}s((i=i.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var a={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},i,r,n,o;return o={next:d(0),throw:d(1),return:d(2)},typeof Symbol==="function"&&(o[Symbol.iterator]=function(){return this}),o;function d(t){return function(e){return s([t,e])}}function s(d){if(i)throw new TypeError("Generator is already executing.");while(o&&(o=0,d[0]&&(a=0)),a)try{if(i=1,r&&(n=d[0]&2?r["return"]:d[0]?r["throw"]||((n=r["return"])&&n.call(r),0):r.next)&&!(n=n.call(r,d[1])).done)return n;if(r=0,n)d=[d[0]&2,n.value];switch(d[0]){case 0:case 1:n=d;break;case 4:a.label++;return{value:d[1],done:false};case 5:a.label++;r=d[1];d=[0];continue;case 7:d=a.ops.pop();a.trys.pop();continue;default:if(!(n=a.trys,n=n.length>0&&n[n.length-1])&&(d[0]===6||d[0]===2)){a=0;continue}if(d[0]===3&&(!n||d[1]>n[0]&&d[1]<n[3])){a.label=d[1];break}if(d[0]===6&&a.label<n[1]){a.label=n[1];n=d;break}if(n&&a.label<n[2]){a.label=n[2];a.ops.push(d);break}if(n[2])a.ops.pop();a.trys.pop();continue}d=e.call(t,a)}catch(t){d=[6,t];r=0}finally{i=n=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{h,r as registerInstance,c as createEvent,H as Host,g as getElement}from"./index-909a963e.js";import{i as inheritGlobalTheme}from"./themeable-component-724c0f7e.js";import{c as createID}from"./create-id-149a1b6d.js";import{F as FocusGuard}from"./focus-utils-2a29f64e.js";import{a as getLanguage,g as getLocaleString,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver}from"./language-utils-00ca4c55.js";import"./string-utils-ca039233.js";var formatOptionsShort={day:"numeric",month:"long"};var formatOptionsLong={day:"numeric",month:"long",year:"numeric"};var i18n={fi:{buttonLabel:"Valitse päivämäärä",prevMonthLabel:"Edellinen kuukausi",nextMonthLabel:"Seuraava kuukausi",monthSelectLabel:"Kuukausi",yearSelectLabel:"Vuosi",closeLabel:"Sulje ikkuna",selected:"Valittu päivämäärä on",keyboardInstruction:"Voit navigoida päivämääriä nuolinäppäimillä",dayLabels:["Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai"],monthLabels:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","Kesäkuu","Heinäkuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],monthLabelsShort:["Tammi","Helmi","Maalis","Huhti","Touko","Kesä","Heinä","Elo","Syys","Loka","Marras","Joulu"],formatterShort:new Intl.DateTimeFormat("fi-FI",formatOptionsShort),formatterLong:new Intl.DateTimeFormat("fi-FI",formatOptionsLong)},en:{buttonLabel:"Choose date",prevMonthLabel:"Previous month",nextMonthLabel:"Next month",monthSelectLabel:"Month",yearSelectLabel:"Year",closeLabel:"Close window",selected:"Selected date is",keyboardInstruction:"You can use arrow keys to navigate dates",dayLabels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthLabels:["January","February","March","April","May","June","July","August","September","October","November","December"],monthLabelsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],formatterShort:new Intl.DateTimeFormat("en-GB",formatOptionsShort),formatterLong:new Intl.DateTimeFormat("en-GB",formatOptionsLong)},sv:{buttonLabel:"Välj datum",prevMonthLabel:"Föregående månad",nextMonthLabel:"Nästa månad",monthSelectLabel:"Månad",yearSelectLabel:"År",closeLabel:"Stäng fönstret",selected:"Valt datum är",keyboardInstruction:"Använd piltangenterna för att navigera i kalender",dayLabels:["Måndag","Tisdag","Onsdag","Torsdag","Fredag","Lördag","Söndag"],monthLabels:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],monthLabelsShort:["Jan","Feb","Mars","April","Maj","Juni","Juli","Aug","Sep","Okt","Nov","Dec"],formatterShort:new Intl.DateTimeFormat("sv-SE",formatOptionsShort),formatterLong:new Intl.DateTimeFormat("sv-SE",formatOptionsLong)}};var formDate={title:"form-date",tags:"form date calendar date picker",svg:'<svg fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" role="img"><path d="M2.25 24A2.252 2.252 0 0 1 0 21.75V5.25A2.252 2.252 0 0 1 2.25 3H6V.75a.75.75 0 0 1 1.5 0V3h9V.75a.75.75 0 0 1 1.5 0V3h3.75A2.252 2.252 0 0 1 24 5.25v16.5A2.252 2.252 0 0 1 21.75 24zm-.75-2.25c0 .414.336.75.75.75h19.5a.75.75 0 0 0 .75-.75V10.5h-21zM22.5 9V5.25a.75.75 0 0 0-.75-.75H18V6a.75.75 0 0 1-1.5 0V4.5h-9V6A.75.75 0 0 1 6 6V4.5H2.25a.75.75 0 0 0-.75.75V9z"/><circle cx="5.625" cy="13.875" r="1.125"/><circle cx="5.625" cy="19.125" r="1.125"/><circle cx="12" cy="13.875" r="1.125"/><circle cx="12" cy="19.125" r="1.125"/><circle cx="18.375" cy="13.875" r="1.125"/><path d="M18.375 20.25c-.62 0-1.125-.505-1.125-1.125a1.127 1.127 0 0 1 1.171-1.122l.027.003a1.118 1.118 0 0 1 1.052 1.12c0 .619-.505 1.124-1.125 1.124z"/></svg>'};var DatePickerInput=function(t){var e=t.onClick,a=t.placeholder,i=t.name,r=t.inputLabel,n=t.value,o=t.valueAsDate,d=t.formattedValue,s=t.language,u=t.identifier,c=t.theme,l=t.disabled,p=t.error,b=t.role,m=t.required,f=t.tooltip,g=t.tooltipDirection,v=t.labelHidden,k=t.buttonRef,y=t.inputRef,x=t.onInput,w=t.onBlur,D=t.onFocus,S=t.accessibleActiveDescendant,O=t.accessibleControls,M=t.accessibleOwns,I=t.accessibleDescribedBy,L=t.echoPlaceholder,A=t.caption;var E=i18n[s],T=E.buttonLabel,F=E.selected,_=E.formatterLong;return h("div",{class:{"duet-theme-turva":c==="turva","duet-date-input":true}},h("duet-input",{label:r,value:d,placeholder:a,id:u,disabled:l,theme:c,error:p,role:b,required:m,tooltip:f,tooltipDirection:g,margin:"none",component:"date",labelHidden:v,accessibleAutocomplete:"none",onDuetInput:x,onDuetFocus:D,onDuetBlur:w,autoComplete:"off",disallowPattern:"[^0-9\\.\\-\\/]",expand:true,ref:y,accessibleActiveDescendant:S,accessibleControls:O,accessibleOwns:M,accessibleDescribedBy:I,echoPlaceholder:L,caption:A},h("button",{class:{"duet-date-button":true,"duet-no-label":v},onClick:e,disabled:l,ref:k,type:"button"},h("duet-icon",{icon:formDate.svg,margin:"none",size:"small",color:"currentColor"}),h("duet-visually-hidden",null,T,o&&h("span",null,", ",F," ",_.format(o))))),h("input",{type:"hidden",name:i,value:n}))};var DATE_FORMAT=/^(\d{1,2})[\.\-\/](\d{1,2})[\.\-\/](\d{4})$/;var ISO_DATE_FORMAT=/^(\d{4})-(\d{2})-(\d{2})$/;var DATE_OUTPUT_FORMAT="dd.mm.yyyy";var DATE_ISO_OUTPUT_FORMAT="YYYY-MM-DD";function createDate(t,e,a){var i=parseInt(a,10);var r=parseInt(e,10);var n=parseInt(t,10);var o=Number.isInteger(n)&&Number.isInteger(r)&&Number.isInteger(i)&&r>0&&r<=12&&i>0&&i<=31&&n>0;if(o){return new Date(n,r-1,i)}}function parseDate(t){if(!t){return}var e=t.match(DATE_FORMAT);if(e){return createDate(e[3],e[2],e[1])}}function parseISODate(t){if(!t){return}var e=t.match(ISO_DATE_FORMAT);if(e){return createDate(e[1],e[2],e[3])}}function formatDate(t,e){if(!t){return""}var a=t.getDate().toString(10);var i=(t.getMonth()+1).toString(10);var r=t.getFullYear().toString(10);if(t.getDate()<10){a="0".concat(a)}if(t.getMonth()<9){i="0".concat(i)}return e.replace(/MM/i,i).replace(/YYYY/i,r).replace(/DD/i,a)}function printDate(t){return formatDate(t,DATE_OUTPUT_FORMAT)}function printISODate(t){return formatDate(t,DATE_ISO_OUTPUT_FORMAT)}function isEqual(t,e){if(t==null||e==null){return false}return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}function addDays(t,e){var a=new Date(t);a.setDate(a.getDate()+e);return a}function startOfWeek(t,e){if(e===void 0){e=1}var a=new Date(t);var i=a.getDay();var r=(i<e?7:0)+i-e;a.setDate(a.getDate()-r);return a}function endOfWeek(t,e){if(e===void 0){e=1}var a=new Date(t);var i=a.getDay();var r=(i<e?-7:0)+6-(i-e);a.setDate(a.getDate()+r);return a}function startOfMonth(t){return new Date(t.getFullYear(),t.getMonth(),1)}function endOfMonth(t){return new Date(t.getFullYear(),t.getMonth()+1,0)}function setMonth(t,e){var a=new Date(t);a.setMonth(e);return a}function setYear(t,e){var a=new Date(t);a.setFullYear(e);return a}function inRange(t,e,a){return clamp(t,e,a)===t}function clamp(t,e,a){var i=t.getTime();if(e&&e instanceof Date&&i<e.getTime()){return e}if(a&&a instanceof Date&&i>a.getTime()){return a}return t}function getDaysInRange(t,e){var a=[];var i=t;while(!isEqual(i,e)){a.push(i);i=addDays(i,1)}a.push(i);return a}function getViewOfMonth(t,e){if(e===void 0){e=1}var a=startOfWeek(startOfMonth(t),e);var i=endOfWeek(endOfMonth(t),e);return getDaysInRange(a,i)}var DatePickerDay=function(t){var e=t.focusedDay,a=t.today,i=t.day,r=t.language,n=t.onDaySelect,o=t.onKeyboardNavigation,d=t.ref,s=t.inRange,u=t.isSelected;var c=isEqual(i,a);var l=isEqual(i,e);var p=i.getMonth()!==e.getMonth();var b=!s;var m=i18n[r].formatterShort;function f(t){n(t,i)}return h("button",{class:{"duet-date-table-button":true,outside:b,disabled:p,today:c},tabIndex:l?0:-1,onClick:f,onKeyDown:o,"aria-disabled":b||p,"aria-pressed":u?"true":"false",type:"button",ref:d},h("span",{"aria-hidden":"true"},i.getDate()),h("duet-visually-hidden",null,m.format(i)))};function range(t,e){var a=[];for(var i=t;i<=e;i++){a.push(i)}return a}function chunk(t,e){var a=[];for(var i=0;i<t.length;i+=e){a.push(t.slice(i,i+e))}return a}function parseShortcut(t){var e;var a=t.trim().split("+");var i=a.pop();return[((e=a[0])===null||e===void 0?void 0:e.toLowerCase())==="shift",i]}function createShortcuts(t){var e=Object.keys(t).map((function(e){return[parseShortcut(e),t[e]]}));return function t(a){if(!(a instanceof KeyboardEvent)){return}var i=e.find((function(t){var e=t[0],i=e[0],r=e[1];return(r.toUpperCase()===a.key.toUpperCase()||r===a.code)&&i===a.shiftKey}));if(i){i[1](a);a.preventDefault()}}}var DatePickerMonth=function(t){var e=t.selectedDate,a=t.focusedDate,i=t.labelledById,r=t.theme,n=t.language,o=t.min,d=t.max,s=t.onDateSelect,u=t.onKeyboardNavigation,c=t.focusedDayRef,l=t.onFocusEnter,p=t.onFocusExit;var b=i18n[n].dayLabels;var m=new Date;var f=getViewOfMonth(a);function g(t){var e=t.currentTarget;var a=t.relatedTarget;if(a&&!e.contains(a)){p(t)}}return h("table",{class:{"duet-date-table":true,"duet-theme-turva":r==="turva"},"aria-labelledby":i,onFocusin:l,onFocusout:g},h("thead",null,h("tr",null,b.map((function(t){return h("th",{scope:"col"},h("span",{"aria-hidden":"true"},t.substr(0,2)),h("duet-visually-hidden",null,t))})))),h("tbody",null,chunk(f,7).map((function(t){return h("tr",{class:"duet-date-table-row"},t.map((function(t){return h("td",{class:"duet-date-table-cell"},h(DatePickerDay,{day:t,today:m,language:n,focusedDay:a,inRange:inRange(t,o,d),isSelected:isEqual(t,e),onDaySelect:s,onKeyboardNavigation:u,ref:function(e){if(e&&isEqual(t,a)){c(e)}}}))})))}))))};var duetDatePickerCss='*.sc-duet-date-picker,*.sc-duet-date-picker::after,*.sc-duet-date-picker::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-date-picker-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;position:relative;display:inline-flex;width:100%;min-width:calc(33.333% - 8px);max-width:100%;text-align:left;vertical-align:top}.sc-duet-date-picker-h:last-child,.sc-duet-date-picker-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-date-picker-h{width:calc(50% - 16px - 3px)}}.duet-expand.sc-duet-date-picker-h{width:100% !important}.duet-m-0.sc-duet-date-picker-h{margin:0 !important}.duet-date.sc-duet-date-picker{position:relative;width:100%}.duet-date.sc-duet-date-picker button.sc-duet-date-picker,.duet-date-dialog.sc-duet-date-picker button.sc-duet-date-picker{max-width:initial !important;min-height:initial !important;padding:0 !important;margin:0 !important;transition:initial}.duet-date-button.sc-duet-date-picker{-webkit-user-select:none;user-select:none;position:absolute;top:1px;right:1px;z-index:200;display:flex;align-items:center;justify-content:center;width:48px;height:calc(100% - 2px);color:rgb(0, 41, 77);cursor:pointer;background:transparent !important;border-left:1px solid rgb(207, 210, 212) !important;border-radius:0 4px 4px 0 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker{color:rgb(23, 28, 58);border-color:rgb(207, 207, 209)}.duet-date-button.sc-duet-date-picker::before{position:absolute;top:0;left:-6px;width:6px;height:100%;content:"";background:linear-gradient(to left, rgba(207, 210, 212, 0.2) 0%, rgba(207, 210, 212, 0.2) 1px, rgba(207, 210, 212, 0.1) 1px, rgba(207, 210, 212, 0) 100%)}.duet-date-button.sc-duet-date-picker:disabled{pointer-events:none;cursor:not-allowed;background:rgb(245, 248, 250) !important;border:0 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker:disabled{background:rgb(245, 245, 247) !important}.duet-date-button.sc-duet-date-picker:disabled::before{display:none}.duet-date-button.sc-duet-date-picker:disabled duet-icon.sc-duet-date-picker{opacity:0.4}.duet-date-button.sc-duet-date-picker duet-icon.sc-duet-date-picker{transform:translateY(-1px)}.duet-date-button.sc-duet-date-picker:active duet-icon.sc-duet-date-picker{transform:translateY(0)}.duet-date-button.sc-duet-date-picker:focus{color:rgb(0, 119, 179);border-color:transparent;outline:0;box-shadow:0 0 0 2px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-button.sc-duet-date-picker:focus{color:rgb(23, 28, 58);box-shadow:0 0 0 2px #171c3a !important}.duet-date-dialog.sc-duet-date-picker{position:absolute;top:100%;left:0;z-index:900;display:flex;width:100%;visibility:hidden;opacity:0;transition:transform 300ms ease, opacity 300ms ease, visibility 300ms ease;transform:scale(0.96) translateZ(0) translateY(-20px);transform-origin:top right}@media (min-width: 36em){.duet-date-dialog.left.sc-duet-date-picker{right:0;left:auto;width:auto}}@media (max-width: 35.9375em){.duet-date-dialog.sc-duet-date-picker{position:fixed;top:0;right:0;bottom:0;background:rgba(0, 41, 77, 0.75);transition:opacity 400ms ease, visibility 400ms ease;transform:translateZ(0);transform-origin:bottom center}.duet-date-dialog.duet-theme-turva.sc-duet-date-picker{background:rgba(23, 28, 58, 0.75)}}.duet-date-dialog.active.sc-duet-date-picker{visibility:visible;opacity:1;transition-property:transform, opacity;transform:scale(1.0001) translateZ(0) translateY(0)}@media (min-width: 36em){.duet-date-dialog.error.sc-duet-date-picker{top:calc(100% - 28px);margin-top:4px}}.duet-date-dialog-wrapper.sc-duet-date-picker{position:relative;z-index:600;width:100%;min-width:290px;max-width:310px;padding:16px 16px 20px;margin-top:8px;margin-left:auto;background:rgb(255, 255, 255);border:1px solid rgb(225, 227, 230);border-radius:4px;box-shadow:0 4px 10px 0 rgba(0, 41, 77, 0.15);transform:none}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-wrapper.sc-duet-date-picker{border-color:rgb(228, 228, 230)}@media (max-width: 35.9375em){.duet-date-dialog-wrapper.sc-duet-date-picker{position:absolute;bottom:0;left:0;z-index:900;max-width:none;min-height:25em;padding:0 8% 20px;margin:0;visibility:hidden;border:0;border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px;opacity:0;transition:transform 400ms ease, opacity 400ms ease, visibility 400ms ease;transform:translateZ(0) translateY(100%)}.active.sc-duet-date-picker .duet-date-dialog-wrapper.sc-duet-date-picker{visibility:visible;opacity:1;transition-property:transform, opacity;transform:translateZ(0) translateY(0)}}.duet-date-table.sc-duet-date-picker{width:100%;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.25;color:rgb(0, 41, 77);text-align:center;border-spacing:0;border-collapse:collapse}.duet-date-table.duet-theme-turva.sc-duet-date-picker{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-date-table.sc-duet-date-picker th.sc-duet-date-picker{padding-bottom:8px;font-size:0.75rem;font-weight:600;line-height:1.25;text-decoration:none;text-transform:uppercase;letter-spacing:1px}.duet-date-table.sc-duet-date-picker .duet-date-table-cell.sc-duet-date-picker{text-align:center}.duet-date-table-button.sc-duet-date-picker{position:relative;z-index:100;display:inline-block !important;width:36.9230769231px !important;height:36.9230769231px !important;min-height:initial !important;padding:0 !important;margin:0 !important;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:0.875rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.25 !important;color:rgb(0, 41, 77) !important;text-align:center;vertical-align:initial !important;cursor:pointer;background:transparent !important;border-radius:50% !important;transition:initial !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol" !important;color:rgb(23, 28, 58) !important}.duet-date-table-button.sc-duet-date-picker:hover{background:rgb(230, 242, 248) !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:hover{background:rgb(249, 230, 234) !important}.duet-date-table-button.today.sc-duet-date-picker{z-index:200;color:rgb(0, 77, 128) !important;background:rgb(243, 249, 252) !important;box-shadow:0 0 0 1px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.today.sc-duet-date-picker{color:rgb(148, 9, 37) !important;background:rgb(252, 243, 244) !important;box-shadow:0 0 0 1px #171c3a !important}.duet-date-table-button[aria-pressed=true].sc-duet-date-picker,.duet-date-table-button.sc-duet-date-picker:focus{color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179) !important;outline:0}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button[aria-pressed=true].sc-duet-date-picker,.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:focus{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48) !important}.duet-date-table-button.sc-duet-date-picker:active{z-index:200;color:rgb(255, 255, 255) !important;background:rgb(0, 119, 179) !important;box-shadow:0 0 5px 0 #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:active{color:rgb(255, 255, 255) !important;background:rgb(198, 12, 48) !important;box-shadow:0 0 5px 0 #171c3a !important}.duet-date-table-button.sc-duet-date-picker:focus{z-index:200;box-shadow:0 0 5px 0 #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.sc-duet-date-picker:focus{box-shadow:0 0 5px 0 #171c3a !important}.duet-date-table-button.disabled.sc-duet-date-picker{color:rgb(144, 149, 153) !important;cursor:default;background:transparent !important;box-shadow:none !important}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.disabled.sc-duet-date-picker{color:rgb(116, 116, 117) !important;background:transparent !important;box-shadow:none !important}.duet-date-table-button.outside.sc-duet-date-picker{color:rgb(144, 149, 153) !important;pointer-events:none;cursor:default;background:rgb(245, 248, 250) !important;box-shadow:none;opacity:0.75}.duet-theme-turva.sc-duet-date-picker .duet-date-table-button.outside.sc-duet-date-picker{color:rgb(116, 116, 117);background:rgb(245, 245, 247);box-shadow:none}.duet-date-dialog-header.sc-duet-date-picker{margin-bottom:16px !important;display:flex;align-items:center;justify-content:space-between;width:100%}.duet-date-dialog-buttons.sc-duet-date-picker{white-space:nowrap}.duet-date-dialog-buttons.sc-duet-date-picker .sc-duet-date-picker::part(button){border:0}.duet-date-dialog-select.sc-duet-date-picker{position:relative;display:inline-flex;margin-top:4px}.duet-date-dialog-select.sc-duet-date-picker .duet-date-dialog-select-label.sc-duet-date-picker{position:relative;z-index:1;display:flex;align-items:center;width:100%;padding:0 8px;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1.25rem;font-weight:600;line-height:1.25;color:rgb(0, 41, 77);pointer-events:none;border-radius:4px}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-select.sc-duet-date-picker .duet-date-dialog-select-label.sc-duet-date-picker{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-date-dialog-select.sc-duet-date-picker span.sc-duet-date-picker{margin-right:4px}.duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker{position:absolute;top:0;left:0;z-index:2;width:100%;height:100%;font-size:1rem;cursor:pointer;opacity:0}.duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker:focus+.duet-date-dialog-select-label.sc-duet-date-picker{box-shadow:0 0 0 2px #0077b3 !important}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-select.sc-duet-date-picker select.sc-duet-date-picker:focus+.duet-date-dialog-select-label.sc-duet-date-picker{box-shadow:0 0 0 2px #171c3a !important}.duet-date-dialog-mobile-header.sc-duet-date-picker{position:relative;display:flex;align-items:center;justify-content:space-between;width:120%;padding:12px 20px;margin-bottom:20px;margin-left:-10%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;border-bottom:1px solid rgb(207, 210, 212)}@media (min-width: 36em){.duet-date-dialog-mobile-header.sc-duet-date-picker{position:absolute;top:-8px;right:-8px;width:auto;padding:0;margin:0;overflow:visible;border:0}}.duet-theme-turva.sc-duet-date-picker .duet-date-dialog-mobile-header.sc-duet-date-picker{border-color:rgb(207, 207, 209)}.duet-date-dialog-mobile-header.sc-duet-date-picker duet-label.sc-duet-date-picker{display:inline-block;max-width:84%;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}@media (min-width: 36em){.duet-date-dialog-mobile-header.sc-duet-date-picker duet-label.sc-duet-date-picker{display:none}}.duet-date-picker-close.sc-duet-date-picker{display:flex;align-items:center;justify-content:center;width:24px;height:24px !important;padding:0 !important;color:rgb(0, 41, 77) !important;cursor:pointer;background:rgb(245, 248, 250) !important;border-radius:50%;-webkit-appearance:none;appearance:none}@media (min-width: 36em){.duet-date-picker-close.sc-duet-date-picker{opacity:0}}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker{background:rgb(245, 245, 247) !important}.duet-date-picker-close.sc-duet-date-picker:hover{background:rgb(245, 248, 250) !important}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker:hover{background:rgb(245, 245, 247) !important}.duet-date-picker-close.sc-duet-date-picker:focus{outline:none;box-shadow:0 0 0 2px #0077b3 !important}@media (min-width: 36em){.duet-date-picker-close.sc-duet-date-picker:focus{opacity:1}}.duet-theme-turva.sc-duet-date-picker .duet-date-picker-close.sc-duet-date-picker:focus{box-shadow:0 0 0 2px #171c3a !important}';var DuetDatePicker=function(){function t(t){var e=this;registerInstance(this,t);this.duetChange=createEvent(this,"duetChange",7);this.duetBlur=createEvent(this,"duetBlur",7);this.duetFocus=createEvent(this,"duetFocus",7);this.monthSelectId=createID("DuetDatePicker");this.yearSelectId=createID("DuetDatePicker");this.dialogLabelId=createID("DuetDatePicker");this.initialTouchX=null;this.initialTouchY=null;this.focusTarget=null;this.enableActiveFocus=function(){e.focusTarget="day-button"};this.disableActiveFocus=function(){e.focusTarget=null};this.toggleOpen=function(t){t.preventDefault();e.open?e.hide(false):e.show()};this.handleBlur=function(t){t.stopPropagation();e.duetBlur.emit({component:"duet-date-picker"})};this.handleFocus=function(t){t.stopPropagation();e.duetFocus.emit({component:"duet-date-picker"})};this.handleTouchStart=function(t){var a=t.changedTouches[0];e.initialTouchX=a.pageX;e.initialTouchY=a.pageY};this.handleTouchMove=function(t){t.preventDefault()};this.handleTouchEnd=function(t){var a=t.changedTouches[0];var i=a.pageX-e.initialTouchX;var r=a.pageY-e.initialTouchY;var n=70;var o=Math.abs(i)>=n&&Math.abs(r)<=n;var d=Math.abs(r)>=n&&Math.abs(i)<=n&&r>0;if(o){e.addMonths(i<0?1:-1)}else if(d){e.hide();t.preventDefault()}e.initialTouchY=null;e.initialTouchX=null};this.handleNextMonthClick=function(t){t.preventDefault();e.addMonths(1)};this.handlePreviousMonthClick=function(t){t.preventDefault();e.addMonths(-1)};this.handleEscKey=createShortcuts({Escape:function(){return e.hide()},Esc:function(){return e.hide()}});this.handleKeyboardNavigation=createShortcuts({ArrowRight:function(){return e.addDays(1)},Right:function(){return e.addDays(1)},ArrowLeft:function(){return e.addDays(-1)},Left:function(){return e.addDays(-1)},ArrowDown:function(){return e.addDays(7)},Down:function(){return e.addDays(7)},ArrowUp:function(){return e.addDays(-7)},Up:function(){return e.addDays(-7)},Home:function(){return e.startOfWeek()},End:function(){return e.endOfWeek()},PageUp:function(){return e.addMonths(-1)},PageDown:function(){return e.addMonths(1)},"Shift+PageUp":function(){return e.addYears(-1)},"Shift+PageDown":function(){return e.addYears(1)}});this.handleDaySelect=function(t,a){var i=parseISODate(e.min);var r=parseISODate(e.max);e.determineValidity(a);if(inRange(a,i,r)){e.setValue(a);e.hide()}};this.handleMonthSelect=function(t){e.setMonth(parseInt(t.target.value,10))};this.handleYearSelect=function(t){e.setYear(parseInt(t.target.value,10))};this.handleInputChange=function(t){e.inputValue=t.detail.value;var a=parseDate(e.inputValue);e.determineValidity(a);if(a||e.inputValue===""){e.setValue(a)}};this.open=false;this.focusedDay=new Date;this.inputValue="";this.theme="";this.expand=false;this.name="";this.identifier="";this.label="";this.caption=undefined;this.margin="auto";this.language=getLanguage();this.placeholderDefaults={fi:"pp.kk.vvvv",en:"dd.mm.yyyy",sv:"dd.mm.åååå"};this.placeholder=getLocaleString(this.placeholderDefaults,this.language);this.echoPlaceholder=false;this.disabled=false;this.error="";this.labelHidden=false;this.role=undefined;this.accessibleActiveDescendant=undefined;this.accessibleControls=undefined;this.accessibleOwns=undefined;this.accessibleDescribedBy=undefined;this.required=false;this.direction="right";this.tooltip="";this.tooltipDirection="auto";this.value="";this.min="";this.max="";this.incrementYears=10;this.validity=undefined}t.prototype.updateValidity=function(){this.determineValidity(parseISODate(this.value))};t.prototype.updateInternalValue=function(){var t=parseISODate(this.value);var e=parseDate(this.inputValue);if(!t){this.inputValue=""}else if(!isEqual(t,e)){this.inputValue=printDate(t)}};t.prototype.componentWillLoad=function(){inheritGlobalTheme(this);this.determineValidity(parseISODate(this.value));this.updateInternalValue()};t.prototype.componentDidUpdate=function(){switch(this.focusTarget){case"toggle-button":this.datePickerButton.focus();this.focusTarget=null;break;case"day-button":this.focusedDayNode.focus();break;case"month-select":this.monthSelectNode.focus();this.focusTarget=null;break}};t.prototype.connectedCallback=function(){connectLanguageChangeObserver(this,{prop:"placeholder",defaults:"placeholderDefaults"})};t.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this)};t.prototype.setFocus=function(t){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.datePickerInput.setFocus(t);return[2]}))}))};t.prototype.show=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){this.open=true;this.focusTarget="month-select";this.setFocusedDay(parseISODate(this.value)||new Date);return[2]}))}))};t.prototype.hide=function(t){if(t===void 0){t=true}return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.open=false;if(t){this.focusTarget="toggle-button"}return[2]}))}))};t.prototype.addDays=function(t){this.setFocusedDay(addDays(this.focusedDay,t))};t.prototype.addMonths=function(t){this.setMonth(this.focusedDay.getMonth()+t)};t.prototype.addYears=function(t){this.setYear(this.focusedDay.getFullYear()+t)};t.prototype.startOfWeek=function(){this.setFocusedDay(startOfWeek(this.focusedDay))};t.prototype.endOfWeek=function(){this.setFocusedDay(endOfWeek(this.focusedDay))};t.prototype.setMonth=function(t){var e=setMonth(startOfMonth(this.focusedDay),t);var a=endOfMonth(e);var i=setMonth(this.focusedDay,t);this.setFocusedDay(clamp(i,e,a))};t.prototype.setYear=function(t){var e=setYear(startOfMonth(this.focusedDay),t);var a=endOfMonth(e);var i=setYear(this.focusedDay,t);this.setFocusedDay(clamp(i,e,a))};t.prototype.setFocusedDay=function(t){this.focusedDay=clamp(t,parseISODate(this.min),parseISODate(this.max))};t.prototype.determineValidity=function(t){var e,a;var i=(a=(e=this.datePickerInput)===null||e===void 0?void 0:e.value)!==null&&a!==void 0?a:"";var r=i!==""&&t==null;var n=this.required&&t==null;var o=t?!inRange(t,null,parseISODate(this.max)):false;var d=t?!inRange(t,parseISODate(this.min)):false;this.validity={patternMismatch:false,customError:false,stepMismatch:false,tooLong:false,tooShort:false,typeMismatch:false,valueMissing:n,badInput:r,rangeUnderflow:d,rangeOverflow:o,valid:!(n||r||d||o)}};t.prototype.setValue=function(t){var e=printISODate(t);if(e===this.value){return}this.value=e;this.duetChange.emit({component:"duet-date-picker",value:this.value,valueAsDate:t})};t.prototype.handleDocumentClick=function(t){var e=this;if(!this.open){return}var a=t.composedPath().every((function(t){return t!==e.dialogWrapperNode&&t!==e.datePickerButton}));if(a){this.hide(false)}};t.prototype.render=function(){var t=this;var e=parseISODate(this.value);var a=(e||this.focusedDay).getFullYear();var i=this.focusedDay.getMonth();var r=this.focusedDay.getFullYear();var n=i18n[this.language];var o=parseISODate(this.min);var d=parseISODate(this.max);var s=o!=null&&o.getMonth()===i&&o.getFullYear()===r;var u=d!=null&&d.getMonth()===i&&d.getFullYear()===r;var c=a-this.incrementYears;var l=a+this.incrementYears;if(o){c=Math.max(c,o.getFullYear())}if(d){l=Math.min(l,d.getFullYear())}return h(Host,{class:{"duet-expand":this.expand,"duet-m-0":this.margin==="none"}},h("div",{class:"duet-date"},h(DatePickerInput,{value:this.value,valueAsDate:e,formattedValue:this.inputValue,language:this.language,onInput:this.handleInputChange,onBlur:this.handleBlur,onFocus:this.handleFocus,onClick:this.toggleOpen,name:this.name,disabled:this.disabled,error:this.error,role:this.role,required:this.required,theme:this.theme,tooltip:this.tooltip,tooltipDirection:this.tooltipDirection,labelHidden:this.labelHidden,placeholder:this.placeholder,inputLabel:this.label,identifier:this.identifier,buttonRef:function(e){return t.datePickerButton=e},inputRef:function(e){return t.datePickerInput=e},accessibleActiveDescendant:this.accessibleActiveDescendant,accessibleControls:this.accessibleControls,accessibleOwns:this.accessibleOwns,accessibleDescribedBy:this.accessibleDescribedBy,echoPlaceholder:this.echoPlaceholder,caption:this.caption})),h("div",{class:{"duet-theme-turva":this.theme==="turva","duet-date-dialog":true,left:this.direction==="left",error:!!this.error,active:this.open},role:"dialog","aria-modal":"true","aria-hidden":this.open?"false":"true","aria-labelledby":this.dialogLabelId,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd},h(FocusGuard,{moveFocusTo:this.focusedDayNode}),h("div",{class:"duet-date-dialog-wrapper",onKeyDown:this.handleEscKey,ref:function(e){return t.dialogWrapperNode=e}},h("duet-visually-hidden",{"aria-live":"polite"},n.keyboardInstruction),h("div",{class:"duet-date-dialog-mobile-header"},h("duet-label",{margin:"none"},this.label),h("button",{class:"duet-date-picker-close",ref:function(e){return t.closeButtonNode=e},onClick:function(){return t.hide()},type:"button"},h("duet-icon",{name:"navigation-close-small",margin:"none",color:"currentColor",size:"xx-small"}),h("duet-visually-hidden",null,n.closeLabel))),h("div",{class:"duet-date-dialog-header"},h("div",{class:"duet-date-dialog-dropdowns"},h("duet-visually-hidden",null,h("h2",{id:this.dialogLabelId,"aria-live":"polite","aria-atomic":"true"},n.monthLabels[i]," ",this.focusedDay.getFullYear())),h("duet-visually-hidden",null,h("label",{htmlFor:this.monthSelectId},n.monthSelectLabel)),h("div",{class:"duet-date-dialog-select"},h("select",{id:this.monthSelectId,class:"duet-date-month-select",ref:function(e){return t.monthSelectNode=e},onChange:this.handleMonthSelect},n.monthLabels.map((function(t,e){return h("option",{key:t,value:e,selected:e===i,disabled:!inRange(new Date(r,e,1),o?startOfMonth(o):null,d?endOfMonth(d):null)},t)}))),h("div",{class:"duet-date-dialog-select-label","aria-hidden":"true"},h("span",null,n.monthLabelsShort[i]),h("duet-icon",{name:"action-arrow-down-small",color:"currentColor",margin:"none",size:"xxx-small"}))),h("duet-visually-hidden",null,h("label",{htmlFor:this.yearSelectId},n.yearSelectLabel)),h("div",{class:"duet-date-dialog-select"},h("select",{id:this.yearSelectId,class:"duet-date-year-select",onChange:this.handleYearSelect},range(c,l).map((function(t){return h("option",{key:t,selected:t===r},t)}))),h("div",{class:"duet-date-dialog-select-label","aria-hidden":"true"},h("span",null,this.focusedDay.getFullYear()),h("duet-icon",{name:"action-arrow-down-small",color:"currentColor",margin:"none",size:"xxx-small"})))),h("div",{class:"duet-date-dialog-buttons"},h("duet-action-button",{accessibleLabel:i18n[this.language].prevMonthLabel,actionName:i18n[this.language].prevMonthLabel,class:"duet-date-dialog-prev",onClick:this.handlePreviousMonthClick,disabled:s,"icon-name":"action-arrow-left-small"},n.prevMonthLabel),h("duet-action-button",{accessibleLabel:i18n[this.language].nextMonthLabel,actionName:i18n[this.language].nextMonthLabel,class:"duet-date-dialog-next",onClick:this.handleNextMonthClick,disabled:u,"icon-name":"action-arrow-right-small"},n.nextMonthLabel))),h(DatePickerMonth,{selectedDate:e,focusedDate:this.focusedDay,onDateSelect:this.handleDaySelect,onKeyboardNavigation:this.handleKeyboardNavigation,labelledById:this.dialogLabelId,language:this.language,theme:this.theme,min:o,max:d,focusedDayRef:function(e){return t.focusedDayNode=e},onFocusEnter:this.enableActiveFocus,onFocusExit:this.disableActiveFocus})),h(FocusGuard,{moveFocusTo:this.closeButtonNode})))};Object.defineProperty(t.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(t,"watchers",{get:function(){return{min:["updateValidity"],max:["updateValidity"],value:["updateValidity","updateInternalValue"],required:["updateValidity"]}},enumerable:false,configurable:true});return t}();DuetDatePicker.style=duetDatePickerCss;export{DuetDatePicker as duet_date_picker};