var __awaiter=this&&this.__awaiter||function(e,t,s,i){function c(e){return e instanceof s?e:new s((function(t){t(e)}))}return new(s||(s=Promise))((function(s,o){function r(e){try{a(i.next(e))}catch(e){o(e)}}function l(e){try{a(i["throw"](e))}catch(e){o(e)}}function a(e){e.done?s(e.value):c(e.value).then(r,l)}a((i=i.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var s={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},i,c,o,r;return r={next:l(0),throw:l(1),return:l(2)},typeof Symbol==="function"&&(r[Symbol.iterator]=function(){return this}),r;function l(e){return function(t){return a([e,t])}}function a(l){if(i)throw new TypeError("Generator is already executing.");while(r&&(r=0,l[0]&&(s=0)),s)try{if(i=1,c&&(o=l[0]&2?c["return"]:l[0]?c["throw"]||((o=c["return"])&&o.call(c),0):c.next)&&!(o=o.call(c,l[1])).done)return o;if(c=0,o)l=[l[0]&2,o.value];switch(l[0]){case 0:case 1:o=l;break;case 4:s.label++;return{value:l[1],done:false};case 5:s.label++;c=l[1];l=[0];continue;case 7:l=s.ops.pop();s.trys.pop();continue;default:if(!(o=s.trys,o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){s=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){s.label=l[1];break}if(l[0]===6&&s.label<o[1]){s.label=o[1];o=l;break}if(o&&s.label<o[2]){s.label=o[2];s.ops.push(l);break}if(o[2])s.ops.pop();s.trys.pop();continue}l=t.call(e,s)}catch(e){l=[6,e];c=0}finally{i=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-909a963e.js";import{i as inheritGlobalTheme}from"./themeable-component-724c0f7e.js";import{c as createID}from"./create-id-149a1b6d.js";import{p as parsePossibleJSON}from"./string-utils-ca039233.js";var duetSelectCss='*.sc-duet-select,*.sc-duet-select::after,*.sc-duet-select::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}.sc-duet-select-h{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;margin-right:16px !important;margin-bottom:12px !important;display:inline-flex;width:100%;max-width:100%;vertical-align:bottom}.sc-duet-select-h:last-child,.sc-duet-select-h:last-of-type{margin-right:0 !important}@media (min-width: 36em){.sc-duet-select-h{width:calc(50% - 16px - 3px)}.duet-expand.sc-duet-select-h{width:100% !important}}.duet-select-variation-tiny.sc-duet-select-h,.duet-select-variation-compact.sc-duet-select-h{position:relative;top:-2px;width:72px;margin:0 !important;vertical-align:baseline}.duet-select-variation-compact.sc-duet-select-h{width:auto}.duet-m-0.sc-duet-select-h{margin:0 !important}duet-tooltip.sc-duet-select{position:absolute;top:12px;right:0}@media (min-width: 48em){duet-tooltip.sc-duet-select{position:relative;top:4px;right:auto}}.duet-select-placeholder.sc-duet-select{position:absolute;top:-9px;left:9px;z-index:200;display:block;width:auto;max-width:60%;padding:0 0.25rem;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255)}.duet-select-container.sc-duet-select{position:relative;width:100%}.duet-select-container.duet-select-variation-tiny.sc-duet-select{width:72px}.duet-select-wrapper.sc-duet-select{position:relative;width:100%;padding:15px 14px !important;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.25}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}.duet-select-variation-tiny.sc-duet-select .duet-select-wrapper.sc-duet-select{width:81px;padding:0 !important}.duet-select-variation-compact.sc-duet-select .duet-select-wrapper.sc-duet-select{padding:0 !important;line-height:1}.duet-select-wrapper.sc-duet-select select.sc-duet-select{position:absolute;top:0;right:0;bottom:0;left:0;z-index:200;width:100%;height:100%;padding:0;margin:0;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;cursor:pointer;border:0;outline:none;opacity:0}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"}.duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{border-color:rgb(144, 149, 153);box-shadow:0 0 0 1px #909599}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{border-color:rgb(116, 116, 117);box-shadow:0 0 0 1px #747475}.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:hover+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #e55039}.duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{border-color:rgb(0, 119, 179);outline:0;box-shadow:0 0 0 1px #0077b3 !important;transition:none}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{border-color:rgb(23, 28, 58);box-shadow:0 0 0 1px #171c3a !important}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(23, 28, 58)}.duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(0, 119, 179)}.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #de2362}.duet-theme-turva.has-error.sc-duet-select .duet-select-wrapper.sc-duet-select select.sc-duet-select:focus+.duet-select.sc-duet-select{box-shadow:0 0 0 1px #e55039}.duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select{cursor:default !important}.duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select+.duet-select.sc-duet-select{color:rgb(0, 41, 77) !important;cursor:default !important;background:rgb(245, 248, 250) !important;border-color:rgb(245, 248, 250) !important;box-shadow:none !important;opacity:1 !important;-webkit-text-fill-color:rgb(0, 41, 77) !important}.duet-theme-turva.sc-duet-select .duet-select-wrapper.sc-duet-select select[disabled].sc-duet-select+.duet-select.sc-duet-select{color:rgb(23, 28, 58) !important;background:rgb(245, 245, 247) !important;border-color:rgb(245, 245, 247) !important;-webkit-text-fill-color:rgb(23, 28, 58) !important}.duet-select-wrapper.sc-duet-select span.duet-keep-container-height.sc-duet-select{opacity:0}.duet-select-variation-compact.sc-duet-select .duet-select-wrapper.sc-duet-select span.duet-keep-container-height.sc-duet-select{display:none}.duet-select.sc-duet-select{position:absolute;top:0;right:0;bottom:0;left:0;z-index:100;display:block;width:100%;min-width:8rem;padding:12px 14px !important;padding-right:48px !important;overflow:hidden;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;font-variant-numeric:tabular-nums;line-height:1.5;color:rgb(0, 41, 77);text-align:left;text-overflow:ellipsis;white-space:nowrap;background:rgb(255, 255, 255);border:1px solid rgb(144, 149, 153);border-radius:4px;transition:150ms ease}.has-error.sc-duet-select .duet-select.sc-duet-select{border-color:rgb(222, 35, 98) !important}.has-error.sc-duet-select .duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(222, 35, 98) !important}.duet-theme-turva.has-error.sc-duet-select .duet-select.sc-duet-select{border-color:rgb(224, 42, 13) !important}.duet-theme-turva.has-error.sc-duet-select .duet-select.sc-duet-select .duet-select-icon.sc-duet-select{color:rgb(224, 42, 13) !important}.duet-theme-turva.sc-duet-select .duet-select.sc-duet-select{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58);border-color:rgb(116, 116, 117)}.duet-select.sc-duet-select svg.sc-duet-select{position:absolute;top:50%;right:16px;z-index:200;width:20px;height:20px;color:rgb(0, 41, 77);pointer-events:none;transform:translateY(-50%)}.duet-theme-turva.sc-duet-select .duet-select.sc-duet-select svg.sc-duet-select{color:rgb(23, 28, 58)}.duet-select-variation-tiny.sc-duet-select .duet-select.sc-duet-select,.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select{width:72px;min-width:inherit;padding:0 !important;margin-bottom:-4px;overflow:visible;font-weight:600;text-align:center}.duet-select-variation-tiny.sc-duet-select .duet-select.sc-duet-select duet-icon.sc-duet-select,.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select duet-icon.sc-duet-select{padding-left:10px}.duet-select-variation-compact.sc-duet-select .duet-select.sc-duet-select{position:relative;width:fit-content;padding:7px 16px !important;font-size:0.875rem;line-height:1.1;text-align:right;border-radius:8px}.duet-select-help.sc-duet-select{display:block;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:0.875rem;font-weight:400;line-height:1.25;color:rgb(101, 119, 135);border-radius:4px}.duet-select-help.sc-duet-select span.sc-duet-select{display:block;margin-top:8px}.duet-theme-turva.sc-duet-select .duet-select-help.sc-duet-select{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(116, 116, 117)}.has-error.sc-duet-select .duet-select-help.sc-duet-select{color:rgb(222, 35, 98)}.duet-theme-turva.has-error.sc-duet-select .duet-select-help.sc-duet-select{color:rgb(224, 42, 13)}.duet-label-hidden.sc-duet-select duet-label.sc-duet-select{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0 0 0 0);border:0}';function isOptionGroup(e){return"options"in e}function findOptionByValue(e,t){for(var s=0;s<e.length;s++){var i=e[s];if(isOptionGroup(i)){i=findOptionByValue(i.options,t)}if(i&&i.value===t){return i}}}var DuetSelect=function(){function e(e){var t=this;registerInstance(this,e);this.duetChange=createEvent(this,"duetChange",3);this.duetFocus=createEvent(this,"duetFocus",7);this.duetBlur=createEvent(this,"duetBlur",7);this.selectId=createID("DuetSelect");this.errorId=createID("DuetError");this.labelId=createID("DuetLabel");this.topCaptionId=createID("DuetCaptionTop");this.topCaptionPlaceholderId=createID("DuetCaptionPlaceholderTop");this.onClick=function(e){e.stopPropagation()};this.onChange=function(){t.value=t.nativeSelect.value;t.duetChange.emit({value:t.value,component:"duet-select"})};this.onBlur=function(e){t.duetBlur.emit({originalEvent:e,value:t.value,component:"duet-select"})};this.onFocus=function(e){t.duetFocus.emit({originalEvent:e,value:t.value,component:"duet-select"})};this.getDescribedBy=function(){var e=[];if(t.isCaptionVisible&&t.topCaptionId){e.push(t.topCaptionId)}if(t.accessibleDescribedBy){e.push(t.accessibleDescribedBy)}if(t.error){e.push(t.errorId)}return e.length>0?e.join(" "):null};this.processedItems=null;this.variation="default";this.accessibleActiveDescendant=undefined;this.accessibleDescribedBy=undefined;this.margin="auto";this.accessibleControls=undefined;this.accessibleOwns=undefined;this.error="";this.accessibleLiveError="polite";this.expand=false;this.value=undefined;this.theme="";this.labelHidden=false;this.identifier=undefined;this.name=undefined;this.placeholder="";this.caption=undefined;this.echoPlaceholder=false;this.items=undefined;this.disabled=false;this.required=false;this.label="label";this.labelColor=undefined;this.labelWeight=undefined;this.role=undefined;this.tooltip="";this.tooltipDirection="auto"}e.prototype.valueChanged=function(){if(this.nativeSelect){this.nativeSelect.value=this.value}this.isCaptionVisible=!!this.caption};e.prototype.componentWillLoad=function(){inheritGlobalTheme(this);this.isCaptionVisible=!!this.caption;this.refresh()};e.prototype.setFocus=function(e){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(this.nativeSelect){this.nativeSelect.focus(e)}return[2]}))}))};e.prototype.refresh=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(e){this.processedItems=parsePossibleJSON(this.items);return[2]}))}))};e.prototype.getSelectedItemLabel=function(){var e;if(this.processedItems){e=findOptionByValue(this.processedItems,this.value)}return e?e.label:this.placeholder||""};e.prototype.renderOption=function(e){return h("option",{"aria-label":e.ariaLabel,value:e.value,key:e.value,selected:this.value===e.value,disabled:e.disabled},e.label)};e.prototype.renderOptionGroup=function(e){var t=this;return h("optgroup",{key:e.label,label:e.label,disabled:e.disabled},e.options.map((function(e){return t.renderOption(e)})))};e.prototype.render=function(){var e,t,s;var i=this;var c=this.identifier||this.selectId;return h(Host,{onClick:this.onClick,class:(e={"duet-m-0":this.margin==="none","duet-expand":this.expand},e["duet-select-variation-".concat(this.variation)]=true,e)},h("div",{class:(t={"duet-select-container":true,"duet-label-hidden":this.labelHidden,"duet-theme-turva":this.theme==="turva"},t["duet-select-variation-".concat(this.variation)]=true,t["duet-input-top-caption-shown"]=this.isCaptionVisible,t["has-error"]=!!this.error,t)},h("duet-label",{theme:this.theme==="turva"?"turva":"default",class:{"duet-has-tooltip":!!this.tooltip},color:this.labelColor,weight:this.labelWeight,id:this.labelId,for:c},this.label),this.tooltip&&h("duet-tooltip",{direction:this.tooltipDirection,accessibleInputLabel:this.label},this.tooltip),this.caption&&h("duet-caption",{id:this.topCaptionId,size:"medium"},this.caption),h("div",{class:"duet-select-wrapper"},this.placeholder&&this.echoPlaceholder&&this.value&&h("duet-caption",{id:this.topCaptionPlaceholderId,class:"duet-select-placeholder",size:"small"},this.placeholder),h("select",{ref:function(e){return i.nativeSelect=e},disabled:this.disabled,name:this.name,id:c,role:this.role,"aria-labelledby":this.labelId,"aria-describedby":this.getDescribedBy(),"aria-controls":this.accessibleControls,"aria-activedescendant":this.accessibleActiveDescendant,"aria-owns":this.accessibleOwns,onFocus:this.onFocus,onBlur:this.onBlur,onChange:this.onChange,required:this.required},this.placeholder&&h("option",{disabled:true,selected:true,value:""},this.placeholder),!this.processedItems?h("option",null,"Virhe valintoja ladattaessa. Päivitä sivu ja kokeile uusiksi."):this.processedItems.map((function(e){return isOptionGroup(e)?i.renderOptionGroup(e):i.renderOption(e)}))),h("div",{class:(s={"duet-select":true},s["duet-select-variation-".concat(this.variation)]=true,s),"aria-hidden":"true"},h("span",{key:this.value,class:"duet-select-selected-value"},this.getSelectedItemLabel()),this.variation==="default"&&h("svg",{role:"img",class:"duet-select-icon",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},h("path",{d:"m12 18.999c-.4 0-.776-.156-1.059-.438l-10.721-10.72c-.142-.142-.22-.33-.22-.531 0-.2.078-.389.22-.53.142-.142.33-.22.53-.22s.389.078.53.22l10.72 10.719 10.72-10.719c.142-.142.33-.22.53-.22s.389.078.53.22c.142.142.22.33.22.53s-.078.389-.22.53l-10.72 10.72c-.282.283-.659.439-1.06.439z"}))||h("duet-icon",{theme:this.theme,name:"action-arrow-down-small",color:"currentColor",margin:"none",size:this.variation==="compact"?"xxx-small":"xx-small"})),h("span",{class:"duet-keep-container-height",role:"presention","aria-hidden":"true"},"_")),h("span",{class:"duet-select-help",id:this.errorId,"aria-live":this.accessibleLiveError,"aria-atomic":"true","aria-relevant":"additions removals"},this.error&&h("span",null,this.error))))};Object.defineProperty(e.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{value:["valueChanged"],items:["refresh"]}},enumerable:false,configurable:true});return e}();DuetSelect.style=duetSelectCss;export{DuetSelect as duet_select};