var __awaiter=this&&this.__awaiter||function(t,e,i,o){function n(t){return t instanceof i?t:new i((function(e){e(t)}))}return new(i||(i=Promise))((function(i,s){function a(t){try{u(o.next(t))}catch(t){s(t)}}function r(t){try{u(o["throw"](t))}catch(t){s(t)}}function u(t){t.done?i(t.value):n(t.value).then(a,r)}u((o=o.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var i={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,n,s,a;return a={next:r(0),throw:r(1),return:r(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function r(t){return function(e){return u([t,e])}}function u(r){if(o)throw new TypeError("Generator is already executing.");while(a&&(a=0,r[0]&&(i=0)),i)try{if(o=1,n&&(s=r[0]&2?n["return"]:r[0]?n["throw"]||((s=n["return"])&&s.call(n),0):n.next)&&!(s=s.call(n,r[1])).done)return s;if(n=0,s)r=[r[0]&2,s.value];switch(r[0]){case 0:case 1:s=r;break;case 4:i.label++;return{value:r[1],done:false};case 5:i.label++;n=r[1];r=[0];continue;case 7:r=i.ops.pop();i.trys.pop();continue;default:if(!(s=i.trys,s=s.length>0&&s[s.length-1])&&(r[0]===6||r[0]===2)){i=0;continue}if(r[0]===3&&(!s||r[1]>s[0]&&r[1]<s[3])){i.label=r[1];break}if(r[0]===6&&i.label<s[1]){i.label=s[1];s=r;break}if(s&&i.label<s[2]){i.label=s[2];i.ops.push(r);break}if(s[2])i.ops.pop();i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t];n=0}finally{o=s=0}if(r[0]&5)throw r[1];return{value:r[0]?r[1]:void 0,done:true}}};
/*!
 * Built with Duet Design System
 */import{r as registerInstance,c as createEvent,h,H as Host,g as getElement}from"./index-909a963e.js";import{d as disableBodyScroll,e as enableBodyScroll}from"./bodyScrollLock.es6-8dc7cca7.js";import{i as inheritGlobalTheme}from"./themeable-component-724c0f7e.js";import{h as hasSlot}from"./slot-query-022710bb.js";import{f as focusElement,F as FocusGuard}from"./focus-utils-2a29f64e.js";import{f as isEscapeKey}from"./keyboard-utils-eba88365.js";import{a as getLanguage,c as connectLanguageChangeObserver,d as disconnectLanguageChangeObserver,g as getLocaleString}from"./language-utils-00ca4c55.js";import{T as Teleport}from"./teleport-d66d62e4.js";import{g as getColorByName}from"./token-utils-ece867a8.js";import"./string-utils-ca039233.js";import"./tokens.module-7a2f9c49.js";var duetSlideoutCss='*,*::after,*::before{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none}:host{box-sizing:border-box;padding:0;margin:0;background:transparent;border:0;-moz-appearance:none;-webkit-appearance:none;appearance:none;position:absolute;height:100%}::slotted(*){position:relative;width:100%;visibility:hidden;opacity:0}:host([open]) ::slotted(*){visibility:visible;opacity:1}:host(:not([open])) ::slotted(duet-slideout-panel){display:none}.duet-slideout{display:flex;align-items:center;height:100%;font-family:"localtapiola-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";font-size:1rem;font-weight:400;line-height:1.5;color:rgb(0, 41, 77)}.duet-slideout.duet-theme-turva{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout .desktop-bg{display:none}@media (min-width: 62em){.duet-slideout .desktop-bg{position:fixed;top:0;left:0;z-index:400;display:block;width:100%;height:100%;visibility:hidden;background:rgba(0, 41, 77, 0.6);opacity:0;transition:600ms ease}.duet-slideout .desktop-bg:not(.hidden){visibility:visible;opacity:1;transition:600ms ease}}@media (min-width: 62em){.duet-slideout.duet-theme-turva .desktop-bg{background:rgba(23, 28, 58, 0.6)}}.duet-slideout .dialog{position:fixed;top:0;bottom:0;left:0;z-index:400;width:100%;height:100%;padding-bottom:75px;overflow-y:auto;box-shadow:0 3px 6px 0 rgba(0, 41, 77, 0.1) inset}@media (min-width: 62em){.duet-slideout .dialog{right:0;left:auto;width:500px;padding-bottom:0;transition:right 300ms ease;transition-delay:0s}}.duet-slideout .dialog .top-container.has-sticky-header-slot{position:sticky;top:0;z-index:200}.duet-slideout .dialog .top-container.has-sticky-header-slot .top{background:rgb(243, 249, 252)}.duet-slideout .dialog .top-container.has-sticky-header-slot .sticky-header{display:block}.duet-slideout .dialog .top{position:relative;z-index:1;display:flex;align-items:center;justify-content:flex-end;padding:4px}.duet-slideout .dialog .top button{cursor:pointer}.duet-slideout .dialog .top button:focus{outline:0;box-shadow:0 0 0 4px rgba(0, 119, 179, 0.3), 0 0 0 1px #0077b3}.duet-slideout .dialog .top duet-icon{padding:16px}.duet-slideout .dialog .sticky-header{display:none;width:100%;padding:0 1.5rem;margin-bottom:20px;background:rgb(243, 249, 252);border-bottom:1px solid rgb(225, 227, 230)}.duet-slideout .dialog .items{display:flex;flex-direction:column;align-items:flex-start;justify-content:center;width:100%;padding:0 1.5rem}.duet-slideout .dialog.hidden{pointer-events:none;visibility:hidden}@media (min-width: 62em){.duet-slideout .dialog.hidden{right:-500px;transition:300ms ease}}.duet-slideout.duet-theme-turva .dialog{box-shadow:0 3px 6px 0 rgba(23, 28, 58, 0.1) inset}.duet-slideout.duet-theme-turva button{font-family:"turva-sans", -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";color:rgb(23, 28, 58)}.duet-slideout.duet-theme-turva button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}.duet-slideout.duet-theme-turva button.active{color:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva button.active::after{background:rgb(198, 12, 48)}.duet-slideout.duet-theme-turva .has-sticky-header-slot .top{background:rgb(245, 245, 247)}.duet-slideout.duet-theme-turva .has-sticky-header-slot .sticky-header{background:rgb(245, 245, 247);border-bottom:1px solid rgb(228, 228, 230)}.duet-slideout.duet-theme-turva .dialog .top button:focus{box-shadow:0 0 0 4px rgba(23, 28, 58, 0.2), 0 0 0 1px #171c3a}slot{color:rgb(0, 41, 77)}.duet-theme-turva slot{color:rgb(23, 28, 58)}';var DuetSlideout=function(){function t(t){var e=this;registerInstance(this,t);this.duetSlideoutEvent=createEvent(this,"duetSlideoutEvent",7);this.exitLangObject={en:"Exit the menu",fi:"Poistu valikosta",sv:"Avsluta menyn"};this.topLevelOpenMenuBarLangObject={en:"Exit this menu to find top level items",fi:"Poistu tästä valikosta löytääksesi ylätason kohteet",sv:"Stäng den här menyn för att hitta objekt på toppnivå"};this.isSafariBrowser=/^((?!chrome|android).)*safari/i.test(navigator===null||navigator===void 0?void 0:navigator.userAgent);this.hasStickyHeaderSlot=false;this.handleBodyScrolling=function(){if(e.displaying&&e.open){disableBodyScroll(e.dialog,{reserveScrollBarGap:true})}else{enableBodyScroll(e.dialog)}};this.setOpenButton=function(t){if(!t){return}try{var i=t;i.accessiblePopup="true";i.accessibleExpanded=false;e.openButton=i}catch(t){}};this.openButtonEventListener=function(t){t.stopPropagation();t.preventDefault();e.onClick(t)};this.getOpenPanel=function(){return e.element.querySelector("duet-slideout-panel[open]")};this.toggleMenu=function(t){e.open=!e.open;if(e.openButton){e.openButton.accessibleExpanded=e.open}e.duetSlideoutEvent.emit({originalEvent:t,data:{element:e.element,open:e.open},component:"duet-slideout"});if(e.open){var i=e.getOpenPanel();e.teleport.go(true);if(i){i.setFocus();e.handleBodyScrolling()}else{setTimeout((function(){e.closeButton.focus();e.handleBodyScrolling()}),200)}}else{setTimeout((function(){focusElement(e.openButton);e.handleBodyScrolling();e.teleport.resume()}),200)}};this.bgOnClick=function(t){if(e.open){e.toggleMenu(t)}};this.onClick=function(t){e.toggleMenu(t)};this.language=getLanguage();this.displaying=false;this.openPanel=false;this.theme="";this.accessibleRole="menubar";this.open=false;this.opener=undefined;this.backgroundColor="gray-lightest"}t.prototype.componentWillLoad=function(){inheritGlobalTheme(this);this.hasStickyHeaderSlot=hasSlot(this.element,"sticky-header");this.teleport=new Teleport(this.element)};t.prototype.connectedCallback=function(){var t=this;connectLanguageChangeObserver(this);if(this.opener){this.setOpenButton(document.getElementById(this.opener));this.openButton.addEventListener("click",this.openButtonEventListener)}this.mutationObserver=new MutationObserver((function(){t.openPanel=!!t.getOpenPanel()}));this.mutationObserver.observe(this.element,{childList:true,attributeFilter:["open"],subtree:true})};t.prototype.componentDidRender=function(){var t=this;if(this.intersectionObserver){this.intersectionObserver.disconnect()}this.intersectionObserver=new IntersectionObserver((function(e){t.displaying=e[0].isIntersecting;t.handleBodyScrolling()}));this.intersectionObserver.observe(this.dialog)};t.prototype.disconnectedCallback=function(){disconnectLanguageChangeObserver(this);enableBodyScroll(this.dialog);if(this.intersectionObserver){this.intersectionObserver.disconnect()}if(this.mutationObserver){this.mutationObserver.disconnect()}if(this.openButton){this.openButton.removeEventListener("click",this.openButtonEventListener)}};t.prototype.handleKeyUp=function(t){if(isEscapeKey(t)){if(this.open){this.toggleMenu(t)}}};t.prototype.setFocus=function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(i){(e=this.openButton)===null||e===void 0?void 0:e.focus(t);return[2]}))}))};t.prototype.toggle=function(){return __awaiter(this,void 0,void 0,(function(){var t;var e=this;return __generator(this,(function(i){t=new CustomEvent("toggle");this.toggleMenu(t);setTimeout((function(){e.closeButton.focus()}),200);return[2]}))}))};t.prototype.show=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(this.open){return[2]}this.setOpenButton(document.activeElement);this.toggleMenu(new CustomEvent("toggle"));return[2]}))}))};t.prototype.hide=function(){return __awaiter(this,void 0,void 0,(function(){return __generator(this,(function(t){if(!this.open){return[2]}this.toggleMenu(new CustomEvent("toggle"));return[2]}))}))};t.prototype.render=function(){var t=this;var e={background:getColorByName(this.backgroundColor,this.theme)};var i=getLocaleString(this.topLevelOpenMenuBarLangObject);var o=getLocaleString(this.exitLangObject);return h(Host,null,h("div",{class:{"duet-slideout":true,"duet-theme-turva":this.theme==="turva"}},h("div",{class:{"desktop-bg":true,hidden:!this.open},onClick:this.bgOnClick}),h("div",{ref:function(e){return t.dialog=e},tabindex:"-1",role:"dialog",id:"dialog","aria-labelledby":"button","aria-modal":this.isSafariBrowser?false:true,"aria-flowto":"slot-container",class:{dialog:true,hidden:!this.open},style:e},h(FocusGuard,{moveFocusTo:this.closeButton}),h("div",{class:{"top-container":true,"has-sticky-header-slot":this.hasStickyHeaderSlot}},h("div",{class:"top"},h("button",{ref:function(e){return t.closeButton=e},"aria-haspopup":"dialog","aria-controls":"dialog","aria-expanded":this.open?"true":"false","aria-label":"".concat(o),type:"button",class:{"slideout-close":true,active:this.open},onClick:this.onClick,inert:this.openPanel},h("duet-icon",{name:"navigation-close",size:"small",margin:"none",color:"secondary"}))),h("div",{class:"sticky-header"},h("slot",{name:"sticky-header"}))),h("div",{id:"slot-container",role:this.accessibleRole,"aria-label":this.openPanel?i:null,class:{items:true}},h("slot",null)),h(FocusGuard,{moveFocusTo:this.closeButton}))))};Object.defineProperty(t.prototype,"element",{get:function(){return getElement(this)},enumerable:false,configurable:true});return t}();DuetSlideout.style=duetSlideoutCss;export{DuetSlideout as duet_slideout};